(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);class i extends s().Scene{constructor(){super("LoginScene")}preload(){}create(){this.add.rectangle(500,280,1e3,560,1710618);const e=document.getElementById("login-form"),t=document.getElementById("username"),s=document.getElementById("password"),i=document.getElementById("loginButton");console.log("LoginScene iniciada"),e&&e.classList.add("active"),i&&i.addEventListener("click",()=>{console.log("Click en login");const i=t.value,a=s.value;console.log("Username:",i,"Password:",a),""!==i&&""!==a?(console.log("Login exitoso, iniciando MenuScene"),e&&e.classList.remove("active"),this.time.delayedCall(500,()=>{this.scene.start("MenuScene")})):(console.log("Campos vacíos"),alert("Por favor completa todos los campos"))}),s&&s.addEventListener("keypress",e=>{"Enter"===e.key&&i.click()})}}const a=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling(),window.addEventListener("beforeunload",()=>{this.stopPolling()}),document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?this.startPolling():this.stopPolling()})}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e),e({connected:this.isConnected,count:this.connectedCount})}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>{try{t(e)}catch(e){console.error("Error en Listener:",e)}})}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime,sessionId:this.sessionId}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class o extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3"),this.load.audio("musicaMenu","/sounds/música_MPrincipal.mp3"),new FontFace("Tagesschrift","url(/fuentes/Tagesschrift.ttf)").load().then(function(e){document.fonts.add(e)}).catch(function(e){console.error("Error loading font:",e)})}create(){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.game.sound.play("musicaMenu",{volume:.7,loop:!0}),this.fondo=this.add.image(500,350,"fondoM"),this.fondo.setScale(.8),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,300,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,350,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,400,"boton"),this.boton3.setScale(.1),this.boton4=this.add.image(500,450,"boton"),this.boton4.setScale(.1),this.boton5=this.add.image(500,500,"boton"),this.boton5.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8);const e=this.add.text(500,300,"Local",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("musicaMenu"),this.scene.start("GameScene")}),t=this.add.text(500,350,"Online",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#ff0000ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",async()=>{this.scene.stop(),this.scene.start("SalaDeEspera")}),s=this.add.text(500,400,"Créditos",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#ff9100ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("CreditsScene")}),i=this.add.text(500,450,"Historia",{fontSize:"24px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#38ffffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("HistoriaScene")}),o=this.add.text(500,500,"Controles",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{o.setStyle({fill:"#ff0dffc1"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>o.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("ControlScene",{originalScene:"MenuScene"})});this.connectionText=this.add.text(500,540,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00",fontFamily:"Tagesschrift"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},a.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&a.removeListener(this.connectionListener)}}class n{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.vida=3,this.idle=a,this.estado_normal=!0,this.baseWidht=20,this.baseHeight=100,this.baseSpeed=300,this.isJumping=!1,this.jumpVelocity=0,this.groundY=i,this.sprite=this.scene.physics.add.sprite(s,i,a),this.sprite.setScale(.35),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setSize(125,175),this.sprite.body.setOffset(880,750)}andar_animacion(){this.sprite&&this.sprite.anims&&(this.sprite.anims.isPlaying||("idle_Azul"===this.idle?this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Azul")&&this.sprite.play("andar_mago_Azul"):"idle_Rojo"===this.idle&&this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Rojo")&&this.sprite.play("andar_mago_Rojo")))}andar_animacion_parar(){this.sprite&&this.sprite.anims&&this.sprite.anims.isPlaying&&(this.sprite.anims.stop(),this.sprite.setTexture(this.idle))}jump(){this.isJumping||(this.isJumping=!0,this.groundY=this.sprite.y,this.sprite.setVelocityY(-1e5),this.sprite.body.allowGravity=!0)}update(e){this.isJumping&&this.sprite.y>=this.groundY&&this.sprite.body.velocity.y>=0&&(this.sprite.y=this.groundY,this.sprite.setVelocityY(0),this.sprite.body.allowGravity=!1,this.isJumping=!1),!1===this.estado_normal?this.sprite.setScale(.1):this.sprite.setScale(.35)}setScale(e){this.sprite.setScale(e)}setPosition(e,t){this.sprite.setPosition(e,t)}}class r{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class l{execute(){}serialize(){}getPlayer(){}}class h extends l{constructor(e,t,s){super(),this.mago=e,this.direction=t,this.salto=s}execute(){"up"===this.direction?this.mago.sprite.setVelocityY(-this.mago.baseSpeed):"down"===this.direction?this.mago.sprite.setVelocityY(+this.mago.baseSpeed):"left"===this.direction?this.mago.sprite.setVelocityX(-this.mago.baseSpeed):"right"===this.direction?this.mago.sprite.setVelocityX(+this.mago.baseSpeed):(this.mago.sprite.setVelocityY(0),this.mago.sprite.setVelocityX(0)),this.salto&&this.mago.sprite.setVelocityY(3.5*-this.mago.baseSpeed)}}class d extends l{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class c extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("pequeño","/sounds/pequeño.mp3")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new r,this.cofreAbierto=!1,this.walkSounds=new Map,this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(e,t){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.escWasDown=this.escKey.isDown,console.log("Holaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.lPulsada=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0),this.players.forEach(e=>{e.update(t)}),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null,i=!1;const a=this.walkSounds.get(e.playerId);let o=!1;e.upKeyObj.isDown?(s="up",o=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",o=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",o=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",o=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),a&&a.isPlaying&&a.stop()),e.jumpObj.isDown&&(t.estado_normal||(i=!0,t.andar_animacion_parar())),o&&a&&!a.isPlaying&&a.play();let n=new h(t,s,i);this.processor.process(n)}),this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1)}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameScene",pociones:this.inventario,sound:this.sound,jugador:t}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{if(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey)){let e=this.inventario.filter(e=>!0===e);3===e.length||4===e.lenght?this.inventario[3]&&this.inventario[5]&&this.inventario[7]&&(console.log("Poción de disminuir tamaño creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("pequeño",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poción de disminuir tamaño"),this.sound&&this.sound.play("explosion",{volume:.5}),1===s().Math.Between(1,2)?this.dañoJugLeft():this.dañoJugRight());for(let e=1;e<this.inventario.length-2;e++)switch(this.inventario[e]=!1,e){case 1:this.uno.setAlpha(.2);break;case 2:this.dos.setAlpha(.2);break;case 3:this.tres.setAlpha(.2);break;case 4:this.cuatro.setAlpha(.2);break;case 5:this.cinco.setAlpha(.2);break;case 6:this.seis.setAlpha(.2);break;case 7:this.siete.setAlpha(.2);break;case 8:this.ocho.setAlpha(.2);break;case 9:this.nueve.setAlpha(.2);break;case 10:this.diez.setAlpha(.2)}}}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.boton1Activado=!0,this.abrirCampoFuerza()}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.boton2Activado=!0,this.abrirCampoFuerza()})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){this.cofreAbierto&&(console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})}))}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2)):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2)))}abrirCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&this.qkey.isDown&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal())}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0);let e=[!1,!1];this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.players.get("player1").sprite.disableBody(!0,!0),e[0]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player1");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.players.get("player2").sprite.disableBody(!0,!0),e[1]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player2");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}})}entrarPuertaFinal(e){if(e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{modo:"local"})}}setUpPlayers(){const e=new n(this,"player1",50,400,"idle_Azul"),t=new n(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",leftKey:"A",rightKey:"D",jump:"SPACE"},{playerId:"player2",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"ENTER"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Menú",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}dañoJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador de la izquierda ha recibido daño"),e.vida<=0&&this.endGame("player1")}dañoJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador de la derecha ha recibido daño"),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume(),this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}togglePause(){const e=!this.isPaused;this.processor.process(new d(this,e))}}class p extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,200,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,350,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,400,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,450,"boton"),this.boton3.setScale(.1),this.add.text(500,200,"Juego Pausado",{fontSize:"60px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5);const t=this.add.text(500,350,"Volver",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#00ff88ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),s=this.add.text(500,400,"Menú",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#6839b3ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{if(e&&"GameSceneO"===e.originalScene){const e=this.scene.get("GameSceneO");e&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(e.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{try{e.ws.close()}catch(e){console.warn(e)}},50))}}catch(e){console.warn(e)}try{this.game.sound.stopByKey("bgm")}catch(e){console.warn(e)}this.scene.start("MenuScene"),this.scene.stop(e.originalScene),this.scene.stop()}),i=this.add.text(500,450,"Controles",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#00eeffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("ControlScene",{originalScene:e&&e.originalScene?e.originalScene:"GameScene"})})}}class g extends s().Scene{constructor(){super("CreditsScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(500,380,"pergamino"),this.pergamino1.setScale(2),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,245,"Créditos",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,310,"Paula Ortiz Fernández",{fontSize:"24px",color:"#91ffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,355,"Daniel Corbacho Anes",{fontSize:"24px",color:"#fff132ff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,400,"Alejandro Hernández Ruiz",{fontSize:"24px",color:"#d7acffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,450,"Ángel Bermúdez Fariñas",{fontSize:"24px",color:"#ffceadff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.start("MenuScene")})}}class m extends s().Scene{constructor(){super("HistoriaScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#070707ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Historia",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,380,"Después de años de entrenamiento, por fin ha llegado el momento en el que naquellos magos por\nfin iban a conseguir ser magos de verdad. Llevaban mucho tiempo preparándose y estudiando para\neste momento, y por fin van a recibir aquel elixir deseado por todo mago,\n“el elixir de la vida eterna”.\n\nSin embargo, no será sencillo, aún deberán demostrar por última vez que están hechos para obtener\nesta gran virtud. La tradición cuenta que para conseguir ser un verdadero mago será necesario\nconseguir por ellos mismos este elixir adentrándose en la Torre Encantada, demostrando que son\nmerecedores del título de mago eterno y que poseen las habilidades necesarias. La más importante,\nla colaboración, puesto que por uno solo no siempre se puede llegar al lugar deseado. \n\nPor este motivo, los jóvenes aprendices que deseen ascender, se adentrarán en aquella vieja torre,\n y atravesarán, una a una, sus salas hasta llegar arriba del todo, dónde se encuentra el elixir\nque tanto desean. En cada sala se encontrarán con numerosos obstáculos que deberán sobrepasar \ndemostrando sus habilidades obtenidas durante todos estos años de esfuerzo.",{fontSize:"16px",color:"#ffffffff"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")})}}class u extends s().Scene{constructor(){super("LibreriaScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("bolaCristalColor","/imagenes/bolaCristalColor.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("plantaColor","/imagenes/plantaColor.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("velasColor","/imagenes/velasColor.png"),this.load.image("librosColor","/imagenes/librosColor.png"),this.load.image("idle","/imagenes/mano.png")}init(){this.players=new Map,this.inputMappings=[],this.ball=null,this.abrir=!1,this.escWasDown=!1,this.datos,this.processor=new r,this.pocionesRecogidas={bolaCristal:!1,planta:!1,pocionAm:!1,pocionN:!1,pocionM:!1,pocionR:!1,pocionV:!1,pocionAz:!1,velas:!1,libro:!1}}create(e){this.mago=this.add.image(100,100,"idle"),this.mago.setScale(1.9),this.crearEscenario(),this.setUpPlayers(),this.establecerColisiones(),this.datos=e,this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(){this.escKey.isDown&&!this.escWasDown&&(this.datos.ws&&this.datos.ws.readyState===WebSocket.OPEN&&this.datos.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.datos.pociones})),this.scene.resume(this.datos.originalScene,{pociones:this.datos.pociones}),this.scene.stop()),this.abir=!1,this.lkey.isDown&&(this.abrir=!0),this.qkey.isDown&&(this.abrir=!0),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new h(t,s);this.processor.process(i)})}crearEscenario(){this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(1.7),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(440,270,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(1.7),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(485,280,"bolaCristalColor"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(1.7),this.bolaCristal.body.allowGravity=!1,this.planta=this.physics.add.image(440,450,"plantaColor"),this.planta.setImmovable(!0),this.planta.setScale(1.7),this.planta.body.allowGravity=!1,this.pocionAm=this.physics.add.image(530,165,"pocionesAm"),this.pocionAm.setImmovable(!0),this.pocionAm.setScale(1.7),this.pocionAm.body.allowGravity=!1,this.pocionN=this.physics.add.image(595,175,"pocionesN"),this.pocionN.setImmovable(!0),this.pocionN.setScale(1.7),this.pocionN.body.allowGravity=!1,this.pocionM=this.physics.add.image(280,165,"pocionesM"),this.pocionM.setImmovable(!0),this.pocionM.setScale(1.7),this.pocionM.body.allowGravity=!1,this.pocionR=this.physics.add.image(405,165,"pocionesRo"),this.pocionR.setImmovable(!0),this.pocionR.setScale(1.7),this.pocionR.body.allowGravity=!1,this.pocionV=this.physics.add.image(345,175,"pocionesV"),this.pocionV.setImmovable(!0),this.pocionV.setScale(1.7),this.pocionV.body.allowGravity=!1,this.pocionAz=this.physics.add.image(470,170,"pocionesAz"),this.pocionAz.setImmovable(!0),this.pocionAz.setScale(1.7),this.pocionAz.body.allowGravity=!1,this.velas=this.physics.add.image(350,290,"velasColor"),this.velas.setImmovable(!0),this.velas.setScale(1.7),this.velas.body.allowGravity=!1,this.libro=this.physics.add.image(370,33,"librosColor"),this.libro.setImmovable(!0),this.libro.setScale(1.7),this.libro.body.allowGravity=!1}establecerColisiones(){this.players.forEach(e=>{this.physics.add.overlap(e.sprite,this.bolaCristal,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.bolaCristal&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.bolaCristal=!0),this.bolaCristal.setAlpha(.5),this.datos.pociones[9]=!0,this.abrir=!1,console.log("BOLA CRISTAL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.planta,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.planta&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.planta=!0),this.planta.setAlpha(.5),this.datos.pociones[10]=!0,this.abrir=!1,console.log("PLANTA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAm,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAm&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAm=!0),this.pocionAm.setAlpha(.5),this.datos.pociones[6]=!0,this.abrir=!1,console.log("POCION AMARILLA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionN,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionN&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionN=!0),this.pocionN.setAlpha(.5),this.datos.pociones[7]=!0,this.abrir=!1,console.log("POCION NARANJA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionM,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionM&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionM=!0),this.pocionM.setAlpha(.5),this.datos.pociones[2]=!0,this.abrir=!1,console.log("POCION MORADA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionR,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionR&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionR=!0),this.pocionR.setAlpha(.5),this.datos.pociones[4]=!0,this.abrir=!1,console.log("POCION ROSA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionV,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionV&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionV=!0),this.pocionV.setAlpha(.5),this.datos.pociones[3]=!0,this.abrir=!1,console.log("POCION VERDE RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAz,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAz&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAz=!0),this.pocionAz.setAlpha(.5),this.datos.pociones[5]=!0,this.abrir=!1,console.log("POCION AZUL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.velas,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.velas&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.velas=!0),this.velas.setAlpha(.5),this.datos.pociones[8]=!0,this.abrir=!1,console.log("VELAS RECOGIDAS"))}),this.physics.add.overlap(e.sprite,this.libro,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.libro&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.libro=!0),this.libro.setAlpha(.5),this.datos.pociones[1]=!0,this.abrir=!1,console.log("LIBROS RECOGIDOS"))})})}setUpPlayers(){const e=new n(this,"player1",50,300,"idle");e.setScale(.08),this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT"}].map(e=>(console.log(e),{playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey])}))}}class y extends s().Scene{constructor(){super("ControlScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(220,380,"pergamino"),this.pergamino1.setScale(1.3,1.8),this.pergamino2=this.add.image(500,380,"pergamino"),this.pergamino2.setScale(1.3,1.8),this.pergamino3=this.add.image(780,380,"pergamino"),this.pergamino3.setScale(1.3,1.8),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Controles",{fontSize:"45px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(220,310,"Jugador 1:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#9be3ffff"}).setOrigin(.5),this.add.text(230,400,"W-Arriba\n A-Izquierda\n S-Abajo\n D-Derecha\n SPACE-Saltar\n Q-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,310,"Jugador 2:",{fontSize:"32px",color:"rgba(255, 99, 99, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(520,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n ENTER-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(750,310,"Online:",{fontSize:"32px",color:"rgba(141, 116, 255, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(800,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n SPACE-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{if("MenuScene"===e.originalScene){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")}else this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()})}}class f extends s().Scene{constructor(){super("DecisionScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoD","/imagenes/eleccion.jpg")}create(e){this.fondoD=this.physics.add.image(500,300,"fondoD"),this.fondoD.setImmovable(!0),this.fondoD.body.allowGravity=!1,this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.26),this.boton1=this.add.image(280,420,"boton"),this.boton1.setScale(.15),this.boton1.setAlpha(.5),this.boton2=this.add.image(730,420,"boton"),this.boton2.setScale(.15),this.boton2.setAlpha(.5),"local"===e.modo?this.selector=s().Math.Between(1,2):this.selector=e.eleccion,1===this.selector?(this.add.text(500,100,"El jugador 1 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player1"):2===this.selector&&(this.add.text(500,100,"El jugador 2 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player2"),this.add.text(500,150,"el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.add.text(500,320,"ahora deberá elegir:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(280,420,"Compartir el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5),i=this.add.text(730,420,"Beber el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5);"online"===e.modo?this.id===e.jugador&&(t.setAlpha(1),t.setInteractive({useHandCursor:!0}),t.on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}),t.on("pointerout",()=>t.setStyle({fill:"#000000ff"})),t.on("pointerdown",()=>{e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:3})))}),i.setAlpha(1),i.setInteractive({useHandCursor:!0}),i.on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}),i.on("pointerout",()=>i.setStyle({fill:"#000000ff"})),i.on("pointerdown",()=>{1===this.selector?e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("ebviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:1}))):2===this.selector&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:2})))}),this.boton1.setAlpha(1),this.boton2.setAlpha(1)):"local"===e.modo&&(t.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("FinalBScene")}),i.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{1===this.selector?this.scene.start("FinalM1Scene"):2===this.selector&&this.scene.start("FinalM2Scene")}),this.boton1.setAlpha(1),this.boton2.setAlpha(1))}}class b extends s().Scene{constructor(){super("FinalBScene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoC","/imagenes/compartir.png"),this.load.audio("victoria","/sounds/victoria.mp3")}create(){this.fondoC=this.physics.add.image(500,300,"fondoC"),this.fondoC.setImmovable(!0),this.fondoC.body.allowGravity=!1,this.sound&&this.sound.play("victoria",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"Los jugadores han decidido",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"compartir el Elixir de la Vida Eterna, ahora",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ambos vivirán hasta la eternidad,",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,200,"y podrán adquirir todos los conocimientos",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,250,"existentes...",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const e=this.add.text(500,500,"Volver al menú principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("victoria"),this.scene.start("MenuScene")})}}class v extends s().Scene{constructor(){super("FinalM1Scene")}preload(){this.load.image("fondo_1M","/imagenes/traicion_ranaRoja.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){this.fondo_1M=this.physics.add.image(500,300,"fondo_1M"),this.fondo_1M.setImmovable(!0),this.fondo_1M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 1 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elección y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,500,"Volver al menú principal",{fontSize:"16px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("MenuScene")})}}class S extends s().Scene{constructor(){super("FinalM2Scene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondo_2M","/imagenes/traicion_ranaAzul.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){this.fondo_2M=this.physics.add.image(500,300,"fondo_2M"),this.fondo_2M.setImmovable(!0),this.fondo_2M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 2 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elección y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,500,"Volver al menú principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("MenuScene")})}}class x extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png")}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,180,"titulo"),this.titulo.setScale(.25),this.add.text(500,180,"CONEXIÓN PERDIDA",{fontSize:"48px",color:"#c90000ff",fontFamily:"Tagesschrift",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(500,320,"Intentando reconectar...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(500,390,"Intentos: 0",{fontSize:"18px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},a.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await a.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),a.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&a.removeListener(this.connectionListener)}}class C extends s().Scene{constructor(){super({key:"SalaDeEspera"}),this.ws=null}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("pergaminoTitulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("campoFuerza","/imagenes/campodefuerza.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("walk","/sounds/walk.mp3")}resetState(){this.roomCode=null,this.roomId=null,this.gameStarted=!1,this.roomCodeText&&this.roomCodeText.active&&this.roomCodeText.setText(""),this.statusText&&this.statusText.active&&this.statusText.setText(""),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.value="")}init(){this.walkSounds=new Map,this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.processor=new r,this.bgm=null,this.roomCode=null,this.roomId=null,this.gameStarted=!1}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}}),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}),this.events.on("resume",()=>{this.bgm&&!this.bgm.isPlaying&&this.bgm.resume()}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}try{this.bgm&&(this.bgm.stop(),this.bgm.destroy())}catch(e){console.warn(e)}}),this.walkSounds.clear()}),this.crearEscenario(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.game.sound.stopByKey("musicaMenu"),this.bgm=this.sound.add("bgm",{volume:.7,loop:!0}),this.bgm.play(),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.connectToServer(),console.log("codigo:",this.roomCode),this.crearInterfaz()}crearInterfaz(){const e=this.cameras.main.width,t=this.cameras.main.height;this.pergamino=this.add.image(e/2,100,"pergaminoTitulo"),this.pergamino.setScale(.25,.2),this.titulo=this.add.text(e/2,100,"Online Multiplayer",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.roomCodeText=this.add.text(e/2,150,"",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.tituloCrearSala=this.add.text(e/2,300,"Crear torre",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonCrearSala=this.add.image(e/2,340,"boton"),this.botonCrearSala.setScale(.05,.1),this.crearSalaText=this.add.text(e/2,340,"Crear",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.crearSalaText.on("pointerover",()=>{this.crearSalaText.setStyle({fill:"#ff0000"})}),this.crearSalaText.on("pointerout",()=>{this.crearSalaText.setStyle({fill:"#000000ff"})}),this.crearSalaText.on("pointerdown",()=>{this.resetState(),this.crearSala()}),this.tituloCola=this.add.text(e/2,200,"Únete a una torre...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonUnirseCola=this.add.image(e/2,240,"boton"),this.botonUnirseCola.setScale(.05,.1),this.unirseColaText=this.add.text(e/2,240,"Torre",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseColaText.on("pointerover",()=>{this.unirseColaText.setStyle({fill:"#ff0000"})}),this.unirseColaText.on("pointerout",()=>{this.unirseColaText.setStyle({fill:"#000000ff"})}),this.unirseColaText.on("pointerdown",()=>{this.resetState(),this.unirseCola()}),this.tituloCodigo=this.add.text(e/2,400,"O únete con código",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.createCodeInput(e/2-80,440),this.botonUnirseCodigo=this.add.image(e/2+110,440,"boton"),this.botonUnirseCodigo.setScale(.05,.1),this.unirseCodigoText=this.add.text(e/2+110,440,"Unirse",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseCodigoText.on("pointerover",()=>{this.unirseCodigoText.setStyle({fill:"#ff0000"})}),this.unirseCodigoText.on("pointerout",()=>{this.unirseCodigoText.setStyle({fill:"#000000ff"})}),this.unirseCodigoText.on("pointerdown",()=>{this.unirseSala()}),this.statusText=this.add.text(e/2,t/2,"",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ff0000"}).setOrigin(.5),this.add.image(e/2,520,"boton").setScale(.05,.1);const s=this.add.text(e/2,520,"Volver",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setStyle({fill:"#ff0000"})}),s.on("pointerout",()=>{s.setStyle({fill:"#000000ff"})}),s.on("pointerdown",()=>{this.shutdown(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop(),this.scene.start("MenuScene")})}createCodeInput(e,t){const s=document.createElement("input");s.type="text",s.id="roomCodeInput",s.placeholder="Código de sala",s.maxLength=6,s.style.cssText="\n      position: absolute;\n      width: 200px;\n      height: 40px;\n      font-size: 24px;\n      text-align: center;\n      font-family: Tagesschrift, arial;\n      text-transform: uppercase;\n      border: 3px solid #ffffff;\n      background-color: #222222;\n      color: #ffffff;\n      border-radius: 5px;\n      outline: none;\n      z-index: 9999;",s.addEventListener("input",()=>{s.value=s.value.toUpperCase()}),s.addEventListener("keypress",e=>{"Enter"===e.key&&this.unirseSala()}),document.body.appendChild(s);const i=()=>{const i=this.game.canvas.getBoundingClientRect();s.style.left=`${Math.round(i.left+e-100)}px`,s.style.top=`${Math.round(i.top+t-20)}px`};i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),this.events.once("shutdown",()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i),s.remove()}),this.codeInput=s}handleServerMessage(e){switch(e.type){case"queueStatus":this.statusText.setText(`Jugadores en cola: ${e.position}/2`),this.statusText.setColor("#ffff00");break;case"roomInfo":e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Tu torre: ${e.code}`),this.roomCodeText.setColor("#ffffff"),this.roomId=e.roomId,this.statusText.setText(`Sala creada: ${e.code}`),this.statusText.setColor("#00ff00"));break;case"joinRoomResult":e.success?(this.roomCode=e.code,this.roomId=e.roomId,this.roomCodeText.setText(e.code),this.roomCodeText.setColor("#ffffff"),this.statusText.setText("Unido a la sala."),this.statusText.setColor("#00ff00")):(this.resetState(),this.mostrarBotones(),this.statusText.setText(e.message||"No se pudo unir a la sala."),this.statusText.setColor("#ff0000"));break;case"startGame":case"gameStart":if(this.gameStarted)return;this.gameStarted=!0,e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Torre: ${e.code}`),this.roomCodeText.setColor("#ffffff")),this.statusText.setText("¡Partida iniciando!"),this.statusText.setColor("#00ff00"),console.log("Partida iniciando!",e),this.bgm&&(this.bgm.stop(),this.bgm.destroy()),this.scene.start("GameSceneO",{ws:this.ws,playerRole:e.role,roomId:e.roomId||this.roomId,initialBall:e.ball});break;case"error":this.resetState(),this.statusText.setText(e.message||"Error del servidor."),this.statusText.setColor("#ff0000"),this.mostrarBotones();break;default:console.log("Unknown message type:",e.type)}}crearSala(){if(this.ws&&this.ws.readyState===WebSocket.OPEN){if(this.roomCode)return this.statusText.setText("Ya has creado una sala."),void this.statusText.setColor("#ff0000");this.ws.send(JSON.stringify({type:"createRoom"})),this.ocultarBotones(),this.statusText.setText("Creando sala..."),this.statusText.setColor("#ffff00")}else this.statusText.setText("No conectado al servidor. Error de conextión."),this.statusText.setColor("#ff0000")}unirseCola(){this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinQueue"})),this.ocultarBotones(),this.statusText.setText("Buscando partida..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conextión."),this.statusText.setColor("#ff0000"))}ocultarBotones(){this.tituloCrearSala.setVisible(!1),this.botonCrearSala.setVisible(!1),this.crearSalaText.setVisible(!1),this.crearSalaText.disableInteractive(),this.tituloCola.setVisible(!1),this.botonUnirseCola.setVisible(!1),this.unirseColaText.setVisible(!1),this.unirseColaText.disableInteractive(),this.tituloCodigo.setVisible(!1),this.codeInput.style.display="none",this.botonUnirseCodigo.setVisible(!1),this.unirseCodigoText.setVisible(!1),this.unirseCodigoText.disableInteractive(),this.codeInput&&(this.codeInput.style.display="none")}mostrarBotones(){this.tituloCrearSala.setVisible(!0),this.botonCrearSala.setVisible(!0),this.crearSalaText.setVisible(!0),this.crearSalaText.setInteractive(),this.tituloCola.setVisible(!0),this.botonUnirseCola.setVisible(!0),this.unirseColaText.setVisible(!0),this.unirseColaText.setInteractive(),this.tituloCodigo.setVisible(!0),this.codeInput.style.display="block",this.botonUnirseCodigo.setVisible(!0),this.unirseCodigoText.setVisible(!0),this.unirseCodigoText.setInteractive(),this.codeInput&&(this.codeInput.style.display="block")}unirseSala(){const e=this.codeInput.value.trim().toUpperCase();return e?6!==e.length?(this.statusText.setText("El código de sala debe tener 6 caracteres."),void this.statusText.setColor("#ff0000")):void(this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinRoom",code:e})),this.statusText.setText("Intentando unirse a la sala..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conextión."),this.statusText.setColor("#ff0000"))):(this.statusText.setText("Por favor, introduce un código de sala."),void this.statusText.setColor("#ff0000"))}update(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;const i=this.walkSounds.get(e.playerId);let a=!1;e.upKeyObj.isDown?(s="up",a=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",a=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",a=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",a=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),i&&i.isPlaying&&i.stop()),a&&i&&!i.isPlaying&&i.play();let o=new h(t,s,!1);this.processor.process(o)})}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerza"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500)}establecerColisiones(){this.players.forEach(e=>{this.physics.add.collider(e.sprite,this.barreraInvisible)})}setUpPlayers(){const e=new n(this,"player1",50,400,"idle_Azul");this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"SPACE"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"}))}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}connectToServer(){try{this.ws&&(this.ws.readyState!==WebSocket.OPEN&&this.ws.readyState!==WebSocket.CONNECTING||(console.log("WebSocket already connected or connecting"),this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.close()),this.ws=null);const e=`ws://${window.location.host}/ws`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Conectado al servidor."),this.statusText.setColor("#00ff00"),this.time.delayedCall(500,()=>{this.statusText.setText("")})},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("SalaDeEspera")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}leaveQueue(){this.ws&&(this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close()),this.ws=null),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.remove(),this.codeInput=null),this.resetState()}shutdown(){this.leaveQueue()}}class w extends s().Scene{constructor(){super("GameSceneO")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("pequeño","/sounds/pequeño.mp3"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}init(e){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new r,this.cofreAbierto=!1,this.walkSounds=new Map,this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.localPlayer=null,this.remotePlayer=null,this.estrella=!1,this.lOponente=!1,this.desactivado=[!1,!1]}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"});const e="player1"===this.playerRole?"Eres el Jugador 1 (Azul)":"Eres el Jugador 2 (Rojo)";this.add.text(500,40,e,{fontSize:"24px",fontFamily:"Tagesschrift"}).setOrigin(.5),"player1"===this.playerRole?(this.localPlayer=this.players.get("player1"),this.remotePlayer=this.players.get("player2")):(this.localPlayer=this.players.get("player2"),this.remotePlayer=this.players.get("player1")),this.cursors=this.input.keyboard.createCursorKeys(),this.jumpKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.SPACE),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q),this.setupWebSocketListeners()}update(e,t){if(!this.localPlayer||!this.remotePlayer)return;this.escKey.isDown&&!this.escWasDown&&this.togglePause();let s=null;s=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":this.cursors.left.isDown?"left":this.cursors.right.isDown?"right":"stop",this.escWasDown=this.escKey.isDown,this.lPulsada=!1,this.lOponente=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0,this.sendMessage({type:"lPulsada"})),this.players.forEach(e=>{e.update(t)});let i=new h(this.localPlayer,s,this.jumpKey.isDown);this.processor.process(i),"stop"!==s?(this.localPlayer.andar_animacion(),"left"===s?this.localPlayer.sprite.flipX=!1:"right"===s&&(this.localPlayer.sprite.flipX=!0)):this.localPlayer.andar_animacion_parar();const a=this.walkSounds.get(this.playerRole);"stop"!==s?a&&!a.isPlaying&&a.play():a&&a.isPlaying&&a.stop(),this.sendMessage({type:"playerMove",x:this.localPlayer.sprite.x,y:this.localPlayer.sprite.y,direction:s,isMoving:"stop"!==s,flipX:this.localPlayer.sprite.flipX}),this.actualizarInventarioEnPantalla()}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1)}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameSceneO",pociones:this.inventario,sound:this.sound,jugador:t,ws:this.ws}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey))&&this.sendMessage({type:"usarCaldero",inventario:this.inventario})}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.sendMessage({type:"botonCampoFuerza",boton:1})}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.sendMessage({type:"botonCampoFuerza",boton:2})})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}actualizarInventarioEnPantalla(){this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){this.cofreAbierto&&(console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})}))}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2),this.estrella=!0):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2),this.estrella=!0))}comprobarCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&(this.lOponente||this.qkey.isDown)&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(this.sendMessage({type:"desactivarCampoFuerza"}),this.abrirCampoFuerza())}abrirCampoFuerza(){console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal()}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0),this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player1"})}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player2"})})}entrarPuertaFinal(e,t){if(console.log("Desactivado:",e),e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{eleccion:t,jugador:this.playerRole,ws:this.ws,modo:"online"})}}setUpPlayers(){const e=new n(this,"player1",50,400,"idle_Azul"),t=new n(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t)}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Menú",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{this.ws.close()},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}dañoJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador 1 ha recibido daño"),this.sendMessage({type:"dañoJugador",player:"player1",vida:e.vida}),e.vida<=0&&this.endGame("player1")}dañoJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador 2 ha recibido daño"),this.sendMessage({type:"dañoJugador",player:"player2",vida:e.vida}),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameSceneO"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume()}togglePause(){const e=!this.isPaused;this.processor.process(new d(this,e))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error al parsear mensaje Websocket:",e)}},this.ws.onclose=()=>{console.log("Conexión WebSocket cerrada"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("Error de WebSocket :",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"movimientoJugador":{if(e.player===this.playerRole)break;if(!this.remotePlayer)break;const t=this.walkSounds.get(e.player);e.isMoving&&"stop"!==e.direction?t&&!t.isPlaying&&t.play():t&&t.isPlaying&&t.stop(),this.remotePlayer.sprite.x=e.x,this.remotePlayer.sprite.y=e.y,this.remotePlayer.sprite.flipX=e.flipX,e.isMoving&&"stop"!==e.direction?this.remotePlayer.andar_animacion():this.remotePlayer.andar_animacion_parar();break}case"gameOver":this.endGame(e.winnerId);break;case"playerDisconnected":this.handleDisconnection();break;case"daño":this.handleDaño(e);break;case"usarCaldero":this.handleCaldero(e);break;case"Inventario":this.inventario=e.inventario,this.actualizarInventarioEnPantalla(),console.log("Inventario actualizado desde el servidor",this.inventario);break;case"botonCF":1===e.b?this.boton1Activado=!0:2===e.b&&(this.boton2Activado=!0),this.comprobarCampoFuerza();break;case"desactivarCF":this.abrirCampoFuerza();break;case"lOponente":this.lOponente=e.valor;break;case"puertaFinal":this.handlePuertaFinal(e);break;case"final":console.log("final"),1===e.escena?this.scene.start("FinalM1Scene"):2===e.escena?this.scene.start("FinalM2Scene"):this.scene.start("FinalBScene"),this.scene.stop("DecisionScene");break;default:console.log("Mensaje WebSocket desconocido:",e)}}handleDisconnection(){this.gameEnded=!0,this.localPlayer.sprite.setVelocity(0,0),this.remotePlayer.sprite.setVelocity(0,0),this.physics.pause(),this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,220,"titulo"),this.titulo.setScale(.3,.25),this.add.text(500,200,"Fallo por desconexión",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.add.text(500,250,"La partida ha finalizado",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.createMenuButton()}handleDaño(e){const t=this.players.get(e.player);t&&(t.vida=e.vida,"player1"===e.player?this.healthLeft.setText(e.vida.toString()):this.healthRight.setText(e.vida.toString()),t.vida<=0&&this.endGame(e.player))}handleCaldero(e){for(let e=1;e<this.inventario.length-2;e++)this.inventario[e]=!1;this.uno.setAlpha(.2),this.dos.setAlpha(.2),this.tres.setAlpha(.2),this.cuatro.setAlpha(.2),this.cinco.setAlpha(.2),this.seis.setAlpha(.2),this.siete.setAlpha(.2),this.ocho.setAlpha(.2),this.nueve.setAlpha(.2),this.diez.setAlpha(.2),e.exito?(console.log("Poción de disminuir tamaño creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("pequeño",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poción de disminuir tamaño"),this.sound&&this.sound.play("explosion",{volume:.5}),1===e.jugadorDañado?this.dañoJugLeft():this.dañoJugRight())}handlePuertaFinal(e){let t;if("player1"===e.jugador?(this.players.get("player1").sprite.disableBody(!0,!0),this.desactivado[0]=!0,t=this.walkSounds.get("player1")):(this.players.get("player2").sprite.disableBody(!0,!0),this.desactivado[1]=!0,t=this.walkSounds.get("player2")),t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}this.entrarPuertaFinal(this.desactivado,e.ganador)}createMenuButton(){this.boton=this.add.image(500,400,"boton"),this.boton.setScale(.15,.1);const e=this.add.text(500,400,"Volver al Menú",{fontFamily:"Tagesschrift",fontSize:"30px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),console.log("Cerrando conexión WebSocket..."),setTimeout(()=>{this.ws.close(),console.log("Conexión WebSocket cerrada.")},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}const A={type:s().AUTO,width:1e3,height:560,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:2e4},debug:!1}},dom:{createContainer:!0},scene:[i,o,w,c,u,p,g,m,y,f,b,v,S,x,C],backgroundColor:"#47ddffff"};new(s().Game)(A)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUIsTUFBTTRGLEtBQUssY0FDaEIvRyxLQUFLbUIsTUFBTTRGLEtBQUssY0FDaEIvRyxLQUFLbUIsTUFBTUMsTUFBTSxjQUV6QixDQUVBLFdBQUFzYixDQUFZbEMsR0FDSnhhLEtBQUsrTCxJQUFNL0wsS0FBSytMLEdBQUcrSCxhQUFlQyxVQUFVQyxNQUM1Q2hVLEtBQUsrTCxHQUFHa0ksS0FBS2hSLEtBQUtDLFVBQVVzWCxHQUVwQyxDQUdBLFFBQUE5UyxHQUNRMUgsS0FBSytMLElBQU0vTCxLQUFLK0wsR0FBRytILGFBQWVDLFVBQVVDLE1BQzVDaFUsS0FBSytMLEdBQUdxSSxPQUVoQixFQ3BnQ0osTUFBTXBCLEVBQVMsQ0FDWGtCLEtBQU0sU0FDTjhELE1BQU8sSUFDUEcsT0FBUSxJQUNSd0YsT0FBUSxpQkFDUmpWLFFBQVMsQ0FDTGtWLFFBQVMsU0FDVEMsT0FBUSxDQUNKQyxRQUFTLENBQUVoVyxFQUFHLEtBQ2RpVyxPQUFPLElBR2ZDLElBQUssQ0FDREMsaUJBQWlCLEdBRXJCOWMsTUFBTyxDQUFFeEIsRUFBWTZFLEVBQVdtWCxFQUFZM1EsRUFBV3lKLEVBQWdCZCxFQUFZVSxFQUFjRyxFQUFlZSxFQUFjRyxFQUFlTyxFQUFhRyxFQUFjRSxFQUFjRSxFQUFxQmEsR0FDM002RyxnQkFBaUIsYUFHUixJQUFJLFVBQVlsTCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9Mb2dpblNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvZW50aXRpZXMvTWFnby5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9jb21tYW5kL0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2NvbW1hbmQvTW92ZU1hZ29Db21tYW5kLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9jb21tYW5kL1BhdXNlR2FtZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9QYXVzZVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvSGlzdG9yaWFTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0xpYnJlcmlhU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9Db250cm9sU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9EZWNpc2lvblNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvRmluYWxCU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9GaW5hbE0xU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9GaW5hbE0yU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvU2FsYURlRXNwZXJhLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZVNjZW5lTy5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9naW5TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTG9naW5TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDFhMWExYSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvZ2luRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1mb3JtJyk7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VybmFtZScpO1xyXG4gICAgICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKTtcclxuICAgICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbkJ1dHRvbicpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnTG9naW5TY2VuZSBpbmljaWFkYScpO1xyXG5cclxuICAgICAgICBpZiAobG9naW5Gb3JtKSB7XHJcbiAgICAgICAgICAgIGxvZ2luRm9ybS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsb2dpbkJ1dHRvbikge1xyXG4gICAgICAgICAgICBsb2dpbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGljayBlbiBsb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB1c2VybmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSBwYXNzd29yZElucHV0LnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VybmFtZTonLCB1c2VybmFtZSwgJ1Bhc3N3b3JkOicsIHBhc3N3b3JkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodXNlcm5hbWUgIT09ICcnICYmIHBhc3N3b3JkICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2dpbiBleGl0b3NvLCBpbmljaWFuZG8gTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT2N1bHRhciBlbCBmb3JtdWxhcmlvXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2luRm9ybSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dpbkZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FtcG9zIHZhY8Otb3MnKTtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnUG9yIGZhdm9yIGNvbXBsZXRhIHRvZG9zIGxvcyBjYW1wb3MnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGFzc3dvcmRJbnB1dCkge1xyXG4gICAgICAgICAgICBwYXNzd29yZElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2luQnV0dG9uLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsICgpID0+IHtcclxuICAgICAgdGhpcy5zdG9wUG9sbGluZygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IHtcclxuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XHJcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHJvYmFyIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cclxuICAgKi9cclxuICBhc3luYyBjaGVja0Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSBkYXRhLmNvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cclxuICAgKi9cclxuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xyXG4gICAqL1xyXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuXHJcbiAgICAvLyBMbGFtYXIgaW5tZWRpYXRhbWVudGUgY29uIGVsIGVzdGFkbyBhY3R1YWxcclxuICAgIGNhbGxiYWNrKHsgY29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLCBjb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7dHJ5e1xyXG4gICAgICBsaXN0ZW5lcihkYXRhKTtcclxuICAgIH1jYXRjaChlKXtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gTGlzdGVuZXI6JyxlKTtcclxuICAgIH19KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lLFxyXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4geyBcclxuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgKi9cclxuICBzdG9wUG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxyXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb00nLCAnL2ltYWdlbmVzL2xvZ29TaW5Gb25kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnaG92ZXInLCAnL3NvdW5kcy9ob3Zlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljYU1lbnUnLCAnL3NvdW5kcy9tw7pzaWNhX01QcmluY2lwYWwubXAzJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoJ1RhZ2Vzc2NocmlmdCcsICd1cmwoL2Z1ZW50ZXMvVGFnZXNzY2hyaWZ0LnR0ZiknKTtcclxuICAgICAgICBmb250LmxvYWQoKS50aGVuKGZ1bmN0aW9uIChsb2FkZWRGb250KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChsb2FkZWRGb250KTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBmb250OicsIGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRW5zdXJlIG5vIGR1cGxpY2F0ZSBtZW51IG11c2ljIHBsYXlzIChzdG9wIGV4aXN0aW5nIHRoZW4gcGxheSlcclxuICAgICAgICB0cnkgeyBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIHRoaXMuZ2FtZS5zb3VuZC5wbGF5KCdtdXNpY2FNZW51JywgeyB2b2x1bWU6IDAuNywgbG9vcDogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5mb25kbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzUwLCAnZm9uZG9NJylcclxuICAgICAgICB0aGlzLmZvbmRvLnNldFNjYWxlKDAuOCk7XHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDMwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYm90b24yID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAzNTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmJvdG9uMyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24zLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjQgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uNC5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYm90b241ID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjUuc2V0U2NhbGUoMC4xKTtcclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTIwLCAnRWwgRW5pZ21hIGRlIGxhXFxuVG9ycmUgRW5jYW50YWRhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzU2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcIlRhZ2Vzc2NocmlmdFwiLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTgpOyBcclxuXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzAwLCAnTG9jYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIG1lbsO6IGFudGVzIGRlIGNhbWJpYXIgZGUgZXNjZW5hXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25saW5lQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDM1MCwgJ09ubGluZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG9ubGluZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgYXN5bmMoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NhbGFEZUVzcGVyYScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWRpdG9zQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQwMCwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjcmVkaXRvc0J0bi5zZXRTdHlsZSh7IGZpbGw6ICcjZmY5MTAwZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGNyZWRpdG9zQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgaGlzdG9yaWFCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnSGlzdG9yaWEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaGlzdG9yaWFCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzM4ZmZmZmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBoaXN0b3JpYUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdIaXN0b3JpYVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjb250cm9sQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ0NvbnRyb2xlcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sQnRuLnNldFN0eWxlKHsgZmlsbDogJyNmZjBkZmZjMScgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY29udHJvbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDb250cm9sU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdNZW51U2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIGNvbmV4acOzbiBhbCBzZXJ2aWRvclxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQgPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTQwLCAnU2Vydmlkb3I6IENvbXByb2JhbmRvLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHsgXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgIC8vIFNvbG8gYWN0dWFsaXphciBzaSBlbCB0ZXh0byBleGlzdGUgKGxhIGVzY2VuYSBlc3TDoSBjcmVhZGEpXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0IHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dChgU2Vydmlkb3I6ICR7ZGF0YS5jb3VudH0gdXN1YXJpbyhzKSBjb25lY3RhZG8ocylgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dCgnU2Vydmlkb3I6IERlc2NvbmVjdGFkbycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW01lbnVTY2VuZV0gRXJyb3IgdXBkYXRpbmcgY29ubmVjdGlvbiBkaXNwbGF5OicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIE1hZ297XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksIGlkU3ByaXRlKXtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMudmlkYSA9IDM7IFxyXG4gICAgICAgIHRoaXMuaWRsZSA9IGlkU3ByaXRlO1xyXG4gICAgICAgIHRoaXMuZXN0YWRvX25vcm1hbCA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuYmFzZVdpZGh0ID0gMjA7XHJcbiAgICAgICAgdGhpcy5iYXNlSGVpZ2h0ID0gMTAwO1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMzAwO1xyXG5cclxuICAgICAgICAvLyBTYWx0b1xyXG4gICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5qdW1wVmVsb2NpdHkgPSAwO1xyXG4gICAgICAgIHRoaXMuZ3JvdW5kWSA9IHk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgaWRTcHJpdGUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMzUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyBcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKDEyNSwxNzUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0T2Zmc2V0KDg4MCw3NTApO1xyXG4gICAgfVxyXG5cclxuICAgIGFuZGFyX2FuaW1hY2lvbigpe1xyXG4gICAgICAgIGlmKCF0aGlzLnNwcml0ZSB8fCAhdGhpcy5zcHJpdGUuYW5pbXMpIHJldHVybjsgLy8gUHJvdGVnZXIgc2kgZWwgc3ByaXRlIG8gYW5pbXMgbm8gZXhpc3RlblxyXG4gICAgICAgIGlmKCF0aGlzLnNwcml0ZS5hbmltcy5pc1BsYXlpbmcpe1xyXG4gICAgICAgICAgICBpZih0aGlzLmlkbGUgPT09ICdpZGxlX0F6dWwnKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc2NlbmUgJiYgdGhpcy5zY2VuZS5hbmltcyAmJiB0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhcImFuZGFyX21hZ29fQXp1bFwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheShcImFuZGFyX21hZ29fQXp1bFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlkbGUgPT09ICdpZGxlX1Jvam8nKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc2NlbmUgJiYgdGhpcy5zY2VuZS5hbmltcyAmJiB0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhcImFuZGFyX21hZ29fUm9qb1wiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheShcImFuZGFyX21hZ29fUm9qb1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhbmRhcl9hbmltYWNpb25fcGFyYXIoKXtcclxuICAgICAgICBpZighdGhpcy5zcHJpdGUgfHwgIXRoaXMuc3ByaXRlLmFuaW1zKSByZXR1cm47IC8vIFByb3RlZ2VyIHNpIGVsIHNwcml0ZSBvIGFuaW1zIG5vIGV4aXN0ZW5cclxuICAgICAgICBpZih0aGlzLnNwcml0ZS5hbmltcy5pc1BsYXlpbmcpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRleHR1cmUodGhpcy5pZGxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAganVtcCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNKdW1waW5nICkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSA9IHRoaXMuc3ByaXRlLnk7IC8vIGVzdGFibGVjZXIgbGEgYWx0dXJhIGEgbGEgcXVlIHRpZW5lIHF1ZSB2b2x2ZXIgY29tbyBsYSBhY3R1YWwgXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgtMTAwMDAwKTsgLy8gVmVsb2NpZGFkIGluaWNpYWwgZGUgc2FsdG9cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSB0cnVlOyAvLyBhY3RpdmFyIGdyYXZlZGFkIGVuIGxvcyBzYWx0b3NcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGRlbHRhKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzSnVtcGluZyApIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbGFuZGVkIChiYWNrIHRvIGdyb3VuZCBsZXZlbCBvciBiZWxvdylcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnkgPj0gdGhpcy5ncm91bmRZICYmIHRoaXMuc3ByaXRlLmJvZHkudmVsb2NpdHkueSA+PSAwKSB7IC8vIENvbXByb2JhciBzaSB0aWVuZSBxdWUgdm9sdmVyIGEgYXJlYSBkZSBzdWVsb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUueSA9IHRoaXMuZ3JvdW5kWTsgLy8gaXIgYSBsYSBwb3NpY2nDs24gZW4gbGEgcXVlIGNvbWVuesOzIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTsgLy8gZGVzYWN0aXZhciBncmF2ZWRhZCBcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7IC8vIHlhIG5vIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLmVzdGFkb19ub3JtYWwgPT09IGZhbHNlKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjM1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFNjYWxlKHNjYWxlKXtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZShzY2FsZSk7XHJcbiAgICB9XHJcbiBcclxuICAgIHNldFBvc2l0aW9uKHgsIHkpe1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFBvc2l0aW9uKHgsIHkpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmRQcm9jZXNzb3J7XHJcbmNvbnN0cnVjdG9yKCl7XHJcbiAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7IFxyXG4gICAgdGhpcy5nYW1lU2NlbmUgPSBudWxsO1xyXG59XHJcblxyXG5zZXRQbGF5ZXJzKHBsYXllcnMpe1xyXG4gICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxufVxyXG5cclxuc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSl7XHJcbiAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxufVxyXG5cclxucHJvY2Vzcyhjb21tYW5kKXtcclxuICAgIGNvbW1hbmQuZXhlY3V0ZSgpOyBcclxufVxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmQge1xyXG4gICAgZXhlY3V0ZSgpe31cclxuXHJcbiAgICBzZXJpYWxpemUoKXt9XHJcblxyXG4gICAgZ2V0UGxheWVyKCl7fVxyXG4gICAgXHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVNYWdvQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gICAgY29uc3RydWN0b3IobWFnbywgZGlyZWN0aW9uLCBzYWx0byl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm1hZ28gPSBtYWdvO1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uOyBcclxuICAgICAgICB0aGlzLnNhbHRvID0gc2FsdG87IFxyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKXtcclxuICAgICAgICBpZih0aGlzLmRpcmVjdGlvbiA9PT0gJ3VwJyl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLm1hZ28uYmFzZVNwZWVkKTtcclxuICAgICAgICB9IGVsc2UgaWYodGhpcy5kaXJlY3Rpb24gPT09ICdkb3duJyl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlZKCt0aGlzLm1hZ28uYmFzZVNwZWVkKTtcclxuICAgICAgICB9IGVsc2UgaWYodGhpcy5kaXJlY3Rpb24gPT09ICdsZWZ0Jyl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlYKC10aGlzLm1hZ28uYmFzZVNwZWVkKTtcclxuICAgICAgICB9IGVsc2UgaWYodGhpcy5kaXJlY3Rpb24gPT09ICdyaWdodCcpe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WCgrdGhpcy5tYWdvLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlZKDApOyBcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7IFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLnNhbHRvKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMubWFnby5iYXNlU3BlZWQqMy41ICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtDb21tYW5kfSBmcm9tIFwiLi9Db21tYW5kXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VHYW1lQ29tbWFuZCBleHRlbmRzIENvbW1hbmR7XHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lU2NlbmUsIGlzUGF1c2VkKXtcclxuICAgICAgICBzdXBlcigpOyBcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpe1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lLnNldFBhdXNlU3RhdGUodGhpcy5pc1BhdXNlZCk7IFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNYWdvIH0gZnJvbSAnLi4vZW50aXRpZXMvTWFnbydcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmQvY29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE1vdmVNYWdvQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvTW92ZU1hZ29Db21tYW5kJztcclxuaW1wb3J0IHsgUGF1c2VHYW1lQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvUGF1c2VHYW1lQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBFc2NlbW5hcmlvIHkgb2JqZXRvcyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhcmVkUicsICcvaW1hZ2VuZXMvcGFyZWRZVGVjaG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsb1InLCAnL2ltYWdlbmVzL3N1ZWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm9sYUNyaXN0YWxSJywgJy9pbWFnZW5lcy9ib2xhQ3Jpc3RhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbGRlcm9SJywgJy9pbWFnZW5lcy9jYWxkZXJvQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW1wb0Z1ZXJ6YVInLCAnL2ltYWdlbmVzL2NhbXBvZGVmdWVyemEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb2ZyZVInLCAnL2ltYWdlbmVzL2NvZnJlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29mcmVBYmllcnRvUicsICcvaW1hZ2VuZXMvY29mcmVBYmllcnRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0YW50ZXJpYVInLCAnL2ltYWdlbmVzL2VzdGFudGVyaWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsbGF2ZVInLCAnL2ltYWdlbmVzL2xsYXZlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vUicsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGFudGFSJywgJy9pbWFnZW5lcy9wbGFudGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1InLCAnL2ltYWdlbmVzL3BvY2lvbmVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVsYXNSJywgJy9pbWFnZW5lcy92ZWxhcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVSJywgJy9pbWFnZW5lcy9lc3RhbnRlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGlicm9zUicsICcvaW1hZ2VuZXMvbGlicm9zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25WUicsICcvaW1hZ2VuZXMvYm90b25WYWNpby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ1InLCAnL2ltYWdlbmVzL2JvdG9uQ29tcGxldG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RyZWxsYVInLCAnL2ltYWdlbmVzL2VzdHJlbGxhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBeicsICcvaW1hZ2VuZXMvcG9jaW9uQXp1bC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQW0nLCAnL2ltYWdlbmVzL3BvY2lvbmVzQW1hcmlsbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc04nLCAnL2ltYWdlbmVzL3BvY2lvbk5hcmFuamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1JvJywgJy9pbWFnZW5lcy9wb2Npb25Sb3NhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNNJywgJy9pbWFnZW5lcy9wb2Npb25Nb3JhZGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1YnLCAnL2ltYWdlbmVzL3BvY2lvblZlcmRlLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlX0F6dWwnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzInLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzMnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzQnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzUnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzYnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzcnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb184LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzgnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9Sb2pvJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzMnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb180JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNScsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzYnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb183JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fOCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb184LnBuZycpO1xyXG5cclxuICAgICAgICAvLyBJbnRlcmZheiBNdWVydGVcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJHTVxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYmdtJywgJy9zb3VuZHMvYmdtLm1wMycpO1xyXG5cclxuICAgICAgICAvLyBzb25pZG9zIGRlIGVmZWN0b3NcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2FicmlyQ29mcmUnLCAnL3NvdW5kcy9jaGVzdF9vcGVuLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncmVjb2dlclBvY2lvbicsICcvc291bmRzL2JvdGVsbGFzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncmVjb2dlckxsYXZlJywgJy9zb3VuZHMvbGxhdmUubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd3YWxrJywgJy9zb3VuZHMvd2Fsay5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2V4cGxvc2lvbicsICcvc291bmRzL2V4cGxvc2lvbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3B1ZXJ0YScsICcvc291bmRzL3B1ZXJ0YS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3RyaWdnZXInLCAnL3NvdW5kcy90cmlnZ2VyLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncGVxdWXDsW8nLCAnL3NvdW5kcy9wZXF1ZcOxby5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sUHVsc2FkYSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLmNvZnJlQWJpZXJ0byA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcyA9IG5ldyBNYXAoKTsgLy8gTWFwIHBhcmEgZ3VhcmRhciBlbCBzb25pZG8gZGUgY2FkYSBqdWdhZG9yXHJcblxyXG4gICAgICAgIC8vIEFycmF5IGRlIGJvb2xlYW5vcyBxdWUgcmVwcmVzZW50YSBxdWUgb2JqZXRvcyBoYW4gcmVjb2dpZG8gZW50cmUgYW1ib3MganVnYWRvcmVzXHJcbiAgICAgICAgLy8gTG9zIG9iamV0b3Mgc29uOiAwLWxsYXZlLCAxLWxpYnJvcywgMi0gcG9jaW9uIG1vcmFkYSwgMy0gcG9jaW9uIHZlcmRlLCA0LSBwb2Npb24gcm9zYSwgNS0gcG9jaW9uIGF6dWwsIDYtIHBvY2lvbiBhbWFyaWxsYSwgNy0gcG9jaW9uIG5hcmFuamEsIDgtIHZlbGFzLCA5LSBib2xhIGRlIGNyaXN0YWwsIDEwLSBwbGFudGEsIDExLSBlc3RyZWxsYSAxLCAxMi0gZXN0cmVsbGEgMlxyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2FuZGFyX21hZ29fQXp1bCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdpZGxlX0F6dWwnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8yJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF81JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzcnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF84JyB9XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdhbmRhcl9tYWdvX1Jvam8nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnaWRsZV9Sb2pvJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fMicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb180JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzYnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb183JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fOCcgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYmdtID0gdGhpcy5zb3VuZC5hZGQoJ2JnbScsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgdW4gc29uaWRvIGRlIHBhc29zIHBhcmEgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMScsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMicsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcblxyXG4gICAgICAgIC8vIFBhcmFyIHBhc29zIGN1YW5kbyBsYSBlc2NlbmEgc2UgcGF1c2UgKGVqLiBQYXVzZVNjZW5lKSB5IGxpbXBpYXIgc29uaWRvcyBhbCBzaHV0ZG93blxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdwYXVzZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4geyB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH0gfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQWwgcmVzdW1lIG5vIHNlIHJlcHJvZHVjZSBhdXRvbcOhdGljYW1lbnRlOiBlbCB1cGRhdGUoKSByZWFudWRhcsOhIHBhc29zIHNpIHNlIHB1bHNhIG1vdmVyXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3Jlc3VtZScsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gbmFkYSBlc3BlY2lhbDogdXBkYXRlKCkgdm9sdmVyw6EgYSByZXByb2R1Y2lyIGN1YW5kbyBkZXRlY3RlIG1vdmltaWVudG9cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBBc2VndXJhciBsaW1waWV6YSBjdWFuZG8gbGEgZXNjZW5hIHNlIGNpZXJyZSBkZWZpbml0aXZhbWVudGVcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gcGFyYXIgeSBkZXN0cnVpciBzb25pZG9zIGRlIHBhc29zXHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzKSB3cy5kZXN0cm95KCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAvLyBwYXJhciBCR01cclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuYmdtICYmICh0aGlzLmJnbS5pc1BsYXlpbmcgfHwgdGhpcy5iZ20uaXNQYXVzZWQpKSB0aGlzLmJnbS5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhckVzY2VuYXJpbygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJQbGF0YWZvcm1hcygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJCYXJyZXJhSW52aXNpYmxlKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgICAgICB0aGlzLmVzdGFibGVjZXJDb2xpc2lvbmVzKCk7XHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvRW5QYW50YWxsYSgpOyBcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaGVhbHRoTGVmdCA9IHRoaXMuYWRkLnRleHQoNTAsIDMwLCAnMycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0ID0gdGhpcy5hZGQudGV4dCg5MDAsIDMwLCAnMycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICB0aGlzLmxrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuTCk7XHJcbiAgICAgICAgdGhpcy5xa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlEpO1xyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSh0aW1lLCBkZWx0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IHRoaXMuZXNjS2V5LmlzRG93bjtcclxuY29uc29sZS5sb2coXCJIb2xhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFcIik7XHJcbiAgICAgICAgdGhpcy5sUHVsc2FkYSA9IGZhbHNlOyAvL3ZvbHZlciBhIHBvbmVyIGEgZmFsc2Ugc2kgbm8gaGEgaGFiaWRvIG92ZXJsYXBcclxuICAgICAgICBpZiAodGhpcy5sa2V5LmlzRG93biB8fCB0aGlzLnFrZXkuaXNEb3duKSB0aGlzLmxQdWxzYWRhID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gQ29tcHJvYmFyIHNpIGFsZ3VubyBkZSBsb3MganVnYWRvcmVzIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gobWFnbyA9PiB7XHJcbiAgICAgICAgICAgIG1hZ28udXBkYXRlKGRlbHRhKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hZ28gPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IHNhbHRvID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhbGtTb3VuZCA9IHRoaXMud2Fsa1NvdW5kcy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGxldCBpc01vdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcuZG93bktleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5zcHJpdGUuZmxpcFggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb25fcGFyYXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2Fsa1NvdW5kICYmIHdhbGtTb3VuZC5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YWxrU291bmQuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzYWx0byBzb2xvIHNpIGVzdGEgcGVxdWXDsW9cclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcuanVtcE9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGlmICghbWFnby5lc3RhZG9fbm9ybWFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2FsdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTW92aW5nICYmIHdhbGtTb3VuZCAmJiAhd2Fsa1NvdW5kLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgd2Fsa1NvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZU1hZ29Db21tYW5kKG1hZ28sIGRpcmVjdGlvbiwgc2FsdG8pO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1sxXSkgdGhpcy51bm8uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy51bm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1syXSkgdGhpcy5kb3Muc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLmRvcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzNdKSB0aGlzLnRyZXMuc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy50cmVzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNF0pIHRoaXMuY3VhdHJvLnNldEFscGhhKDEpOyBlbHNlIHRoaXMuY3VhdHJvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNV0pIHRoaXMuY2luY28uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzZdKSB0aGlzLnNlaXMuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLnNlaXMuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s3XSkgdGhpcy5zaWV0ZS5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuc2lldGUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s4XSkgdGhpcy5vY2hvLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5vY2hvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bOV0pIHRoaXMubnVldmUuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLm51ZXZlLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMTBdKSB0aGlzLmRpZXouc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5kaWV6LnNldEFscGhhKDAuMik7IFxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhckVzY2VuYXJpbygpIHtcclxuICAgICAgICB0aGlzLnN1ZWxvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQ3MiwgJ3N1ZWxvUicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGFyZWQgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgMjA1LCAncGFyZWRSJyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnBhcmVkLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNjUsIDMwMCwgJ2VzdGFudGVyaWFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxODUsIDMwMywgJ2JvbGFDcmlzdGFsUicpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQzMCwgJ2NhbGRlcm9SJyk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDMxMCwgJ2NhbXBvRnVlcnphUicpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb2ZyZSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTA1LCAyODMsICdjb2ZyZVInKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGxhdmUgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE3MCwgMTYwLCAnbGxhdmVSJyk7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBlcmdhbWlubyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNzgwLCAxODAsICdwZXJnYW1pbm9SJyk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYW50YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTcwLCAzNjUsICdwbGFudGFSJyk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNjksIDI2MiwgJ3BvY2lvbmVzUicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy52ZWxhcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTQwLCAzMDgsICd2ZWxhc1InKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGlicm9zID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNTAsIDIyMCwgJ2xpYnJvc1InKTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWJyb3Muc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MCwgMzUwLCAnYm90b25WUicpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDc4MCwgMzUwLCAnYm90b25WUicpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGVzdHJlbGxhcyBkZSBkZW50cm8gZGVsIGNvZnJlXHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ1MCwgMjgzLCAnZXN0cmVsbGFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1NjAsIDI4MywgJ2VzdHJlbGxhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckJhcnJlcmFJbnZpc2libGUoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXIgdW5hIGJhcnJlcmEgaW52aXNpYmxlIHF1ZSBldml0YSBxdWUgc3ViYSBoYWNpYSBhcnJpYmEgKHBlcm8gcHVlZGEgYW5kYXIgbGlicmVtZW50ZSBwb3IgZWwgc3VlbG8pXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSg1MDAsIDEwNSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFNpemUoMTAwMCwgNTAwKTsgXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5ib2R5LnNldFNpemUoMTAwMCwgNTAwKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgY29sbGlkZXIgaW52aXNpYmxlIHBhcmEgcXVlIHB1ZWRhIHVzYXIgbGEgYmFsZGEgc3VwZXJpb3IgZGUgbGEgZXN0YW50ZXLDrcKtYSBjb21vIHBsYXRhZm9ybWFcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTY1LCAxOTUsICd3aGl0ZV9waXhlbCcpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuc2V0U2NhbGUoNCwgMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgY29sbGlkZXIgaW52aXNpYmxlIHBhcmEgZXZpdGFyIHF1ZSBhdHJhdmllc2UgZWwgY2FsZGVyb1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg1MDAsIDQwMCwgJ3doaXRlX3BpeGVsJyk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5zZXRDaXJjbGUoODUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRPZmZzZXQoLTcwLCAtNTUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyUGxhdGFmb3JtYXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoKTtcclxuICAgICAgICAvLyBDZW50cm9cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg0NDYsIDMxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNTEwLCAzMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDU3MCwgMzE1LCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICAgICAgLy8gSXpxdWllcmRhXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNjUwLCAzNTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDY1MCwgMjE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg3MDAsIDM5MCwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgICAgIC8vIERlcmVjaGFcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg0NDYsIDI1MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzYwLCAyMzUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDI5NSwgMjE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzMDAsIDM5MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzgwLCAzNTAsICdlc3RhbnRlUicpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBlc3RhYmxlY2VyQ29saXNpb25lcygpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyBDb2xpc2lvbmVzIGRlbCBqdWdhZG9yIGNvbiBlbCBlc2NlbmFyaW9cclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWFDb2xsKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLnBsYXRhZm9ybWFzKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmNhbGRlcm9Db2xsKTtcclxuICAgICAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29uc2VndWlyIGxhIGxsYXZlXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmxsYXZlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncmVjb2dlckxsYXZlJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubGxhdmUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMbGF2ZSBjb25zZWd1aWRhXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzBdID0gdHJ1ZTsgLy8gbWFyY2FyIGVuIGVsIGludmVudGFyaW8gcXVlIHNlIGhhIGNvbnNlZ3VpZG8gbGEgbGxhdmVcclxuICAgICAgICAgICAgICAgIHRoaXMuY2Vyby5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGlkOyBcclxuICAgICAgICAgICAgaWYocGxheWVyLnBsYXllcklkID09PSAncGxheWVyMScpIGlkID0gMTtcclxuICAgICAgICAgICAgZWxzZSBpZCA9IDI7XHJcblxyXG4gICAgICAgICAgICAvLyBBYnJpciBsYSBsaWJyZXLDrcKtYVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RhbnRlcmlhLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sUHVsc2FkYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnTGlicmVyaWFTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvY2lvbmVzOiB0aGlzLmludmVudGFyaW8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kOiB0aGlzLnNvdW5kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdWdhZG9yOiBpZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEJhcnJlcmEgaW52aXNpYmxlIHBhcmEgcGVybWl0aXIgYXJlYSBkZSBzdWVsbyBkb25kZSBzZSBkZXNwbGFjZW4gbGlicmVtZW50ZSwgeSBhcmVhIGRlIHNhbHRvIHBhcmEgc3ViaXIgcG9yIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKFxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZSxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbCBjb2xpc2lvbmFyIGNvbiBsYSBiYXJyZXJhIGludmlzaWJsZSBtaWVudHJhcyBlbCBqdWdhZG9yIHZhIGhhY2lhIGFycmliYSwgc2FsdGFcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsYXllci5pc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmp1bXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgY2FsbGJhY2sgLSBvbmx5IGNvbGxpZGUgd2hlbiBtb3ZpbmcgdXAgYW5kIG5vdCBqdW1waW5nXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNb3ZpbmdVcCA9IHBsYXllci5zcHJpdGUuYm9keS52ZWxvY2l0eS55IDwgMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXBsYXllci5pc0p1bXBpbmcgJiYgaXNNb3ZpbmdVcDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhciBwb2Npb24gZGUgZGlzbWludWlyIHRhbWHDsW8gc2kgc2UgdGllbmVuIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmNhbGRlcm8sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5sa2V5KSB8fCBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5xa2V5KSkgeyAvLyBDb21wcm9iYXIgcXVlIHNlIGhhIHB1bHNhZG8gbGEgdGVjbGEgTCBvIFEgcGFyYSBjcmVhciBsYSBwb2Npb24gKHNpIHNlIG1hbnRpZW5lIHB1bHNhZGEgbGEgdGVjbGEgbm8gZW50cmFyw6EgdmFyaWFzIHZlY2VzIGEgbGEgZnVuY2nDs24pXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1SZWNvZ2lkb3MgPSB0aGlzLmludmVudGFyaW8uZmlsdGVyKGVsZW0gPT4gZWxlbSA9PT0gdHJ1ZSk7IC8vIGNyZWFyIHVuIHNlZ3VuZG8gYXJyYXkgY29uIHVuaWNhbWVudGUgbG9zIGVsZW1lbnRvcyByZWNvZ2lkb3NcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKGVsZW1SZWNvZ2lkb3MubGVuZ3RoID09PSAzKSB8fCAoZWxlbVJlY29naWRvcy5sZW5naHQgPT09IDQpKSB7IC8vIHByaW1lcm8gY29tcHJvYmFyIHF1ZSBzZSBoYW4gcmVjb2dpZG8gMyBlbGVtZW50b3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1szXSAmJiB0aGlzLmludmVudGFyaW9bNV0gJiYgdGhpcy5pbnZlbnRhcmlvWzddKSB7IC8vIGNvbXByb2JhciBxdWUgZXNvcyBlbGVtZW50b3MgcmVjb2dpZG9zIHNvbiBsYXMgcG9jaW9uZXMgdmVyZGUsIGF6dWwgeSBuYXJhbmphIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQb2Npw7NuIGRlIGRpc21pbnVpciB0YW1hw7FvIGNyZWFkYVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuZGlzYWJsZUJvZHkoKTsgLy8gZGVzYWN0aXZhciBlbCBjb2xsaWRlciBkZWwgY2FsZGVybyBwYXJhIG1pZW50cmFzIGVzdMOpbiBwZXF1ZcOxb3MgcHVlZGFuIGF0cmF2ZXNhcmxvIChjYXVzYWJhIGJ1Z3M6IGxldml0YWJhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3BlcXVlw7FvJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmVzdGFkb19ub3JtYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJObyB0aWVuZXMgbGFzIHBvY2lvbmVzIG5lY2VzYXJpYXMgcGFyYSBjcmVhciBsYSBwb2Npw7NuIGRlIGRpc21pbnVpciB0YW1hw7FvXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdleHBsb3Npb24nLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbGVhdG9yaW8gPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsIDIpOyAvLyBnZW5lcmFyIHVuIG7Dum1lcm8gYWxlYXRvcmlvIGVudHJlIDEgeSAyIHBhcmEgZWxlZ2lyIHF1ZSBqdWdhZG9yIHJlY2liZSBkYcOxb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxlYXRvcmlvID09PSAxKSB0aGlzLmRhw7FvSnVnTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRoaXMuZGHDsW9KdWdSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSB0b2RvcyBsb3MgZWxlbWVudG9zIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmludmVudGFyaW8ubGVuZ3RoIC0gMjsgaSsrKSB7IC8vIHNlIHNhbHRhIGxhIGxsYXZlIHkgbGFzIGVzdHJlbGxhcyBwb3JxdWUgbm8gc2UgdXRpbGl6YW4gcGFyYSBjcmVhciBsYSBwb2Npb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvW2ldID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHRoaXMudW5vLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiB0aGlzLmRvcy5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzogdGhpcy50cmVzLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiB0aGlzLmN1YXRyby5zZXRBbHBoYSgwLjIpOyBicmVhazsgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiB0aGlzLmNpbmNvLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiB0aGlzLnNlaXMuc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6IHRoaXMuc2lldGUuc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6IHRoaXMub2Noby5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTogdGhpcy5udWV2ZS5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6IHRoaXMuZGllei5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBYnJpciBlbCBjb2ZyZSBzaSBzZSB0aWVuZSBsYSBsbGF2ZVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5jb2ZyZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvZnJlQWJpZXJ0bykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludmVudGFyaW9bMF0pIHsgLy8gY29tcHJvYmFyIHF1ZSB0aWVuZSBsYSBsbGF2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ29mcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5lY2VzaXRhcyBsYSBsbGF2ZSBwYXJhIGFicmlyIGVsIGNvZnJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZWNvZ2VyIGVzdHJlbGxhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RyZWxsYTEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb2dlckVzdHJlbGxhKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0cmVsbGEyLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29nZXJFc3RyZWxsYSgyKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy9jb2xvY2FyIGVzdHJlbGxhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb2NhckVzdHJlbGxhKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24yLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9jYXJFc3RyZWxsYSgyKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gcHVsc2FyIGJvdG9uZXMgcGFyYSBkZXNhY3RpdmFyIGVsIGNhbXBvIGRlIGZ1ZXJ6YVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24xQWN0aXZhZG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hYnJpckNhbXBvRnVlcnphKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24yQWN0aXZhZG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hYnJpckNhbXBvRnVlcnphKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIExvcyBvYmpldG9zIHNvbjogMC1sbGF2ZSwgMS1saWJyb3MsIDItIHBvY2lvbiBtb3JhZGEsIDMtIHBvY2lvbiB2ZXJkZSwgNC0gcG9jaW9uIHJvc2EsIDUtIHBvY2lvbiBhenVsLCA2LSBwb2Npb24gYW1hcmlsbGEsIDctIHBvY2lvbiBuYXJhbmphLCA4LSB2ZWxhcywgOS0gYm9sYSBkZSBjcmlzdGFsLCAxMC0gcGxhbnRhLCAxMS0gZXN0cmVsbGEgMSwgMTItIGVzdHJlbGxhIDJcclxuICAgIGludmVudGFyaW9FblBhbnRhbGxhKCkgeyAvL0NvbW8gc2UgYWNhYmEgZGUgY3JlYXIsIHRvZGF2w61hIG5vIHNlIGhhYnLDoSByZWNvZ2lkbyBuaW5nw7puIGVsZW1lbnRvXHJcbiAgICAgICAgdGhpcy5jZXJvID0gdGhpcy5hZGQuaW1hZ2UoMjAwLCA1MjAsICdsbGF2ZVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMudW5vID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCA1MjAsICdsaWJyb3NSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZG9zID0gdGhpcy5hZGQuaW1hZ2UoMzAwLCA1MjAsICdwb2Npb25lc00nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMudHJlcyA9IHRoaXMuYWRkLmltYWdlKDM1MCwgNTIwLCAncG9jaW9uZXNWJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmN1YXRybyA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTIwLCAncG9jaW9uZXNSbycpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5jaW5jbyA9IHRoaXMuYWRkLmltYWdlKDQ1MCwgNTIwLCAncG9jaW9uZXNBeicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zZWlzID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA1MjAsICdwb2Npb25lc0FtJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnNpZXRlID0gdGhpcy5hZGQuaW1hZ2UoNTUwLCA1MjAsICdwb2Npb25lc04nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMub2NobyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNTIwLCAndmVsYXNSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMubnVldmUgPSB0aGlzLmFkZC5pbWFnZSg2NTAsIDUyMCwgJ2JvbGFDcmlzdGFsUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRpZXogPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUyMCwgJ3BsYW50YVInKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5vbmNlID0gdGhpcy5hZGQuaW1hZ2UoNzUwLCA1MjAsICdlc3RyZWxsYVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuZG9jZSA9IHRoaXMuYWRkLmltYWdlKDgwMCwgNTIwLCAnZXN0cmVsbGFSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNvZnJlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnYWJyaXJDb2ZyZScsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnYWJyaXJDb2ZyZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29mcmUgYWJpZXJ0b1wiKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldFRleHR1cmUoJ2NvZnJlQWJpZXJ0b1InKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRBbHBoYSgxLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEFscGhhKDEuMCk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZUFiaWVydG8gPSB0cnVlOyAvLyBwYXJhIHF1ZSBzb2xvIHNlIGFicmEgdW5hIHZlelxyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpb1swXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgbGxhdmUgZGVsIGludmVudGFyaW8gYWwgYWJyaXIgZWwgY29mcmVcclxuICAgICAgICB0aGlzLmNlcm8uc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICB9XHJcblxyXG4gICAgcmVjb2dlckVzdHJlbGxhKG4pIHtcclxuICAgICAgICBpZiAodGhpcy5jb2ZyZUFiaWVydG8pIHsgLy8gc29sbyBzZSBwdWVkZSByZWNvZ2VyIHNpIGVsIGNvZnJlIGVzdMOhIGFiaWVydG8gKHBvcnF1ZSBzaW5vIGVzdMOhbiBvY3VsdGFzKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdHJlbGxhIFwiICsgbiArIFwiIHJlY29naWRhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IHRydWU7IC8vIG1hcmNhciBlbiBlbCBpbnZlbnRhcmlvIHF1ZSBzZSBoYSBjb25zZWd1aWRvIGxhIGVzdHJlbGxhICgxMSB5IDEyIGVuIGVsIGFycmF5KVxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lc3RyZWxsYTEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlLnNldEFscGhhKDEuMCk7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICB9IGVsc2V7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5lc3RyZWxsYTIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb2NlLnNldEFscGhhKDEuMCk7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNDAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgIC8vIHZvbHZlciBhIGFjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmVuYWJsZUJvZHkoZmFsc2UsIDAsIDAsIHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvbG9jYXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1sxMCArIG5dKSB7IC8vIGNvbXByb2JhciBxdWUgc2UgdGllbmUgbGEgZXN0cmVsbGEgY29ycmVzcG9uZGllbnRlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgY29sb2NhZGFcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3RyaWdnZXInLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMS5zZXRUZXh0dXJlKCdib3RvbkNSJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgZXN0cmVsbGEgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24yLnNldFRleHR1cmUoJ2JvdG9uQ1InKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1sxMCArIG5dID0gZmFsc2U7IC8vIHF1aXRhciBsYSBlc3RyZWxsYSBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb2NlLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFicmlyQ2FtcG9GdWVyemEoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm90b24xLnRleHR1cmUua2V5ID09PSAnYm90b25DUicgJiYgdGhpcy5ib3RvbjIudGV4dHVyZS5rZXkgPT09ICdib3RvbkNSJykgeyAvL2NvbXByb2JhciBxdWUgYW1ib3MgYm90b25lcyB0aWVuZW4gbGEgZXN0cmVsbGEgY29sb2NhZGFcclxuICAgICAgICAgICAgaWYgKHRoaXMucWtleS5pc0Rvd24gJiYgdGhpcy5sa2V5LmlzRG93biAmJiB0aGlzLmJvdG9uMUFjdGl2YWRvICYmIHRoaXMuYm90b24yQWN0aXZhZG8pIHsgLy8gY29tcHJvYmFyIHF1ZSBhbWJvcyBqdWdhZG9yZXMgZXN0w6FuIHB1bHNhbmRvIHN1IHRlY2xhIGNvcnJlc3BvbmRpZW50ZVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYW1wbyBkZSBmdWVyemEgZGVzYWN0aXZhZG9cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncHVlcnRhJywgeyB2b2x1bWU6IDAuNyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtcG9GdWVyemEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhclB1ZXJ0YUZpbmFsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJQdWVydGFGaW5hbCgpIHtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDM3MCwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyBcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLnNldEFscGhhKDAuMCk7IFxyXG4gICAgICAgIGxldCBkZXNhY3RpdmFkbyA9IFtmYWxzZSwgZmFsc2VdOyAvLyBhcnJheSBwYXJhIGNvbnRyb2xhciBxdWUgYW1ib3MganVnYWRvcmVzIGhhbiBsbGVnYWRvIGEgbGEgcHVlcnRhIGZpbmFsXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUsIHRoaXMucHVlcnRhRmluYWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZS5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgZGVzYWN0aXZhZG9bMF0gPSB0cnVlOyAvLyBlbCBwZXJzb25hamUgeWEgaGEgZW50cmFkbyBwb3IgbGEgcHVlcnRhIHkgaGEgZGVzYXBhcmVjaWRvXHJcbiAgICAgICAgICAgIHRoaXMuZW50cmFyUHVlcnRhRmluYWwoZGVzYWN0aXZhZG8pO1xyXG4gICAgICAgICAgICBjb25zdCB3czEgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgICAgIGlmICh3czEpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3czEuaXNQbGF5aW5nKSB3czEuc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgdGhpcy5wdWVydGFGaW5hbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICBkZXNhY3RpdmFkb1sxXSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZW50cmFyUHVlcnRhRmluYWwoZGVzYWN0aXZhZG8pO1xyXG4gICAgICAgICAgICBjb25zdCB3czIgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgICAgIGlmICh3czIpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3czIuaXNQbGF5aW5nKSB3czIuc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsgIFxyXG4gICAgfSAgICAgICBcclxuXHJcbiAgICBlbnRyYXJQdWVydGFGaW5hbChkZXNhY3RpdmFkbykge1xyXG4gICAgICAgIGlmIChkZXNhY3RpdmFkb1swXSAmJiBkZXNhY3RpdmFkb1sxXSkgeyAvL2NhbWJpYXIgZGUgZXNjZW5hIHNvbG8gc2kgYW1ib3MganVnYWRvcmVzIGhhbiBsbGVnYWRvIGEgbGEgcHVlcnRhIGZpbmFsXHJcbiAgICAgICAgICAgIC8vIFBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gUGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBwYXJhciBjdWFscXVpZXIgaW5zdGFuY2lhIHBvciBjbGF2ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ3dhbGsnKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdiZ20nKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRGVjaXNpb25TY2VuZScsIHttb2RvOiAnbG9jYWwnfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgbGVmdE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMScsIDUwLCA0MDAsICdpZGxlX0F6dWwnKTtcclxuICAgICAgICBjb25zdCByaWdodE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMicsIDk1MCwgNDAwLCAnaWRsZV9Sb2pvJyk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBsZWZ0TWFnbyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHJpZ2h0TWFnbyk7XHJcblxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdXJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdTJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wOiAnU1BBQ0UnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnLFxyXG4gICAgICAgICAgICAgICAganVtcDogJ0VOVEVSJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG5cclxuICAgICAgICAvL3RoaXMuaW50cHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZzsgXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gSW5wdXRDb25maWcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAganVtcE9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5qdW1wXSksXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kR2FtZShpZCkge1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDI0MCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbiA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24uc2V0U2NhbGUoMC4xKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gobWFnbyA9PiB7XHJcbiAgICAgICAgICAgIG1hZ28uc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICAvLyBEZXRlbmVyIGxhIG3Dg8K6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20uc3RvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdGV4dG8gPSBpZCA9PT0gJ3BsYXllcjEnID8gJ0VsIGp1Z2Fkb3IgMVxcbiAgaGEgbXVlcnRvJyA6ICcgRWwganVnYWRvciAyXFxuICBoYSBtdWVydG8nO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNTAsIHRleHRvLCB7XHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyAjZmYwMDAwZmYnLFxyXG5cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnTWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMmZmODlmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z0xlZnQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBwbGF5ZXIxLnZpZGEtLTtcclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQuc2V0VGV4dChwbGF5ZXIxLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VsIGp1Z2Fkb3IgZGUgbGEgaXpxdWllcmRhIGhhIHJlY2liaWRvIGRhw7FvJyk7XHJcbiAgICAgICAgaWYgKHBsYXllcjEudmlkYSA8PSAwKSB0aGlzLmVuZEdhbWUoJ3BsYXllcjEnKTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgcGxheWVyMi52aWRhLS07XHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodC5zZXRUZXh0KHBsYXllcjIudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRWwganVnYWRvciBkZSBsYSBkZXJlY2hhIGhhIHJlY2liaWRvIGRhw7FvJyk7XHJcbiAgICAgICAgaWYgKHBsYXllcjIudmlkYSA8PSAwKSB0aGlzLmVuZEdhbWUoJ3BsYXllcjInKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZVN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdW1pbmcgR2FtZVNjZW5lIHdpdGggZGF0YTpcIiwgZGF0YSk7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wb2Npb25lcykge1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW8gPSBkYXRhLnBvY2lvbmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBJbnZlbnRhcmlvWyR7aW5kZXh9XTogJHtpdGVtfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdXNlU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICBuZXcgUGF1c2VHYW1lQ29tbWFuZCh0aGlzLCBuZXdQYXVzZVN0YXRlKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2hvdmVyJywgJy9zb3VuZHMvaG92ZXIubXAzJyk7XHJcbiAgICB9ICAgXHJcblxyXG4gICAgY3JlYXRlKGRhdGEpe1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMjAwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCwzNTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuYm90b24yID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDQwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYm90b24zID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMy5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjAwLCAnSnVlZ28gUGF1c2FkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2MHB4JywgXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjonIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bWVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzUwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VtZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBmZjg4ZmYnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiByZXN1bWVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgIHRoaXMuc2NlbmUuZ2V0KGRhdGEub3JpZ2luYWxTY2VuZSkucmVzdW1lKCk7IFxyXG4gICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0MDAsICdNZW7DuicsIHtcclxuICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzY4MzliM2ZmJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gU2kgdmVuaW1vcyBkZSBsYSBlc2NlbmEgb25saW5lLCBhdmlzYXIgYWwgc2Vydmlkb3IgcGFyYSBub3RpZmljYXIgZGVzY29uZXhpw7NuXHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5vcmlnaW5hbFNjZW5lID09PSAnR2FtZVNjZW5lTycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdHYW1lU2NlbmVPJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ1NjZW5lICYmIG9yaWdTY2VuZS53cyAmJiBvcmlnU2NlbmUud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnU2NlbmUud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdwbGF5ZXJEaXNjb25uZWN0ZWQnIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDZXJyYXIgbGEgY29uZXhpw7NuIGRlc3B1w6lzIGRlIHVuIGJyZXZlIHJldHJhc28gcGFyYSBhc2VndXJhciBlbnbDrW9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdHJ5IHsgb3JpZ1NjZW5lLndzLmNsb3NlKCk7IH0gY2F0Y2goZSl7IGNvbnNvbGUud2FybihlKTsgfSB9LCA1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGNhdGNoKGVycikgeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgIHRyeXt0aGlzLmdhbWUuc291bmQuc3RvcEJ5S2V5KCdiZ20nKTt9Y2F0Y2goZSl7Y29uc29sZS53YXJuKGUpO31cclxuXHJcbiAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgIFxyXG4gICAgICAgICBjb25zdCBjb250cm9sQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ0NvbnRyb2xlcycsIHtcclxuICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZWVmZmZmJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGNvbnRyb2xCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gUGFzYXIgbGEgZXNjZW5hIG9yaWdpbmFsIHBhcmEgcXVlIENvbnRyb2xlcyBwdWVkYSB2b2x2ZXIgY29ycmVjdGFtZW50ZSAoR2FtZVNjZW5lIG8gR2FtZVNjZW5lTylcclxuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDb250cm9sU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IGRhdGEgJiYgZGF0YS5vcmlnaW5hbFNjZW5lID8gZGF0YS5vcmlnaW5hbFNjZW5lIDogJ0dhbWVTY2VuZScgfSk7IFxyXG4gICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vJywgJy9pbWFnZW5lcy9wZXJnYW1pbm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMTIwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MzAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTtcclxuXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDM4MCwgJ3BlcmdhbWlubycpXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8xLnNldFNjYWxlKDIpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTIwLCAnRWwgRW5pZ21hIGRlIGxhXFxuVG9ycmUgRW5jYW50YWRhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzU2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjQ1LCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzUwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3ZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzMTAsICdQYXVsYSBPcnRpeiBGZXJuw6FuZGV6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM5MWZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzNTUsICdEYW5pZWwgQ29yYmFjaG8gQW5lcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmMTMyZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgNDAwLCAnQWxlamFuZHJvIEhlcm7DoW5kZXogUnVpeicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZDdhY2ZmZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnw4FuZ2VsIEJlcm3DumRleiBGYXJpw7FhcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZjZWFkZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICBjb25zdCBSZXR1cm5CdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTMwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmY4OGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBIaXN0b3JpYVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdIaXN0b3JpYVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUzMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMjAsICdFbCBFbmlnbWEgZGUgbGFcXG5Ub3JyZSBFbmNhbnRhZGEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwNzA3MDdmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtOCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNDAsICdIaXN0b3JpYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1MHB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnI2E3YTdhN2ZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzgwLCAnRGVzcHXDqXMgZGUgYcOxb3MgZGUgZW50cmVuYW1pZW50bywgcG9yIGZpbiBoYSBsbGVnYWRvIGVsIG1vbWVudG8gZW4gZWwgcXVlIG5hcXVlbGxvcyBtYWdvcyBwb3JcXG5maW4gaWJhbiBhIGNvbnNlZ3VpciBzZXIgbWFnb3MgZGUgdmVyZGFkLiBMbGV2YWJhbiBtdWNobyB0aWVtcG8gcHJlcGFyw6FuZG9zZSB5IGVzdHVkaWFuZG8gcGFyYVxcbmVzdGUgbW9tZW50bywgeSBwb3IgZmluIHZhbiBhIHJlY2liaXIgYXF1ZWwgZWxpeGlyIGRlc2VhZG8gcG9yIHRvZG8gbWFnbyxcXG7igJxlbCBlbGl4aXIgZGUgbGEgdmlkYSBldGVybmHigJ0uXFxuXFxuU2luIGVtYmFyZ28sIG5vIHNlcsOhIHNlbmNpbGxvLCBhw7puIGRlYmVyw6FuIGRlbW9zdHJhciBwb3Igw7psdGltYSB2ZXogcXVlIGVzdMOhbiBoZWNob3MgcGFyYSBvYnRlbmVyXFxuZXN0YSBncmFuIHZpcnR1ZC4gTGEgdHJhZGljacOzbiBjdWVudGEgcXVlIHBhcmEgY29uc2VndWlyIHNlciB1biB2ZXJkYWRlcm8gbWFnbyBzZXLDoSBuZWNlc2FyaW9cXG5jb25zZWd1aXIgcG9yIGVsbG9zIG1pc21vcyBlc3RlIGVsaXhpciBhZGVudHLDoW5kb3NlIGVuIGxhIFRvcnJlIEVuY2FudGFkYSwgZGVtb3N0cmFuZG8gcXVlIHNvblxcbm1lcmVjZWRvcmVzIGRlbCB0w610dWxvIGRlIG1hZ28gZXRlcm5vIHkgcXVlIHBvc2VlbiBsYXMgaGFiaWxpZGFkZXMgbmVjZXNhcmlhcy4gTGEgbcOhcyBpbXBvcnRhbnRlLFxcbmxhIGNvbGFib3JhY2nDs24sIHB1ZXN0byBxdWUgcG9yIHVubyBzb2xvIG5vIHNpZW1wcmUgc2UgcHVlZGUgbGxlZ2FyIGFsIGx1Z2FyIGRlc2VhZG8uIFxcblxcblBvciBlc3RlIG1vdGl2bywgbG9zIGrDs3ZlbmVzIGFwcmVuZGljZXMgcXVlIGRlc2VlbiBhc2NlbmRlciwgc2UgYWRlbnRyYXLDoW4gZW4gYXF1ZWxsYSB2aWVqYSB0b3JyZSxcXG4geSBhdHJhdmVzYXLDoW4sIHVuYSBhIHVuYSwgc3VzIHNhbGFzIGhhc3RhIGxsZWdhciBhcnJpYmEgZGVsIHRvZG8sIGTDs25kZSBzZSBlbmN1ZW50cmEgZWwgZWxpeGlyXFxucXVlIHRhbnRvIGRlc2Vhbi4gRW4gY2FkYSBzYWxhIHNlIGVuY29udHJhcsOhbiBjb24gbnVtZXJvc29zIG9ic3TDoWN1bG9zIHF1ZSBkZWJlcsOhbiBzb2JyZXBhc2FyIFxcbmRlbW9zdHJhbmRvIHN1cyBoYWJpbGlkYWRlcyBvYnRlbmlkYXMgZHVyYW50ZSB0b2RvcyBlc3RvcyBhw7FvcyBkZSBlc2Z1ZXJ6by4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIC8vZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuXHJcbiAgICAgICAgY29uc3QgUmV0dXJuQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUzMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMGZmODhmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNYWdvIH0gZnJvbSAnLi4vZW50aXRpZXMvTWFnbydcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmQvY29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE1vdmVNYWdvQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvTW92ZU1hZ29Db21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMaWJyZXJpYVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTGlicmVyaWFTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJlZFInLCAnL2ltYWdlbmVzL3BhcmVkWVRlY2hvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm9sYUNyaXN0YWxDb2xvcicsICcvaW1hZ2VuZXMvYm9sYUNyaXN0YWxDb2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVyaWFSJywgJy9pbWFnZW5lcy9lc3RhbnRlcmlhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhbnRhQ29sb3InLCAnL2ltYWdlbmVzL3BsYW50YUNvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBeicsICcvaW1hZ2VuZXMvcG9jaW9uQXp1bC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQW0nLCAnL2ltYWdlbmVzL3BvY2lvbmVzQW1hcmlsbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc04nLCAnL2ltYWdlbmVzL3BvY2lvbk5hcmFuamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1JvJywgJy9pbWFnZW5lcy9wb2Npb25Sb3NhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNNJywgJy9pbWFnZW5lcy9wb2Npb25Nb3JhZGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1YnLCAnL2ltYWdlbmVzL3BvY2lvblZlcmRlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVsYXNDb2xvcicsICcvaW1hZ2VuZXMvdmVsYXNDb2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xpYnJvc0NvbG9yJywgJy9pbWFnZW5lcy9saWJyb3NDb2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGUnLCAnL2ltYWdlbmVzL21hbm8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbnVsbDtcclxuICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgLy90aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kYXRvcztcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcblxyXG4gICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMgPSB7XHJcbiAgICAgICAgICAgIGJvbGFDcmlzdGFsOiBmYWxzZSxcclxuICAgICAgICAgICAgcGxhbnRhOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uQW06IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25OOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uTTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvblI6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25WOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uQXo6IGZhbHNlLFxyXG4gICAgICAgICAgICB2ZWxhczogZmFsc2UsXHJcbiAgICAgICAgICAgIGxpYnJvOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5tYWdvID0gdGhpcy5hZGQuaW1hZ2UoMTAwLCAxMDAsIFwiaWRsZVwiKTtcclxuICAgICAgICB0aGlzLm1hZ28uc2V0U2NhbGUoMS45KTtcclxuICAgICAgICB0aGlzLmNyZWFyRXNjZW5hcmlvKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgICAgICB0aGlzLmVzdGFibGVjZXJDb2xpc2lvbmVzKCk7XHJcbiAgICAgICAgdGhpcy5kYXRvcyA9IGRhdGE7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICAgICAgdGhpcy5sa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkwpO1xyXG4gICAgICAgIHRoaXMucWtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5RKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLndzICYmIHRoaXMuZGF0b3Mud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Mud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdhY3R1YWxpemFySW52ZW50YXJpbycsIGludmVudGFyaW86IHRoaXMuZGF0b3MucG9jaW9uZXN9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5kYXRvcy5vcmlnaW5hbFNjZW5lLCB7IHBvY2lvbmVzOiB0aGlzLmRhdG9zLnBvY2lvbmVzIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zY2VuZS5nZXQodGhpcy5kYXRvcy5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFiaXIgPSBmYWxzZTsgLy92b2x2ZXIgYSBwb25lciBhIGZhbHNlIHNpIG5vIGhhIGhhYmlkbyBvdmVybGFwXHJcbiAgICAgICAgaWYgKHRoaXMubGtleS5pc0Rvd24pIHRoaXMuYWJyaXIgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLnFrZXkuaXNEb3duKSB0aGlzLmFicmlyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZGRsZSA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5kb3duS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdzdG9wJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZU1hZ29Db21tYW5kKHBhZGRsZSwgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJFc2NlbmFyaW8oKSB7XHJcbiAgICAgICAgdGhpcy5wYXJlZCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCAyMDUsICdwYXJlZFInKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDQwLCAyNzAsICdlc3RhbnRlcmlhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDg1LCAyODAsICdib2xhQ3Jpc3RhbENvbG9yJyk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYW50YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDQwLCA0NTAsICdwbGFudGFDb2xvcicpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BbSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTMwLCAxNjUsICdwb2Npb25lc0FtJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BbS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BbS5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQW0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbk4gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDU5NSwgMTc1LCAncG9jaW9uZXNOJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25OLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbk4uc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvbk4uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbk0gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDI4MCwgMTY1LCAncG9jaW9uZXNNJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25NLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbk0uc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvbk0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvblIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQwNSwgMTY1LCAncG9jaW9uZXNSbycpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uUi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25SLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25SLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25WID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgzNDUsIDE3NSwgJ3BvY2lvbmVzVicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uVi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25WLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25WLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BeiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDcwLCAxNzAsICdwb2Npb25lc0F6Jyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25Bei5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25Bei5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQXouYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZlbGFzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgzNTAsIDI5MCwgJ3ZlbGFzQ29sb3InKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGlicm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDM3MCwgMzMsICdsaWJyb3NDb2xvcicpO1xyXG4gICAgICAgIHRoaXMubGlicm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlicm8uc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLmxpYnJvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZXN0YWJsZWNlckNvbGlzaW9uZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm9sYUNyaXN0YWwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMuYm9sYUNyaXN0YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5ib2xhQ3Jpc3RhbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzldID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBib2xhIGRlIGNyaXN0YWxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJCT0xBIENSSVNUQUwgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wbGFudGEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucGxhbnRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucGxhbnRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFudGEuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzEwXSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcGxhbnRhXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUExBTlRBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uQW0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uQW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25BbSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uQW0uc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzZdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gYW1hcmlsbGFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gQU1BUklMTEEgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25OLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbk4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25OID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25OLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s3XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIG5hcmFuamFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gTkFSQU5KQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvbk0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uTSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbk0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbk0uc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzJdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gbW9yYWRhXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIE1PUkFEQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvblIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uUikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvblIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvblIuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzRdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gcm9zYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBST1NBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uViwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25WKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uViA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uVi5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbM10gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiB2ZXJkZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBWRVJERSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvbkF6LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbkF6KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uQXogPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbkF6LnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s1XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIGF6dWxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gQVpVTCBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnZlbGFzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnZlbGFzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMudmVsYXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlbGFzLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s4XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGFzIHZlbGFzXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVkVMQVMgUkVDT0dJREFTXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMubGlicm8sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMubGlicm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5saWJybyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlicm8uc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzFdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsb3MgbGlicm9zXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTElCUk9TIFJFQ09HSURPU1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG5cclxuICAgICAgICBjb25zdCBsZWZ0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIxJywgNTAsIDMwMCwgJ2lkbGUnKTtcclxuICAgICAgICBsZWZ0TWFnby5zZXRTY2FsZSgwLjA4KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbGVmdE1hZ28pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnRE9XTicsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnTEVGVCcsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ1JJR0hUJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG5cclxuICAgICAgICAvL3RoaXMuaW50cHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZzsgXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gSW5wdXRDb25maWcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbmZpZyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udHJvbFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb250cm9sU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJnYW1pbm8nLCAnL2ltYWdlbmVzL3BlcmdhbWluby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTsgXHJcbiAgICB9ICBcclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMTIwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MzAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICAvLyB0aGlzLmJvdG9uMiA9IHRoaXMuYWRkLmltYWdlKDUwMCw0MDAsICdib3RvbicpXHJcbiAgICAgICAgLy8gdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzEgPSB0aGlzLmFkZC5pbWFnZSgyMjAsMzgwLCAncGVyZ2FtaW5vJylcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzEuc2V0U2NhbGUoMS4zLCAxLjgpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMiA9IHRoaXMuYWRkLmltYWdlKDUwMCwzODAsICdwZXJnYW1pbm8nKVxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMi5zZXRTY2FsZSgxLjMsMS44KTsgICAgICAgIFxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMyA9IHRoaXMuYWRkLmltYWdlKDc4MCwzODAsICdwZXJnYW1pbm8nKVxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMy5zZXRTY2FsZSgxLjMsMS44KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEyMCwgJ0VsIEVuaWdtYSBkZSBsYVxcblRvcnJlIEVuY2FudGFkYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1NnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC04KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI0MCwgJ0NvbnRyb2xlcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0NXB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2E3YTdhN2ZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIyMCwgMzEwLCAnSnVnYWRvciAxOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnIzliZTNmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCgyMzAsIDQwMCwgJ1ctQXJyaWJhXFxuIEEtSXpxdWllcmRhXFxuIFMtQWJham9cXG4gRC1EZXJlY2hhXFxuIFNQQUNFLVNhbHRhclxcbiBRLUludGVyYWN0dWFyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzEwLCAnSnVnYWRvciAyOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgOTksIDk5LCAxKScsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUyMCwgNDAwLCAnRmxlY2hhcy1BcnJpYmFcXG4gRmxlY2hhcy1JenF1aWVyZGFcXG4gRmxlY2hhcy1BYmFqb1xcbiBGbGVjaGFzLURlcmVjaGFcXG4gRU5URVItU2FsdGFyXFxuIEwtSW50ZXJhY3R1YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzUwLCAzMTAsICdPbmxpbmU6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3JnYmEoMTQxLCAxMTYsIDI1NSwgMSknLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg4MDAsIDQwMCwgJ0ZsZWNoYXMtQXJyaWJhXFxuIEZsZWNoYXMtSXpxdWllcmRhXFxuIEZsZWNoYXMtQWJham9cXG4gRmxlY2hhcy1EZXJlY2hhXFxuIFNQQUNFLVNhbHRhclxcbiBMLUludGVyYWN0dWFyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBSZXR1cm5CdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTMwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM0cHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmY4OGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZihkYXRhLm9yaWdpbmFsU2NlbmUgPT09ICdNZW51U2NlbmUnKXtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXQoZGF0YS5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlY2lzaW9uU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0RlY2lzaW9uU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvRCcsICcvaW1hZ2VuZXMvZWxlY2Npb24uanBnJyk7fSAgIFxyXG5cclxuICAgIGNyZWF0ZShkYXRhKXtcclxuICAgICAgICB0aGlzLmZvbmRvRCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvRCcpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9ELnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmZvbmRvRC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoMjgwLDQyMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjE1KTsgICBcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRBbHBoYSgwLjUpOyAgICAgXHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg3MzAsNDIwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuMTUpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldEFscGhhKDAuNSk7IFxyXG5cclxuICAgICAgICBpZiAoZGF0YS5tb2RvID09PSAnbG9jYWwnKSB0aGlzLnNlbGVjdG9yID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCAyKTtcclxuICAgICAgICBlbHNlIHRoaXMuc2VsZWN0b3IgPSBkYXRhLmVsZWNjaW9uO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RvciA9PT0gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdFbCBqdWdhZG9yIDEgaGEgcmVjb2dpZG8nLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSAncGxheWVyMSc7IFxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RvciA9PT0gMil7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdFbCBqdWdhZG9yIDIgaGEgcmVjb2dpZG8nLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSAncGxheWVyMic7XHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE1MCwgJ2VsIEVsaXhpciBkZSBsYSBWaWRhIEV0ZXJuYSwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzMjAsICdhaG9yYSBkZWJlcsOhIGVsZWdpcjonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0bjEgPSB0aGlzLmFkZC50ZXh0KDI4MCwgNDIwLCAnQ29tcGFydGlyIGVsIGVsaXhpcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidG4yID0gdGhpcy5hZGQudGV4dCg3MzAsIDQyMCwgJ0JlYmVyIGVsIGVsaXhpcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjUpO1xyXG5cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgaWYgKGRhdGEubW9kbyA9PT0gJ29ubGluZScpe1xyXG4gICAgICAgICAgICBjb25zdCBwdWVkZUVsZWdpciA9IHRoaXMuaWQgPT09IGRhdGEuanVnYWRvcjsgXHJcbiAgICAgICAgICAgIGlmKHB1ZWRlRWxlZ2lyKXtcclxuICAgICAgICAgICAgICAgIGJ0bjEuc2V0QWxwaGEoMSk7IFxyXG4gICAgICAgICAgICAgICAgYnRuMS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICBidG4xLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidG4xLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJ0bjEub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4xLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgICAgICBidG4xLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS53cyAmJiBkYXRhLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW52aWFuZG8gZmluYWxcIik7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6ICdlc2NlbmFGaW5hbCcsIGVzY2VuYTogM30pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidG4yLnNldEFscGhhKDEpXHJcbiAgICAgICAgICAgICAgICBidG4yLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgYnRuMi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBidG4yLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKTtcclxuICAgICAgICAgICAgICAgIGJ0bjIub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9yID09PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEud3MgJiYgZGF0YS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlYnZpYW5kbyBmaW5hbFwiKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6ICdlc2NlbmFGaW5hbCcsIGVzY2VuYTogMX0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdG9yID09PSAyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEud3MgJiYgZGF0YS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbnZpYW5kbyBmaW5hbFwiKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6ICdlc2NlbmFGaW5hbCcsIGVzY2VuYTogMn0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24xLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0QWxwaGEoMSk7ICBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEubW9kbyA9PT0gJ2xvY2FsJyl7XHJcbiAgICAgICAgICAgIGJ0bjEuc2V0QWxwaGEoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuMS5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4xLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbEJTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJ0bjIuc2V0QWxwaGEoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4yLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RvciA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdG9yID09PSAyKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0yU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90b24xLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICB0aGlzLmJvdG9uMi5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRmluYWxCU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcignRmluYWxCU2NlbmUnKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9DJywgJy9pbWFnZW5lcy9jb21wYXJ0aXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd2aWN0b3JpYScsICcvc291bmRzL3ZpY3RvcmlhLm1wMycpO1xyXG4gICAgfSAgIFxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIHRoaXMuZm9uZG9DID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsMzAwLCAnZm9uZG9DJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb0Muc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9DLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbcO6c2ljYSBkZSB2aWN0b3JpYVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgndmljdG9yaWEnLCB7IHZvbHVtZTogMC43IH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMTMpOyAgICAgICAgXHJcblxyXG5cclxuICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0xvcyBqdWdhZG9yZXMgaGFuIGRlY2lkaWRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTAwLCAnY29tcGFydGlyIGVsIEVsaXhpciBkZSBsYSBWaWRhIEV0ZXJuYSwgYWhvcmEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNTAsICdhbWJvcyB2aXZpcsOhbiBoYXN0YSBsYSBldGVybmlkYWQsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgJ3kgcG9kcsOhbiBhZHF1aXJpciB0b2RvcyBsb3MgY29ub2NpbWllbnRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgJ2V4aXN0ZW50ZXMuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsICdWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIHZpY3RvcmlhIGFudGVzIGRlIGNhbWJpYXIgZGUgZXNjZW5hXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ3ZpY3RvcmlhJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRmluYWxNMVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdGaW5hbE0xU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9fMU0nLCAnL2ltYWdlbmVzL3RyYWljaW9uX3JhbmFSb2phLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdkZXJyb3RhJywgJy9zb3VuZHMvZGVycm90YS5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKXtcclxuXHJcbiAgICAgICAgdGhpcy5mb25kb18xTSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvXzFNJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb18xTS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb18xTS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIG3DunNpY2EgZGUgZGVycm90YVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZGVycm90YScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xMyk7ICAgXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0VsIGp1Z2Fkb3IgMSBoYSBkZWNpZGlkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ25vIGNvbXBhcnRpciBlbCBFbGl4aXIgZGUgbGEgVmlkYSBFdGVybmEsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnYWhvcmEgZGViZSBlbmZyZW50YXIgbGFzIGNvbnNlY3VlbmNpYXMgZGUgc3UgZWxlY2Npw7NuIHkgdml2aXIgc29sbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE3NSwgJ2hhc3RhIGxhIGV0ZXJuaWRhZC4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ1ZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlbmVyIG3DunNpY2EgZGUgZGVycm90YSBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdkZXJyb3RhJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRmluYWxNMlNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdGaW5hbE0yU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb18yTScsICcvaW1hZ2VuZXMvdHJhaWNpb25fcmFuYUF6dWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdkZXJyb3RhJywgJy9zb3VuZHMvZGVycm90YS5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKXtcclxuXHJcbiAgICAgICAgdGhpcy5mb25kb18yTSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvXzJNJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb18yTS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb18yTS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIG3DunNpY2EgZGUgZGVycm90YVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZGVycm90YScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xMyk7ICAgXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0VsIGp1Z2Fkb3IgMiBoYSBkZWNpZGlkbycsIHtcclxuICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdubyBjb21wYXJ0aXIgZWwgRWxpeGlyIGRlIGxhIFZpZGEgRXRlcm5hLCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE1MCwgJ2Fob3JhIGRlYmUgZW5mcmVudGFyIGxhcyBjb25zZWN1ZW5jaWFzIGRlIHN1IGVsZWNjacOzbiB5IHZpdmlyIHNvbG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNzUsICdoYXN0YSBsYSBldGVybmlkYWQuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsICdWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIGRlcnJvdGEgYW50ZXMgZGUgY2FtYmlhciBkZSBlc2NlbmFcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdkZXJyb3RhJyk7XHJcbiAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuLyoqXHJcbiAqIEVzY2VuYSBxdWUgc2UgbXVlc3RyYSBjdWFuZG8gc2UgcGllcmRlIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogUGF1c2EgZWwgcmVzdG8gZGUgZXNjZW5hcyB5IGNvbXBydWViYSBjb250aW51YW1lbnRlIGhhc3RhIHF1ZSBzZSByZXN0YWJsZXpjYVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25Mb3N0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgIH0gIFxyXG5cclxuICAgICBcclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhLnByZXZpb3VzU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDE4MCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxODAsICdDT05FWEnDk04gUEVSRElEQScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjYzkwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzMjAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGFkb3IgZGUgaW50ZW50b3MgXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzkwLCAnSW50ZW50b3M6IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJlY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cclxuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dC5zZXRUZXh0KGBJbnRlbnRvczogJHt0aGlzLmF0dGVtcHRDb3VudH1gKTtcclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlY29ubmVjdGVkKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgaW50ZXJ2YWxcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhQ29uZXhpw7NuIHJlc3RhYmxlY2lkYSEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGFudGVyaW9yXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIiBpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgTWFnbyB9IGZyb20gJy4uL2VudGl0aWVzL01hZ28nXHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlTWFnb0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL01vdmVNYWdvQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTYWxhRGVFc3BlcmEgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoeyBrZXk6ICdTYWxhRGVFc3BlcmEnIH0pO1xyXG4gICAgdGhpcy53cyA9IG51bGw7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHByZWxvYWQoKSB7XHJcbiAgICAvL0VzY2VuYXJpb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyZWRSJywgJy9pbWFnZW5lcy9wYXJlZFlUZWNoby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3N1ZWxvUicsICcvaW1hZ2VuZXMvc3VlbG8ucG5nJyk7XHJcblxyXG4gICAgXHJcbiAgICAvLyBQZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlX0F6dWwnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzInLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzMnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzQnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzUnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzYnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzcnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb184LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzgnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vVGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbXBvRnVlcnphJywgJy9pbWFnZW5lcy9jYW1wb2RlZnVlcnphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfUm9qbycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzInLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18zJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzUnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb182JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzgnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fOC5wbmcnKTtcclxuXHJcbiAgICAvLyBCR01cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2JnbScsICcvc291bmRzL2JnbS5tcDMnKTtcclxuXHJcbiAgICAvLyBFZmVjdG9zIGRlIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2FsaycsICcvc291bmRzL3dhbGsubXAzJyk7XHJcbiAgfVxyXG5cclxuICByZXNldFN0YXRlKCkge1xyXG4gICAgdGhpcy5yb29tQ29kZSA9IG51bGw7XHJcbiAgICB0aGlzLnJvb21JZCA9IG51bGw7XHJcbiAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICBcclxuXHJcbiAgICBpZih0aGlzLnJvb21Db2RlVGV4dCAmJiB0aGlzLnJvb21Db2RlVGV4dC5hY3RpdmUpe1xyXG4gICAgICB0aGlzLnJvb21Db2RlVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLnN0YXR1c1RleHQgJiYgdGhpcy5zdGF0dXNUZXh0LmFjdGl2ZSl7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLmNvZGVJbnB1dCAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuY29kZUlucHV0KSl7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0KCl7XHJcbiAgICB0aGlzLndhbGtTb3VuZHMgPSBuZXcgTWFwKCk7IC8vIE1hcCBwYXJhIGd1YXJkYXIgZWwgc29uaWRvIGRlIGNhZGEganVnYWRvclxyXG5cclxuICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTsgLy8gTWFwIHBhcmEgZ3VhcmRhciBsb3MganVnYWRvcmVzIGVuIGxhIGVzY2VuYVxyXG4gICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgIHRoaXMuYmdtID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLnJvb21Db2RlID0gbnVsbDtcclxuICAgIHRoaXMucm9vbUlkID0gbnVsbDtcclxuICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgY3JlYXRlKCl7XHJcbiAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgIGtleTogJ2FuZGFyX21hZ29fQXp1bCcsXHJcbiAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgeyBrZXk6ICdpZGxlX0F6dWwnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8yJyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMycgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzQnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF81JyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNicgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzcnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF84JyB9XHJcbiAgICAgIF0sXHJcbiAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgIHJlcGVhdDogLTFcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyBDcmVhciB1biBzb25pZG8gZGUgcGFzb3MgcGFyYSBjYWRhIGp1Z2Fkb3JcclxuICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjEnLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG4gICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMicsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcblxyXG4gICAgLy8gUGFyYXIgcGFzb3MgY3VhbmRvIGxhIGVzY2VuYSBzZSBwYXVzZSAoZWouIFBhdXNlU2NlbmUpIHkgbGltcGlhciBzb25pZG9zIGFsIHNodXRkb3duXHJcbiAgICB0aGlzLmV2ZW50cy5vbigncGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4geyB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH0gfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8gQWwgcmVzdW1lIG5vIHNlIHJlcHJvZHVjZSBhdXRvbcOhdGljYW1lbnRlOiBlbCB1cGRhdGUoKSByZWFudWRhcsOhIHBhc29zIHNpIHNlIHB1bHNhIG1vdmVyXHJcbiAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgIC8vIG5hZGEgZXNwZWNpYWw6IHVwZGF0ZSgpIHZvbHZlcsOhIGEgcmVwcm9kdWNpciBjdWFuZG8gZGV0ZWN0ZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmICF0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBBc2VndXJhciBsaW1waWV6YSBjdWFuZG8gbGEgZXNjZW5hIHNlIGNpZXJyZSBkZWZpbml0aXZhbWVudGVcclxuICAgIHRoaXMuZXZlbnRzLm9uY2UoJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIC8vIHBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICBpZih0aGlzLmJnbSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnbS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Y2F0Y2ggKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLmNsZWFyKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmNyZWFyRXNjZW5hcmlvKCk7XHJcbiAgICB0aGlzLmNyZWFyQmFycmVyYUludmlzaWJsZSgpO1xyXG4gICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgIHRoaXMuZXN0YWJsZWNlckNvbGlzaW9uZXMoKTtcclxuXHJcbiAgICAvLyBTdG9wIG1lbnUgbXVzaWMgYW5kIHBsYXkgYmFja2dyb3VuZCBtdXNpY1xyXG4gICAgdGhpcy5nYW1lLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpO1xyXG4gICAgdGhpcy5iZ20gPSB0aGlzLnNvdW5kLmFkZCgnYmdtJywgeyB2b2x1bWU6IDAuNywgbG9vcDogdHJ1ZSB9KTtcclxuICAgIHRoaXMuYmdtLnBsYXkoKTtcclxuXHJcbiAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlclxyXG4gICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcclxuICAgIGNvbnNvbGUubG9nKFwiY29kaWdvOlwiLCB0aGlzLnJvb21Db2RlKTtcclxuICAgIHRoaXMuY3JlYXJJbnRlcmZheigpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXJJbnRlcmZheigpe1xyXG4gICAgLy8gQXF1w60gcHVlZGVzIGNyZWFyIGxvcyBlbGVtZW50b3MgZGUgbGEgaW50ZXJmYXogZGUgdXN1YXJpbyBuZWNlc2FyaW9zXHJcblxyXG4gICAgLyp0aGlzLmFkZC50ZXh0KDUwMCwgMzUwLCAnRXNwZXJhbmRvIGEgb3Ryb3MganVnYWRvcmVzLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTsqL1xyXG5cclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgdGhpcy5wZXJnYW1pbm8gPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIDEwMCwgJ3BlcmdhbWlub1RpdHVsbycpXHJcbiAgICB0aGlzLnBlcmdhbWluby5zZXRTY2FsZSgwLjI1LCAwLjIwKTtcclxuXHJcbiAgICAvLyBUaXRsZVxyXG4gICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTAwLCAnT25saW5lIE11bHRpcGxheWVyJywge1xyXG4gICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gdGhpcy50aXR1bG9Ub3JyZSA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxNDAsICdUdSB0b3JyZTogJywge1xyXG4gICAgLy8gICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgLy8gICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgIC8vICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgLy8gfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgdGhpcy5yb29tQ29kZVRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTUwLCAnJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vID09PT09PT09PT09PSBDUkVBUiBTQUxBIFBSSVZBREEgPT09PT09PT09PT09XHJcblxyXG4gICAgdGhpcy50aXR1bG9DcmVhclNhbGEgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMzAwLCAnQ3JlYXIgdG9ycmUnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICB0aGlzLmJvdG9uQ3JlYXJTYWxhID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCAzNDAsICdib3RvbicpO1xyXG4gICAgdGhpcy5ib3RvbkNyZWFyU2FsYS5zZXRTY2FsZSgwLjA1LCAwLjEpO1xyXG5cclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAzNDAsICdDcmVhcicsIHtcclxuICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLmNyZWFyU2FsYVRleHQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0U3R5bGUoeyBmaWxsOiAnI2ZmMDAwMCcgfSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdGhpcy5jcmVhclNhbGFUZXh0LnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLmNyZWFyU2FsYSgpfSk7XHJcblxyXG4gICAgLy8gPT09PT09PT09PT09IFVOSVJURSBBIExBIENPTEEgKFNBTEEgQUxFQVRPUklBKSA9PT09PT09PT09PT1cclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvbGEgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMjAwLCAnw5puZXRlIGEgdW5hIHRvcnJlLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy9ib3RvbiB1bmlyc2UgYSBsYSBjb2xhXHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29sYSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMjQwLCAnYm90b24nKTtcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhLnNldFNjYWxlKDAuMDUsIDAuMSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAyNDAsICdUb3JyZScsIHtcclxuICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudW5pcnNlQ29sYVRleHQuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnJlc2V0U3RhdGUoKTtcclxuICAgICAgdGhpcy51bmlyc2VDb2xhKCl9KTtcclxuXHJcbiAgICAvKnRoaXMuZXN0YWRvQ29sYVRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiAtIDUwLCAnQ29uZWN0YW5kbyBhbCBzZXJ2aWRvci4uLicsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpOyovXHJcblxyXG4gICAgLy8gPT09PT09PT09PT09IFVOSVJURSBBIFVOQSBTQUxBIChDw5NESUdPKSA9PT09PT09PT09PT0gXHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2RpZ28gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNDAwLCAnTyDDum5ldGUgY29uIGPDs2RpZ28nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZUNvZGVJbnB1dCh3aWR0aC8yIC0gODAsIDQ0MCk7XHJcblxyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnbyA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiArIDExMCw0NDAsICdib3RvbicpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnby5zZXRTY2FsZSgwLjA1LCAwLjEpO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyICsgMTEwLCA0NDAsICdVbmlyc2UnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pOyBcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAvL3RoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnVuaXJzZVNhbGEoKX0pO1xyXG5cclxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyLCAnJywge1xyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmYwMDAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgIFxyXG4gICAgY29uc3QgYm90b25Wb2x2ZXIgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aC8yLCA1MjAsICdib3RvbicpO1xyXG4gICAgYm90b25Wb2x2ZXIuc2V0U2NhbGUoMC4wNSwgMC4xKTtcclxuXHJcbiAgICBjb25zdCB2b2x2ZXJCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTIwLCAnVm9sdmVyJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgIHZvbHZlckJ1dHRvbi5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdm9sdmVyQnV0dG9uLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB2b2x2ZXJCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4geyB7XHJcbiAgICAvLyAgIGlmKCF0aGlzLnRpdHVsb0NvbGEudmlzaWJsZSl7XHJcbiAgICAvLyAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAvLyAgICAgdGhpcy5tb3N0cmFyQm90b25lcygpO1xyXG4gICAgLy8gICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgIC8vICAgfSBlbHNlIHtcclxuICAgICAgICBcclxuICAgIC8vICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAvLyAgIGlmKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZyl7XHJcbiAgICAvLyAgICAgdGhpcy5iZ20uc3RvcCgpO1xyXG4gICAgLy8gICB9IFxyXG4gICAgLy8gICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTt9XHJcblxyXG4gICAgLy8gfX0pO1xyXG5cclxuICAgIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2h1dGRvd24oKTtcclxuICAgICAgaWYodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKXtcclxuICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgIH1cclxuICAgICAgLy90aGlzLnJlc2V0U3RhdGUoKTtcclxuICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUNvZGVJbnB1dCh4LCB5KSB7XHJcbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgaW5wdXRFbGVtZW50LnR5cGUgPSAndGV4dCc7XHJcbiAgICBpbnB1dEVsZW1lbnQuaWQgPSAncm9vbUNvZGVJbnB1dCc7XHJcbiAgICBpbnB1dEVsZW1lbnQucGxhY2Vob2xkZXIgPSAnQ8OzZGlnbyBkZSBzYWxhJztcclxuICAgIGlucHV0RWxlbWVudC5tYXhMZW5ndGggPSA2O1xyXG4gICAgaW5wdXRFbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgd2lkdGg6IDIwMHB4O1xyXG4gICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBmb250LWZhbWlseTogVGFnZXNzY2hyaWZ0LCBhcmlhbDtcclxuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgICAgYm9yZGVyOiAzcHggc29saWQgI2ZmZmZmZjtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjIyMjtcclxuICAgICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgei1pbmRleDogOTk5OTtgO1xyXG5cclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIC8vIFVzZSB0aGUgZWxlbWVudCByZWZlcmVuY2UgZGlyZWN0bHkgdG8gYXZvaWQgdHlwaW5nIGlzc3VlcyBvbiBFdmVudFRhcmdldFxyXG4gICAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IGlucHV0RWxlbWVudC52YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICB0aGlzLnVuaXJzZVNhbGEoKTtcclxuICAgICAgICB9IFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXRFbGVtZW50KTtcclxuXHJcbiAgICAgIC8vIFBvc2l0aW9uIHJlbGF0aXZlIHRvIGNhbnZhcyB0byBhdm9pZCBwYWdlIG9mZnNldHNcclxuICAgICAgY29uc3QgaW5wdXRXaWR0aCA9IDIwMDtcclxuICAgICAgY29uc3QgaW5wdXRIZWlnaHQgPSA0MDtcclxuICAgICAgY29uc3QgcG9zaXRpb25JbnB1dCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5nYW1lLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuc3R5bGUubGVmdCA9IGAke01hdGgucm91bmQocmVjdC5sZWZ0ICsgeCAtIGlucHV0V2lkdGggLyAyKX1weGA7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnN0eWxlLnRvcCA9IGAke01hdGgucm91bmQocmVjdC50b3AgKyB5IC0gaW5wdXRIZWlnaHQgLyAyKX1weGA7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBwb3NpdGlvbklucHV0KCk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBwb3NpdGlvbklucHV0KTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHBvc2l0aW9uSW5wdXQpO1xyXG5cclxuICAgICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBwb3NpdGlvbklucHV0KTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5jb2RlSW5wdXQgPSBpbnB1dEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3F1ZXVlU3RhdHVzJzpcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSnVnYWRvcmVzIGVuIGNvbGE6ICR7ZGF0YS5wb3NpdGlvbn0vMmApO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAncm9vbUluZm8nOlxyXG4gICAgICAgIC8vIFNob3cgcm9vbSBjb2RlIHRvIHRoZSBjcmVhdG9yXHJcbiAgICAgICAgaWYgKGRhdGEuY29kZSkge1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZSA9IGRhdGEuY29kZTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoYFR1IHRvcnJlOiAke2RhdGEuY29kZX1gKTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldENvbG9yKCcjZmZmZmZmJyk7XHJcbiAgICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoYFNhbGEgY3JlYWRhOiAke2RhdGEuY29kZX1gKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2pvaW5Sb29tUmVzdWx0JzpcclxuICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlID0gZGF0YS5jb2RlO1xyXG4gICAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoZGF0YS5jb2RlKTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldENvbG9yKCcjZmZmZmZmJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnVW5pZG8gYSBsYSBzYWxhLicpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgdGhpcy5tb3N0cmFyQm90b25lcygpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoZGF0YS5tZXNzYWdlIHx8ICdObyBzZSBwdWRvIHVuaXIgYSBsYSBzYWxhLicpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnc3RhcnRHYW1lJzpcclxuICAgICAgY2FzZSAnZ2FtZVN0YXJ0JzpcclxuICAgICAgICAvLyBQcmV2ZW5pciBldmVudG9zIGR1cGxpY2Fkb3NcclxuICAgICAgICBpZiAodGhpcy5nYW1lU3RhcnRlZCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChkYXRhLmNvZGUpIHtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGUgPSBkYXRhLmNvZGU7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlVGV4dC5zZXRUZXh0KGBUb3JyZTogJHtkYXRhLmNvZGV9YCk7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlVGV4dC5zZXRDb2xvcignI2ZmZmZmZicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFQYXJ0aWRhIGluaWNpYW5kbyEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1BhcnRpZGEgaW5pY2lhbmRvIScsIGRhdGEpO1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSl7XHJcbiAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgICB0aGlzLmJnbS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRyYW5zaWNpb24gYSBsYSBlc2NlbmEgZGVsIGp1ZWdvXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lTycsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCB8fCB0aGlzLnJvb21JZCxcclxuICAgICAgICAgIGluaXRpYWxCYWxsOiBkYXRhLmJhbGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2Vycm9yJzpcclxuICAgICAgICB0aGlzLnJlc2V0U3RhdGUoKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGRhdGEubWVzc2FnZSB8fCAnRXJyb3IgZGVsIHNlcnZpZG9yLicpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICB0aGlzLm1vc3RyYXJCb3RvbmVzKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhclNhbGEoKXtcclxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgaWYodGhpcy5yb29tQ29kZSl7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ1lhIGhhcyBjcmVhZG8gdW5hIHNhbGEuJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnY3JlYXRlUm9vbScgfSkpO1xyXG5cclxuICAgICAgdGhpcy5vY3VsdGFyQm90b25lcygpO1xyXG5cclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0NyZWFuZG8gc2FsYS4uLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZmZmMDAnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdObyBjb25lY3RhZG8gYWwgc2Vydmlkb3IuIEVycm9yIGRlIGNvbmV4dGnDs24uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdW5pcnNlQ29sYSgpIHtcclxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2pvaW5RdWV1ZScgfSkpO1xyXG5cclxuICAgICAgdGhpcy5vY3VsdGFyQm90b25lcygpO1xyXG5cclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0J1c2NhbmRvIHBhcnRpZGEuLi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnTm8gY29uZWN0YWRvIGFsIHNlcnZpZG9yLiBFcnJvciBkZSBjb25leHRpw7NuLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9jdWx0YXJCb3RvbmVzKCkge1xyXG4gICAgdGhpcy50aXR1bG9DcmVhclNhbGEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLmJvdG9uQ3JlYXJTYWxhLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0LmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMudGl0dWxvQ29sYS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcblxyXG5cclxuICAgIHRoaXMudGl0dWxvQ29kaWdvLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy5jb2RlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2RpZ28uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgaWYodGhpcy5jb2RlSW5wdXQpe1xyXG4gICAgICB0aGlzLmNvZGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbW9zdHJhckJvdG9uZXMoKSB7XHJcbiAgICB0aGlzLnRpdHVsb0NyZWFyU2FsYS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy5ib3RvbkNyZWFyU2FsYS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvbGEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2RpZ28uc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuY29kZUlucHV0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnby5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBpZih0aGlzLmNvZGVJbnB1dCl7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdW5pcnNlU2FsYSgpIHtcclxuICAgIGNvbnN0IGNvZGUgPSB0aGlzLmNvZGVJbnB1dC52YWx1ZS50cmltKCkudG9VcHBlckNhc2UoKTtcclxuICAgIGlmKCFjb2RlKXtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ1BvciBmYXZvciwgaW50cm9kdWNlIHVuIGPDs2RpZ28gZGUgc2FsYS4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZihjb2RlLmxlbmd0aCAhPT0gNil7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdFbCBjw7NkaWdvIGRlIHNhbGEgZGViZSB0ZW5lciA2IGNhcmFjdGVyZXMuJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblJvb20nLCBjb2RlOiBjb2RlIH0pKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0ludGVudGFuZG8gdW5pcnNlIGEgbGEgc2FsYS4uLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZmZmMDAnKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnTm8gY29uZWN0YWRvIGFsIHNlcnZpZG9yLiBFcnJvciBkZSBjb25leHRpw7NuLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcbiAgdXBkYXRlKCl7XHJcbiAgICB0aGlzLmlucHV0TWFwcGluZ3MuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgY29uc3QgbWFnbyA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgICBsZXQgc2FsdG8gPSBmYWxzZTtcclxuICAgICAgY29uc3Qgd2Fsa1NvdW5kID0gdGhpcy53YWxrU291bmRzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgbGV0IGlzTW92aW5nID0gZmFsc2U7XHJcbiAgICAgIGlmIChtYXBwaW5nLnVwS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5kb3duS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLnNwcml0ZS5mbGlwWCA9IGZhbHNlO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAnc3RvcCc7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbl9wYXJhcigpO1xyXG5cclxuICAgICAgICAgIGlmICh3YWxrU291bmQgJiYgd2Fsa1NvdW5kLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgIHdhbGtTb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc01vdmluZyAmJiB3YWxrU291bmQgJiYgIXdhbGtTb3VuZC5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgIHdhbGtTb3VuZC5wbGF5KCk7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVNYWdvQ29tbWFuZChtYWdvLCBkaXJlY3Rpb24sIHNhbHRvKTtcclxuICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcbiAgICB9KTtcclxuXHJcbiB9XHJcblxyXG5cclxuICBjcmVhckVzY2VuYXJpbygpIHtcclxuICAgICAgICB0aGlzLnN1ZWxvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQ3MiwgJ3N1ZWxvUicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGFyZWQgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgMjA1LCAncGFyZWRSJyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnBhcmVkLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzMTAsICdjYW1wb0Z1ZXJ6YScpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJCYXJyZXJhSW52aXNpYmxlKCkge1xyXG4gICAgICAgIC8vIENyZWFyIHVuYSBiYXJyZXJhIGludmlzaWJsZSBxdWUgZXZpdGEgcXVlIHN1YmEgaGFjaWEgYXJyaWJhIChwZXJvIHB1ZWRhIGFuZGFyIGxpYnJlbWVudGUgcG9yIGVsIHN1ZWxvKVxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljSW1hZ2UoNTAwLCAxMDUsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRTaXplKDEwMDAsIDUwMCk7IFxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuYm9keS5zZXRTaXplKDEwMDAsIDUwMCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVzdGFibGVjZXJDb2xpc2lvbmVzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBCYXJyZXJhIGludmlzaWJsZSBwYXJhIHBlcm1pdGlyIGFyZWEgZGUgc3VlbG8gZG9uZGUgc2UgZGVzcGxhY2VuIGxpYnJlbWVudGUsIHkgYXJlYSBkZSBzYWx0byBwYXJhIHN1YmlyIHBvciBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICAgICAgLy8gQmFycmVyYSBpbnZpc2libGUgcGFyYSBwZXJtaXRpciBhcmVhIGRlIHN1ZWxvIGRvbmRlIHNlIGRlc3BsYWNlbiBsaWJyZW1lbnRlLCB5IGFyZWEgZGUgc2FsdG8gcGFyYSBzdWJpciBwb3IgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgICAgICBjb25zdCBsZWZ0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIxJywgNTAsIDQwMCwgJ2lkbGVfQXp1bCcpO1xyXG4gICAgICAgICAgICAvLyBjb25zdCByaWdodE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMicsIDk1MCwgNDAwLCAnaWRsZV9BenVsJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIGxlZnRNYWdvKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHJpZ2h0TWFnbyk7XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgICAgICBkb3duS2V5OiAnRE9XTicsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1bXA6ICdTUEFDRSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICB1cEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGRvd25LZXk6ICdTJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBqdW1wOiAnRU5URVInXHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIF1cclxuICAgIFxyXG4gICAgICAgICAgICAvL3RoaXMuaW50cHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZzsgXHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAgZG93bktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5kb3duS2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgICAgICBqdW1wT2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmp1bXBdKSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZShkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bWluZyBHYW1lU2NlbmUgd2l0aCBkYXRhOlwiLCBkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnBvY2lvbmVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IGRhdGEucG9jaW9uZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBJbnZlbnRhcmlvWyR7aW5kZXh9XTogJHtpdGVtfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RUb1NlcnZlcigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlciAoc2FtZSBob3N0IGFzIHdlYiBzZXJ2ZXIpXHJcblxyXG4gICAgICBpZih0aGlzLndzKXtcclxuICAgICAgICBpZih0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOIHx8IHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpe1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBhbHJlYWR5IGNvbm5lY3RlZCBvciBjb25uZWN0aW5nJyk7XHJcbiAgICAgICAgICB0aGlzLndzLm9ub3BlbiA9IG51bGw7XHJcbiAgICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IG51bGw7XHJcbiAgICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gbnVsbDtcclxuICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53cyA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fS93c2A7XHJcblxyXG4gICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XHJcblxyXG4gICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIFdlYlNvY2tldCBzZXJ2ZXInKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29uZWN0YWRvIGFsIHNlcnZpZG9yLicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEpvaW4gbWF0Y2htYWtpbmcgcXVldWVcclxuICAgICAgICAvL3RoaXMuLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblF1ZXVlJyB9KSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBlcnJvciEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuaXNBY3RpdmUoJ1NhbGFEZUVzcGVyYScpKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBsb3N0IScpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBzZXJ2ZXI6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRmFpbGVkIHRvIGNvbm5lY3QhJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3Mpe1xyXG4gICAgICB0aGlzLndzLm9ub3BlbiA9IG51bGw7XHJcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gbnVsbDtcclxuICAgICAgdGhpcy53cy5vbmVycm9yID0gbnVsbDtcclxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gbnVsbDtcclxuICAgICAgaWYodGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTil7XHJcbiAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2xlYXZlUXVldWUnIH0pKTtcclxuICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy53cyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5jb2RlSW5wdXQgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLmNvZGVJbnB1dCkpe1xyXG4gICAgICB0aGlzLmNvZGVJbnB1dC5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5jb2RlSW5wdXQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuXHJcbiAgc2h1dGRvd24oKSB7XHJcbiAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICB9XHJcblxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNYWdvIH0gZnJvbSAnLi4vZW50aXRpZXMvTWFnbydcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmQvY29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE1vdmVNYWdvQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvTW92ZU1hZ29Db21tYW5kJztcclxuaW1wb3J0IHsgUGF1c2VHYW1lQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvUGF1c2VHYW1lQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lTyBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZU8nKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIEVzY2VtbmFyaW8geSBvYmpldG9zIFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyZWRSJywgJy9pbWFnZW5lcy9wYXJlZFlUZWNoby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3N1ZWxvUicsICcvaW1hZ2VuZXMvc3VlbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib2xhQ3Jpc3RhbFInLCAnL2ltYWdlbmVzL2JvbGFDcmlzdGFsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FsZGVyb1InLCAnL2ltYWdlbmVzL2NhbGRlcm9Db2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbXBvRnVlcnphUicsICcvaW1hZ2VuZXMvY2FtcG9kZWZ1ZXJ6YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvZnJlUicsICcvaW1hZ2VuZXMvY29mcmUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb2ZyZUFiaWVydG9SJywgJy9pbWFnZW5lcy9jb2ZyZUFiaWVydG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlcmlhUicsICcvaW1hZ2VuZXMvZXN0YW50ZXJpYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xsYXZlUicsICcvaW1hZ2VuZXMvbGxhdmUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJnYW1pbm9SJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9Db2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYW50YVInLCAnL2ltYWdlbmVzL3BsYW50YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzUicsICcvaW1hZ2VuZXMvcG9jaW9uZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxhc1InLCAnL2ltYWdlbmVzL3ZlbGFzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0YW50ZVInLCAnL2ltYWdlbmVzL2VzdGFudGUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsaWJyb3NSJywgJy9pbWFnZW5lcy9saWJyb3MucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZSJywgJy9pbWFnZW5lcy9ib3RvblZhY2lvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DUicsICcvaW1hZ2VuZXMvYm90b25Db21wbGV0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdHJlbGxhUicsICcvaW1hZ2VuZXMvZXN0cmVsbGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0F6JywgJy9pbWFnZW5lcy9wb2Npb25BenVsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBbScsICcvaW1hZ2VuZXMvcG9jaW9uZXNBbWFyaWxsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTicsICcvaW1hZ2VuZXMvcG9jaW9uTmFyYW5qYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzUm8nLCAnL2ltYWdlbmVzL3BvY2lvblJvc2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc00nLCAnL2ltYWdlbmVzL3BvY2lvbk1vcmFkYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzVicsICcvaW1hZ2VuZXMvcG9jaW9uVmVyZGUucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfQXp1bCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNScsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzgucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfOCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlX1Jvam8nLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18yJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzQnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb181JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzcnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb184JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzgucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEludGVyZmF6IE11ZXJ0ZVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQkdNXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdiZ20nLCAnL3NvdW5kcy9iZ20ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb3MgZGUgZWZlY3Rvc1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYWJyaXJDb2ZyZScsICcvc291bmRzL2NoZXN0X29wZW4ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdyZWNvZ2VyUG9jaW9uJywgJy9zb3VuZHMvYm90ZWxsYXMubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdyZWNvZ2VyTGxhdmUnLCAnL3NvdW5kcy9sbGF2ZS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGsnLCAnL3NvdW5kcy93YWxrLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZXhwbG9zaW9uJywgJy9zb3VuZHMvZXhwbG9zaW9uLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncHVlcnRhJywgJy9zb3VuZHMvcHVlcnRhLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygndHJpZ2dlcicsICcvc291bmRzL3RyaWdnZXIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwZXF1ZcOxbycsICcvc291bmRzL3BlcXVlw7FvLm1wMycpO1xyXG5cclxuICAgICAgICAvLyBJbnRlcmZhelxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7IFxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sUHVsc2FkYSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLmNvZnJlQWJpZXJ0byA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcyA9IG5ldyBNYXAoKTsgLy8gTWFwIHBhcmEgZ3VhcmRhciBlbCBzb25pZG8gZGUgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgLy8gdGhpcy52aXNpdExpYnJlcmlhID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEFycmF5IGRlIGJvb2xlYW5vcyBxdWUgcmVwcmVzZW50YSBxdWUgb2JqZXRvcyBoYW4gcmVjb2dpZG8gZW50cmUgYW1ib3MganVnYWRvcmVzXHJcbiAgICAgICAgLy8gTG9zIG9iamV0b3Mgc29uOiAwLWxsYXZlLCAxLWxpYnJvcywgMi0gcG9jaW9uIG1vcmFkYSwgMy0gcG9jaW9uIHZlcmRlLCA0LSBwb2Npb24gcm9zYSwgNS0gcG9jaW9uIGF6dWwsIDYtIHBvY2lvbiBhbWFyaWxsYSwgNy0gcG9jaW9uIG5hcmFuamEsIDgtIHZlbGFzLCA5LSBib2xhIGRlIGNyaXN0YWwsIDEwLSBwbGFudGEsIDExLSBlc3RyZWxsYSAxLCAxMi0gZXN0cmVsbGEgMlxyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XHJcbiAgICBcclxuICAgICAgICB0aGlzLndzID0gZGF0YS53cztcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGU7IC8vICdwbGF5ZXIxJyBvciAncGxheWVyMicgICAgXHJcbiAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubE9wb25lbnRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kZXNhY3RpdmFkbyA9IFtmYWxzZSwgZmFsc2VdOyAvLyBTYWJlciBxdWUganVnYWRvciBoYSBwYXNhZG8gcG9yIGxhIHB1ZXJ0YSBmaW5hbFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdhbmRhcl9tYWdvX0F6dWwnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnaWRsZV9BenVsJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF80JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzYnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF83JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfOCcgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnYW5kYXJfbWFnb19Sb2pvJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2lkbGVfUm9qbycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzInIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb18zJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzUnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb182JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzgnIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJnbSA9IHRoaXMuc291bmQuYWRkKCdiZ20nLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBsYXkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWFyIHVuIHNvbmlkbyBkZSBwYXNvcyBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjEnLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjInLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG5cclxuICAgICAgICAvLyBQYXJhciBwYXNvcyBjdWFuZG8gbGEgZXNjZW5hIHNlIHBhdXNlIChlai4gUGF1c2VTY2VuZSkgeSBsaW1waWFyIHNvbmlkb3MgYWwgc2h1dGRvd25cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHsgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFsIHJlc3VtZSBubyBzZSByZXByb2R1Y2UgYXV0b23DoXRpY2FtZW50ZTogZWwgdXBkYXRlKCkgcmVhbnVkYXLDoSBwYXNvcyBzaSBzZSBwdWxzYSBtb3ZlclxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIG5hZGEgZXNwZWNpYWw6IHVwZGF0ZSgpIHZvbHZlcsOhIGEgcmVwcm9kdWNpciBjdWFuZG8gZGV0ZWN0ZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQXNlZ3VyYXIgbGltcGllemEgY3VhbmRvIGxhIGVzY2VuYSBzZSBjaWVycmUgZGVmaW5pdGl2YW1lbnRlXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gcGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBDcmVhciBlc2NlbmFyaW9cclxuICAgICAgICB0aGlzLmNyZWFyRXNjZW5hcmlvKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhclBsYXRhZm9ybWFzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhckJhcnJlcmFJbnZpc2libGUoKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMuZXN0YWJsZWNlckNvbGlzaW9uZXMoKTtcclxuICAgICAgICB0aGlzLmludmVudGFyaW9FblBhbnRhbGxhKCk7IFxyXG5cclxuICAgICAgICAvL01vc3RyYXIgdmlkYXNcclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQgPSB0aGlzLmFkZC50ZXh0KDUwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodCA9IHRoaXMuYWRkLnRleHQoOTAwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTW9zdGFyIHF1ZSBqdWdhZG9yIGVzIGNhZGEgdW5vXHJcbiAgICAgICAgY29uc3QgbG9jYWxQbGF5ZXJUZXh0ID0gdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyAnRXJlcyBlbCBKdWdhZG9yIDEgKEF6dWwpJyA6ICdFcmVzIGVsIEp1Z2Fkb3IgMiAoUm9qbyknO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA0MCwgbG9jYWxQbGF5ZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpOyAgXHJcblxyXG5cclxuICAgICAgICAvLyBBc2lnbmFyIGEgY2FkYSBqdWdhZG9yIHNpIGVzIGxvY2FsIG8gcmVtb3RvXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSW5wdXRzXHJcbiAgICAgICAgdGhpcy5jdXJzb3JzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5jcmVhdGVDdXJzb3JLZXlzKCk7XHJcbiAgICAgICAgdGhpcy5qdW1wS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlNQQUNFKTtcclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIHRoaXMubGtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5MKTtcclxuICAgICAgICB0aGlzLnFrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuUSk7XHJcbiAgICBcclxuICAgICAgICAvLyBXZWJTb2NrZXQgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSh0aW1lLCBkZWx0YSkge1xyXG4gICAgICAgIGlmICghdGhpcy5sb2NhbFBsYXllciB8fCAhdGhpcy5yZW1vdGVQbGF5ZXIpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duICYmICF0aGlzLmVzY1dhc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGV0ZWN0YXIgZGlyZWNjacOzbiBkZSBtb3ZpbWllbnRvIGxvY2FsXHJcbiAgICAgICAgbGV0IGRpcmVjY2lvbiA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy51cC5pc0Rvd24pIGRpcmVjY2lvbiA9ICd1cCc7XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3JzLmRvd24uaXNEb3duKSBkaXJlY2Npb24gPSAnZG93bic7XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3JzLmxlZnQuaXNEb3duKSBkaXJlY2Npb24gPSAnbGVmdCc7XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3JzLnJpZ2h0LmlzRG93bikgZGlyZWNjaW9uID0gJ3JpZ2h0JztcclxuICAgICAgICBlbHNlIGRpcmVjY2lvbiA9ICdzdG9wJztcclxuXHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gdGhpcy5lc2NLZXkuaXNEb3duO1xyXG4gICAgICAgIHRoaXMubFB1bHNhZGEgPSBmYWxzZTsgLy92b2x2ZXIgYSBwb25lciBhIGZhbHNlIHNpIG5vIGhhIGhhYmlkbyBvdmVybGFwXHJcbiAgICAgICAgdGhpcy5sT3BvbmVudGUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5sa2V5LmlzRG93biB8fCB0aGlzLnFrZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubFB1bHNhZGEgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdsUHVsc2FkYScgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvbXByb2JhciBzaSBhbGd1bm8gZGUgbG9zIGp1Z2Fkb3JlcyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKG1hZ28gPT4ge1xyXG4gICAgICAgICAgICBtYWdvLnVwZGF0ZShkZWx0YSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVqZWN1dGFyIGNvbWFuZG8gZGUgbW92aW1pZW50byBsb2NhbFxyXG4gICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlTWFnb0NvbW1hbmQodGhpcy5sb2NhbFBsYXllciwgZGlyZWNjaW9uLCB0aGlzLmp1bXBLZXkuaXNEb3duKTtcclxuICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuXHJcbiAgICAgICAgaWYoZGlyZWNjaW9uIT09J3N0b3AnKXtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgaWYoZGlyZWNjaW9uPT09J2xlZnQnKSB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS5mbGlwWCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBlbHNlIGlmKGRpcmVjY2lvbj09PVwicmlnaHRcIikgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLmFuZGFyX2FuaW1hY2lvbl9wYXJhcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbG9jYWxXYWxrPSB0aGlzLndhbGtTb3VuZHMuZ2V0KHRoaXMucGxheWVyUm9sZSk7XHJcbiAgICAgICAgaWYoZGlyZWNjaW9uIT09J3N0b3AnKXtcclxuICAgICAgICAgICAgaWYobG9jYWxXYWxrICYmICFsb2NhbFdhbGsuaXNQbGF5aW5nKXtcclxuICAgICAgICAgICAgICAgIGxvY2FsV2Fsay5wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZihsb2NhbFdhbGsgJiYgbG9jYWxXYWxrLmlzUGxheWluZyl7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFdhbGsuc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFbnZpYXIgcG9zaWNpw7NuIGRlbCBqdWdhZG9yIGxvY2FsIGFsIHNlcnZpZG9yXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdwbGF5ZXJNb3ZlJyxcclxuICAgICAgICAgICAgeDogdGhpcy5sb2NhbFBsYXllci5zcHJpdGUueCxcclxuICAgICAgICAgICAgeTogdGhpcy5sb2NhbFBsYXllci5zcHJpdGUueSxcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY2Npb24sXHJcbiAgICAgICAgICAgIGlzTW92aW5nOiBkaXJlY2Npb24gIT09ICdzdG9wJyxcclxuICAgICAgICAgICAgZmxpcFg6IHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLmZsaXBYIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBhdmlzYXIgYWwgb3RybyBqdWdhZG9yIHNpIGhhIGhhYmlkbyBjYW1iaW9zIGVuIGVsIGludmVudGFyaW8gZW4gbGEgZXNjZW5hIGRlIGxhIGxpYnJlcsOtYVxyXG4gICAgICAgIC8vIGlmKHRoaXMudmlzaXRMaWJyZXJpYSl7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgIC8vICAgICAgICAgdHlwZTogJ2FjdHVhbGl6YXJJbnZlbnRhcmlvJyxcclxuICAgICAgICAvLyAgICAgICAgIGludmVudGFyaW86IHRoaXMuaW52ZW50YXJpb1xyXG4gICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAvLyAgICAgdGhpcy52aXNpdExpYnJlcmlhID0gZmFsc2U7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYWN0dWFsaXphckludmVudGFyaW9FblBhbnRhbGxhKCk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckVzY2VuYXJpbygpIHtcclxuICAgICAgICB0aGlzLnN1ZWxvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQ3MiwgJ3N1ZWxvUicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGFyZWQgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgMjA1LCAncGFyZWRSJyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnBhcmVkLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNjUsIDMwMCwgJ2VzdGFudGVyaWFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxODUsIDMwMywgJ2JvbGFDcmlzdGFsUicpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQzMCwgJ2NhbGRlcm9SJyk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDMxMCwgJ2NhbXBvRnVlcnphUicpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb2ZyZSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTA1LCAyODMsICdjb2ZyZVInKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGxhdmUgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE3MCwgMTYwLCAnbGxhdmVSJyk7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBlcmdhbWlubyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNzgwLCAxODAsICdwZXJnYW1pbm9SJyk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYW50YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTcwLCAzNjUsICdwbGFudGFSJyk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNjksIDI2MiwgJ3BvY2lvbmVzUicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy52ZWxhcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTQwLCAzMDgsICd2ZWxhc1InKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGlicm9zID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNTAsIDIyMCwgJ2xpYnJvc1InKTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWJyb3Muc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MCwgMzUwLCAnYm90b25WUicpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDc4MCwgMzUwLCAnYm90b25WUicpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGVzdHJlbGxhcyBkZSBkZW50cm8gZGVsIGNvZnJlXHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ1MCwgMjgzLCAnZXN0cmVsbGFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1NjAsIDI4MywgJ2VzdHJlbGxhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckJhcnJlcmFJbnZpc2libGUoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXIgdW5hIGJhcnJlcmEgaW52aXNpYmxlIHF1ZSBldml0YSBxdWUgc3ViYSBoYWNpYSBhcnJpYmEgKHBlcm8gcHVlZGEgYW5kYXIgbGlicmVtZW50ZSBwb3IgZWwgc3VlbG8pXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSg1MDAsIDEwNSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFNpemUoMTAwMCwgNTAwKTsgXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5ib2R5LnNldFNpemUoMTAwMCwgNTAwKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgY29sbGlkZXIgaW52aXNpYmxlIHBhcmEgcXVlIHB1ZWRhIHVzYXIgbGEgYmFsZGEgc3VwZXJpb3IgZGUgbGEgZXN0YW50ZXLDrcKtYSBjb21vIHBsYXRhZm9ybWFcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTY1LCAxOTUsICd3aGl0ZV9waXhlbCcpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuc2V0U2NhbGUoNCwgMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgY29sbGlkZXIgaW52aXNpYmxlIHBhcmEgZXZpdGFyIHF1ZSBhdHJhdmllc2UgZWwgY2FsZGVyb1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg1MDAsIDQwMCwgJ3doaXRlX3BpeGVsJyk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5zZXRDaXJjbGUoODUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRPZmZzZXQoLTcwLCAtNTUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyUGxhdGFmb3JtYXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoKTtcclxuICAgICAgICAvLyBDZW50cm9cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg0NDYsIDMxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNTEwLCAzMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDU3MCwgMzE1LCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICAgICAgLy8gSXpxdWllcmRhXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNjUwLCAzNTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDY1MCwgMjE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg3MDAsIDM5MCwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgICAgIC8vIERlcmVjaGFcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg0NDYsIDI1MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzYwLCAyMzUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDI5NSwgMjE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzMDAsIDM5MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzgwLCAzNTAsICdlc3RhbnRlUicpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBlc3RhYmxlY2VyQ29saXNpb25lcygpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyBDb2xpc2lvbmVzIGRlbCBqdWdhZG9yIGNvbiBlbCBlc2NlbmFyaW9cclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWFDb2xsKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLnBsYXRhZm9ybWFzKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmNhbGRlcm9Db2xsKTtcclxuICAgICAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29uc2VndWlyIGxhIGxsYXZlXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmxsYXZlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncmVjb2dlckxsYXZlJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubGxhdmUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMbGF2ZSBjb25zZWd1aWRhXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzBdID0gdHJ1ZTsgLy8gbWFyY2FyIGVuIGVsIGludmVudGFyaW8gcXVlIHNlIGhhIGNvbnNlZ3VpZG8gbGEgbGxhdmVcclxuICAgICAgICAgICAgICAgIHRoaXMuY2Vyby5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGlkOyBcclxuICAgICAgICAgICAgaWYocGxheWVyLnBsYXllcklkID09PSAncGxheWVyMScpIGlkID0gMTtcclxuICAgICAgICAgICAgZWxzZSBpZCA9IDI7XHJcblxyXG4gICAgICAgICAgICAvLyBBYnJpciBsYSBsaWJyZXLDrcKtYVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RhbnRlcmlhLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sUHVsc2FkYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudmlzaXRMaWJyZXJpYSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdMaWJyZXJpYVNjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lTycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvY2lvbmVzOiB0aGlzLmludmVudGFyaW8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kOiB0aGlzLnNvdW5kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdWdhZG9yOiBpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3MgOiB0aGlzLndzXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQmFycmVyYSBpbnZpc2libGUgcGFyYSBwZXJtaXRpciBhcmVhIGRlIHN1ZWxvIGRvbmRlIHNlIGRlc3BsYWNlbiBsaWJyZW1lbnRlLCB5IGFyZWEgZGUgc2FsdG8gcGFyYSBzdWJpciBwb3IgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsIGNvbGlzaW9uYXIgY29uIGxhIGJhcnJlcmEgaW52aXNpYmxlIG1pZW50cmFzIGVsIGp1Z2Fkb3IgdmEgaGFjaWEgYXJyaWJhLCBzYWx0YVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxheWVyLmlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuanVtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBjYWxsYmFjayAtIG9ubHkgY29sbGlkZSB3aGVuIG1vdmluZyB1cCBhbmQgbm90IGp1bXBpbmdcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc01vdmluZ1VwID0gcGxheWVyLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnkgPCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhcGxheWVyLmlzSnVtcGluZyAmJiBpc01vdmluZ1VwO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWFyIHBvY2lvbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBzaSBzZSB0aWVuZW4gbGFzIHBvY2lvbmVzIG5lY2VzYXJpYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY2FsZGVybywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmxrZXkpIHx8IFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLnFrZXkpKSB7IC8vIENvbXByb2JhciBxdWUgc2UgaGEgcHVsc2FkbyBsYSB0ZWNsYSBMIG8gUSBwYXJhIGNyZWFyIGxhIHBvY2lvbiAoc2kgc2UgbWFudGllbmUgcHVsc2FkYSBsYSB0ZWNsYSBubyBlbnRyYXLDoSB2YXJpYXMgdmVjZXMgYSBsYSBmdW5jacOzbilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3VzYXJDYWxkZXJvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52ZW50YXJpbzp0aGlzLmludmVudGFyaW9cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAgICAgLy8gQWJyaXIgZWwgY29mcmUgc2kgc2UgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb2ZyZUFiaWVydG8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzBdKSB7IC8vIGNvbXByb2JhciBxdWUgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpckNvZnJlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOZWNlc2l0YXMgbGEgbGxhdmUgcGFyYSBhYnJpciBlbCBjb2ZyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVjb2dlciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0cmVsbGExLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29nZXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdHJlbGxhMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvZ2VyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vY29sb2NhciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9jYXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvY2FyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIHB1bHNhciBib3RvbmVzIHBhcmEgZGVzYWN0aXZhciBlbCBjYW1wbyBkZSBmdWVyemFcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYm90b25DYW1wb0Z1ZXJ6YScsXHJcbiAgICAgICAgICAgICAgICAgICAgYm90b246IDFcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24yLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYm90b25DYW1wb0Z1ZXJ6YScsXHJcbiAgICAgICAgICAgICAgICAgICAgYm90b246IDJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBMb3Mgb2JqZXRvcyBzb246IDAtbGxhdmUsIDEtbGlicm9zLCAyLSBwb2Npb24gbW9yYWRhLCAzLSBwb2Npb24gdmVyZGUsIDQtIHBvY2lvbiByb3NhLCA1LSBwb2Npb24gYXp1bCwgNi0gcG9jaW9uIGFtYXJpbGxhLCA3LSBwb2Npb24gbmFyYW5qYSwgOC0gdmVsYXMsIDktIGJvbGEgZGUgY3Jpc3RhbCwgMTAtIHBsYW50YSwgMTEtIGVzdHJlbGxhIDEsIDEyLSBlc3RyZWxsYSAyXHJcbiAgICBpbnZlbnRhcmlvRW5QYW50YWxsYSgpIHsgLy9Db21vIHNlIGFjYWJhIGRlIGNyZWFyLCB0b2RhdsOtYSBubyBzZSBoYWJyw6EgcmVjb2dpZG8gbmluZ8O6biBlbGVtZW50b1xyXG4gICAgICAgIHRoaXMuY2VybyA9IHRoaXMuYWRkLmltYWdlKDIwMCwgNTIwLCAnbGxhdmVSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnVubyA9IHRoaXMuYWRkLmltYWdlKDI1MCwgNTIwLCAnbGlicm9zUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRvcyA9IHRoaXMuYWRkLmltYWdlKDMwMCwgNTIwLCAncG9jaW9uZXNNJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnRyZXMgPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDUyMCwgJ3BvY2lvbmVzVicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5jdWF0cm8gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyMCwgJ3BvY2lvbmVzUm8nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuY2luY28gPSB0aGlzLmFkZC5pbWFnZSg0NTAsIDUyMCwgJ3BvY2lvbmVzQXonKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2VpcyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNTIwLCAncG9jaW9uZXNBbScpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zaWV0ZSA9IHRoaXMuYWRkLmltYWdlKDU1MCwgNTIwLCAncG9jaW9uZXNOJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLm9jaG8gPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDUyMCwgJ3ZlbGFzUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLm51ZXZlID0gdGhpcy5hZGQuaW1hZ2UoNjUwLCA1MjAsICdib2xhQ3Jpc3RhbFInKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5kaWV6ID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MjAsICdwbGFudGFSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMub25jZSA9IHRoaXMuYWRkLmltYWdlKDc1MCwgNTIwLCAnZXN0cmVsbGFSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmRvY2UgPSB0aGlzLmFkZC5pbWFnZSg4MDAsIDUyMCwgJ2VzdHJlbGxhUicpLnNldEFscGhhKDAuMik7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0dWFsaXphckludmVudGFyaW9FblBhbnRhbGxhKCkgeyAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzFdKSB0aGlzLnVuby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLnVuby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMl0pIHRoaXMuZG9zLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzNdKSB0aGlzLnRyZXMuc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy50cmVzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s0XSkgdGhpcy5jdWF0cm8uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5jdWF0cm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzVdKSB0aGlzLmNpbmNvLnNldEFscGhhKDEpOyBlbHNlIHRoaXMuY2luY28uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzZdKSB0aGlzLnNlaXMuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLnNlaXMuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzddKSB0aGlzLnNpZXRlLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5zaWV0ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bOF0pIHRoaXMub2Noby5zZXRBbHBoYSgxKTtlbHNlIHRoaXMub2Noby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bOV0pIHRoaXMubnVldmUuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLm51ZXZlLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1sxMF0pIHRoaXMuZGllei5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgXHJcbiAgICB9XHJcblxyXG4gICAgYWJyaXJDb2ZyZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2FicmlyQ29mcmUnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2FicmlyQ29mcmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvZnJlIGFiaWVydG9cIik7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRUZXh0dXJlKCdjb2ZyZUFiaWVydG9SJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRBbHBoYSgxLjApO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gdHJ1ZTsgLy8gcGFyYSBxdWUgc29sbyBzZSBhYnJhIHVuYSB2ZXpcclxuICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGxsYXZlIGRlbCBpbnZlbnRhcmlvIGFsIGFicmlyIGVsIGNvZnJlXHJcbiAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgfVxyXG5cclxuICAgIHJlY29nZXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29mcmVBYmllcnRvKSB7IC8vIHNvbG8gc2UgcHVlZGUgcmVjb2dlciBzaSBlbCBjb2ZyZSBlc3TDoSBhYmllcnRvIChwb3JxdWUgc2lubyBlc3TDoW4gb2N1bHRhcylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RyZWxsYSBcIiArIG4gKyBcIiByZWNvZ2lkYVwiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBlc3RyZWxsYSAoMTEgeSAxMiBlbiBlbCBhcnJheSlcclxuICAgICAgICAgICAgaWYgKG4gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGExLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfSBlbHNleyBcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZXN0YWRvX25vcm1hbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAvLyB2b2x2ZXIgYSBhY3RpdmFyIGVsIGNvbGxpZGVyIGRlbCBjYWxkZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5lbmFibGVCb2R5KGZhbHNlLCAwLCAwLCB0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjb2xvY2FyRXN0cmVsbGEobikge1xyXG4gICAgICAgIGlmICh0aGlzLmludmVudGFyaW9bMTAgKyBuXSkgeyAvLyBjb21wcm9iYXIgcXVlIHNlIHRpZW5lIGxhIGVzdHJlbGxhIGNvcnJlc3BvbmRpZW50ZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdHJlbGxhIFwiICsgbiArIFwiIGNvbG9jYWRhXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCd0cmlnZ2VyJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjEuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24yLnNldFRleHR1cmUoJ2JvdG9uQ1InKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1sxMCArIG5dID0gZmFsc2U7IC8vIHF1aXRhciBsYSBlc3RyZWxsYSBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb2NlLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lc3RyZWxsYSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcHJvYmFyQ2FtcG9GdWVyemEoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm90b24xLnRleHR1cmUua2V5ID09PSAnYm90b25DUicgJiYgdGhpcy5ib3RvbjIudGV4dHVyZS5rZXkgPT09ICdib3RvbkNSJykgeyAvL2NvbXByb2JhciBxdWUgYW1ib3MgYm90b25lcyB0aWVuZW4gbGEgZXN0cmVsbGEgY29sb2NhZGFcclxuICAgICAgICAgICAgaWYgKCh0aGlzLmxPcG9uZW50ZSB8fCB0aGlzLnFrZXkuaXNEb3duKSAmJiB0aGlzLmxrZXkuaXNEb3duICYmIHRoaXMuYm90b24xQWN0aXZhZG8gJiYgdGhpcy5ib3RvbjJBY3RpdmFkbykgeyAvLyBjb21wcm9iYXIgcXVlIGFtYm9zIGp1Z2Fkb3JlcyBlc3TDoW4gcHVsc2FuZG8gbGEgTCAocGVybWl0aXIgdGFtYmllbiBsYSBxIHBvciBzaSBlc3TDoSBqdWdhbmRvIGVuIGFtYmFzIHZlbnRhbmFzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Rlc2FjdGl2YXJDYW1wb0Z1ZXJ6YSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hYnJpckNhbXBvRnVlcnphKCk7XHJcbiAgICAgICAgICAgIH0gICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWJyaXJDYW1wb0Z1ZXJ6YSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNhbXBvIGRlIGZ1ZXJ6YSBkZXNhY3RpdmFkb1wiKTtcclxuICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3B1ZXJ0YScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJQdWVydGFGaW5hbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyUHVlcnRhRmluYWwoKSB7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzNzAsIG51bGwpO1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTsgXHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5zZXRBbHBoYSgwLjApOyBcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZSwgdGhpcy5wdWVydGFGaW5hbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdqdWdhZG9yRW5QdWVydGFGaW5hbCcsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUsIHRoaXMucHVlcnRhRmluYWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnanVnYWRvckVuUHVlcnRhRmluYWwnLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pOyAgXHJcbiAgICB9ICAgICAgIFxyXG5cclxuICAgIGVudHJhclB1ZXJ0YUZpbmFsKGRlc2FjdGl2YWRvLCBnYW5hZG9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJEZXNhY3RpdmFkbzpcIiwgZGVzYWN0aXZhZG8pOyBcclxuICAgICAgICBpZiAoZGVzYWN0aXZhZG9bMF0gJiYgZGVzYWN0aXZhZG9bMV0pIHsgLy9jYW1iaWFyIGRlIGVzY2VuYSBzb2xvIHNpIGFtYm9zIGp1Z2Fkb3JlcyBoYW4gbGxlZ2FkbyBhIGxhIHB1ZXJ0YSBmaW5hbFxyXG4gICAgICAgICAgICAvLyBQYXJhciB5IGRlc3RydWlyIHNvbmlkb3MgZGUgcGFzb3NcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MpIHdzLmRlc3Ryb3koKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIC8vIFBhcmFyIEJHTVxyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5iZ20gJiYgKHRoaXMuYmdtLmlzUGxheWluZyB8fCB0aGlzLmJnbS5pc1BhdXNlZCkpIHRoaXMuYmdtLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAvLyBGYWxsYmFjazogcGFyYXIgY3VhbHF1aWVyIGluc3RhbmNpYSBwb3IgY2xhdmVcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCd3YWxrJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnYmdtJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdEZWNpc2lvblNjZW5lJywge2VsZWNjaW9uOiBnYW5hZG9yLCBqdWdhZG9yOiB0aGlzLnBsYXllclJvbGUsIHdzOiB0aGlzLndzLCBtb2RvOidvbmxpbmUnfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICBjb25zdCBtYWdvMSA9bmV3IE1hZ28odGhpcywgJ3BsYXllcjEnLCAgNTAsIDQwMCwgJ2lkbGVfQXp1bCcpO1xyXG4gICAgICAgY29uc3QgbWFnbzIgPSAgbmV3IE1hZ28odGhpcywgJ3BsYXllcjInLCA5NTAsIDQwMCwgJ2lkbGVfUm9qbycpO1xyXG4gICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIG1hZ28xKTtcclxuICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCBtYWdvMik7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kR2FtZShpZCkge1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDI0MCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbiA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24uc2V0U2NhbGUoMC4xKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gobWFnbyA9PiB7XHJcbiAgICAgICAgICAgIG1hZ28uc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICAvLyBEZXRlbmVyIGxhIG11c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20uc3RvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdGV4dG8gPSBpZCA9PT0gJ3BsYXllcjEnID8gJ0VsIGp1Z2Fkb3IgMVxcbiAgaGEgbXVlcnRvJyA6ICcgRWwganVnYWRvciAyXFxuICBoYSBtdWVydG8nO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNTAsIHRleHRvLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyAjZmYwMDAwZmYnLFxyXG5cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtNSk7IFxyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ01lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDJmZjg5ZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAncGxheWVyRGlzY29ubmVjdGVkJyB9KSApO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTsgLy8gY2VycmFyIGxhIGNvbmV4acOzbiBkZXNwdcOpcyBkZSB1biBicmV2ZSByZXRyYXNvXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoXCJHYW1lU2NlbmVPXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoXCJQYXVzZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGHDsW9KdWdMZWZ0KCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgcGxheWVyMS52aWRhLS07XHJcbiAgICAgICAgdGhpcy5oZWFsdGhMZWZ0LnNldFRleHQocGxheWVyMS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbCBqdWdhZG9yIDEgaGEgcmVjaWJpZG8gZGHDsW8nKTtcclxuXHJcbiAgICAgICAgLy8gQXZpc2FyIGFsIHNlcnZpZG9yIFxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAnZGHDsW9KdWdhZG9yJyxcclxuICAgICAgICAgICAgcGxheWVyOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgIHZpZGE6IHBsYXllcjEudmlkYVxyXG4gICAgICAgIH0pOyBcclxuXHJcbiAgICAgICAgLy8gY29tcHJvYmFyIHNpIGhhIG11ZXJ0b1xyXG4gICAgICAgIGlmIChwbGF5ZXIxLnZpZGEgPD0gMCkgdGhpcy5lbmRHYW1lKCdwbGF5ZXIxJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGHDsW9KdWdSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIHBsYXllcjIudmlkYS0tO1xyXG4gICAgICAgIHRoaXMuaGVhbHRoUmlnaHQuc2V0VGV4dChwbGF5ZXIyLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VsIGp1Z2Fkb3IgMiBoYSByZWNpYmlkbyBkYcOxbycpO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdkYcOxb0p1Z2Fkb3InLFxyXG4gICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgdmlkYTogcGxheWVyMi52aWRhXHJcbiAgICAgICAgfSk7IFxyXG5cclxuICAgICAgICAvLyBjb21wcm9iYXIgc2kgaGEgbXVlcnRvICAgICAgICBcclxuICAgICAgICBpZiAocGxheWVyMi52aWRhIDw9IDApIHRoaXMuZW5kR2FtZSgncGxheWVyMicpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBhdXNlU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmVPJyB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEucG9jaW9uZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gZGF0YS5wb2Npb25lcztcclxuICAgICAgICAgICAgLy90aGlzLnZpc2l0TGlicmVyaWEgPSB0cnVlOyAvLyBwYXJhIGF2aXNhciBlbiBlbCB1cGRhdGUgcXVlIHNlIGhhIHZ1ZWx0byBkZSBsYSBsaWJyZXLDrWEgeSBoYXkgcXVlIGVudmlhciBlbCBpbnZlbnRhcmlvIGFsIG90cm8ganVnYWRvclxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgIG5ldyBQYXVzZUdhbWVDb21tYW5kKHRoaXMsIG5ld1BhdXNlU3RhdGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gV0VCU09DS0VUU1xyXG4gICAgc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgcGFyc2VhciBtZW5zYWplIFdlYnNvY2tldDonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25leGnDs24gV2ViU29ja2V0IGNlcnJhZGEnKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGUgV2ViU29ja2V0IDonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nYW1lRW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdtb3ZpbWllbnRvSnVnYWRvcic6IHtcclxuICAgICAgICAgICAgICAgIC8vIElnbm9yYXIgbWVuc2FqZXMgcXVlIHJlZmxlamFuIGVsIHByb3BpbyBtb3ZpbWllbnRvIGxvY2FsXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5wbGF5ZXIgPT09IHRoaXMucGxheWVyUm9sZSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucmVtb3RlUGxheWVyKSBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVXYWxrID0gdGhpcy53YWxrU291bmRzLmdldChkYXRhLnBsYXllcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pc01vdmluZyAmJiBkYXRhLmRpcmVjdGlvbiAhPT0gJ3N0b3AnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW90ZVdhbGsgJiYgIXJlbW90ZVdhbGsuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVdhbGsucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVtb3RlV2FsayAmJiByZW1vdGVXYWxrLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVdhbGsuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zcHJpdGUuZmxpcFggPSBkYXRhLmZsaXBYO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pc01vdmluZyAmJiBkYXRhLmRpcmVjdGlvbiAhPT0gJ3N0b3AnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLmFuZGFyX2FuaW1hY2lvbl9wYXJhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRHYW1lKGRhdGEud2lubmVySWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJEaXNjb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgICAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjYXNlICdkYcOxbyc6IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEYcOxbyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY2FzZSAndXNhckNhbGRlcm8nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDYWxkZXJvKGRhdGEpOyBcclxuICAgICAgICAgICAgICAgIGJyZWFrOyBcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0ludmVudGFyaW8nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gZGF0YS5pbnZlbnRhcmlvO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3R1YWxpemFySW52ZW50YXJpb0VuUGFudGFsbGEoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW52ZW50YXJpbyBhY3R1YWxpemFkbyBkZXNkZSBlbCBzZXJ2aWRvclwiLCB0aGlzLmludmVudGFyaW8pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdib3RvbkNGJzpcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmIgPT09IDEpIHRoaXMuYm90b24xQWN0aXZhZG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5iID09PSAyKSB0aGlzLmJvdG9uMkFjdGl2YWRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tcHJvYmFyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZGVzYWN0aXZhckNGJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdsT3BvbmVudGUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sT3BvbmVudGUgPSBkYXRhLnZhbG9yO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG5cclxuICAgICAgICAgICAgY2FzZSAncHVlcnRhRmluYWwnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQdWVydGFGaW5hbChkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZmluYWwnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaW5hbFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmVzY2VuYSA9PT0gMSkgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLmVzY2VuYSA9PT0gMikgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMlNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuc2NlbmUuc3RhcnQoJ0ZpbmFsQlNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0RlY2lzaW9uU2NlbmUnKTsgXHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01lbnNhamUgV2ViU29ja2V0IGRlc2Nvbm9jaWRvOicsIGRhdGEpO1xyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vdGhpcy5iYWxsLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwyMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMywgMC4yNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsICdGYWxsbyBwb3IgZGVzY29uZXhpw7NuJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNTAsICdMYSBwYXJ0aWRhIGhhIGZpbmFsaXphZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGHDsW8oZGF0YSl7XHJcbiAgICAgICAgY29uc3QgbWFnbyA9IHRoaXMucGxheWVycy5nZXQoZGF0YS5wbGF5ZXIpO1xyXG4gICAgICAgIGlmICghbWFnbykgcmV0dXJuO1xyXG5cclxuICAgICAgICBtYWdvLnZpZGEgPSBkYXRhLnZpZGE7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnBsYXllciA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoTGVmdC5zZXRUZXh0KGRhdGEudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0LnNldFRleHQoZGF0YS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1hZ28udmlkYSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLnBsYXllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNhbGRlcm8oZGF0YSkge1xyXG4gICAgICAgIC8vIHZvbHZlciBhIHBvbmVyIGEgZmFsc2UgdG9kb3MgbG9zIGVsZW1lbnRvcyBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5pbnZlbnRhcmlvLmxlbmd0aCAtIDI7IGkrKykgeyAvLyBzZSBzYWx0YSBsYSBsbGF2ZSB5IGxhcyBlc3RyZWxsYXMgcG9ycXVlIG5vIHNlIHV0aWxpemFuIHBhcmEgY3JlYXIgbGEgcG9jaW9uXHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1tpXSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMudW5vLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMuZG9zLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICB0aGlzLmN1YXRyby5zZXRBbHBoYSgwLjIpOyAgXHJcbiAgICAgICAgdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2Vpcy5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2lldGUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5vY2hvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5kaWV6LnNldEFscGhhKDAuMik7IFxyXG5cclxuICAgICAgICBpZiAoZGF0YS5leGl0bykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW8gY3JlYWRhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmRpc2FibGVCb2R5KCk7IC8vIGRlc2FjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm8gcGFyYSBtaWVudHJhcyBlc3TDqW4gcGVxdWXDsW9zIHB1ZWRhbiBhdHJhdmVzYXJsbyAoY2F1c2FiYSBidWdzOiBsZXZpdGFiYSlcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncGVxdWXDsW8nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZXN0YWRvX25vcm1hbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIHRpZW5lcyBsYXMgcG9jaW9uZXMgbmVjZXNhcmlhcyBwYXJhIGNyZWFyIGxhIHBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW9cIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2V4cGxvc2lvbicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmp1Z2Fkb3JEYcOxYWRvID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhw7FvSnVnTGVmdCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYcOxb0p1Z1JpZ2h0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIGhhbmRsZVB1ZXJ0YUZpbmFsKGRhdGEpIHtcclxuICAgICAgICBsZXQgd2Fsa1M7XHJcbiAgICAgICAgaWYgKGRhdGEuanVnYWRvciA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzYWN0aXZhZG9bMF0gPSB0cnVlOyAvLyBlbCBwZXJzb25hamUgeWEgaGEgZW50cmFkbyBwb3IgbGEgcHVlcnRhIHkgaGEgZGVzYXBhcmVjaWRvXHJcbiAgICAgICAgICAgIHdhbGtTID0gdGhpcy53YWxrU291bmRzLmdldCgncGxheWVyMScpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2FjdGl2YWRvWzFdID0gdHJ1ZTsgLy8gZWwgcGVyc29uYWplIHlhIGhhIGVudHJhZG8gcG9yIGxhIHB1ZXJ0YSB5IGhhIGRlc2FwYXJlY2lkb1xyXG4gICAgICAgICAgICB3YWxrUyA9IHRoaXMud2Fsa1NvdW5kcy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3YWxrUykge1xyXG4gICAgICAgICAgICB0cnkgeyBpZiAod2Fsa1MuaXNQbGF5aW5nKSB3YWxrUy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZW50cmFyUHVlcnRhRmluYWwodGhpcy5kZXNhY3RpdmFkbywgZGF0YS5nYW5hZG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuYm90b24gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDQwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uLnNldFNjYWxlKDAuMTUsIDAuMSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDAwLCAnVm9sdmVyIGFsIE1lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2NjY2NjYycpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNmZmZmZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ3BsYXllckRpc2Nvbm5lY3RlZCcgfSkgKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2VycmFuZG8gY29uZXhpw7NuIFdlYlNvY2tldC4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbmV4acOzbiBXZWJTb2NrZXQgY2VycmFkYS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTsgLy8gY2VycmFyIGxhIGNvbmV4acOzbiBkZXNwdcOpcyBkZSB1biBicmV2ZSByZXRyYXNvXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoXCJHYW1lU2NlbmVPXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoXCJQYXVzZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBMb2dpblNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTG9naW5TY2VuZS5qcyc7XHJcbmltcG9ydCB7IE1lbnVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL01lbnVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0dhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFBhdXNlU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9QYXVzZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgQ3JlZGl0c1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzJztcclxuaW1wb3J0IHsgSGlzdG9yaWFTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0hpc3RvcmlhU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBMaWJyZXJpYVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTGlicmVyaWFTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbnRyb2xTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NvbnRyb2xTY2VuZS5qcyc7XHJcbmltcG9ydCB7IERlY2lzaW9uU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9EZWNpc2lvblNjZW5lLmpzJztcclxuaW1wb3J0IHsgRmluYWxCU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9GaW5hbEJTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEZpbmFsTTFTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0ZpbmFsTTFTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEZpbmFsTTJTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0ZpbmFsTTJTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzJztcclxuaW1wb3J0IFNhbGFEZUVzcGVyYSBmcm9tICcuL3NjZW5lcy9TYWxhRGVFc3BlcmEuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmVPIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lTy5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiAxMDAwLFxyXG4gICAgaGVpZ2h0OiA1NjAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeTogMjAwMDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRvbToge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbIExvZ2luU2NlbmUsIE1lbnVTY2VuZSwgR2FtZVNjZW5lTywgR2FtZVNjZW5lLCBMaWJyZXJpYVNjZW5lLCAgUGF1c2VTY2VuZSwgQ3JlZGl0c1NjZW5lLCBIaXN0b3JpYVNjZW5lLCBDb250cm9sU2NlbmUsIERlY2lzaW9uU2NlbmUsIEZpbmFsQlNjZW5lLCBGaW5hbE0xU2NlbmUsIEZpbmFsTTJTY2VuZSwgQ29ubmVjdGlvbkxvc3RTY2VuZSwgU2FsYURlRXNwZXJhIF0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDdkZGZmZmYnLFxyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUGhhc2VyIiwiTG9naW5TY2VuZSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJwcmVsb2FkIiwiY3JlYXRlIiwidGhpcyIsImFkZCIsInJlY3RhbmdsZSIsImxvZ2luRm9ybSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ1c2VybmFtZUlucHV0IiwicGFzc3dvcmRJbnB1dCIsImxvZ2luQnV0dG9uIiwiY29uc29sZSIsImxvZyIsImNsYXNzTGlzdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1c2VybmFtZSIsInZhbHVlIiwicGFzc3dvcmQiLCJyZW1vdmUiLCJ0aW1lIiwiZGVsYXllZENhbGwiLCJzY2VuZSIsInN0YXJ0IiwiYWxlcnQiLCJlIiwiY2xpY2siLCJjb25uZWN0aW9uTWFuYWdlciIsImNvbm5lY3RlZENvdW50IiwiaXNDb25uZWN0ZWQiLCJsYXN0Q2hlY2tUaW1lIiwiY2hlY2tJbnRlcnZhbCIsImxpc3RlbmVycyIsInNlc3Npb25JZCIsImdlbmVyYXRlU2Vzc2lvbklkIiwiaW50ZXJ2YWxJZCIsInN0YXJ0UG9sbGluZyIsIndpbmRvdyIsInN0b3BQb2xsaW5nIiwidmlzaWJpbGl0eVN0YXRlIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIk1lbnVTY2VuZSIsImxvYWQiLCJpbWFnZSIsImF1ZGlvIiwiRm9udEZhY2UiLCJ0aGVuIiwibG9hZGVkRm9udCIsImZvbnRzIiwiY2F0Y2giLCJzb3VuZCIsInN0b3BCeUtleSIsImVyciIsIndhcm4iLCJnYW1lIiwicGxheSIsInZvbHVtZSIsImxvb3AiLCJmb25kbyIsInNldFNjYWxlIiwidGl0dWxvIiwiYm90b24xIiwiYm90b24yIiwiYm90b24zIiwiYm90b240IiwiYm90b241IiwidGV4dCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImNvbG9yIiwic2V0T3JpZ2luIiwic2V0QW5nbGUiLCJsb2NhbEJ0biIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsIm9uIiwic2V0U3R5bGUiLCJmaWxsIiwib25saW5lQnRuIiwiYXN5bmMiLCJzdG9wIiwiY3JlZGl0b3NCdG4iLCJoaXN0b3JpYUJ0biIsImNvbnRyb2xCdG4iLCJvcmlnaW5hbFNjZW5lIiwiY29ubmVjdGlvblRleHQiLCJjb25uZWN0aW9uTGlzdGVuZXIiLCJ1cGRhdGVDb25uZWN0aW9uRGlzcGxheSIsImlzQWN0aXZlIiwic2V0VGV4dCIsInNldENvbG9yIiwic2h1dGRvd24iLCJNYWdvIiwiaWQiLCJ4IiwieSIsImlkU3ByaXRlIiwidmlkYSIsImlkbGUiLCJlc3RhZG9fbm9ybWFsIiwiYmFzZVdpZGh0IiwiYmFzZUhlaWdodCIsImJhc2VTcGVlZCIsImlzSnVtcGluZyIsImp1bXBWZWxvY2l0eSIsImdyb3VuZFkiLCJzcHJpdGUiLCJwaHlzaWNzIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwiYWxsb3dHcmF2aXR5Iiwic2V0U2l6ZSIsInNldE9mZnNldCIsImFuZGFyX2FuaW1hY2lvbiIsImFuaW1zIiwiaXNQbGF5aW5nIiwiZXhpc3RzIiwiYW5kYXJfYW5pbWFjaW9uX3BhcmFyIiwic2V0VGV4dHVyZSIsImp1bXAiLCJzZXRWZWxvY2l0eVkiLCJ1cGRhdGUiLCJkZWx0YSIsInZlbG9jaXR5Iiwic2NhbGUiLCJzZXRQb3NpdGlvbiIsIkNvbW1hbmRQcm9jZXNzb3IiLCJwbGF5ZXJzIiwiTWFwIiwiZ2FtZVNjZW5lIiwic2V0UGxheWVycyIsInNldEdhbWVTY2VuZSIsInByb2Nlc3MiLCJjb21tYW5kIiwiZXhlY3V0ZSIsIkNvbW1hbmQiLCJzZXJpYWxpemUiLCJnZXRQbGF5ZXIiLCJNb3ZlTWFnb0NvbW1hbmQiLCJtYWdvIiwiZGlyZWN0aW9uIiwic2FsdG8iLCJzZXRWZWxvY2l0eVgiLCJQYXVzZUdhbWVDb21tYW5kIiwiaXNQYXVzZWQiLCJzZXRQYXVzZVN0YXRlIiwiR2FtZVNjZW5lIiwiaW5pdCIsImlucHV0TWFwcGluZ3MiLCJlc2NXYXNEb3duIiwibFB1bHNhZGEiLCJwcm9jZXNzb3IiLCJjb2ZyZUFiaWVydG8iLCJ3YWxrU291bmRzIiwiaW52ZW50YXJpbyIsImZyYW1lcyIsImZyYW1lUmF0ZSIsInJlcGVhdCIsImJnbSIsInNldCIsImV2ZW50cyIsIndzIiwib25jZSIsImRlc3Ryb3kiLCJjbGVhciIsImNyZWFyRXNjZW5hcmlvIiwiY3JlYXJQbGF0YWZvcm1hcyIsImNyZWFyQmFycmVyYUludmlzaWJsZSIsInNldFVwUGxheWVycyIsImVzdGFibGVjZXJDb2xpc2lvbmVzIiwiaW52ZW50YXJpb0VuUGFudGFsbGEiLCJoZWFsdGhMZWZ0IiwiaGVhbHRoUmlnaHQiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsImxrZXkiLCJMIiwicWtleSIsIlEiLCJpc0Rvd24iLCJ0b2dnbGVQYXVzZSIsIm1hcHBpbmciLCJwbGF5ZXJJZCIsIndhbGtTb3VuZCIsImlzTW92aW5nIiwidXBLZXlPYmoiLCJkb3duS2V5T2JqIiwibGVmdEtleU9iaiIsImZsaXBYIiwicmlnaHRLZXlPYmoiLCJqdW1wT2JqIiwibW92ZUNvbW1hbmQiLCJ1bm8iLCJzZXRBbHBoYSIsImRvcyIsInRyZXMiLCJjdWF0cm8iLCJjaW5jbyIsInNlaXMiLCJzaWV0ZSIsIm9jaG8iLCJudWV2ZSIsImRpZXoiLCJzdWVsbyIsInNldEltbW92YWJsZSIsInBhcmVkIiwiZXN0YW50ZXJpYSIsImJvbGFDcmlzdGFsIiwiY2FsZGVybyIsImNhbXBvRnVlcnphIiwiY29mcmUiLCJsbGF2ZSIsInBlcmdhbWlubyIsInBsYW50YSIsInBvY2lvbmVzIiwidmVsYXMiLCJsaWJyb3MiLCJlc3RyZWxsYTEiLCJlc3RyZWxsYTIiLCJiYXJyZXJhSW52aXNpYmxlIiwic3RhdGljSW1hZ2UiLCJzZXRWaXNpYmxlIiwiZXN0YW50ZXJpYUNvbGwiLCJzZXRBbGxvd0dyYXZpdHkiLCJjYWxkZXJvQ29sbCIsInNldENpcmNsZSIsInBsYXRhZm9ybWFzIiwic3RhdGljR3JvdXAiLCJwbGF5ZXIiLCJjb2xsaWRlciIsIm92ZXJsYXAiLCJjZXJvIiwicGF1c2UiLCJsYXVuY2giLCJqdWdhZG9yIiwiaXNNb3ZpbmdVcCIsIkp1c3REb3duIiwiZWxlbVJlY29naWRvcyIsImZpbHRlciIsImVsZW0iLCJsZW5ndGgiLCJsZW5naHQiLCJkaXNhYmxlQm9keSIsIkJldHdlZW4iLCJpIiwiYWJyaXJDb2ZyZSIsInJlY29nZXJFc3RyZWxsYSIsImNvbG9jYXJFc3RyZWxsYSIsImJvdG9uMUFjdGl2YWRvIiwiYWJyaXJDYW1wb0Z1ZXJ6YSIsImJvdG9uMkFjdGl2YWRvIiwiZG9jZSIsIm4iLCJlbmFibGVCb2R5IiwidGV4dHVyZSIsImNyZWFyUHVlcnRhRmluYWwiLCJwdWVydGFGaW5hbCIsImRlc2FjdGl2YWRvIiwiZW50cmFyUHVlcnRhRmluYWwiLCJ3czEiLCJ3czIiLCJtb2RvIiwibGVmdE1hZ28iLCJyaWdodE1hZ28iLCJ1cEtleSIsImRvd25LZXkiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJtYXAiLCJjb25maWciLCJlbmRHYW1lIiwiYm90b24iLCJzZXRWZWxvY2l0eSIsInRleHRvIiwibWVudUJ0biIsInBsYXllcjEiLCJwbGF5ZXIyIiwicmVzdW1lIiwiaXRlbSIsIm5ld1BhdXNlU3RhdGUiLCJQYXVzZVNjZW5lIiwicmVzdW1lQnRuIiwib3JpZ1NjZW5lIiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJzZW5kIiwidHlwZSIsInNldFRpbWVvdXQiLCJjbG9zZSIsIkNyZWRpdHNTY2VuZSIsInBlcmdhbWlubzEiLCJSZXR1cm5CdG4iLCJIaXN0b3JpYVNjZW5lIiwiTGlicmVyaWFTY2VuZSIsImJhbGwiLCJhYnJpciIsImRhdG9zIiwicG9jaW9uZXNSZWNvZ2lkYXMiLCJwb2Npb25BbSIsInBvY2lvbk4iLCJwb2Npb25NIiwicG9jaW9uUiIsInBvY2lvblYiLCJwb2Npb25BeiIsImxpYnJvIiwiYWJpciIsInBhZGRsZSIsIkNvbnRyb2xTY2VuZSIsInBlcmdhbWlubzIiLCJwZXJnYW1pbm8zIiwiRGVjaXNpb25TY2VuZSIsImZvbmRvRCIsInNlbGVjdG9yIiwiZWxlY2Npb24iLCJidG4xIiwiYnRuMiIsImVzY2VuYSIsIkZpbmFsQlNjZW5lIiwiZm9uZG9DIiwiYnRuIiwiRmluYWxNMVNjZW5lIiwiZm9uZG9fMU0iLCJGaW5hbE0yU2NlbmUiLCJmb25kb18yTSIsIkNvbm5lY3Rpb25Mb3N0U2NlbmUiLCJyZWNvbm5lY3RDaGVja0ludGVydmFsIiwicHJldmlvdXNTY2VuZSIsImZvbnRTdHlsZSIsInN0YXR1c1RleHQiLCJhdHRlbXB0Q291bnQiLCJhdHRlbXB0VGV4dCIsImRvdENvdW50IiwiYWRkRXZlbnQiLCJkZWxheSIsImRvdHMiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsIlNhbGFEZUVzcGVyYSIsInJlc2V0U3RhdGUiLCJyb29tQ29kZSIsInJvb21JZCIsImdhbWVTdGFydGVkIiwicm9vbUNvZGVUZXh0IiwiYWN0aXZlIiwiY29kZUlucHV0IiwiY29udGFpbnMiLCJjb25uZWN0VG9TZXJ2ZXIiLCJjcmVhckludGVyZmF6Iiwid2lkdGgiLCJjYW1lcmFzIiwibWFpbiIsImhlaWdodCIsInRpdHVsb0NyZWFyU2FsYSIsImJvdG9uQ3JlYXJTYWxhIiwiY3JlYXJTYWxhVGV4dCIsImNyZWFyU2FsYSIsInRpdHVsb0NvbGEiLCJib3RvblVuaXJzZUNvbGEiLCJ1bmlyc2VDb2xhVGV4dCIsInVuaXJzZUNvbGEiLCJ0aXR1bG9Db2RpZ28iLCJjcmVhdGVDb2RlSW5wdXQiLCJib3RvblVuaXJzZUNvZGlnbyIsInVuaXJzZUNvZGlnb1RleHQiLCJ1bmlyc2VTYWxhIiwidm9sdmVyQnV0dG9uIiwiaW5wdXRFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInBsYWNlaG9sZGVyIiwibWF4TGVuZ3RoIiwic3R5bGUiLCJjc3NUZXh0IiwidG9VcHBlckNhc2UiLCJhcHBlbmRDaGlsZCIsInBvc2l0aW9uSW5wdXQiLCJyZWN0IiwiY2FudmFzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsInJvdW5kIiwiaW5wdXRXaWR0aCIsInRvcCIsImlucHV0SGVpZ2h0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJwb3NpdGlvbiIsImNvZGUiLCJtb3N0cmFyQm90b25lcyIsIm1lc3NhZ2UiLCJwbGF5ZXJSb2xlIiwicm9sZSIsImluaXRpYWxCYWxsIiwib2N1bHRhckJvdG9uZXMiLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJkaXNwbGF5IiwidHJpbSIsIkNPTk5FQ1RJTkciLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJvbmVycm9yIiwib25jbG9zZSIsIndzVXJsIiwibG9jYXRpb24iLCJob3N0IiwiZXZlbnQiLCJwYXJzZSIsImxlYXZlUXVldWUiLCJHYW1lU2NlbmVPIiwibG9jYWxQbGF5ZXIiLCJyZW1vdGVQbGF5ZXIiLCJlc3RyZWxsYSIsImxPcG9uZW50ZSIsImxvY2FsUGxheWVyVGV4dCIsImN1cnNvcnMiLCJjcmVhdGVDdXJzb3JLZXlzIiwianVtcEtleSIsIlNQQUNFIiwic2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMiLCJkaXJlY2Npb24iLCJ1cCIsImRvd24iLCJyaWdodCIsInNlbmRNZXNzYWdlIiwibG9jYWxXYWxrIiwiYWN0dWFsaXphckludmVudGFyaW9FblBhbnRhbGxhIiwiY29tcHJvYmFyQ2FtcG9GdWVyemEiLCJnYW5hZG9yIiwibWFnbzEiLCJtYWdvMiIsImdhbWVFbmRlZCIsInJlbW90ZVdhbGsiLCJ3aW5uZXJJZCIsImhhbmRsZUNhbGRlcm8iLCJiIiwidmFsb3IiLCJoYW5kbGVQdWVydGFGaW5hbCIsImNyZWF0ZU1lbnVCdXR0b24iLCJleGl0byIsIndhbGtTIiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImRvbSIsImNyZWF0ZUNvbnRhaW5lciIsImJhY2tncm91bmRDb2xvciJdLCJzb3VyY2VSb290IjoiIn0=