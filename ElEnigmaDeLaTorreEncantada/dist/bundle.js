(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);class i extends s().Scene{constructor(){super("LoginScene")}preload(){}create(){this.add.rectangle(500,280,1e3,560,1710618);const e=document.getElementById("login-form"),t=document.getElementById("username"),s=document.getElementById("password"),i=document.getElementById("loginButton");console.log("LoginScene iniciada"),e&&e.classList.add("active"),i&&i.addEventListener("click",()=>{console.log("Click en login");const i=t.value,a=s.value;console.log("Username:",i,"Password:",a),""!==i&&""!==a?(console.log("Login exitoso, iniciando MenuScene"),e&&e.classList.remove("active"),this.time.delayedCall(500,()=>{this.scene.start("MenuScene")})):(console.log("Campos vacíos"),alert("Por favor completa todos los campos"))}),s&&s.addEventListener("keypress",e=>{"Enter"===e.key&&i.click()})}}const a=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class o extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3"),this.load.audio("musicaMenu","/sounds/música_MPrincipal.mp3"),new FontFace("Tagesschrift","url(/fuentes/Tagesschrift.ttf)").load().then(function(e){document.fonts.add(e)}).catch(function(e){console.error("Error loading font:",e)})}create(){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.game.sound.play("musicaMenu",{volume:.7,loop:!0}),this.fondo=this.add.image(500,350,"fondoM"),this.fondo.setScale(.8),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,300,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,350,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,400,"boton"),this.boton3.setScale(.1),this.boton4=this.add.image(500,450,"boton"),this.boton4.setScale(.1),this.boton5=this.add.image(500,500,"boton"),this.boton5.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8);const e=this.add.text(500,300,"Local",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("musicaMenu"),this.scene.start("GameScene")}),t=this.add.text(500,350,"Online",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#ff0000ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",async()=>{this.scene.stop(),this.scene.start("SalaDeEspera")}),s=this.add.text(500,400,"Créditos",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#ff9100ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("CreditsScene")}),i=this.add.text(500,450,"Historia",{fontSize:"24px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#38ffffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("HistoriaScene")}),o=this.add.text(500,500,"Controles",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{o.setStyle({fill:"#ff0dffc1"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>o.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("ControlScene",{originalScene:"MenuScene"})});this.connectionText=this.add.text(500,540,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00",fontFamily:"Tagesschrift"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},a.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&a.removeListener(this.connectionListener)}}class n{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.vida=3,this.idle=a,this.estado_normal=!0,this.baseWidht=20,this.baseHeight=100,this.baseSpeed=300,this.isJumping=!1,this.jumpVelocity=0,this.groundY=i,this.sprite=this.scene.physics.add.sprite(s,i,a),this.sprite.setScale(.35),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setSize(125,175),this.sprite.body.setOffset(880,750)}andar_animacion(){this.sprite&&this.sprite.anims&&(this.sprite.anims.isPlaying||("idle_Azul"===this.idle?this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Azul")&&this.sprite.play("andar_mago_Azul"):"idle_Rojo"===this.idle&&this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Rojo")&&this.sprite.play("andar_mago_Rojo")))}andar_animacion_parar(){this.sprite&&this.sprite.anims&&this.sprite.anims.isPlaying&&(this.sprite.anims.stop(),this.sprite.setTexture(this.idle))}jump(){this.isJumping||(this.isJumping=!0,this.groundY=this.sprite.y,this.sprite.setVelocityY(-1e5),this.sprite.body.allowGravity=!0)}update(e){this.isJumping&&this.sprite.y>=this.groundY&&this.sprite.body.velocity.y>=0&&(this.sprite.y=this.groundY,this.sprite.setVelocityY(0),this.sprite.body.allowGravity=!1,this.isJumping=!1),!1===this.estado_normal?this.sprite.setScale(.1):this.sprite.setScale(.35)}setScale(e){this.sprite.setScale(e)}setPosition(e,t){this.sprite.setPosition(e,t)}}class r{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class l{execute(){}serialize(){}getPlayer(){}}class h extends l{constructor(e,t,s){super(),this.mago=e,this.direction=t,this.salto=s}execute(){"up"===this.direction?this.mago.sprite.setVelocityY(-this.mago.baseSpeed):"down"===this.direction?this.mago.sprite.setVelocityY(+this.mago.baseSpeed):"left"===this.direction?this.mago.sprite.setVelocityX(-this.mago.baseSpeed):"right"===this.direction?this.mago.sprite.setVelocityX(+this.mago.baseSpeed):(this.mago.sprite.setVelocityY(0),this.mago.sprite.setVelocityX(0)),this.salto&&this.mago.sprite.setVelocityY(3.5*-this.mago.baseSpeed)}}class d extends l{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class c extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("pequeño","/sounds/pequeño.mp3")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new r,this.cofreAbierto=!1,this.walkSounds=new Map,this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(e,t){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.escWasDown=this.escKey.isDown,console.log("Holaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.lPulsada=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0),this.players.forEach(e=>{e.update(t)}),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null,i=!1;const a=this.walkSounds.get(e.playerId);let o=!1;e.upKeyObj.isDown?(s="up",o=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",o=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",o=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",o=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),a&&a.isPlaying&&a.stop()),e.jumpObj.isDown&&(t.estado_normal||(i=!0,t.andar_animacion_parar())),o&&a&&!a.isPlaying&&a.play();let n=new h(t,s,i);this.processor.process(n)}),this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1)}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameScene",pociones:this.inventario,sound:this.sound,jugador:t}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{if(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey)){let e=this.inventario.filter(e=>!0===e);3===e.length||4===e.lenght?this.inventario[3]&&this.inventario[5]&&this.inventario[7]&&(console.log("Poción de disminuir tamaño creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("pequeño",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poción de disminuir tamaño"),this.sound&&this.sound.play("explosion",{volume:.5}),1===s().Math.Between(1,2)?this.dañoJugLeft():this.dañoJugRight());for(let e=1;e<this.inventario.length-2;e++)switch(this.inventario[e]=!1,e){case 1:this.uno.setAlpha(.2);break;case 2:this.dos.setAlpha(.2);break;case 3:this.tres.setAlpha(.2);break;case 4:this.cuatro.setAlpha(.2);break;case 5:this.cinco.setAlpha(.2);break;case 6:this.seis.setAlpha(.2);break;case 7:this.siete.setAlpha(.2);break;case 8:this.ocho.setAlpha(.2);break;case 9:this.nueve.setAlpha(.2);break;case 10:this.diez.setAlpha(.2)}}}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.boton1Activado=!0,this.abrirCampoFuerza()}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.boton2Activado=!0,this.abrirCampoFuerza()})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){this.cofreAbierto&&(console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})}))}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2)):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2)))}abrirCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&this.qkey.isDown&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal())}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0);let e=[!1,!1];this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.players.get("player1").sprite.disableBody(!0,!0),e[0]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player1");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.players.get("player2").sprite.disableBody(!0,!0),e[1]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player2");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}})}entrarPuertaFinal(e){if(e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{modo:"local"})}}setUpPlayers(){const e=new n(this,"player1",50,400,"idle_Azul"),t=new n(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",leftKey:"A",rightKey:"D",jump:"SPACE"},{playerId:"player2",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"ENTER"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Menú",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}dañoJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador de la izquierda ha recibido daño"),e.vida<=0&&this.endGame("player1")}dañoJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador de la derecha ha recibido daño"),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume(),this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}togglePause(){const e=!this.isPaused;this.processor.process(new d(this,e))}}class p extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,200,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,350,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,400,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,450,"boton"),this.boton3.setScale(.1),this.add.text(500,200,"Juego Pausado",{fontSize:"60px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5);const t=this.add.text(500,350,"Volver",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#00ff88ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),s=this.add.text(500,400,"Menú",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#6839b3ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{if(e&&"GameSceneO"===e.originalScene){const e=this.scene.get("GameSceneO");e&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(e.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{try{e.ws.close()}catch(e){console.warn(e)}},50))}}catch(e){console.warn(e)}try{this.game.sound.stopByKey("bgm")}catch(e){console.warn(e)}this.scene.start("MenuScene"),this.scene.stop(e.originalScene),this.scene.stop()}),i=this.add.text(500,450,"Controles",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#00eeffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("ControlScene",{originalScene:e&&e.originalScene?e.originalScene:"GameScene"})})}}class g extends s().Scene{constructor(){super("CreditsScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(500,380,"pergamino"),this.pergamino1.setScale(2),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,245,"Créditos",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,310,"Paula Ortiz Fernández",{fontSize:"24px",color:"#91ffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,355,"Daniel Corbacho Anes",{fontSize:"24px",color:"#fff132ff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,400,"Alejandro Hernández Ruiz",{fontSize:"24px",color:"#d7acffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,450,"Ángel Bermúdez Fariñas",{fontSize:"24px",color:"#ffceadff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.start("MenuScene")})}}class m extends s().Scene{constructor(){super("HistoriaScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#070707ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Historia",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,380,"Después de años de entrenamiento, por fin ha llegado el momento en el que naquellos magos por\nfin iban a conseguir ser magos de verdad. Llevaban mucho tiempo preparándose y estudiando para\neste momento, y por fin van a recibir aquel elixir deseado por todo mago,\n“el elixir de la vida eterna”.\n\nSin embargo, no será sencillo, aún deberán demostrar por última vez que están hechos para obtener\nesta gran virtud. La tradición cuenta que para conseguir ser un verdadero mago será necesario\nconseguir por ellos mismos este elixir adentrándose en la Torre Encantada, demostrando que son\nmerecedores del título de mago eterno y que poseen las habilidades necesarias. La más importante,\nla colaboración, puesto que por uno solo no siempre se puede llegar al lugar deseado. \n\nPor este motivo, los jóvenes aprendices que deseen ascender, se adentrarán en aquella vieja torre,\n y atravesarán, una a una, sus salas hasta llegar arriba del todo, dónde se encuentra el elixir\nque tanto desean. En cada sala se encontrarán con numerosos obstáculos que deberán sobrepasar \ndemostrando sus habilidades obtenidas durante todos estos años de esfuerzo.",{fontSize:"16px",color:"#ffffffff"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")})}}class u extends s().Scene{constructor(){super("LibreriaScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("bolaCristalColor","/imagenes/bolaCristalColor.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("plantaColor","/imagenes/plantaColor.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("velasColor","/imagenes/velasColor.png"),this.load.image("librosColor","/imagenes/librosColor.png"),this.load.image("idle","/imagenes/mano.png")}init(){this.players=new Map,this.inputMappings=[],this.ball=null,this.abrir=!1,this.escWasDown=!1,this.datos,this.processor=new r,this.pocionesRecogidas={bolaCristal:!1,planta:!1,pocionAm:!1,pocionN:!1,pocionM:!1,pocionR:!1,pocionV:!1,pocionAz:!1,velas:!1,libro:!1}}create(e){this.mago=this.add.image(100,100,"idle"),this.mago.setScale(1.9),this.crearEscenario(),this.setUpPlayers(),this.establecerColisiones(),this.datos=e,this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(){this.escKey.isDown&&!this.escWasDown&&(this.datos.ws&&this.datos.ws.readyState===WebSocket.OPEN&&this.datos.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.datos.pociones})),this.scene.resume(this.datos.originalScene,{pociones:this.datos.pociones}),this.scene.stop()),this.abir=!1,this.lkey.isDown&&(this.abrir=!0),this.qkey.isDown&&(this.abrir=!0),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new h(t,s);this.processor.process(i)})}crearEscenario(){this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(1.7),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(440,270,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(1.7),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(485,280,"bolaCristalColor"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(1.7),this.bolaCristal.body.allowGravity=!1,this.planta=this.physics.add.image(440,450,"plantaColor"),this.planta.setImmovable(!0),this.planta.setScale(1.7),this.planta.body.allowGravity=!1,this.pocionAm=this.physics.add.image(530,165,"pocionesAm"),this.pocionAm.setImmovable(!0),this.pocionAm.setScale(1.7),this.pocionAm.body.allowGravity=!1,this.pocionN=this.physics.add.image(595,175,"pocionesN"),this.pocionN.setImmovable(!0),this.pocionN.setScale(1.7),this.pocionN.body.allowGravity=!1,this.pocionM=this.physics.add.image(280,165,"pocionesM"),this.pocionM.setImmovable(!0),this.pocionM.setScale(1.7),this.pocionM.body.allowGravity=!1,this.pocionR=this.physics.add.image(405,165,"pocionesRo"),this.pocionR.setImmovable(!0),this.pocionR.setScale(1.7),this.pocionR.body.allowGravity=!1,this.pocionV=this.physics.add.image(345,175,"pocionesV"),this.pocionV.setImmovable(!0),this.pocionV.setScale(1.7),this.pocionV.body.allowGravity=!1,this.pocionAz=this.physics.add.image(470,170,"pocionesAz"),this.pocionAz.setImmovable(!0),this.pocionAz.setScale(1.7),this.pocionAz.body.allowGravity=!1,this.velas=this.physics.add.image(350,290,"velasColor"),this.velas.setImmovable(!0),this.velas.setScale(1.7),this.velas.body.allowGravity=!1,this.libro=this.physics.add.image(370,33,"librosColor"),this.libro.setImmovable(!0),this.libro.setScale(1.7),this.libro.body.allowGravity=!1}establecerColisiones(){this.players.forEach(e=>{this.physics.add.overlap(e.sprite,this.bolaCristal,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.bolaCristal&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.bolaCristal=!0),this.bolaCristal.setAlpha(.5),this.datos.pociones[9]=!0,this.abrir=!1,console.log("BOLA CRISTAL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.planta,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.planta&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.planta=!0),this.planta.setAlpha(.5),this.datos.pociones[10]=!0,this.abrir=!1,console.log("PLANTA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAm,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAm&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAm=!0),this.pocionAm.setAlpha(.5),this.datos.pociones[6]=!0,this.abrir=!1,console.log("POCION AMARILLA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionN,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionN&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionN=!0),this.pocionN.setAlpha(.5),this.datos.pociones[7]=!0,this.abrir=!1,console.log("POCION NARANJA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionM,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionM&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionM=!0),this.pocionM.setAlpha(.5),this.datos.pociones[2]=!0,this.abrir=!1,console.log("POCION MORADA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionR,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionR&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionR=!0),this.pocionR.setAlpha(.5),this.datos.pociones[4]=!0,this.abrir=!1,console.log("POCION ROSA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionV,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionV&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionV=!0),this.pocionV.setAlpha(.5),this.datos.pociones[3]=!0,this.abrir=!1,console.log("POCION VERDE RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAz,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAz&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAz=!0),this.pocionAz.setAlpha(.5),this.datos.pociones[5]=!0,this.abrir=!1,console.log("POCION AZUL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.velas,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.velas&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.velas=!0),this.velas.setAlpha(.5),this.datos.pociones[8]=!0,this.abrir=!1,console.log("VELAS RECOGIDAS"))}),this.physics.add.overlap(e.sprite,this.libro,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.libro&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.libro=!0),this.libro.setAlpha(.5),this.datos.pociones[1]=!0,this.abrir=!1,console.log("LIBROS RECOGIDOS"))})})}setUpPlayers(){const e=new n(this,"player1",50,300,"idle");e.setScale(.08),this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT"}].map(e=>(console.log(e),{playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey])}))}}class y extends s().Scene{constructor(){super("ControlScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(220,380,"pergamino"),this.pergamino1.setScale(1.3,1.8),this.pergamino2=this.add.image(500,380,"pergamino"),this.pergamino2.setScale(1.3,1.8),this.pergamino3=this.add.image(780,380,"pergamino"),this.pergamino3.setScale(1.3,1.8),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Controles",{fontSize:"45px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(220,310,"Jugador 1:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#9be3ffff"}).setOrigin(.5),this.add.text(230,400,"W-Arriba\n A-Izquierda\n S-Abajo\n D-Derecha\n SPACE-Saltar\n Q-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,310,"Jugador 2:",{fontSize:"32px",color:"rgba(255, 99, 99, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(520,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n ENTER-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(750,310,"Online:",{fontSize:"32px",color:"rgba(141, 116, 255, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(800,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n SPACE-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{if("MenuScene"===e.originalScene){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")}else this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()})}}class f extends s().Scene{constructor(){super("DecisionScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoD","/imagenes/eleccion.jpg")}create(e){this.fondoD=this.physics.add.image(500,300,"fondoD"),this.fondoD.setImmovable(!0),this.fondoD.body.allowGravity=!1,this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.26),this.boton1=this.add.image(280,420,"boton"),this.boton1.setScale(.15),this.boton1.setAlpha(.5),this.boton2=this.add.image(730,420,"boton"),this.boton2.setScale(.15),this.boton2.setAlpha(.5),"local"===e.modo?this.selector=s().Math.Between(1,2):this.selector=e.eleccion,1===this.selector?(this.add.text(500,100,"El jugador 1 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player1"):2===this.selector&&(this.add.text(500,100,"El jugador 2 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player2"),this.add.text(500,150,"el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.add.text(500,320,"ahora deberá elegir:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(280,420,"Compartir el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5),i=this.add.text(730,420,"Beber el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5);"online"===e.modo?this.id===e.jugador&&(t.setAlpha(1),t.setInteractive({useHandCursor:!0}),t.on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}),t.on("pointerout",()=>t.setStyle({fill:"#000000ff"})),t.on("pointerdown",()=>{e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:3})))}),i.setAlpha(1),i.setInteractive({useHandCursor:!0}),i.on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}),i.on("pointerout",()=>i.setStyle({fill:"#000000ff"})),i.on("pointerdown",()=>{1===this.selector?e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("ebviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:1}))):2===this.selector&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:2})))}),this.boton1.setAlpha(1),this.boton2.setAlpha(1)):"local"===e.modo&&(t.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("FinalBScene")}),i.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{1===this.selector?this.scene.start("FinalM1Scene"):2===this.selector&&this.scene.start("FinalM2Scene")}),this.boton1.setAlpha(1),this.boton2.setAlpha(1))}}class b extends s().Scene{constructor(){super("FinalBScene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoC","/imagenes/compartir.png"),this.load.audio("victoria","/sounds/victoria.mp3")}create(){this.fondoC=this.physics.add.image(500,300,"fondoC"),this.fondoC.setImmovable(!0),this.fondoC.body.allowGravity=!1,this.sound&&this.sound.play("victoria",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"Los jugadores han decidido",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"compartir el Elixir de la Vida Eterna, ahora",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ambos vivirán hasta la eternidad,",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,200,"y podrán adquirir todos los conocimientos",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,250,"existentes...",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const e=this.add.text(500,500,"Volver al menú principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("victoria"),this.scene.start("MenuScene")})}}class v extends s().Scene{constructor(){super("FinalM1Scene")}preload(){this.load.image("fondo_1M","/imagenes/traicion_ranaRoja.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){this.fondo_1M=this.physics.add.image(500,300,"fondo_1M"),this.fondo_1M.setImmovable(!0),this.fondo_1M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 1 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elección y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,500,"Volver al menú principal",{fontSize:"16px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("MenuScene")})}}class S extends s().Scene{constructor(){super("FinalM2Scene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondo_2M","/imagenes/traicion_ranaAzul.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){this.fondo_2M=this.physics.add.image(500,300,"fondo_2M"),this.fondo_2M.setImmovable(!0),this.fondo_2M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 2 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elección y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,500,"Volver al menú principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("MenuScene")})}}class x extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png")}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,180,"titulo"),this.titulo.setScale(.25),this.add.text(500,180,"CONEXIÓN PERDIDA",{fontSize:"48px",color:"#c90000ff",fontFamily:"Tagesschrift",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(500,320,"Intentando reconectar...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(500,390,"Intentos: 0",{fontSize:"18px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},a.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await a.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),a.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&a.removeListener(this.connectionListener)}}class C extends s().Scene{constructor(){super({key:"SalaDeEspera"}),this.ws=null}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("pergaminoTitulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("campoFuerza","/imagenes/campodefuerza.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("walk","/sounds/walk.mp3")}resetState(){this.roomCode=null,this.roomId=null,this.gameStarted=!1,this.roomCodeText&&this.roomCodeText.active&&this.roomCodeText.setText(""),this.statusText&&this.statusText.active&&this.statusText.setText(""),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.value="")}init(){this.walkSounds=new Map,this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.processor=new r,this.bgm=null,this.roomCode=null,this.roomId=null,this.gameStarted=!1}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}}),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}),this.events.on("resume",()=>{this.bgm&&!this.bgm.isPlaying&&this.bgm.resume()}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}try{this.bgm&&(this.bgm.stop(),this.bgm.destroy())}catch(e){console.warn(e)}}),this.walkSounds.clear()}),this.crearEscenario(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.game.sound.stopByKey("musicaMenu"),this.bgm=this.sound.add("bgm",{volume:.7,loop:!0}),this.bgm.play(),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.connectToServer(),console.log("codigo:",this.roomCode),this.crearInterfaz()}crearInterfaz(){const e=this.cameras.main.width,t=this.cameras.main.height;this.pergamino=this.add.image(e/2,100,"pergaminoTitulo"),this.pergamino.setScale(.25,.2),this.titulo=this.add.text(e/2,100,"Online Multiplayer",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.roomCodeText=this.add.text(e/2,150,"",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.tituloCrearSala=this.add.text(e/2,300,"Crear torre",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonCrearSala=this.add.image(e/2,340,"boton"),this.botonCrearSala.setScale(.05,.1),this.crearSalaText=this.add.text(e/2,340,"Crear",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.crearSalaText.on("pointerover",()=>{this.crearSalaText.setStyle({fill:"#ff0000"})}),this.crearSalaText.on("pointerout",()=>{this.crearSalaText.setStyle({fill:"#000000ff"})}),this.crearSalaText.on("pointerdown",()=>{this.resetState(),this.crearSala()}),this.tituloCola=this.add.text(e/2,200,"Únete a una torre...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonUnirseCola=this.add.image(e/2,240,"boton"),this.botonUnirseCola.setScale(.05,.1),this.unirseColaText=this.add.text(e/2,240,"Torre",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseColaText.on("pointerover",()=>{this.unirseColaText.setStyle({fill:"#ff0000"})}),this.unirseColaText.on("pointerout",()=>{this.unirseColaText.setStyle({fill:"#000000ff"})}),this.unirseColaText.on("pointerdown",()=>{this.resetState(),this.unirseCola()}),this.tituloCodigo=this.add.text(e/2,400,"O únete con código",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.createCodeInput(e/2-80,440),this.botonUnirseCodigo=this.add.image(e/2+110,440,"boton"),this.botonUnirseCodigo.setScale(.05,.1),this.unirseCodigoText=this.add.text(e/2+110,440,"Unirse",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseCodigoText.on("pointerover",()=>{this.unirseCodigoText.setStyle({fill:"#ff0000"})}),this.unirseCodigoText.on("pointerout",()=>{this.unirseCodigoText.setStyle({fill:"#000000ff"})}),this.unirseCodigoText.on("pointerdown",()=>{this.unirseSala()}),this.statusText=this.add.text(e/2,t/2,"",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ff0000"}).setOrigin(.5),this.add.image(e/2,520,"boton").setScale(.05,.1);const s=this.add.text(e/2,520,"Volver",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setStyle({fill:"#ff0000"})}),s.on("pointerout",()=>{s.setStyle({fill:"#000000ff"})}),s.on("pointerdown",()=>{this.shutdown(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop(),this.scene.start("MenuScene")})}createCodeInput(e,t){const s=document.createElement("input");s.type="text",s.id="roomCodeInput",s.placeholder="Código de sala",s.maxLength=6,s.style.cssText="\n      position: absolute;\n      width: 200px;\n      height: 40px;\n      font-size: 24px;\n      text-align: center;\n      font-family: Tagesschrift, arial;\n      text-transform: uppercase;\n      border: 3px solid #ffffff;\n      background-color: #222222;\n      color: #ffffff;\n      border-radius: 5px;\n      outline: none;\n      z-index: 9999;",s.addEventListener("input",()=>{s.value=s.value.toUpperCase()}),s.addEventListener("keypress",e=>{"Enter"===e.key&&this.unirseSala()}),document.body.appendChild(s);const i=()=>{const i=this.game.canvas.getBoundingClientRect();s.style.left=`${Math.round(i.left+e-100)}px`,s.style.top=`${Math.round(i.top+t-20)}px`};i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),this.events.once("shutdown",()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i),s.remove()}),this.codeInput=s}handleServerMessage(e){switch(e.type){case"queueStatus":this.statusText.setText(`Jugadores en cola: ${e.position}/2`),this.statusText.setColor("#ffff00");break;case"roomInfo":e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Tu torre: ${e.code}`),this.roomCodeText.setColor("#ffffff"),this.roomId=e.roomId,this.statusText.setText(`Sala creada: ${e.code}`),this.statusText.setColor("#00ff00"));break;case"joinRoomResult":e.success?(this.roomCode=e.code,this.roomId=e.roomId,this.roomCodeText.setText(e.code),this.roomCodeText.setColor("#ffffff"),this.statusText.setText("Unido a la sala."),this.statusText.setColor("#00ff00")):(this.resetState(),this.mostrarBotones(),this.statusText.setText(e.message||"No se pudo unir a la sala."),this.statusText.setColor("#ff0000"));break;case"startGame":case"gameStart":if(this.gameStarted)return;this.gameStarted=!0,e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Torre: ${e.code}`),this.roomCodeText.setColor("#ffffff")),this.statusText.setText("¡Partida iniciando!"),this.statusText.setColor("#00ff00"),console.log("Partida iniciando!",e),this.bgm&&(this.bgm.stop(),this.bgm.destroy()),this.scene.start("GameSceneO",{ws:this.ws,playerRole:e.role,roomId:e.roomId||this.roomId,initialBall:e.ball});break;case"error":this.resetState(),this.statusText.setText(e.message||"Error del servidor."),this.statusText.setColor("#ff0000"),this.mostrarBotones();break;default:console.log("Unknown message type:",e.type)}}crearSala(){if(this.ws&&this.ws.readyState===WebSocket.OPEN){if(this.roomCode)return this.statusText.setText("Ya has creado una sala."),void this.statusText.setColor("#ff0000");this.ws.send(JSON.stringify({type:"createRoom"})),this.ocultarBotones(),this.statusText.setText("Creando sala..."),this.statusText.setColor("#ffff00")}else this.statusText.setText("No conectado al servidor. Error de conextión."),this.statusText.setColor("#ff0000")}unirseCola(){this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinQueue"})),this.ocultarBotones(),this.statusText.setText("Buscando partida..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conextión."),this.statusText.setColor("#ff0000"))}ocultarBotones(){this.tituloCrearSala.setVisible(!1),this.botonCrearSala.setVisible(!1),this.crearSalaText.setVisible(!1),this.crearSalaText.disableInteractive(),this.tituloCola.setVisible(!1),this.botonUnirseCola.setVisible(!1),this.unirseColaText.setVisible(!1),this.unirseColaText.disableInteractive(),this.tituloCodigo.setVisible(!1),this.codeInput.style.display="none",this.botonUnirseCodigo.setVisible(!1),this.unirseCodigoText.setVisible(!1),this.unirseCodigoText.disableInteractive(),this.codeInput&&(this.codeInput.style.display="none")}mostrarBotones(){this.tituloCrearSala.setVisible(!0),this.botonCrearSala.setVisible(!0),this.crearSalaText.setVisible(!0),this.crearSalaText.setInteractive(),this.tituloCola.setVisible(!0),this.botonUnirseCola.setVisible(!0),this.unirseColaText.setVisible(!0),this.unirseColaText.setInteractive(),this.tituloCodigo.setVisible(!0),this.codeInput.style.display="block",this.botonUnirseCodigo.setVisible(!0),this.unirseCodigoText.setVisible(!0),this.unirseCodigoText.setInteractive(),this.codeInput&&(this.codeInput.style.display="block")}unirseSala(){const e=this.codeInput.value.trim().toUpperCase();return e?6!==e.length?(this.statusText.setText("El código de sala debe tener 6 caracteres."),void this.statusText.setColor("#ff0000")):void(this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinRoom",code:e})),this.statusText.setText("Intentando unirse a la sala..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conextión."),this.statusText.setColor("#ff0000"))):(this.statusText.setText("Por favor, introduce un código de sala."),void this.statusText.setColor("#ff0000"))}update(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;const i=this.walkSounds.get(e.playerId);let a=!1;e.upKeyObj.isDown?(s="up",a=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",a=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",a=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",a=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),i&&i.isPlaying&&i.stop()),a&&i&&!i.isPlaying&&i.play();let o=new h(t,s,!1);this.processor.process(o)})}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerza"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500)}establecerColisiones(){this.players.forEach(e=>{this.physics.add.collider(e.sprite,this.barreraInvisible)})}setUpPlayers(){const e=new n(this,"player1",50,400,"idle_Azul");this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"SPACE"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"}))}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}connectToServer(){try{this.ws&&(this.ws.readyState!==WebSocket.OPEN&&this.ws.readyState!==WebSocket.CONNECTING||(console.log("WebSocket already connected or connecting"),this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.close()),this.ws=null);const e=`ws://${window.location.host}/ws`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Conectado al servidor."),this.statusText.setColor("#00ff00"),this.time.delayedCall(500,()=>{this.statusText.setText("")})},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("SalaDeEspera")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}leaveQueue(){this.ws&&(this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close()),this.ws=null),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.remove(),this.codeInput=null),this.resetState()}shutdown(){this.leaveQueue()}}class w extends s().Scene{constructor(){super("GameSceneO")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("pequeño","/sounds/pequeño.mp3"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}init(e){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new r,this.cofreAbierto=!1,this.walkSounds=new Map,this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.localPlayer=null,this.remotePlayer=null,this.estrella=!1,this.lOponente=!1,this.desactivado=[!1,!1]}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"});const e="player1"===this.playerRole?"Eres el Jugador 1 (Azul)":"Eres el Jugador 2 (Rojo)";this.add.text(500,40,e,{fontSize:"24px",fontFamily:"Tagesschrift"}).setOrigin(.5),"player1"===this.playerRole?(this.localPlayer=this.players.get("player1"),this.remotePlayer=this.players.get("player2")):(this.localPlayer=this.players.get("player2"),this.remotePlayer=this.players.get("player1")),this.cursors=this.input.keyboard.createCursorKeys(),this.jumpKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.SPACE),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q),this.setupWebSocketListeners()}update(e,t){if(!this.localPlayer||!this.remotePlayer)return;this.escKey.isDown&&!this.escWasDown&&this.togglePause();let s=null;s=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":this.cursors.left.isDown?"left":this.cursors.right.isDown?"right":"stop",this.escWasDown=this.escKey.isDown,this.lPulsada=!1,this.lOponente=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0,this.sendMessage({type:"lPulsada"})),this.players.forEach(e=>{e.update(t)});let i=new h(this.localPlayer,s,this.jumpKey.isDown);this.processor.process(i),"stop"!==s?(this.localPlayer.andar_animacion(),"left"===s?this.localPlayer.sprite.flipX=!1:"right"===s&&(this.localPlayer.sprite.flipX=!0)):this.localPlayer.andar_animacion_parar();const a=this.walkSounds.get(this.playerRole);"stop"!==s?a&&!a.isPlaying&&a.play():a&&a.isPlaying&&a.stop(),this.sendMessage({type:"playerMove",x:this.localPlayer.sprite.x,y:this.localPlayer.sprite.y,direction:s,isMoving:"stop"!==s,flipX:this.localPlayer.sprite.flipX}),this.actualizarInventarioEnPantalla()}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1)}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameSceneO",pociones:this.inventario,sound:this.sound,jugador:t,ws:this.ws}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey))&&this.sendMessage({type:"usarCaldero",inventario:this.inventario})}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.sendMessage({type:"botonCampoFuerza",boton:1})}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.sendMessage({type:"botonCampoFuerza",boton:2})})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}actualizarInventarioEnPantalla(){this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){this.cofreAbierto&&(console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})}))}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2),this.estrella=!0):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2),this.estrella=!0))}comprobarCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&(this.lOponente||this.qkey.isDown)&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(this.sendMessage({type:"desactivarCampoFuerza"}),this.abrirCampoFuerza())}abrirCampoFuerza(){console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal()}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0),this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player1"})}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player2"})})}entrarPuertaFinal(e,t){if(console.log("Desactivado:",e),e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{eleccion:t,jugador:this.playerRole,ws:this.ws,modo:"online"})}}setUpPlayers(){const e=new n(this,"player1",50,400,"idle_Azul"),t=new n(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t)}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Menú",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{this.ws.close()},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}dañoJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador 1 ha recibido daño"),this.sendMessage({type:"dañoJugador",player:"player1",vida:e.vida}),e.vida<=0&&this.endGame("player1")}dañoJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador 2 ha recibido daño"),this.sendMessage({type:"dañoJugador",player:"player2",vida:e.vida}),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameSceneO"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume()}togglePause(){const e=!this.isPaused;this.processor.process(new d(this,e))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error al parsear mensaje Websocket:",e)}},this.ws.onclose=()=>{console.log("Conexión WebSocket cerrada"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("Error de WebSocket :",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"movimientoJugador":{if(e.player===this.playerRole)break;if(!this.remotePlayer)break;const t=this.walkSounds.get(e.player);e.isMoving&&"stop"!==e.direction?t&&!t.isPlaying&&t.play():t&&t.isPlaying&&t.stop(),this.remotePlayer.sprite.x=e.x,this.remotePlayer.sprite.y=e.y,this.remotePlayer.sprite.flipX=e.flipX,e.isMoving&&"stop"!==e.direction?this.remotePlayer.andar_animacion():this.remotePlayer.andar_animacion_parar();break}case"gameOver":this.endGame(e.winnerId);break;case"playerDisconnected":this.handleDisconnection();break;case"daño":this.handleDaño(e);break;case"usarCaldero":this.handleCaldero(e);break;case"Inventario":this.inventario=e.inventario,this.actualizarInventarioEnPantalla(),console.log("Inventario actualizado desde el servidor",this.inventario);break;case"botonCF":1===e.b?this.boton1Activado=!0:2===e.b&&(this.boton2Activado=!0),this.comprobarCampoFuerza();break;case"desactivarCF":this.abrirCampoFuerza();break;case"lOponente":this.lOponente=e.valor;break;case"puertaFinal":this.handlePuertaFinal(e);break;case"final":console.log("final"),1===e.escena?this.scene.start("FinalM1Scene"):2===e.escena?this.scene.start("FinalM2Scene"):this.scene.start("FinalBScene"),this.scene.stop("DecisionScene");break;default:console.log("Mensaje WebSocket desconocido:",e)}}handleDisconnection(){this.gameEnded=!0,this.localPlayer.sprite.setVelocity(0,0),this.remotePlayer.sprite.setVelocity(0,0),this.physics.pause(),this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,220,"titulo"),this.titulo.setScale(.3,.25),this.add.text(500,200,"Fallo por desconexión",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.add.text(500,250,"La partida ha finalizado",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.createMenuButton()}handleDaño(e){const t=this.players.get(e.player);t&&(t.vida=e.vida,"player1"===e.player?this.healthLeft.setText(e.vida.toString()):this.healthRight.setText(e.vida.toString()),t.vida<=0&&this.endGame(e.player))}handleCaldero(e){for(let e=1;e<this.inventario.length-2;e++)this.inventario[e]=!1;this.uno.setAlpha(.2),this.dos.setAlpha(.2),this.tres.setAlpha(.2),this.cuatro.setAlpha(.2),this.cinco.setAlpha(.2),this.seis.setAlpha(.2),this.siete.setAlpha(.2),this.ocho.setAlpha(.2),this.nueve.setAlpha(.2),this.diez.setAlpha(.2),e.exito?(console.log("Poción de disminuir tamaño creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("pequeño",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poción de disminuir tamaño"),this.sound&&this.sound.play("explosion",{volume:.5}),1===e.jugadorDañado?this.dañoJugLeft():this.dañoJugRight())}handlePuertaFinal(e){let t;if("player1"===e.jugador?(this.players.get("player1").sprite.disableBody(!0,!0),this.desactivado[0]=!0,t=this.walkSounds.get("player1")):(this.players.get("player2").sprite.disableBody(!0,!0),this.desactivado[1]=!0,t=this.walkSounds.get("player2")),t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}this.entrarPuertaFinal(this.desactivado,e.ganador)}createMenuButton(){this.boton=this.add.image(500,400,"boton"),this.boton.setScale(.15,.1);const e=this.add.text(500,400,"Volver al Menú",{fontFamily:"Tagesschrift",fontSize:"30px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),console.log("Cerrando conexión WebSocket..."),setTimeout(()=>{this.ws.close(),console.log("Conexión WebSocket cerrada.")},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}const A={type:s().AUTO,width:1e3,height:560,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:2e4},debug:!1}},dom:{createContainer:!0},scene:[i,o,w,c,u,p,g,m,y,f,b,v,S,x,C],backgroundColor:"#47ddffff"};new(s().Game)(A)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzlULEtBQUs2TCxHQUFHcUksT0FFaEIsRUNwZ0NKLE1BQU1wQixFQUFTLENBQ1hrQixLQUFNLFNBQ044RCxNQUFPLElBQ1BHLE9BQVEsSUFDUnlGLE9BQVEsaUJBQ1JsVixRQUFTLENBQ0xtVixRQUFTLFNBQ1RDLE9BQVEsQ0FDSkMsUUFBUyxDQUFFalcsRUFBRyxLQUNka1csT0FBTyxJQUdmQyxJQUFLLENBQ0RDLGlCQUFpQixHQUVyQjdjLE1BQU8sQ0FBRXhCLEVBQVkyRSxFQUFXb1gsRUFBWTVRLEVBQVd5SixFQUFnQmQsRUFBWVUsRUFBY0csRUFBZWUsRUFBY0csRUFBZU8sRUFBYUcsRUFBY0UsRUFBY0UsRUFBcUJhLEdBQzNNOEcsZ0JBQWlCLGFBR1IsSUFBSSxVQUFZbkwsRSIsInNvdXJjZXMiOlsid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvTG9naW5TY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9NZW51U2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2VudGl0aWVzL01hZ28uanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2NvbW1hbmQvY29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvY29tbWFuZC9Db21tYW5kLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9jb21tYW5kL01vdmVNYWdvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvY29tbWFuZC9QYXVzZUdhbWVDb21tYW5kLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0hpc3RvcmlhU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9MaWJyZXJpYVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29udHJvbFNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvRGVjaXNpb25TY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0ZpbmFsQlNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvRmluYWxNMVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvRmluYWxNMlNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL1NhbGFEZUVzcGVyYS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZU8uanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xvZ2luU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIE5vIG5lY2VzaXRhbW9zIGNhcmdhciByZWN1cnNvc1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kbyBkZSBjb2xvciBvc2N1cm9cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgxYTFhMWEpO1xyXG5cclxuICAgICAgICAvLyBPYnRlbmVyIGVsZW1lbnRvcyBkZWwgRE9NXHJcbiAgICAgICAgY29uc3QgbG9naW5Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luLWZvcm0nKTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZCcpO1xyXG4gICAgICAgIGNvbnN0IGxvZ2luQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luQnV0dG9uJyk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2dpblNjZW5lIGluaWNpYWRhJyk7XHJcblxyXG4gICAgICAgIC8vIEFzZWd1cmFyc2UgZGUgcXVlIGVsIGZvcm11bGFyaW8gZXMgdmlzaWJsZVxyXG4gICAgICAgIGlmIChsb2dpbkZvcm0pIHtcclxuICAgICAgICAgICAgbG9naW5Gb3JtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGxvZ2luQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIGxvZ2luQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NsaWNrIGVuIGxvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHVzZXJuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IHBhc3N3b3JkSW5wdXQudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZXJuYW1lOicsIHVzZXJuYW1lLCAnUGFzc3dvcmQ6JywgcGFzc3dvcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh1c2VybmFtZSAhPT0gJycgJiYgcGFzc3dvcmQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvZ2luIGV4aXRvc28sIGluaWNpYW5kbyBNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBPY3VsdGFyIGVsIGZvcm11bGFyaW9cclxuICAgICAgICAgICAgICAgICAgICBpZiAobG9naW5Gb3JtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbWJpYXIgYSBsYSBzaWd1aWVudGUgZXNjZW5hXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NhbXBvcyB2YWPDrW9zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1BvciBmYXZvciBjb21wbGV0YSB0b2RvcyBsb3MgY2FtcG9zJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGVybWl0aXIgbG9naW4gY29uIEVudGVyXHJcbiAgICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHtcclxuICAgICAgICAgICAgcGFzc3dvcmRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dpbkJ1dHRvbi5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gMDtcclxuICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IDIwMDA7IC8vIENvbXByb2JhciBjYWRhIDIgc2VndW5kb3NcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcblxyXG4gICAgLy8gSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XHJcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHJvYmFyIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cclxuICAgKi9cclxuICBhc3luYyBjaGVja0Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSBkYXRhLmNvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cclxuICAgKi9cclxuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xyXG4gICAqL1xyXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXHJcbiAgICogQHJldHVybnMge29iamVjdH1cclxuICAgKi9cclxuICBnZXRTdGF0dXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCxcclxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXHJcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBzdGFydFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXHJcbiAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG5cclxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgKi9cclxuICBzdG9wUG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxyXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb00nLCAnL2ltYWdlbmVzL2xvZ29TaW5Gb25kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnaG92ZXInLCAnL3NvdW5kcy9ob3Zlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljYU1lbnUnLCAnL3NvdW5kcy9tw7pzaWNhX01QcmluY2lwYWwubXAzJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoJ1RhZ2Vzc2NocmlmdCcsICd1cmwoL2Z1ZW50ZXMvVGFnZXNzY2hyaWZ0LnR0ZiknKTtcclxuICAgICAgICBmb250LmxvYWQoKS50aGVuKGZ1bmN0aW9uIChsb2FkZWRGb250KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChsb2FkZWRGb250KTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBmb250OicsIGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRW5zdXJlIG5vIGR1cGxpY2F0ZSBtZW51IG11c2ljIHBsYXlzIChzdG9wIGV4aXN0aW5nIHRoZW4gcGxheSlcclxuICAgICAgICB0cnkgeyBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIHRoaXMuZ2FtZS5zb3VuZC5wbGF5KCdtdXNpY2FNZW51JywgeyB2b2x1bWU6IDAuNywgbG9vcDogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5mb25kbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzUwLCAnZm9uZG9NJylcclxuICAgICAgICB0aGlzLmZvbmRvLnNldFNjYWxlKDAuOCk7XHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDMwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYm90b24yID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAzNTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmJvdG9uMyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24zLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjQgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uNC5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYm90b241ID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjUuc2V0U2NhbGUoMC4xKTtcclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTIwLCAnRWwgRW5pZ21hIGRlIGxhXFxuVG9ycmUgRW5jYW50YWRhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzU2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcIlRhZ2Vzc2NocmlmdFwiLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTgpOyBcclxuXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzAwLCAnTG9jYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIG1lbsO6IGFudGVzIGRlIGNhbWJpYXIgZGUgZXNjZW5hXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25saW5lQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDM1MCwgJ09ubGluZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG9ubGluZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgYXN5bmMoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NhbGFEZUVzcGVyYScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWRpdG9zQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQwMCwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjcmVkaXRvc0J0bi5zZXRTdHlsZSh7IGZpbGw6ICcjZmY5MTAwZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGNyZWRpdG9zQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgaGlzdG9yaWFCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnSGlzdG9yaWEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaGlzdG9yaWFCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzM4ZmZmZmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBoaXN0b3JpYUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdIaXN0b3JpYVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjb250cm9sQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ0NvbnRyb2xlcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sQnRuLnNldFN0eWxlKHsgZmlsbDogJyNmZjBkZmZjMScgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY29udHJvbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDb250cm9sU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdNZW51U2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIGNvbmV4acOzbiBhbCBzZXJ2aWRvclxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQgPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTQwLCAnU2Vydmlkb3I6IENvbXByb2JhbmRvLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKSB7XHJcbiAgICAgICAgLy8gU29sbyBhY3R1YWxpemFyIHNpIGVsIHRleHRvIGV4aXN0ZSAobGEgZXNjZW5hIGVzdMOhIGNyZWFkYSlcclxuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGlvblRleHQgfHwgIXRoaXMuc2NlbmUgfHwgIXRoaXMuc2NlbmUuaXNBY3RpdmUoJ01lbnVTY2VuZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KGBTZXJ2aWRvcjogJHtkYXRhLmNvdW50fSB1c3VhcmlvKHMpIGNvbmVjdGFkbyhzKWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KCdTZXJ2aWRvcjogRGVzY29uZWN0YWRvJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgTWFnb3tcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgaWRTcHJpdGUpe1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy52aWRhID0gMzsgXHJcbiAgICAgICAgdGhpcy5pZGxlID0gaWRTcHJpdGU7XHJcbiAgICAgICAgdGhpcy5lc3RhZG9fbm9ybWFsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5iYXNlV2lkaHQgPSAyMDtcclxuICAgICAgICB0aGlzLmJhc2VIZWlnaHQgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAzMDA7XHJcblxyXG4gICAgICAgIC8vIFNhbHRvXHJcbiAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmp1bXBWZWxvY2l0eSA9IDA7XHJcbiAgICAgICAgdGhpcy5ncm91bmRZID0geTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCBpZFNwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC4zNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7IFxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldFNpemUoMTI1LDE3NSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRPZmZzZXQoODgwLDc1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgYW5kYXJfYW5pbWFjaW9uKCl7XHJcbiAgICAgICAgaWYoIXRoaXMuc3ByaXRlIHx8ICF0aGlzLnNwcml0ZS5hbmltcykgcmV0dXJuOyAvLyBQcm90ZWdlciBzaSBlbCBzcHJpdGUgbyBhbmltcyBubyBleGlzdGVuXHJcbiAgICAgICAgaWYoIXRoaXMuc3ByaXRlLmFuaW1zLmlzUGxheWluZyl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaWRsZSA9PT0gJ2lkbGVfQXp1bCcpe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zY2VuZSAmJiB0aGlzLnNjZW5lLmFuaW1zICYmIHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKFwiYW5kYXJfbWFnb19BenVsXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KFwiYW5kYXJfbWFnb19BenVsXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaWRsZSA9PT0gJ2lkbGVfUm9qbycpe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zY2VuZSAmJiB0aGlzLnNjZW5lLmFuaW1zICYmIHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKFwiYW5kYXJfbWFnb19Sb2pvXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KFwiYW5kYXJfbWFnb19Sb2pvXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFuZGFyX2FuaW1hY2lvbl9wYXJhcigpe1xyXG4gICAgICAgIGlmKCF0aGlzLnNwcml0ZSB8fCAhdGhpcy5zcHJpdGUuYW5pbXMpIHJldHVybjsgLy8gUHJvdGVnZXIgc2kgZWwgc3ByaXRlIG8gYW5pbXMgbm8gZXhpc3RlblxyXG4gICAgICAgIGlmKHRoaXMuc3ByaXRlLmFuaW1zLmlzUGxheWluZyl7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGV4dHVyZSh0aGlzLmlkbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBqdW1wKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0p1bXBpbmcgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZID0gdGhpcy5zcHJpdGUueTsgLy8gZXN0YWJsZWNlciBsYSBhbHR1cmEgYSBsYSBxdWUgdGllbmUgcXVlIHZvbHZlciBjb21vIGxhIGFjdHVhbCBcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKC0xMDAwMDApOyAvLyBWZWxvY2lkYWQgaW5pY2lhbCBkZSBzYWx0b1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IHRydWU7IC8vIGFjdGl2YXIgZ3JhdmVkYWQgZW4gbG9zIHNhbHRvc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZGVsdGEpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nICkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBsYW5kZWQgKGJhY2sgdG8gZ3JvdW5kIGxldmVsIG9yIGJlbG93KVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zcHJpdGUueSA+PSB0aGlzLmdyb3VuZFkgJiYgdGhpcy5zcHJpdGUuYm9keS52ZWxvY2l0eS55ID49IDApIHsgLy8gQ29tcHJvYmFyIHNpIHRpZW5lIHF1ZSB2b2x2ZXIgYSBhcmVhIGRlIHN1ZWxvXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS55ID0gdGhpcy5ncm91bmRZOyAvLyBpciBhIGxhIHBvc2ljacOzbiBlbiBsYSBxdWUgY29tZW56w7MgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyAvLyBkZXNhY3RpdmFyIGdyYXZlZGFkIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTsgLy8geWEgbm8gZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZXN0YWRvX25vcm1hbCA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMzUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0U2NhbGUoc2NhbGUpe1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKHNjYWxlKTtcclxuICAgIH1cclxuIFxyXG4gICAgc2V0UG9zaXRpb24oeCwgeSl7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvcntcclxuY29uc3RydWN0b3IoKXtcclxuICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTsgXHJcbiAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbn1cclxuXHJcbnNldFBsYXllcnMocGxheWVycyl7XHJcbiAgICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG59XHJcblxyXG5zZXRHYW1lU2NlbmUoZ2FtZVNjZW5lKXtcclxuICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG59XHJcblxyXG5wcm9jZXNzKGNvbW1hbmQpe1xyXG4gICAgY29tbWFuZC5leGVjdXRlKCk7IFxyXG59XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcbiAgICBleGVjdXRlKCl7fVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpe31cclxuXHJcbiAgICBnZXRQbGF5ZXIoKXt9XHJcbiAgICBcclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi9Db21tYW5kXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTW92ZU1hZ29Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihtYWdvLCBkaXJlY3Rpb24sIHNhbHRvKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubWFnbyA9IG1hZ287XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247IFxyXG4gICAgICAgIHRoaXMuc2FsdG8gPSBzYWx0bzsgXHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uID09PSAndXAnKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMubWFnby5iYXNlU3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmRpcmVjdGlvbiA9PT0gJ2Rvd24nKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVkoK3RoaXMubWFnby5iYXNlU3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmRpcmVjdGlvbiA9PT0gJ2xlZnQnKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVgoLXRoaXMubWFnby5iYXNlU3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jyl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlYKCt0aGlzLm1hZ28uYmFzZVNwZWVkKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7IFxyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WCgwKTsgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuc2FsdG8pe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5tYWdvLmJhc2VTcGVlZCozLjUgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0NvbW1hbmR9IGZyb20gXCIuL0NvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZUdhbWVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTY2VuZSwgaXNQYXVzZWQpe1xyXG4gICAgICAgIHN1cGVyKCk7IFxyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCl7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUuc2V0UGF1c2VTdGF0ZSh0aGlzLmlzUGF1c2VkKTsgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1hZ28gfSBmcm9tICcuLi9lbnRpdGllcy9NYWdvJ1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZU1hZ29Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBQYXVzZUdhbWVDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9QYXVzZUdhbWVDb21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIEVzY2VtbmFyaW8geSBvYmpldG9zIFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyZWRSJywgJy9pbWFnZW5lcy9wYXJlZFlUZWNoby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3N1ZWxvUicsICcvaW1hZ2VuZXMvc3VlbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib2xhQ3Jpc3RhbFInLCAnL2ltYWdlbmVzL2JvbGFDcmlzdGFsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FsZGVyb1InLCAnL2ltYWdlbmVzL2NhbGRlcm9Db2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbXBvRnVlcnphUicsICcvaW1hZ2VuZXMvY2FtcG9kZWZ1ZXJ6YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvZnJlUicsICcvaW1hZ2VuZXMvY29mcmUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb2ZyZUFiaWVydG9SJywgJy9pbWFnZW5lcy9jb2ZyZUFiaWVydG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlcmlhUicsICcvaW1hZ2VuZXMvZXN0YW50ZXJpYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xsYXZlUicsICcvaW1hZ2VuZXMvbGxhdmUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJnYW1pbm9SJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9Db2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYW50YVInLCAnL2ltYWdlbmVzL3BsYW50YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzUicsICcvaW1hZ2VuZXMvcG9jaW9uZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxhc1InLCAnL2ltYWdlbmVzL3ZlbGFzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0YW50ZVInLCAnL2ltYWdlbmVzL2VzdGFudGUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsaWJyb3NSJywgJy9pbWFnZW5lcy9saWJyb3MucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZSJywgJy9pbWFnZW5lcy9ib3RvblZhY2lvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DUicsICcvaW1hZ2VuZXMvYm90b25Db21wbGV0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdHJlbGxhUicsICcvaW1hZ2VuZXMvZXN0cmVsbGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0F6JywgJy9pbWFnZW5lcy9wb2Npb25BenVsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBbScsICcvaW1hZ2VuZXMvcG9jaW9uZXNBbWFyaWxsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTicsICcvaW1hZ2VuZXMvcG9jaW9uTmFyYW5qYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzUm8nLCAnL2ltYWdlbmVzL3BvY2lvblJvc2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc00nLCAnL2ltYWdlbmVzL3BvY2lvbk1vcmFkYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzVicsICcvaW1hZ2VuZXMvcG9jaW9uVmVyZGUucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfQXp1bCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNScsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzgucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfOCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlX1Jvam8nLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18yJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzQnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb181JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzcnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb184JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzgucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEludGVyZmF6IE11ZXJ0ZVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQkdNXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdiZ20nLCAnL3NvdW5kcy9iZ20ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb3MgZGUgZWZlY3Rvc1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYWJyaXJDb2ZyZScsICcvc291bmRzL2NoZXN0X29wZW4ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdyZWNvZ2VyUG9jaW9uJywgJy9zb3VuZHMvYm90ZWxsYXMubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdyZWNvZ2VyTGxhdmUnLCAnL3NvdW5kcy9sbGF2ZS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGsnLCAnL3NvdW5kcy93YWxrLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZXhwbG9zaW9uJywgJy9zb3VuZHMvZXhwbG9zaW9uLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncHVlcnRhJywgJy9zb3VuZHMvcHVlcnRhLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygndHJpZ2dlcicsICcvc291bmRzL3RyaWdnZXIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwZXF1ZcOxbycsICcvc291bmRzL3BlcXVlw7FvLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzID0gbmV3IE1hcCgpOyAvLyBNYXAgcGFyYSBndWFyZGFyIGVsIHNvbmlkbyBkZSBjYWRhIGp1Z2Fkb3JcclxuXHJcbiAgICAgICAgLy8gQXJyYXkgZGUgYm9vbGVhbm9zIHF1ZSByZXByZXNlbnRhIHF1ZSBvYmpldG9zIGhhbiByZWNvZ2lkbyBlbnRyZSBhbWJvcyBqdWdhZG9yZXNcclxuICAgICAgICAvLyBMb3Mgb2JqZXRvcyBzb246IDAtbGxhdmUsIDEtbGlicm9zLCAyLSBwb2Npb24gbW9yYWRhLCAzLSBwb2Npb24gdmVyZGUsIDQtIHBvY2lvbiByb3NhLCA1LSBwb2Npb24gYXp1bCwgNi0gcG9jaW9uIGFtYXJpbGxhLCA3LSBwb2Npb24gbmFyYW5qYSwgOC0gdmVsYXMsIDktIGJvbGEgZGUgY3Jpc3RhbCwgMTAtIHBsYW50YSwgMTEtIGVzdHJlbGxhIDEsIDEyLSBlc3RyZWxsYSAyXHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnYW5kYXJfbWFnb19BenVsJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2lkbGVfQXp1bCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzInIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8zJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzUnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF82JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzgnIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2FuZGFyX21hZ29fUm9qbycsXHJcbiAgICAgICAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdpZGxlX1Jvam8nIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb18yJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fMycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb181JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzcnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb184JyB9XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5iZ20gPSB0aGlzLnNvdW5kLmFkZCgnYmdtJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBpZiAoIXRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhciB1biBzb25pZG8gZGUgcGFzb3MgcGFyYSBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIxJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zIH0pKTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIyJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zIH0pKTtcclxuXHJcbiAgICAgICAgLy8gUGFyYXIgcGFzb3MgY3VhbmRvIGxhIGVzY2VuYSBzZSBwYXVzZSAoZWouIFBhdXNlU2NlbmUpIHkgbGltcGlhciBzb25pZG9zIGFsIHNodXRkb3duXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3BhdXNlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7IHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfSB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBBbCByZXN1bWUgbm8gc2UgcmVwcm9kdWNlIGF1dG9tw6F0aWNhbWVudGU6IGVsIHVwZGF0ZSgpIHJlYW51ZGFyw6EgcGFzb3Mgc2kgc2UgcHVsc2EgbW92ZXJcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBuYWRhIGVzcGVjaWFsOiB1cGRhdGUoKSB2b2x2ZXLDoSBhIHJlcHJvZHVjaXIgY3VhbmRvIGRldGVjdGUgbW92aW1pZW50b1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFzZWd1cmFyIGxpbXBpZXphIGN1YW5kbyBsYSBlc2NlbmEgc2UgY2llcnJlIGRlZmluaXRpdmFtZW50ZVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBwYXJhciB5IGRlc3RydWlyIHNvbmlkb3MgZGUgcGFzb3NcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MpIHdzLmRlc3Ryb3koKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIC8vIHBhcmFyIEJHTVxyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5iZ20gJiYgKHRoaXMuYmdtLmlzUGxheWluZyB8fCB0aGlzLmJnbS5pc1BhdXNlZCkpIHRoaXMuYmdtLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWFyRXNjZW5hcmlvKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhclBsYXRhZm9ybWFzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhckJhcnJlcmFJbnZpc2libGUoKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMuZXN0YWJsZWNlckNvbGlzaW9uZXMoKTtcclxuICAgICAgICB0aGlzLmludmVudGFyaW9FblBhbnRhbGxhKCk7IFxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5oZWFsdGhMZWZ0ID0gdGhpcy5hZGQudGV4dCg1MCwgMzAsICczJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwZmYnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaGVhbHRoUmlnaHQgPSB0aGlzLmFkZC50ZXh0KDkwMCwgMzAsICczJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwZmYnXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIHRoaXMubGtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5MKTtcclxuICAgICAgICB0aGlzLnFrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuUSk7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHRpbWUsIGRlbHRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gdGhpcy5lc2NLZXkuaXNEb3duO1xyXG5jb25zb2xlLmxvZyhcIkhvbGFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYVwiKTtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7IC8vdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSBzaSBubyBoYSBoYWJpZG8gb3ZlcmxhcFxyXG4gICAgICAgIGlmICh0aGlzLmxrZXkuaXNEb3duIHx8IHRoaXMucWtleS5pc0Rvd24pIHRoaXMubFB1bHNhZGEgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBDb21wcm9iYXIgc2kgYWxndW5vIGRlIGxvcyBqdWdhZG9yZXMgZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChtYWdvID0+IHtcclxuICAgICAgICAgICAgbWFnby51cGRhdGUoZGVsdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWFnbyA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgc2FsdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3Qgd2Fsa1NvdW5kID0gdGhpcy53YWxrU291bmRzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgICAgICAgbGV0IGlzTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLnVwS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5kb3duS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgICAgICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLnNwcml0ZS5mbGlwWCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnc3RvcCc7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbl9wYXJhcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh3YWxrU291bmQgJiYgd2Fsa1NvdW5kLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhbGtTb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNhbHRvIHNvbG8gc2kgZXN0YSBwZXF1ZcOxb1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5qdW1wT2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYWdvLmVzdGFkb19ub3JtYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzYWx0byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb25fcGFyYXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNNb3ZpbmcgJiYgd2Fsa1NvdW5kICYmICF3YWxrU291bmQuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB3YWxrU291bmQucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlTWFnb0NvbW1hbmQobWFnbywgZGlyZWN0aW9uLCBzYWx0byk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9hY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzFdKSB0aGlzLnVuby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLnVuby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzJdKSB0aGlzLmRvcy5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuZG9zLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bM10pIHRoaXMudHJlcy5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLnRyZXMuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s0XSkgdGhpcy5jdWF0cm8uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5jdWF0cm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s1XSkgdGhpcy5jaW5jby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmNpbmNvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNl0pIHRoaXMuc2Vpcy5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuc2Vpcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzddKSB0aGlzLnNpZXRlLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5zaWV0ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzhdKSB0aGlzLm9jaG8uc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s5XSkgdGhpcy5udWV2ZS5zZXRBbHBoYSgxKTtlbHNlIHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1sxMF0pIHRoaXMuZGllei5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyRXNjZW5hcmlvKCkge1xyXG4gICAgICAgIHRoaXMuc3VlbG8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDcyLCAnc3VlbG9SJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnN1ZWxvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wYXJlZCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCAyMDUsICdwYXJlZFInKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE2NSwgMzAwLCAnZXN0YW50ZXJpYVInKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE4NSwgMzAzLCAnYm9sYUNyaXN0YWxSJyk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDMwLCAnY2FsZGVyb1InKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDk0MCwgMzEwLCAnY2FtcG9GdWVyemFSJyk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvZnJlID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDUsIDI4MywgJ2NvZnJlUicpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNvZnJlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sbGF2ZSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTcwLCAxNjAsICdsbGF2ZVInKTtcclxuICAgICAgICB0aGlzLmxsYXZlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxsYXZlLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg3ODAsIDE4MCwgJ3BlcmdhbWlub1InKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxhbnRhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNzAsIDM2NSwgJ3BsYW50YVInKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBsYW50YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE2OSwgMjYyLCAncG9jaW9uZXNSJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZlbGFzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNDAsIDMwOCwgJ3ZlbGFzUicpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnZlbGFzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saWJyb3MgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE1MCwgMjIwLCAnbGlicm9zUicpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwLCAzNTAsICdib3RvblZSJyk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvdG9uMiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNzgwLCAzNTAsICdib3RvblZSJyk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gZXN0cmVsbGFzIGRlIGRlbnRybyBkZWwgY29mcmVcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDUwLCAyODMsICdlc3RyZWxsYVInKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDU2MCwgMjgzLCAnZXN0cmVsbGFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyQmFycmVyYUludmlzaWJsZSgpIHtcclxuICAgICAgICAvLyBDcmVhciB1bmEgYmFycmVyYSBpbnZpc2libGUgcXVlIGV2aXRhIHF1ZSBzdWJhIGhhY2lhIGFycmliYSAocGVybyBwdWVkYSBhbmRhciBsaWJyZW1lbnRlIHBvciBlbCBzdWVsbylcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0ltYWdlKDUwMCwgMTA1LCBudWxsKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0U2l6ZSgxMDAwLCA1MDApOyBcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLmJvZHkuc2V0U2l6ZSgxMDAwLCA1MDApO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjb2xsaWRlciBpbnZpc2libGUgcGFyYSBxdWUgcHVlZGEgdXNhciBsYSBiYWxkYSBzdXBlcmlvciBkZSBsYSBlc3RhbnRlcsOtwq1hIGNvbW8gcGxhdGFmb3JtYVxyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxNjUsIDE5NSwgJ3doaXRlX3BpeGVsJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5zZXRTY2FsZSg0LCAwLjUpO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjb2xsaWRlciBpbnZpc2libGUgcGFyYSBldml0YXIgcXVlIGF0cmF2aWVzZSBlbCBjYWxkZXJvXHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDUwMCwgNDAwLCAnd2hpdGVfcGl4ZWwnKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLnNldENpcmNsZSg4NSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldE9mZnNldCgtNzAsIC01NSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJQbGF0YWZvcm1hcygpIHtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG4gICAgICAgIC8vIENlbnRyb1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDQ0NiwgMzE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg1MTAsIDMxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNTcwLCAzMTUsICdlc3RhbnRlUicpO1xyXG5cclxuICAgICAgICAvLyBJenF1aWVyZGFcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg2NTAsIDM1MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNjUwLCAyMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDcwMCwgMzkwLCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICAgICAgLy8gRGVyZWNoYVxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDQ0NiwgMjUwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzNjAsIDIzNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMjk1LCAyMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDMwMCwgMzkwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzODAsIDM1MCwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVzdGFibGVjZXJDb2xpc2lvbmVzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIC8vIENvbGlzaW9uZXMgZGVsIGp1Z2Fkb3IgY29uIGVsIGVzY2VuYXJpb1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0YW50ZXJpYUNvbGwpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMucGxhdGFmb3JtYXMpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuY2FsZGVyb0NvbGwpO1xyXG4gICAgICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5jb2ZyZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDb25zZWd1aXIgbGEgbGxhdmVcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMubGxhdmUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdyZWNvZ2VyTGxhdmUnLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sbGF2ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxsYXZlIGNvbnNlZ3VpZGFcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBsbGF2ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDEpOyBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaWQ7IFxyXG4gICAgICAgICAgICBpZihwbGF5ZXIucGxheWVySWQgPT09ICdwbGF5ZXIxJykgaWQgPSAxO1xyXG4gICAgICAgICAgICBlbHNlIGlkID0gMjtcclxuXHJcbiAgICAgICAgICAgIC8vIEFicmlyIGxhIGxpYnJlcsOtwq1hXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxQdWxzYWRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdMaWJyZXJpYVNjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9jaW9uZXM6IHRoaXMuaW52ZW50YXJpbyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291bmQ6IHRoaXMuc291bmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1Z2Fkb3I6IGlkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQmFycmVyYSBpbnZpc2libGUgcGFyYSBwZXJtaXRpciBhcmVhIGRlIHN1ZWxvIGRvbmRlIHNlIGRlc3BsYWNlbiBsaWJyZW1lbnRlLCB5IGFyZWEgZGUgc2FsdG8gcGFyYSBzdWJpciBwb3IgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsIGNvbGlzaW9uYXIgY29uIGxhIGJhcnJlcmEgaW52aXNpYmxlIG1pZW50cmFzIGVsIGp1Z2Fkb3IgdmEgaGFjaWEgYXJyaWJhLCBzYWx0YVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxheWVyLmlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuanVtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBjYWxsYmFjayAtIG9ubHkgY29sbGlkZSB3aGVuIG1vdmluZyB1cCBhbmQgbm90IGp1bXBpbmdcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc01vdmluZ1VwID0gcGxheWVyLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnkgPCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhcGxheWVyLmlzSnVtcGluZyAmJiBpc01vdmluZ1VwO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWFyIHBvY2lvbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBzaSBzZSB0aWVuZW4gbGFzIHBvY2lvbmVzIG5lY2VzYXJpYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY2FsZGVybywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmxrZXkpIHx8IFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLnFrZXkpKSB7IC8vIENvbXByb2JhciBxdWUgc2UgaGEgcHVsc2FkbyBsYSB0ZWNsYSBMIG8gUSBwYXJhIGNyZWFyIGxhIHBvY2lvbiAoc2kgc2UgbWFudGllbmUgcHVsc2FkYSBsYSB0ZWNsYSBubyBlbnRyYXLDoSB2YXJpYXMgdmVjZXMgYSBsYSBmdW5jacOzbilcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbVJlY29naWRvcyA9IHRoaXMuaW52ZW50YXJpby5maWx0ZXIoZWxlbSA9PiBlbGVtID09PSB0cnVlKTsgLy8gY3JlYXIgdW4gc2VndW5kbyBhcnJheSBjb24gdW5pY2FtZW50ZSBsb3MgZWxlbWVudG9zIHJlY29naWRvc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbVJlY29naWRvcy5sZW5ndGggPT09IDMpIHx8IChlbGVtUmVjb2dpZG9zLmxlbmdodCA9PT0gNCkpIHsgLy8gcHJpbWVybyBjb21wcm9iYXIgcXVlIHNlIGhhbiByZWNvZ2lkbyAzIGVsZW1lbnRvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzNdICYmIHRoaXMuaW52ZW50YXJpb1s1XSAmJiB0aGlzLmludmVudGFyaW9bN10pIHsgLy8gY29tcHJvYmFyIHF1ZSBlc29zIGVsZW1lbnRvcyByZWNvZ2lkb3Mgc29uIGxhcyBwb2Npb25lcyB2ZXJkZSwgYXp1bCB5IG5hcmFuamEgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW8gY3JlYWRhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5kaXNhYmxlQm9keSgpOyAvLyBkZXNhY3RpdmFyIGVsIGNvbGxpZGVyIGRlbCBjYWxkZXJvIHBhcmEgbWllbnRyYXMgZXN0w6luIHBlcXVlw7FvcyBwdWVkYW4gYXRyYXZlc2FybG8gKGNhdXNhYmEgYnVnczogbGV2aXRhYmEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncGVxdWXDsW8nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZXN0YWRvX25vcm1hbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIHRpZW5lcyBsYXMgcG9jaW9uZXMgbmVjZXNhcmlhcyBwYXJhIGNyZWFyIGxhIHBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2V4cGxvc2lvbicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsZWF0b3JpbyA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgMik7IC8vIGdlbmVyYXIgdW4gbsO6bWVybyBhbGVhdG9yaW8gZW50cmUgMSB5IDIgcGFyYSBlbGVnaXIgcXVlIGp1Z2Fkb3IgcmVjaWJlIGRhw7FvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGVhdG9yaW8gPT09IDEpIHRoaXMuZGHDsW9KdWdMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5kYcOxb0p1Z1JpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyB2b2x2ZXIgYSBwb25lciBhIGZhbHNlIHRvZG9zIGxvcyBlbGVtZW50b3MgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuaW52ZW50YXJpby5sZW5ndGggLSAyOyBpKyspIHsgLy8gc2Ugc2FsdGEgbGEgbGxhdmUgeSBsYXMgZXN0cmVsbGFzIHBvcnF1ZSBubyBzZSB1dGlsaXphbiBwYXJhIGNyZWFyIGxhIHBvY2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9baV0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTogdGhpcy51bm8uc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHRoaXMuZG9zLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiB0aGlzLnRyZXMuc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHRoaXMuY3VhdHJvLnNldEFscGhhKDAuMik7IGJyZWFrOyAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHRoaXMuY2luY28uc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHRoaXMuc2Vpcy5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzogdGhpcy5zaWV0ZS5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODogdGhpcy5vY2hvLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiB0aGlzLm51ZXZlLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDogdGhpcy5kaWV6LnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFicmlyIGVsIGNvZnJlIHNpIHNlIHRpZW5lIGxhIGxsYXZlXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmNvZnJlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29mcmVBYmllcnRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1swXSkgeyAvLyBjb21wcm9iYXIgcXVlIHRpZW5lIGxhIGxsYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDb2ZyZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmVjZXNpdGFzIGxhIGxsYXZlIHBhcmEgYWJyaXIgZWwgY29mcmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlY29nZXIgZXN0cmVsbGFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdHJlbGxhMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvZ2VyRXN0cmVsbGEoMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RyZWxsYTIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb2dlckVzdHJlbGxhKDIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL2NvbG9jYXIgZXN0cmVsbGFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvY2FyRXN0cmVsbGEoMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb2NhckVzdHJlbGxhKDIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBwdWxzYXIgYm90b25lcyBwYXJhIGRlc2FjdGl2YXIgZWwgY2FtcG8gZGUgZnVlcnphXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjFBY3RpdmFkbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjJBY3RpdmFkbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gTG9zIG9iamV0b3Mgc29uOiAwLWxsYXZlLCAxLWxpYnJvcywgMi0gcG9jaW9uIG1vcmFkYSwgMy0gcG9jaW9uIHZlcmRlLCA0LSBwb2Npb24gcm9zYSwgNS0gcG9jaW9uIGF6dWwsIDYtIHBvY2lvbiBhbWFyaWxsYSwgNy0gcG9jaW9uIG5hcmFuamEsIDgtIHZlbGFzLCA5LSBib2xhIGRlIGNyaXN0YWwsIDEwLSBwbGFudGEsIDExLSBlc3RyZWxsYSAxLCAxMi0gZXN0cmVsbGEgMlxyXG4gICAgaW52ZW50YXJpb0VuUGFudGFsbGEoKSB7IC8vQ29tbyBzZSBhY2FiYSBkZSBjcmVhciwgdG9kYXbDrWEgbm8gc2UgaGFicsOhIHJlY29naWRvIG5pbmfDum4gZWxlbWVudG9cclxuICAgICAgICB0aGlzLmNlcm8gPSB0aGlzLmFkZC5pbWFnZSgyMDAsIDUyMCwgJ2xsYXZlUicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy51bm8gPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDUyMCwgJ2xpYnJvc1InKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5kb3MgPSB0aGlzLmFkZC5pbWFnZSgzMDAsIDUyMCwgJ3BvY2lvbmVzTScpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy50cmVzID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCA1MjAsICdwb2Npb25lc1YnKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuY3VhdHJvID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA1MjAsICdwb2Npb25lc1JvJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmNpbmNvID0gdGhpcy5hZGQuaW1hZ2UoNDUwLCA1MjAsICdwb2Npb25lc0F6Jykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnNlaXMgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDUyMCwgJ3BvY2lvbmVzQW0nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2lldGUgPSB0aGlzLmFkZC5pbWFnZSg1NTAsIDUyMCwgJ3BvY2lvbmVzTicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5vY2hvID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA1MjAsICd2ZWxhc1InKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5udWV2ZSA9IHRoaXMuYWRkLmltYWdlKDY1MCwgNTIwLCAnYm9sYUNyaXN0YWxSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZGlleiA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTIwLCAncGxhbnRhUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLm9uY2UgPSB0aGlzLmFkZC5pbWFnZSg3NTAsIDUyMCwgJ2VzdHJlbGxhUicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5kb2NlID0gdGhpcy5hZGQuaW1hZ2UoODAwLCA1MjAsICdlc3RyZWxsYVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFicmlyQ29mcmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdhYnJpckNvZnJlJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdhYnJpckNvZnJlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb2ZyZSBhYmllcnRvXCIpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0VGV4dHVyZSgnY29mcmVBYmllcnRvUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEFscGhhKDEuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICB0aGlzLmNvZnJlQWJpZXJ0byA9IHRydWU7IC8vIHBhcmEgcXVlIHNvbG8gc2UgYWJyYSB1bmEgdmV6XHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzBdID0gZmFsc2U7IC8vIHF1aXRhciBsYSBsbGF2ZSBkZWwgaW52ZW50YXJpbyBhbCBhYnJpciBlbCBjb2ZyZVxyXG4gICAgICAgIHRoaXMuY2Vyby5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgIH1cclxuXHJcbiAgICByZWNvZ2VyRXN0cmVsbGEobikge1xyXG4gICAgICAgIGlmICh0aGlzLmNvZnJlQWJpZXJ0bykgeyAvLyBzb2xvIHNlIHB1ZWRlIHJlY29nZXIgc2kgZWwgY29mcmUgZXN0w6EgYWJpZXJ0byAocG9ycXVlIHNpbm8gZXN0w6FuIG9jdWx0YXMpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgcmVjb2dpZGFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1sxMCArIG5dID0gdHJ1ZTsgLy8gbWFyY2FyIGVuIGVsIGludmVudGFyaW8gcXVlIHNlIGhhIGNvbnNlZ3VpZG8gbGEgZXN0cmVsbGEgKDExIHkgMTIgZW4gZWwgYXJyYXkpXHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2Uuc2V0QWxwaGEoMS4wKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH0gZWxzZXsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMS4wKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmVzdGFkb19ub3JtYWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgLy8gdm9sdmVyIGEgYWN0aXZhciBlbCBjb2xsaWRlciBkZWwgY2FsZGVyb1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuZW5hYmxlQm9keShmYWxzZSwgMCwgMCwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY29sb2NhckVzdHJlbGxhKG4pIHtcclxuICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzEwICsgbl0pIHsgLy8gY29tcHJvYmFyIHF1ZSBzZSB0aWVuZSBsYSBlc3RyZWxsYSBjb3JyZXNwb25kaWVudGVcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RyZWxsYSBcIiArIG4gKyBcIiBjb2xvY2FkYVwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgndHJpZ2dlcicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG4gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24xLnNldFRleHR1cmUoJ2JvdG9uQ1InKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1sxMCArIG5dID0gZmFsc2U7IC8vIHF1aXRhciBsYSBlc3RyZWxsYSBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWJyaXJDYW1wb0Z1ZXJ6YSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ib3RvbjEudGV4dHVyZS5rZXkgPT09ICdib3RvbkNSJyAmJiB0aGlzLmJvdG9uMi50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InKSB7IC8vY29tcHJvYmFyIHF1ZSBhbWJvcyBib3RvbmVzIHRpZW5lbiBsYSBlc3RyZWxsYSBjb2xvY2FkYVxyXG4gICAgICAgICAgICBpZiAodGhpcy5xa2V5LmlzRG93biAmJiB0aGlzLmxrZXkuaXNEb3duICYmIHRoaXMuYm90b24xQWN0aXZhZG8gJiYgdGhpcy5ib3RvbjJBY3RpdmFkbykgeyAvLyBjb21wcm9iYXIgcXVlIGFtYm9zIGp1Z2Fkb3JlcyBlc3TDoW4gcHVsc2FuZG8gc3UgdGVjbGEgY29ycmVzcG9uZGllbnRlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbXBvIGRlIGZ1ZXJ6YSBkZXNhY3RpdmFkb1wiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdwdWVydGEnLCB7IHZvbHVtZTogMC43IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWFyUHVlcnRhRmluYWwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhclB1ZXJ0YUZpbmFsKCkge1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDk0MCwgMzcwLCBudWxsKTtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7IFxyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuc2V0QWxwaGEoMC4wKTsgXHJcbiAgICAgICAgbGV0IGRlc2FjdGl2YWRvID0gW2ZhbHNlLCBmYWxzZV07IC8vIGFycmF5IHBhcmEgY29udHJvbGFyIHF1ZSBhbWJvcyBqdWdhZG9yZXMgaGFuIGxsZWdhZG8gYSBsYSBwdWVydGEgZmluYWxcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZSwgdGhpcy5wdWVydGFGaW5hbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICBkZXNhY3RpdmFkb1swXSA9IHRydWU7IC8vIGVsIHBlcnNvbmFqZSB5YSBoYSBlbnRyYWRvIHBvciBsYSBwdWVydGEgeSBoYSBkZXNhcGFyZWNpZG9cclxuICAgICAgICAgICAgdGhpcy5lbnRyYXJQdWVydGFGaW5hbChkZXNhY3RpdmFkbyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdzMSA9IHRoaXMud2Fsa1NvdW5kcy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICAgICAgaWYgKHdzMSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzMS5pc1BsYXlpbmcpIHdzMS5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLCB0aGlzLnB1ZXJ0YUZpbmFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGRlc2FjdGl2YWRvWzFdID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5lbnRyYXJQdWVydGFGaW5hbChkZXNhY3RpdmFkbyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdzMiA9IHRoaXMud2Fsa1NvdW5kcy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICAgICAgaWYgKHdzMikge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzMi5pc1BsYXlpbmcpIHdzMi5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyAgXHJcbiAgICB9ICAgICAgIFxyXG5cclxuICAgIGVudHJhclB1ZXJ0YUZpbmFsKGRlc2FjdGl2YWRvKSB7XHJcbiAgICAgICAgaWYgKGRlc2FjdGl2YWRvWzBdICYmIGRlc2FjdGl2YWRvWzFdKSB7IC8vY2FtYmlhciBkZSBlc2NlbmEgc29sbyBzaSBhbWJvcyBqdWdhZG9yZXMgaGFuIGxsZWdhZG8gYSBsYSBwdWVydGEgZmluYWxcclxuICAgICAgICAgICAgLy8gUGFyYXIgeSBkZXN0cnVpciBzb25pZG9zIGRlIHBhc29zXHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzKSB3cy5kZXN0cm95KCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAvLyBQYXJhciBCR01cclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuYmdtICYmICh0aGlzLmJnbS5pc1BsYXlpbmcgfHwgdGhpcy5iZ20uaXNQYXVzZWQpKSB0aGlzLmJnbS5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgLy8gRmFsbGJhY2s6IHBhcmFyIGN1YWxxdWllciBpbnN0YW5jaWEgcG9yIGNsYXZlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnd2FsaycpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2JnbScpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdEZWNpc2lvblNjZW5lJywge21vZG86ICdsb2NhbCd9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCBsZWZ0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIxJywgNTAsIDQwMCwgJ2lkbGVfQXp1bCcpO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIyJywgOTUwLCA0MDAsICdpZGxlX1Jvam8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIGxlZnRNYWdvKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgcmlnaHRNYWdvKTtcclxuXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIGp1bXA6ICdTUEFDRSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ0RPV04nLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wOiAnRU5URVInXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIC8vdGhpcy5pbnRwdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnOyBcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgZG93bktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5kb3duS2V5XSksXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgICAgICBqdW1wT2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmp1bXBdKSxcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKGlkKSB7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMjQwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0NTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3Rvbi5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChtYWdvID0+IHtcclxuICAgICAgICAgICAgbWFnby5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgbGEgbcODwrpzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0ZXh0byA9IGlkID09PSAncGxheWVyMScgPyAnRWwganVnYWRvciAxXFxuICBoYSBtdWVydG8nIDogJyBFbCBqdWdhZG9yIDJcXG4gIGhhIG11ZXJ0byc7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgdGV4dG8sIHtcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnICNmZjAwMDBmZicsXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC01KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICdNZW7DuicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAyZmY4OWZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRhw7FvSnVnTGVmdCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIxID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIHBsYXllcjEudmlkYS0tO1xyXG4gICAgICAgIHRoaXMuaGVhbHRoTGVmdC5zZXRUZXh0KHBsYXllcjEudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRWwganVnYWRvciBkZSBsYSBpenF1aWVyZGEgaGEgcmVjaWJpZG8gZGHDsW8nKTtcclxuICAgICAgICBpZiAocGxheWVyMS52aWRhIDw9IDApIHRoaXMuZW5kR2FtZSgncGxheWVyMScpO1xyXG4gICAgfVxyXG5cclxuICAgIGRhw7FvSnVnUmlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICBwbGF5ZXIyLnZpZGEtLTtcclxuICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0LnNldFRleHQocGxheWVyMi52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbCBqdWdhZG9yIGRlIGxhIGRlcmVjaGEgaGEgcmVjaWJpZG8gZGHDsW8nKTtcclxuICAgICAgICBpZiAocGxheWVyMi52aWRhIDw9IDApIHRoaXMuZW5kR2FtZSgncGxheWVyMicpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBhdXNlU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZShkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bWluZyBHYW1lU2NlbmUgd2l0aCBkYXRhOlwiLCBkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnBvY2lvbmVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IGRhdGEucG9jaW9uZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmludmVudGFyaW8uZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYEludmVudGFyaW9bJHtpbmRleH1dOiAke2l0ZW19YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgIG5ldyBQYXVzZUdhbWVDb21tYW5kKHRoaXMsIG5ld1BhdXNlU3RhdGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5le1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnaG92ZXInLCAnL3NvdW5kcy9ob3Zlci5tcDMnKTtcclxuICAgIH0gICBcclxuXHJcbiAgICBjcmVhdGUoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwyMDAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDM1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpOyAgICAgICAgXHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNDAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjMgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNDUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24zLnNldFNjYWxlKDAuMSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsICdKdWVnbyBQYXVzYWRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzYwcHgnLCBcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOicjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCAzNTAsICdWb2x2ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgcmVzdW1lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMGZmODhmZicgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHJlc3VtZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXQoZGF0YS5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTsgXHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQwMCwgJ01lbsO6Jywge1xyXG4gICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNjgzOWIzZmYnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAvLyBTaSB2ZW5pbW9zIGRlIGxhIGVzY2VuYSBvbmxpbmUsIGF2aXNhciBhbCBzZXJ2aWRvciBwYXJhIG5vdGlmaWNhciBkZXNjb25leGnDs25cclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLm9yaWdpbmFsU2NlbmUgPT09ICdHYW1lU2NlbmVPJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ1NjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ0dhbWVTY2VuZU8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnU2NlbmUgJiYgb3JpZ1NjZW5lLndzICYmIG9yaWdTY2VuZS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdTY2VuZS53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ3BsYXllckRpc2Nvbm5lY3RlZCcgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENlcnJhciBsYSBjb25leGnDs24gZGVzcHXDqXMgZGUgdW4gYnJldmUgcmV0cmFzbyBwYXJhIGFzZWd1cmFyIGVudsOtb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0cnkgeyBvcmlnU2NlbmUud3MuY2xvc2UoKTsgfSBjYXRjaChlKXsgY29uc29sZS53YXJuKGUpOyB9IH0sIDUwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgdHJ5e3RoaXMuZ2FtZS5zb3VuZC5zdG9wQnlLZXkoJ2JnbScpO31jYXRjaChlKXtjb25zb2xlLndhcm4oZSk7fVxyXG5cclxuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgXHJcbiAgICAgICAgIGNvbnN0IGNvbnRyb2xCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnQ29udHJvbGVzJywge1xyXG4gICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgY29udHJvbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBlZWZmZmYnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY29udHJvbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAvLyBQYXNhciBsYSBlc2NlbmEgb3JpZ2luYWwgcGFyYSBxdWUgQ29udHJvbGVzIHB1ZWRhIHZvbHZlciBjb3JyZWN0YW1lbnRlIChHYW1lU2NlbmUgbyBHYW1lU2NlbmVPKVxyXG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NvbnRyb2xTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogZGF0YSAmJiBkYXRhLm9yaWdpbmFsU2NlbmUgPyBkYXRhLm9yaWdpbmFsU2NlbmUgOiAnR2FtZVNjZW5lJyB9KTsgXHJcbiAgICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJnYW1pbm8nLCAnL2ltYWdlbmVzL3BlcmdhbWluby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUzMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLnBlcmdhbWlubzEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsMzgwLCAncGVyZ2FtaW5vJylcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzEuc2V0U2NhbGUoMik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMjAsICdFbCBFbmlnbWEgZGUgbGFcXG5Ub3JyZSBFbmNhbnRhZGEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtOCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNDUsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNhN2E3YTdmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDMxMCwgJ1BhdWxhIE9ydGl6IEZlcm7DoW5kZXonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzkxZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDM1NSwgJ0RhbmllbCBDb3JiYWNobyBBbmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmYxMzJmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA0MDAsICdBbGVqYW5kcm8gSGVybsOhbmRleiBSdWl6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNkN2FjZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICfDgW5nZWwgQmVybcO6ZGV6IEZhcmnDsWFzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmNlYWRmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG4gICAgICAgIGNvbnN0IFJldHVybkJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MzAsICdWb2x2ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBmZjg4ZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhpc3RvcmlhU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0hpc3RvcmlhU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTMwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEyMCwgJ0VsIEVuaWdtYSBkZSBsYVxcblRvcnJlIEVuY2FudGFkYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1NnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzA3MDcwN2ZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC04KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI0MCwgJ0hpc3RvcmlhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzUwcHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3ZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzODAsICdEZXNwdcOpcyBkZSBhw7FvcyBkZSBlbnRyZW5hbWllbnRvLCBwb3IgZmluIGhhIGxsZWdhZG8gZWwgbW9tZW50byBlbiBlbCBxdWUgbmFxdWVsbG9zIG1hZ29zIHBvclxcbmZpbiBpYmFuIGEgY29uc2VndWlyIHNlciBtYWdvcyBkZSB2ZXJkYWQuIExsZXZhYmFuIG11Y2hvIHRpZW1wbyBwcmVwYXLDoW5kb3NlIHkgZXN0dWRpYW5kbyBwYXJhXFxuZXN0ZSBtb21lbnRvLCB5IHBvciBmaW4gdmFuIGEgcmVjaWJpciBhcXVlbCBlbGl4aXIgZGVzZWFkbyBwb3IgdG9kbyBtYWdvLFxcbuKAnGVsIGVsaXhpciBkZSBsYSB2aWRhIGV0ZXJuYeKAnS5cXG5cXG5TaW4gZW1iYXJnbywgbm8gc2Vyw6Egc2VuY2lsbG8sIGHDum4gZGViZXLDoW4gZGVtb3N0cmFyIHBvciDDumx0aW1hIHZleiBxdWUgZXN0w6FuIGhlY2hvcyBwYXJhIG9idGVuZXJcXG5lc3RhIGdyYW4gdmlydHVkLiBMYSB0cmFkaWNpw7NuIGN1ZW50YSBxdWUgcGFyYSBjb25zZWd1aXIgc2VyIHVuIHZlcmRhZGVybyBtYWdvIHNlcsOhIG5lY2VzYXJpb1xcbmNvbnNlZ3VpciBwb3IgZWxsb3MgbWlzbW9zIGVzdGUgZWxpeGlyIGFkZW50csOhbmRvc2UgZW4gbGEgVG9ycmUgRW5jYW50YWRhLCBkZW1vc3RyYW5kbyBxdWUgc29uXFxubWVyZWNlZG9yZXMgZGVsIHTDrXR1bG8gZGUgbWFnbyBldGVybm8geSBxdWUgcG9zZWVuIGxhcyBoYWJpbGlkYWRlcyBuZWNlc2FyaWFzLiBMYSBtw6FzIGltcG9ydGFudGUsXFxubGEgY29sYWJvcmFjacOzbiwgcHVlc3RvIHF1ZSBwb3IgdW5vIHNvbG8gbm8gc2llbXByZSBzZSBwdWVkZSBsbGVnYXIgYWwgbHVnYXIgZGVzZWFkby4gXFxuXFxuUG9yIGVzdGUgbW90aXZvLCBsb3MgasOzdmVuZXMgYXByZW5kaWNlcyBxdWUgZGVzZWVuIGFzY2VuZGVyLCBzZSBhZGVudHJhcsOhbiBlbiBhcXVlbGxhIHZpZWphIHRvcnJlLFxcbiB5IGF0cmF2ZXNhcsOhbiwgdW5hIGEgdW5hLCBzdXMgc2FsYXMgaGFzdGEgbGxlZ2FyIGFycmliYSBkZWwgdG9kbywgZMOzbmRlIHNlIGVuY3VlbnRyYSBlbCBlbGl4aXJcXG5xdWUgdGFudG8gZGVzZWFuLiBFbiBjYWRhIHNhbGEgc2UgZW5jb250cmFyw6FuIGNvbiBudW1lcm9zb3Mgb2JzdMOhY3Vsb3MgcXVlIGRlYmVyw6FuIHNvYnJlcGFzYXIgXFxuZGVtb3N0cmFuZG8gc3VzIGhhYmlsaWRhZGVzIG9idGVuaWRhcyBkdXJhbnRlIHRvZG9zIGVzdG9zIGHDsW9zIGRlIGVzZnVlcnpvLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgLy9mb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG5cclxuICAgICAgICBjb25zdCBSZXR1cm5CdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTMwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmY4OGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1hZ28gfSBmcm9tICcuLi9lbnRpdGllcy9NYWdvJ1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZU1hZ29Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpYnJlcmlhU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMaWJyZXJpYVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhcmVkUicsICcvaW1hZ2VuZXMvcGFyZWRZVGVjaG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib2xhQ3Jpc3RhbENvbG9yJywgJy9pbWFnZW5lcy9ib2xhQ3Jpc3RhbENvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0YW50ZXJpYVInLCAnL2ltYWdlbmVzL2VzdGFudGVyaWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGFudGFDb2xvcicsICcvaW1hZ2VuZXMvcGxhbnRhQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0F6JywgJy9pbWFnZW5lcy9wb2Npb25BenVsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBbScsICcvaW1hZ2VuZXMvcG9jaW9uZXNBbWFyaWxsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTicsICcvaW1hZ2VuZXMvcG9jaW9uTmFyYW5qYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzUm8nLCAnL2ltYWdlbmVzL3BvY2lvblJvc2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc00nLCAnL2ltYWdlbmVzL3BvY2lvbk1vcmFkYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzVicsICcvaW1hZ2VuZXMvcG9jaW9uVmVyZGUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxhc0NvbG9yJywgJy9pbWFnZW5lcy92ZWxhc0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGlicm9zQ29sb3InLCAnL2ltYWdlbmVzL2xpYnJvc0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZScsICcvaW1hZ2VuZXMvbWFuby5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAvL3RoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRhdG9zO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcyA9IHtcclxuICAgICAgICAgICAgYm9sYUNyaXN0YWw6IGZhbHNlLFxyXG4gICAgICAgICAgICBwbGFudGE6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25BbTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvbk46IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25NOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uUjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvblY6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25BejogZmFsc2UsXHJcbiAgICAgICAgICAgIHZlbGFzOiBmYWxzZSxcclxuICAgICAgICAgICAgbGlicm86IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICB0aGlzLm1hZ28gPSB0aGlzLmFkZC5pbWFnZSgxMDAsIDEwMCwgXCJpZGxlXCIpO1xyXG4gICAgICAgIHRoaXMubWFnby5zZXRTY2FsZSgxLjkpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJFc2NlbmFyaW8oKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMuZXN0YWJsZWNlckNvbGlzaW9uZXMoKTtcclxuICAgICAgICB0aGlzLmRhdG9zID0gZGF0YTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICB0aGlzLmxrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuTCk7XHJcbiAgICAgICAgdGhpcy5xa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlEpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duICYmICF0aGlzLmVzY1dhc0Rvd24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Mud3MgJiYgdGhpcy5kYXRvcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRvcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2FjdHVhbGl6YXJJbnZlbnRhcmlvJywgaW52ZW50YXJpbzogdGhpcy5kYXRvcy5wb2Npb25lc30pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSh0aGlzLmRhdG9zLm9yaWdpbmFsU2NlbmUsIHsgcG9jaW9uZXM6IHRoaXMuZGF0b3MucG9jaW9uZXMgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNjZW5lLmdldCh0aGlzLmRhdG9zLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpOyBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYWJpciA9IGZhbHNlOyAvL3ZvbHZlciBhIHBvbmVyIGEgZmFsc2Ugc2kgbm8gaGEgaGFiaWRvIG92ZXJsYXBcclxuICAgICAgICBpZiAodGhpcy5sa2V5LmlzRG93bikgdGhpcy5hYnJpciA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMucWtleS5pc0Rvd24pIHRoaXMuYWJyaXIgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGFkZGxlID0gdGhpcy5wbGF5ZXJzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLnVwS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmRvd25LZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlTWFnb0NvbW1hbmQocGFkZGxlLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckVzY2VuYXJpbygpIHtcclxuICAgICAgICB0aGlzLnBhcmVkID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDIwNSwgJ3BhcmVkUicpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBhcmVkLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NDAsIDI3MCwgJ2VzdGFudGVyaWFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0ODUsIDI4MCwgJ2JvbGFDcmlzdGFsQ29sb3InKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxhbnRhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NDAsIDQ1MCwgJ3BsYW50YUNvbG9yJyk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbkFtID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MzAsIDE2NSwgJ3BvY2lvbmVzQW0nKTtcclxuICAgICAgICB0aGlzLnBvY2lvbkFtLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbkFtLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BbS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTk1LCAxNzUsICdwb2Npb25lc04nKTtcclxuICAgICAgICB0aGlzLnBvY2lvbk4uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTi5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMjgwLCAxNjUsICdwb2Npb25lc00nKTtcclxuICAgICAgICB0aGlzLnBvY2lvbk0uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTS5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uUiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDA1LCAxNjUsICdwb2Npb25lc1JvJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25SLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvblIuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvblIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvblYgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDM0NSwgMTc1LCAncG9jaW9uZXNWJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25WLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvblYuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvblYuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbkF6ID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NzAsIDE3MCwgJ3BvY2lvbmVzQXonKTtcclxuICAgICAgICB0aGlzLnBvY2lvbkF6LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbkF6LnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25Bei5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmVsYXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDM1MCwgMjkwLCAndmVsYXNDb2xvcicpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnZlbGFzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saWJybyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMzcwLCAzMywgJ2xpYnJvc0NvbG9yJyk7XHJcbiAgICAgICAgdGhpcy5saWJyby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWJyby5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMubGlicm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBlc3RhYmxlY2VyQ29saXNpb25lcygpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib2xhQ3Jpc3RhbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5ib2xhQ3Jpc3RhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLmJvbGFDcmlzdGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbOV0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIGJvbGEgZGUgY3Jpc3RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJPTEEgQ1JJU1RBTCBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBsYW50YSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wbGFudGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wbGFudGEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYW50YS5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbMTBdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwbGFudGFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTEFOVEEgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25BbSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25BbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbkFtID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25BbS5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbNl0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiBhbWFyaWxsYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBBTUFSSUxMQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvbk4sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbk4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbk4uc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzddID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gbmFyYW5qYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBOQVJBTkpBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uTSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25NKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uTSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uTS5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbMl0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiBtb3JhZGFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gTU9SQURBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uUiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25SKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uUiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uUi5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbNF0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiByb3NhXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIFJPU0EgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25WLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvblYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25WID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25WLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1szXSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIHZlcmRlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIFZFUkRFIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uQXosICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uQXopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25BeiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uQXouc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzVdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gYXp1bFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBBWlVMIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMudmVsYXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMudmVsYXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy52ZWxhcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVsYXMuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzhdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYXMgdmVsYXNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJWRUxBUyBSRUNPR0lEQVNcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5saWJybywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5saWJybykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLmxpYnJvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saWJyby5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbMV0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxvcyBsaWJyb3NcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMSUJST1MgUkVDT0dJRE9TXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxlZnRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjEnLCA1MCwgMzAwLCAnaWRsZScpO1xyXG4gICAgICAgIGxlZnRNYWdvLnNldFNjYWxlKDAuMDgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBsZWZ0TWFnbyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIC8vdGhpcy5pbnRwdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnOyBcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY29uZmlnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgZG93bktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5kb3duS2V5XSksXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250cm9sU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NvbnRyb2xTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlubycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpOyBcclxuICAgIH0gIFxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUzMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIC8vIHRoaXMuYm90b24yID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDQwMCwgJ2JvdG9uJylcclxuICAgICAgICAvLyB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMSA9IHRoaXMuYWRkLmltYWdlKDIyMCwzODAsICdwZXJnYW1pbm8nKVxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMS5zZXRTY2FsZSgxLjMsIDEuOCk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8yID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDM4MCwgJ3BlcmdhbWlubycpXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8yLnNldFNjYWxlKDEuMywxLjgpOyAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8zID0gdGhpcy5hZGQuaW1hZ2UoNzgwLDM4MCwgJ3BlcmdhbWlubycpXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8zLnNldFNjYWxlKDEuMywxLjgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTIwLCAnRWwgRW5pZ21hIGRlIGxhXFxuVG9ycmUgRW5jYW50YWRhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzU2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjQwLCAnQ29udHJvbGVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ1cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3ZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjIwLCAzMTAsICdKdWdhZG9yIDE6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgY29sb3I6ICcjOWJlM2ZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIzMCwgNDAwLCAnVy1BcnJpYmFcXG4gQS1JenF1aWVyZGFcXG4gUy1BYmFqb1xcbiBELURlcmVjaGFcXG4gU1BBQ0UtU2FsdGFyXFxuIFEtSW50ZXJhY3R1YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzMTAsICdKdWdhZG9yIDI6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCA5OSwgOTksIDEpJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTIwLCA0MDAsICdGbGVjaGFzLUFycmliYVxcbiBGbGVjaGFzLUl6cXVpZXJkYVxcbiBGbGVjaGFzLUFiYWpvXFxuIEZsZWNoYXMtRGVyZWNoYVxcbiBFTlRFUi1TYWx0YXJcXG4gTC1JbnRlcmFjdHVhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg3NTAsIDMxMCwgJ09ubGluZTonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAncmdiYSgxNDEsIDExNiwgMjU1LCAxKScsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDgwMCwgNDAwLCAnRmxlY2hhcy1BcnJpYmFcXG4gRmxlY2hhcy1JenF1aWVyZGFcXG4gRmxlY2hhcy1BYmFqb1xcbiBGbGVjaGFzLURlcmVjaGFcXG4gU1BBQ0UtU2FsdGFyXFxuIEwtSW50ZXJhY3R1YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IFJldHVybkJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MzAsICdWb2x2ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzRweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBmZjg4ZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGRhdGEub3JpZ2luYWxTY2VuZSA9PT0gJ01lbnVTY2VuZScpe1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldChkYXRhLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRGVjaXNpb25TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRGVjaXNpb25TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9EJywgJy9pbWFnZW5lcy9lbGVjY2lvbi5qcGcnKTt9ICAgXHJcblxyXG4gICAgY3JlYXRlKGRhdGEpe1xyXG4gICAgICAgIHRoaXMuZm9uZG9EID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsMzAwLCAnZm9uZG9EJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb0Quc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9ELmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSgyODAsNDIwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMTUpOyAgIFxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldEFscGhhKDAuNSk7ICAgICBcclxuICAgICAgICB0aGlzLmJvdG9uMiA9IHRoaXMuYWRkLmltYWdlKDczMCw0MjAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC4xNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0QWxwaGEoMC41KTsgXHJcblxyXG4gICAgICAgIGlmIChkYXRhLm1vZG8gPT09ICdsb2NhbCcpIHRoaXMuc2VsZWN0b3IgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsIDIpO1xyXG4gICAgICAgIGVsc2UgdGhpcy5zZWxlY3RvciA9IGRhdGEuZWxlY2Npb247XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdG9yID09PSAxKXtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ0VsIGp1Z2Fkb3IgMSBoYSByZWNvZ2lkbycsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgdGhpcy5pZCA9ICdwbGF5ZXIxJzsgXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdG9yID09PSAyKXtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ0VsIGp1Z2Fkb3IgMiBoYSByZWNvZ2lkbycsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgdGhpcy5pZCA9ICdwbGF5ZXIyJztcclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnZWwgRWxpeGlyIGRlIGxhIFZpZGEgRXRlcm5hLCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDMyMCwgJ2Fob3JhIGRlYmVyw6EgZWxlZ2lyOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuMSA9IHRoaXMuYWRkLnRleHQoMjgwLCA0MjAsICdDb21wYXJ0aXIgZWwgZWxpeGlyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFscGhhKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0bjIgPSB0aGlzLmFkZC50ZXh0KDczMCwgNDIwLCAnQmViZXIgZWwgZWxpeGlyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFscGhhKDAuNSk7XHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBpZiAoZGF0YS5tb2RvID09PSAnb25saW5lJyl7XHJcbiAgICAgICAgICAgIGNvbnN0IHB1ZWRlRWxlZ2lyID0gdGhpcy5pZCA9PT0gZGF0YS5qdWdhZG9yOyBcclxuICAgICAgICAgICAgaWYocHVlZGVFbGVnaXIpe1xyXG4gICAgICAgICAgICAgICAgYnRuMS5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgICAgICAgICBidG4xLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgIGJ0bjEub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bjEuc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnRuMS5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bjEuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgICAgIGJ0bjEub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLndzICYmIGRhdGEud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbnZpYW5kbyBmaW5hbFwiKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7dHlwZTogJ2VzY2VuYUZpbmFsJywgZXNjZW5hOiAzfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGJ0bjIuc2V0QWxwaGEoMSlcclxuICAgICAgICAgICAgICAgIGJ0bjIuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICBidG4yLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidG4yLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJ0bjIub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4yLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpO1xyXG4gICAgICAgICAgICAgICAgYnRuMi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IgPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS53cyAmJiBkYXRhLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVidmlhbmRvIGZpbmFsXCIpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7dHlwZTogJ2VzY2VuYUZpbmFsJywgZXNjZW5hOiAxfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0b3IgPT09IDIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS53cyAmJiBkYXRhLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVudmlhbmRvIGZpbmFsXCIpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7dHlwZTogJ2VzY2VuYUZpbmFsJywgZXNjZW5hOiAyfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjEuc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMi5zZXRBbHBoYSgxKTsgIFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5tb2RvID09PSAnbG9jYWwnKXtcclxuICAgICAgICAgICAgYnRuMS5zZXRBbHBoYSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidG4xLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bjEuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0ZpbmFsQlNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYnRuMi5zZXRBbHBoYSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidG4yLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bjIuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9yID09PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0xU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0b3IgPT09IDIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0ZpbmFsTTJTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5ib3RvbjEuc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90b24yLnNldEFscGhhKDEpOyBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaW5hbEJTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCdGaW5hbEJTY2VuZScpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb0MnLCAnL2ltYWdlbmVzL2NvbXBhcnRpci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3ZpY3RvcmlhJywgJy9zb3VuZHMvdmljdG9yaWEubXAzJyk7XHJcbiAgICB9ICAgXHJcblxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgdGhpcy5mb25kb0MgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwzMDAsICdmb25kb0MnKTtcclxuICAgICAgICB0aGlzLmZvbmRvQy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb0MuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBtw7pzaWNhIGRlIHZpY3RvcmlhXHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCd2aWN0b3JpYScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xMyk7ICAgICAgICBcclxuXHJcblxyXG4gICAgXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDUwLCAnTG9zIGp1Z2Fkb3JlcyBoYW4gZGVjaWRpZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdjb21wYXJ0aXIgZWwgRWxpeGlyIGRlIGxhIFZpZGEgRXRlcm5hLCBhaG9yYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE1MCwgJ2FtYm9zIHZpdmlyw6FuIGhhc3RhIGxhIGV0ZXJuaWRhZCwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjAwLCAneSBwb2Ryw6FuIGFkcXVpcmlyIHRvZG9zIGxvcyBjb25vY2ltaWVudG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjUwLCAnZXhpc3RlbnRlcy4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ1ZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlbmVyIG3DunNpY2EgZGUgdmljdG9yaWEgYW50ZXMgZGUgY2FtYmlhciBkZSBlc2NlbmFcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgndmljdG9yaWEnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaW5hbE0xU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0ZpbmFsTTFTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb18xTScsICcvaW1hZ2VuZXMvdHJhaWNpb25fcmFuYVJvamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2RlcnJvdGEnLCAnL3NvdW5kcy9kZXJyb3RhLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG5cclxuICAgICAgICB0aGlzLmZvbmRvXzFNID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsMzAwLCAnZm9uZG9fMU0nKTtcclxuICAgICAgICB0aGlzLmZvbmRvXzFNLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmZvbmRvXzFNLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbcO6c2ljYSBkZSBkZXJyb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdkZXJyb3RhJywgeyB2b2x1bWU6IDAuNyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEzKTsgICBcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDUwLCAnRWwganVnYWRvciAxIGhhIGRlY2lkaWRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTAwLCAnbm8gY29tcGFydGlyIGVsIEVsaXhpciBkZSBsYSBWaWRhIEV0ZXJuYSwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNTAsICdhaG9yYSBkZWJlIGVuZnJlbnRhciBsYXMgY29uc2VjdWVuY2lhcyBkZSBzdSBlbGVjY2nDs24geSB2aXZpciBzb2xvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTc1LCAnaGFzdGEgbGEgZXRlcm5pZGFkLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTAwLCAnVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIERldGVuZXIgbcO6c2ljYSBkZSBkZXJyb3RhIGFudGVzIGRlIGNhbWJpYXIgZGUgZXNjZW5hXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2RlcnJvdGEnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaW5hbE0yU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0ZpbmFsTTJTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvXzJNJywgJy9pbWFnZW5lcy90cmFpY2lvbl9yYW5hQXp1bC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2RlcnJvdGEnLCAnL3NvdW5kcy9kZXJyb3RhLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG5cclxuICAgICAgICB0aGlzLmZvbmRvXzJNID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsMzAwLCAnZm9uZG9fMk0nKTtcclxuICAgICAgICB0aGlzLmZvbmRvXzJNLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmZvbmRvXzJNLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbcO6c2ljYSBkZSBkZXJyb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdkZXJyb3RhJywgeyB2b2x1bWU6IDAuNyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEzKTsgICBcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDUwLCAnRWwganVnYWRvciAyIGhhIGRlY2lkaWRvJywge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ25vIGNvbXBhcnRpciBlbCBFbGl4aXIgZGUgbGEgVmlkYSBFdGVybmEsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnYWhvcmEgZGViZSBlbmZyZW50YXIgbGFzIGNvbnNlY3VlbmNpYXMgZGUgc3UgZWxlY2Npw7NuIHkgdml2aXIgc29sbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE3NSwgJ2hhc3RhIGxhIGV0ZXJuaWRhZC4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ1ZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgYnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBEZXRlbmVyIG3DunNpY2EgZGUgZGVycm90YSBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2RlcnJvdGEnKTtcclxuICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7IFxyXG4gICAgfSAgXHJcblxyXG4gICAgIFxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIEd1YXJkYXIgbGEgZXNjZW5hIHF1ZSBlc3RhYmEgYWN0aXZhIGN1YW5kbyBzZSBwZXJkacOzIGxhIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMucHJldmlvdXNTY2VuZSA9IGRhdGEucHJldmlvdXNTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRm9uZG8gc2VtaS10cmFuc3BhcmVudGUgICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMTgwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuXHJcblxyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE4MCwgJ0NPTkVYScOTTiBQRVJESURBJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNjOTAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCg1MDAsIDMyMCwgJ0ludGVudGFuZG8gcmVjb25lY3Rhci4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvcyBcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzOTAsICdJbnRlbnRvczogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIHBhcnBhZGVhbnRlXHJcbiAgICAgICAgdGhpcy5kb3RDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDIwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvdENvdW50ID0gKHRoaXMuZG90Q291bnQgKyAxKSAlIDQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdCh0aGlzLmRvdENvdW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBJbnRlbnRhbmRvIHJlY29uZWN0YXIke2RvdHN9YCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRhciByZWNvbmVjdGFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBpbnRlcnZhbFxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZSBkZSDDqXhpdG9cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFDb25leGnDs24gcmVzdGFibGVjaWRhIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYSBsYSBlc2NlbmEgYW50ZXJpb3JcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgZWwgaW50ZXJ2YWwgYWwgY2VycmFyIGxhIGVzY2VuYVxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiIGltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBNYWdvIH0gZnJvbSAnLi4vZW50aXRpZXMvTWFnbydcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmQvY29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE1vdmVNYWdvQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvTW92ZU1hZ29Db21tYW5kJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNhbGFEZUVzcGVyYSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcih7IGtleTogJ1NhbGFEZUVzcGVyYScgfSk7XHJcbiAgICB0aGlzLndzID0gbnVsbDtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgcHJlbG9hZCgpIHtcclxuICAgIC8vRXNjZW5hcmlvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJlZFInLCAnL2ltYWdlbmVzL3BhcmVkWVRlY2hvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VlbG9SJywgJy9pbWFnZW5lcy9zdWVsby5wbmcnKTtcclxuXHJcbiAgICBcclxuICAgIC8vIFBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfQXp1bCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNScsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzgucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfOCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJnYW1pbm9UaXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FtcG9GdWVyemEnLCAnL2ltYWdlbmVzL2NhbXBvZGVmdWVyemEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9Sb2pvJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzMnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb180JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNScsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzYnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb183JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fOCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb184LnBuZycpO1xyXG5cclxuICAgIC8vIEJHTVxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYmdtJywgJy9zb3VuZHMvYmdtLm1wMycpO1xyXG5cclxuICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd3YWxrJywgJy9zb3VuZHMvd2Fsay5tcDMnKTtcclxuICB9XHJcblxyXG4gIHJlc2V0U3RhdGUoKSB7XHJcbiAgICB0aGlzLnJvb21Db2RlID0gbnVsbDtcclxuICAgIHRoaXMucm9vbUlkID0gbnVsbDtcclxuICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIFxyXG5cclxuICAgIGlmKHRoaXMucm9vbUNvZGVUZXh0ICYmIHRoaXMucm9vbUNvZGVUZXh0LmFjdGl2ZSl7XHJcbiAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuc3RhdHVzVGV4dCAmJiB0aGlzLnN0YXR1c1RleHQuYWN0aXZlKXtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuY29kZUlucHV0ICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5jb2RlSW5wdXQpKXtcclxuICAgICAgdGhpcy5jb2RlSW5wdXQudmFsdWUgPSAnJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQoKXtcclxuICAgIHRoaXMud2Fsa1NvdW5kcyA9IG5ldyBNYXAoKTsgLy8gTWFwIHBhcmEgZ3VhcmRhciBlbCBzb25pZG8gZGUgY2FkYSBqdWdhZG9yXHJcblxyXG4gICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpOyAvLyBNYXAgcGFyYSBndWFyZGFyIGxvcyBqdWdhZG9yZXMgZW4gbGEgZXNjZW5hXHJcbiAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgdGhpcy5iZ20gPSBudWxsO1xyXG5cclxuICAgIHRoaXMucm9vbUNvZGUgPSBudWxsO1xyXG4gICAgdGhpcy5yb29tSWQgPSBudWxsO1xyXG4gICAgdGhpcy5nYW1lU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICBjcmVhdGUoKXtcclxuICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAga2V5OiAnYW5kYXJfbWFnb19BenVsJyxcclxuICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICB7IGtleTogJ2lkbGVfQXp1bCcgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzInIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8zJyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNCcgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzUnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF82JyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNycgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzgnIH1cclxuICAgICAgXSxcclxuICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgcmVwZWF0OiAtMVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIENyZWFyIHVuIHNvbmlkbyBkZSBwYXNvcyBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMScsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcbiAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIyJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zIH0pKTtcclxuXHJcbiAgICAvLyBQYXJhciBwYXNvcyBjdWFuZG8gbGEgZXNjZW5hIHNlIHBhdXNlIChlai4gUGF1c2VTY2VuZSkgeSBsaW1waWFyIHNvbmlkb3MgYWwgc2h1dGRvd25cclxuICAgIHRoaXMuZXZlbnRzLm9uKCdwYXVzZScsICgpID0+IHtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7IHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfSB9KTtcclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBBbCByZXN1bWUgbm8gc2UgcmVwcm9kdWNlIGF1dG9tw6F0aWNhbWVudGU6IGVsIHVwZGF0ZSgpIHJlYW51ZGFyw6EgcGFzb3Mgc2kgc2UgcHVsc2EgbW92ZXJcclxuICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gbmFkYSBlc3BlY2lhbDogdXBkYXRlKCkgdm9sdmVyw6EgYSByZXByb2R1Y2lyIGN1YW5kbyBkZXRlY3RlIG1vdmltaWVudG9cclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgIXRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5yZXN1bWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIEFzZWd1cmFyIGxpbXBpZXphIGN1YW5kbyBsYSBlc2NlbmEgc2UgY2llcnJlIGRlZmluaXRpdmFtZW50ZVxyXG4gICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gcGFyYXIgeSBkZXN0cnVpciBzb25pZG9zIGRlIHBhc29zXHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4ge1xyXG4gICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHdzKSB3cy5kZXN0cm95KCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAgIGlmKHRoaXMuYmdtKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdtLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1jYXRjaCAoZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY3JlYXJFc2NlbmFyaW8oKTtcclxuICAgIHRoaXMuY3JlYXJCYXJyZXJhSW52aXNpYmxlKCk7XHJcbiAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgdGhpcy5lc3RhYmxlY2VyQ29saXNpb25lcygpO1xyXG5cclxuICAgIC8vIFN0b3AgbWVudSBtdXNpYyBhbmQgcGxheSBiYWNrZ3JvdW5kIG11c2ljXHJcbiAgICB0aGlzLmdhbWUuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7XHJcbiAgICB0aGlzLmJnbSA9IHRoaXMuc291bmQuYWRkKCdiZ20nLCB7IHZvbHVtZTogMC43LCBsb29wOiB0cnVlIH0pO1xyXG4gICAgdGhpcy5iZ20ucGxheSgpO1xyXG5cclxuICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXHJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gICAgY29uc29sZS5sb2coXCJjb2RpZ286XCIsIHRoaXMucm9vbUNvZGUpO1xyXG4gICAgdGhpcy5jcmVhckludGVyZmF6KCk7XHJcbiAgfVxyXG5cclxuICBjcmVhckludGVyZmF6KCl7XHJcbiAgICAvLyBBcXXDrSBwdWVkZXMgY3JlYXIgbG9zIGVsZW1lbnRvcyBkZSBsYSBpbnRlcmZheiBkZSB1c3VhcmlvIG5lY2VzYXJpb3NcclxuXHJcbiAgICAvKnRoaXMuYWRkLnRleHQoNTAwLCAzNTAsICdFc3BlcmFuZG8gYSBvdHJvcyBqdWdhZG9yZXMuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpOyovXHJcblxyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICB0aGlzLnBlcmdhbWlubyA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMTAwLCAncGVyZ2FtaW5vVGl0dWxvJylcclxuICAgIHRoaXMucGVyZ2FtaW5vLnNldFNjYWxlKDAuMjUsIDAuMjApO1xyXG5cclxuICAgIC8vIFRpdGxlXHJcbiAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsICdPbmxpbmUgTXVsdGlwbGF5ZXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyB0aGlzLnRpdHVsb1RvcnJlID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDE0MCwgJ1R1IHRvcnJlOiAnLCB7XHJcbiAgICAvLyAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAvLyAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgLy8gICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAvLyB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICB0aGlzLnJvb21Db2RlVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxNTAsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gPT09PT09PT09PT09IENSRUFSIFNBTEEgUFJJVkFEQSA9PT09PT09PT09PT1cclxuXHJcbiAgICB0aGlzLnRpdHVsb0NyZWFyU2FsYSA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAzMDAsICdDcmVhciB0b3JyZScsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIHRoaXMuYm90b25DcmVhclNhbGEgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIDM0MCwgJ2JvdG9uJyk7XHJcbiAgICB0aGlzLmJvdG9uQ3JlYXJTYWxhLnNldFNjYWxlKDAuMDUsIDAuMSk7XHJcblxyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDM0MCwgJ0NyZWFyJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwJyB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgIHRoaXMuY3JlYXJTYWxhKCl9KTtcclxuXHJcbiAgICAvLyA9PT09PT09PT09PT0gVU5JUlRFIEEgTEEgQ09MQSAoU0FMQSBBTEVBVE9SSUEpID09PT09PT09PT09PVxyXG5cclxuICAgIHRoaXMudGl0dWxvQ29sYSA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAyMDAsICfDmm5ldGUgYSB1bmEgdG9ycmUuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvL2JvdG9uIHVuaXJzZSBhIGxhIGNvbGFcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCAyNDAsICdib3RvbicpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvbGEuc2V0U2NhbGUoMC4wNSwgMC4xKTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDI0MCwgJ1RvcnJlJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnVuaXJzZUNvbGEoKX0pO1xyXG5cclxuICAgIC8qdGhpcy5lc3RhZG9Db2xhVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyIC0gNTAsICdDb25lY3RhbmRvIGFsIHNlcnZpZG9yLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7Ki9cclxuXHJcbiAgICAvLyA9PT09PT09PT09PT0gVU5JUlRFIEEgVU5BIFNBTEEgKEPDk0RJR08pID09PT09PT09PT09PSBcclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvZGlnbyA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA0MDAsICdPIMO6bmV0ZSBjb24gY8OzZGlnbycsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlQ29kZUlucHV0KHdpZHRoLzIgLSA4MCwgNDQwKTtcclxuXHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyICsgMTEwLDQ0MCwgJ2JvdG9uJyk7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvLnNldFNjYWxlKDAuMDUsIDAuMSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIgKyAxMTAsIDQ0MCwgJ1VuaXJzZScsIHtcclxuICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0U3R5bGUoeyBmaWxsOiAnI2ZmMDAwMCcgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pO1xyXG4gICAgfSk7IFxyXG5cclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIC8vdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgIHRoaXMudW5pcnNlU2FsYSgpfSk7XHJcblxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZjAwMDAnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgXHJcbiAgICBjb25zdCBib3RvblZvbHZlciA9IHRoaXMuYWRkLmltYWdlKHdpZHRoLzIsIDUyMCwgJ2JvdG9uJyk7XHJcbiAgICBib3RvblZvbHZlci5zZXRTY2FsZSgwLjA1LCAwLjEpO1xyXG5cclxuICAgIGNvbnN0IHZvbHZlckJ1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA1MjAsICdWb2x2ZXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdm9sdmVyQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgdm9sdmVyQnV0dG9uLnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdm9sdmVyQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB2b2x2ZXJCdXR0b24uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7IHtcclxuICAgIC8vICAgaWYoIXRoaXMudGl0dWxvQ29sYS52aXNpYmxlKXtcclxuICAgIC8vICAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICAgIC8vICAgICB0aGlzLm1vc3RyYXJCb3RvbmVzKCk7XHJcbiAgICAvLyAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJycpO1xyXG4gICAgLy8gICB9IGVsc2Uge1xyXG4gICAgICAgIFxyXG4gICAgLy8gICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICAgIC8vICAgaWYodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKXtcclxuICAgIC8vICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAvLyAgIH0gXHJcbiAgICAvLyAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO31cclxuXHJcbiAgICAvLyB9fSk7XHJcblxyXG4gICAgdm9sdmVyQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5zaHV0ZG93bigpO1xyXG4gICAgICBpZih0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpe1xyXG4gICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgfVxyXG4gICAgICAvL3RoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ29kZUlucHV0KHgsIHkpIHtcclxuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBpbnB1dEVsZW1lbnQudHlwZSA9ICd0ZXh0JztcclxuICAgIGlucHV0RWxlbWVudC5pZCA9ICdyb29tQ29kZUlucHV0JztcclxuICAgIGlucHV0RWxlbWVudC5wbGFjZWhvbGRlciA9ICdDw7NkaWdvIGRlIHNhbGEnO1xyXG4gICAgaW5wdXRFbGVtZW50Lm1heExlbmd0aCA9IDY7XHJcbiAgICBpbnB1dEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB3aWR0aDogMjAwcHg7XHJcbiAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGZvbnQtZmFtaWx5OiBUYWdlc3NjaHJpZnQsIGFyaWFsO1xyXG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICBib3JkZXI6IDNweCBzb2xpZCAjZmZmZmZmO1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyMjIyO1xyXG4gICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgICB6LWluZGV4OiA5OTk5O2A7XHJcblxyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gVXNlIHRoZSBlbGVtZW50IHJlZmVyZW5jZSBkaXJlY3RseSB0byBhdm9pZCB0eXBpbmcgaXNzdWVzIG9uIEV2ZW50VGFyZ2V0XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gaW5wdXRFbGVtZW50LnZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgIHRoaXMudW5pcnNlU2FsYSgpO1xyXG4gICAgICAgIH0gXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dEVsZW1lbnQpO1xyXG5cclxuICAgICAgLy8gUG9zaXRpb24gcmVsYXRpdmUgdG8gY2FudmFzIHRvIGF2b2lkIHBhZ2Ugb2Zmc2V0c1xyXG4gICAgICBjb25zdCBpbnB1dFdpZHRoID0gMjAwO1xyXG4gICAgICBjb25zdCBpbnB1dEhlaWdodCA9IDQwO1xyXG4gICAgICBjb25zdCBwb3NpdGlvbklucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdhbWUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5yb3VuZChyZWN0LmxlZnQgKyB4IC0gaW5wdXRXaWR0aCAvIDIpfXB4YDtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuc3R5bGUudG9wID0gYCR7TWF0aC5yb3VuZChyZWN0LnRvcCArIHkgLSBpbnB1dEhlaWdodCAvIDIpfXB4YDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHBvc2l0aW9uSW5wdXQoKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgcG9zaXRpb25JbnB1dCk7XHJcblxyXG4gICAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcG9zaXRpb25JbnB1dCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLmNvZGVJbnB1dCA9IGlucHV0RWxlbWVudDtcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBKdWdhZG9yZXMgZW4gY29sYTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdyb29tSW5mbyc6XHJcbiAgICAgICAgLy8gU2hvdyByb29tIGNvZGUgdG8gdGhlIGNyZWF0b3JcclxuICAgICAgICBpZiAoZGF0YS5jb2RlKSB7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlID0gZGF0YS5jb2RlO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0VGV4dChgVHUgdG9ycmU6ICR7ZGF0YS5jb2RlfWApO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0Q29sb3IoJyNmZmZmZmYnKTtcclxuICAgICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgU2FsYSBjcmVhZGE6ICR7ZGF0YS5jb2RlfWApO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnam9pblJvb21SZXN1bHQnOlxyXG4gICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGUgPSBkYXRhLmNvZGU7XHJcbiAgICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0VGV4dChkYXRhLmNvZGUpO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0Q29sb3IoJyNmZmZmZmYnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdVbmlkbyBhIGxhIHNhbGEuJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgICAgICB0aGlzLm1vc3RyYXJCb3RvbmVzKCk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChkYXRhLm1lc3NhZ2UgfHwgJ05vIHNlIHB1ZG8gdW5pciBhIGxhIHNhbGEuJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdzdGFydEdhbWUnOlxyXG4gICAgICBjYXNlICdnYW1lU3RhcnQnOlxyXG4gICAgICAgIC8vIFByZXZlbmlyIGV2ZW50b3MgZHVwbGljYWRvc1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdGFydGVkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRhdGEuY29kZSkge1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZSA9IGRhdGEuY29kZTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoYFRvcnJlOiAke2RhdGEuY29kZX1gKTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldENvbG9yKCcjZmZmZmZmJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoVBhcnRpZGEgaW5pY2lhbmRvIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnUGFydGlkYSBpbmljaWFuZG8hJywgZGF0YSk7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtKXtcclxuICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgICAgIHRoaXMuYmdtLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdHJhbnNpY2lvbiBhIGxhIGVzY2VuYSBkZWwganVlZ29cclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmVPJywge1xyXG4gICAgICAgICAgd3M6IHRoaXMud3MsXHJcbiAgICAgICAgICBwbGF5ZXJSb2xlOiBkYXRhLnJvbGUsXHJcbiAgICAgICAgICByb29tSWQ6IGRhdGEucm9vbUlkIHx8IHRoaXMucm9vbUlkLFxyXG4gICAgICAgICAgaW5pdGlhbEJhbGw6IGRhdGEuYmFsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZXJyb3InOlxyXG4gICAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoZGF0YS5tZXNzYWdlIHx8ICdFcnJvciBkZWwgc2Vydmlkb3IuJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgIHRoaXMubW9zdHJhckJvdG9uZXMoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNyZWFyU2FsYSgpe1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICBpZih0aGlzLnJvb21Db2RlKXtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnWWEgaGFzIGNyZWFkbyB1bmEgc2FsYS4nKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdjcmVhdGVSb29tJyB9KSk7XHJcblxyXG4gICAgICB0aGlzLm9jdWx0YXJCb3RvbmVzKCk7XHJcblxyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ3JlYW5kbyBzYWxhLi4uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ05vIGNvbmVjdGFkbyBhbCBzZXJ2aWRvci4gRXJyb3IgZGUgY29uZXh0acOzbi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1bmlyc2VDb2xhKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblF1ZXVlJyB9KSk7XHJcblxyXG4gICAgICB0aGlzLm9jdWx0YXJCb3RvbmVzKCk7XHJcblxyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQnVzY2FuZG8gcGFydGlkYS4uLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZmZmMDAnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdObyBjb25lY3RhZG8gYWwgc2Vydmlkb3IuIEVycm9yIGRlIGNvbmV4dGnDs24uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb2N1bHRhckJvdG9uZXMoKSB7XHJcbiAgICB0aGlzLnRpdHVsb0NyZWFyU2FsYS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuYm90b25DcmVhclNhbGEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLmNyZWFyU2FsYVRleHQuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2xhLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvbGEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuXHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2RpZ28uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLmNvZGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnby5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBpZih0aGlzLmNvZGVJbnB1dCl7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtb3N0cmFyQm90b25lcygpIHtcclxuICAgIHRoaXMudGl0dWxvQ3JlYXJTYWxhLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLmJvdG9uQ3JlYXJTYWxhLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMudGl0dWxvQ29sYS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvbGEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvZGlnby5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy5jb2RlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIGlmKHRoaXMuY29kZUlucHV0KXtcclxuICAgICAgdGhpcy5jb2RlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1bmlyc2VTYWxhKCkge1xyXG4gICAgY29uc3QgY29kZSA9IHRoaXMuY29kZUlucHV0LnZhbHVlLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgaWYoIWNvZGUpe1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnUG9yIGZhdm9yLCBpbnRyb2R1Y2UgdW4gY8OzZGlnbyBkZSBzYWxhLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGNvZGUubGVuZ3RoICE9PSA2KXtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0VsIGPDs2RpZ28gZGUgc2FsYSBkZWJlIHRlbmVyIDYgY2FyYWN0ZXJlcy4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUm9vbScsIGNvZGU6IGNvZGUgfSkpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnSW50ZW50YW5kbyB1bmlyc2UgYSBsYSBzYWxhLi4uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdObyBjb25lY3RhZG8gYWwgc2Vydmlkb3IuIEVycm9yIGRlIGNvbmV4dGnDs24uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfVxyXG4gIH1cclxuICB1cGRhdGUoKXtcclxuICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICBjb25zdCBtYWdvID0gdGhpcy5wbGF5ZXJzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgIGxldCBzYWx0byA9IGZhbHNlO1xyXG4gICAgICBjb25zdCB3YWxrU291bmQgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICBsZXQgaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgaWYgKG1hcHBpbmcudXBLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmRvd25LZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XHJcbiAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICdzdG9wJztcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcblxyXG4gICAgICAgICAgaWYgKHdhbGtTb3VuZCAmJiB3YWxrU291bmQuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgd2Fsa1NvdW5kLnN0b3AoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzTW92aW5nICYmIHdhbGtTb3VuZCAmJiAhd2Fsa1NvdW5kLmlzUGxheWluZykge1xyXG4gICAgICAgICAgd2Fsa1NvdW5kLnBsYXkoKTtcclxuICAgICAgfVxyXG4gICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZU1hZ29Db21tYW5kKG1hZ28sIGRpcmVjdGlvbiwgc2FsdG8pO1xyXG4gICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuICAgIH0pO1xyXG5cclxuIH1cclxuXHJcblxyXG4gIGNyZWFyRXNjZW5hcmlvKCkge1xyXG4gICAgICAgIHRoaXMuc3VlbG8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDcyLCAnc3VlbG9SJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnN1ZWxvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wYXJlZCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCAyMDUsICdwYXJlZFInKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDMxMCwgJ2NhbXBvRnVlcnphJyk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckJhcnJlcmFJbnZpc2libGUoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXIgdW5hIGJhcnJlcmEgaW52aXNpYmxlIHF1ZSBldml0YSBxdWUgc3ViYSBoYWNpYSBhcnJpYmEgKHBlcm8gcHVlZGEgYW5kYXIgbGlicmVtZW50ZSBwb3IgZWwgc3VlbG8pXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSg1MDAsIDEwNSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFNpemUoMTAwMCwgNTAwKTsgXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5ib2R5LnNldFNpemUoMTAwMCwgNTAwKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXN0YWJsZWNlckNvbGlzaW9uZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIEJhcnJlcmEgaW52aXNpYmxlIHBhcmEgcGVybWl0aXIgYXJlYSBkZSBzdWVsbyBkb25kZSBzZSBkZXNwbGFjZW4gbGlicmVtZW50ZSwgeSBhcmVhIGRlIHNhbHRvIHBhcmEgc3ViaXIgcG9yIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgICAgICAvLyBCYXJyZXJhIGludmlzaWJsZSBwYXJhIHBlcm1pdGlyIGFyZWEgZGUgc3VlbG8gZG9uZGUgc2UgZGVzcGxhY2VuIGxpYnJlbWVudGUsIHkgYXJlYSBkZSBzYWx0byBwYXJhIHN1YmlyIHBvciBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZnRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjEnLCA1MCwgNDAwLCAnaWRsZV9BenVsJyk7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHJpZ2h0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIyJywgOTUwLCA0MDAsICdpZGxlX0F6dWwnKTtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbGVmdE1hZ28pO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgcmlnaHRNYWdvKTtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvd25LZXk6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnTEVGVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICAgICAganVtcDogJ1NQQUNFJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZG93bktleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGp1bXA6ICdFTlRFUidcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vdGhpcy5pbnRwdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnOyBcclxuICAgICAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gSW5wdXRDb25maWcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKSxcclxuICAgICAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1bXBPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuanVtcF0pLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICBzZXRQYXVzZVN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VtaW5nIEdhbWVTY2VuZSB3aXRoIGRhdGE6XCIsIGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEucG9jaW9uZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gZGF0YS5wb2Npb25lcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmludmVudGFyaW8uZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYEludmVudGFyaW9bJHtpbmRleH1dOiAke2l0ZW19YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyIChzYW1lIGhvc3QgYXMgd2ViIHNlcnZlcilcclxuXHJcbiAgICAgIGlmKHRoaXMud3Mpe1xyXG4gICAgICAgIGlmKHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gfHwgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORyl7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGFscmVhZHkgY29ubmVjdGVkIG9yIGNvbm5lY3RpbmcnKTtcclxuICAgICAgICAgIHRoaXMud3Mub25vcGVuID0gbnVsbDtcclxuICAgICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gbnVsbDtcclxuICAgICAgICAgIHRoaXMud3Mub25lcnJvciA9IG51bGw7XHJcbiAgICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSBudWxsO1xyXG4gICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndzID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9L3dzYDtcclxuXHJcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlcicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25lY3RhZG8gYWwgc2Vydmlkb3IuJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSm9pbiBtYXRjaG1ha2luZyBxdWV1ZVxyXG4gICAgICAgIC8vdGhpcy4uc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGVycm9yIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnU2FsYURlRXNwZXJhJykpIHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGxvc3QhJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdGYWlsZWQgdG8gY29ubmVjdCEnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGxlYXZlUXVldWUoKSB7XHJcbiAgICBpZiAodGhpcy53cyl7XHJcbiAgICAgIHRoaXMud3Mub25vcGVuID0gbnVsbDtcclxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBudWxsO1xyXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSBudWxsO1xyXG4gICAgICBpZih0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKXtcclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLndzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLmNvZGVJbnB1dCAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuY29kZUlucHV0KSl7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0LnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLmNvZGVJbnB1dCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICBcclxuICB9XHJcblxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxuXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1hZ28gfSBmcm9tICcuLi9lbnRpdGllcy9NYWdvJ1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZU1hZ29Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBQYXVzZUdhbWVDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9QYXVzZUdhbWVDb21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmVPIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lTycpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gRXNjZW1uYXJpbyB5IG9iamV0b3MgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJlZFInLCAnL2ltYWdlbmVzL3BhcmVkWVRlY2hvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VlbG9SJywgJy9pbWFnZW5lcy9zdWVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvbGFDcmlzdGFsUicsICcvaW1hZ2VuZXMvYm9sYUNyaXN0YWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYWxkZXJvUicsICcvaW1hZ2VuZXMvY2FsZGVyb0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FtcG9GdWVyemFSJywgJy9pbWFnZW5lcy9jYW1wb2RlZnVlcnphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29mcmVSJywgJy9pbWFnZW5lcy9jb2ZyZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvZnJlQWJpZXJ0b1InLCAnL2ltYWdlbmVzL2NvZnJlQWJpZXJ0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVyaWFSJywgJy9pbWFnZW5lcy9lc3RhbnRlcmlhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGxhdmVSJywgJy9pbWFnZW5lcy9sbGF2ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlub1InLCAnL2ltYWdlbmVzL3BlcmdhbWlub0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhbnRhUicsICcvaW1hZ2VuZXMvcGxhbnRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSJywgJy9pbWFnZW5lcy9wb2Npb25lcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZlbGFzUicsICcvaW1hZ2VuZXMvdmVsYXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlUicsICcvaW1hZ2VuZXMvZXN0YW50ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xpYnJvc1InLCAnL2ltYWdlbmVzL2xpYnJvcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVlInLCAnL2ltYWdlbmVzL2JvdG9uVmFjaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNSJywgJy9pbWFnZW5lcy9ib3RvbkNvbXBsZXRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0cmVsbGFSJywgJy9pbWFnZW5lcy9lc3RyZWxsYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQXonLCAnL2ltYWdlbmVzL3BvY2lvbkF6dWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0FtJywgJy9pbWFnZW5lcy9wb2Npb25lc0FtYXJpbGxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNOJywgJy9pbWFnZW5lcy9wb2Npb25OYXJhbmphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSbycsICcvaW1hZ2VuZXMvcG9jaW9uUm9zYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTScsICcvaW1hZ2VuZXMvcG9jaW9uTW9yYWRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNWJywgJy9pbWFnZW5lcy9wb2Npb25WZXJkZS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9BenVsJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8yJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8zJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF80JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF81JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF82JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF83JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fOC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF84JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfUm9qbycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzInLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18zJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzUnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb182JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzgnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fOC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZXJmYXogTXVlcnRlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCR01cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2JnbScsICcvc291bmRzL2JnbS5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvcyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdhYnJpckNvZnJlJywgJy9zb3VuZHMvY2hlc3Rfb3Blbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJQb2Npb24nLCAnL3NvdW5kcy9ib3RlbGxhcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJMbGF2ZScsICcvc291bmRzL2xsYXZlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2FsaycsICcvc291bmRzL3dhbGsubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdleHBsb3Npb24nLCAnL3NvdW5kcy9leHBsb3Npb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwdWVydGEnLCAnL3NvdW5kcy9wdWVydGEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd0cmlnZ2VyJywgJy9zb3VuZHMvdHJpZ2dlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3BlcXVlw7FvJywgJy9zb3VuZHMvcGVxdWXDsW8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIEludGVyZmF6XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTsgXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzID0gbmV3IE1hcCgpOyAvLyBNYXAgcGFyYSBndWFyZGFyIGVsIHNvbmlkbyBkZSBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICAvLyB0aGlzLnZpc2l0TGlicmVyaWEgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gQXJyYXkgZGUgYm9vbGVhbm9zIHF1ZSByZXByZXNlbnRhIHF1ZSBvYmpldG9zIGhhbiByZWNvZ2lkbyBlbnRyZSBhbWJvcyBqdWdhZG9yZXNcclxuICAgICAgICAvLyBMb3Mgb2JqZXRvcyBzb246IDAtbGxhdmUsIDEtbGlicm9zLCAyLSBwb2Npb24gbW9yYWRhLCAzLSBwb2Npb24gdmVyZGUsIDQtIHBvY2lvbiByb3NhLCA1LSBwb2Npb24gYXp1bCwgNi0gcG9jaW9uIGFtYXJpbGxhLCA3LSBwb2Npb24gbmFyYW5qYSwgOC0gdmVsYXMsIDktIGJvbGEgZGUgY3Jpc3RhbCwgMTAtIHBsYW50YSwgMTEtIGVzdHJlbGxhIDEsIDEyLSBlc3RyZWxsYSAyXHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMud3MgPSBkYXRhLndzO1xyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZTsgLy8gJ3BsYXllcjEnIG9yICdwbGF5ZXIyJyAgICBcclxuICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sT3BvbmVudGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRlc2FjdGl2YWRvID0gW2ZhbHNlLCBmYWxzZV07IC8vIFNhYmVyIHF1ZSBqdWdhZG9yIGhhIHBhc2FkbyBwb3IgbGEgcHVlcnRhIGZpbmFsXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2FuZGFyX21hZ29fQXp1bCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdpZGxlX0F6dWwnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8yJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF81JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzcnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF84JyB9XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdhbmRhcl9tYWdvX1Jvam8nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnaWRsZV9Sb2pvJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fMicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb180JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzYnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb183JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fOCcgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYmdtID0gdGhpcy5zb3VuZC5hZGQoJ2JnbScsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgdW4gc29uaWRvIGRlIHBhc29zIHBhcmEgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMScsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMicsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcblxyXG4gICAgICAgIC8vIFBhcmFyIHBhc29zIGN1YW5kbyBsYSBlc2NlbmEgc2UgcGF1c2UgKGVqLiBQYXVzZVNjZW5lKSB5IGxpbXBpYXIgc29uaWRvcyBhbCBzaHV0ZG93blxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdwYXVzZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4geyB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH0gfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQWwgcmVzdW1lIG5vIHNlIHJlcHJvZHVjZSBhdXRvbcOhdGljYW1lbnRlOiBlbCB1cGRhdGUoKSByZWFudWRhcsOhIHBhc29zIHNpIHNlIHB1bHNhIG1vdmVyXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3Jlc3VtZScsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gbmFkYSBlc3BlY2lhbDogdXBkYXRlKCkgdm9sdmVyw6EgYSByZXByb2R1Y2lyIGN1YW5kbyBkZXRlY3RlIG1vdmltaWVudG9cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBBc2VndXJhciBsaW1waWV6YSBjdWFuZG8gbGEgZXNjZW5hIHNlIGNpZXJyZSBkZWZpbml0aXZhbWVudGVcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gcGFyYXIgeSBkZXN0cnVpciBzb25pZG9zIGRlIHBhc29zXHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzKSB3cy5kZXN0cm95KCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAvLyBwYXJhciBCR01cclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuYmdtICYmICh0aGlzLmJnbS5pc1BsYXlpbmcgfHwgdGhpcy5iZ20uaXNQYXVzZWQpKSB0aGlzLmJnbS5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIENyZWFyIGVzY2VuYXJpb1xyXG4gICAgICAgIHRoaXMuY3JlYXJFc2NlbmFyaW8oKTtcclxuICAgICAgICB0aGlzLmNyZWFyUGxhdGFmb3JtYXMoKTtcclxuICAgICAgICB0aGlzLmNyZWFyQmFycmVyYUludmlzaWJsZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5lc3RhYmxlY2VyQ29saXNpb25lcygpO1xyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpb0VuUGFudGFsbGEoKTsgXHJcblxyXG4gICAgICAgIC8vTW9zdHJhciB2aWRhc1xyXG4gICAgICAgIHRoaXMuaGVhbHRoTGVmdCA9IHRoaXMuYWRkLnRleHQoNTAsIDMwLCAnMycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0ID0gdGhpcy5hZGQudGV4dCg5MDAsIDMwLCAnMycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBNb3N0YXIgcXVlIGp1Z2Fkb3IgZXMgY2FkYSB1bm9cclxuICAgICAgICBjb25zdCBsb2NhbFBsYXllclRleHQgPSB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/ICdFcmVzIGVsIEp1Z2Fkb3IgMSAoQXp1bCknIDogJ0VyZXMgZWwgSnVnYWRvciAyIChSb2pvKSc7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDQwLCBsb2NhbFBsYXllclRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7ICBcclxuXHJcblxyXG4gICAgICAgIC8vIEFzaWduYXIgYSBjYWRhIGp1Z2Fkb3Igc2kgZXMgbG9jYWwgbyByZW1vdG9cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbnB1dHNcclxuICAgICAgICB0aGlzLmN1cnNvcnMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcclxuICAgICAgICB0aGlzLmp1bXBLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuU1BBQ0UpO1xyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICAgICAgdGhpcy5sa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkwpO1xyXG4gICAgICAgIHRoaXMucWtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5RKTtcclxuICAgIFxyXG4gICAgICAgIC8vIFdlYlNvY2tldCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHRpbWUsIGRlbHRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxvY2FsUGxheWVyIHx8ICF0aGlzLnJlbW90ZVBsYXllcikgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZXRlY3RhciBkaXJlY2Npw7NuIGRlIG1vdmltaWVudG8gbG9jYWxcclxuICAgICAgICBsZXQgZGlyZWNjaW9uID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLnVwLmlzRG93bikgZGlyZWNjaW9uID0gJ3VwJztcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvcnMuZG93bi5pc0Rvd24pIGRpcmVjY2lvbiA9ICdkb3duJztcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvcnMubGVmdC5pc0Rvd24pIGRpcmVjY2lvbiA9ICdsZWZ0JztcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvcnMucmlnaHQuaXNEb3duKSBkaXJlY2Npb24gPSAncmlnaHQnO1xyXG4gICAgICAgIGVsc2UgZGlyZWNjaW9uID0gJ3N0b3AnO1xyXG5cclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSB0aGlzLmVzY0tleS5pc0Rvd247XHJcbiAgICAgICAgdGhpcy5sUHVsc2FkYSA9IGZhbHNlOyAvL3ZvbHZlciBhIHBvbmVyIGEgZmFsc2Ugc2kgbm8gaGEgaGFiaWRvIG92ZXJsYXBcclxuICAgICAgICB0aGlzLmxPcG9uZW50ZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmxrZXkuaXNEb3duIHx8IHRoaXMucWtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5sUHVsc2FkYSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2xQdWxzYWRhJyAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29tcHJvYmFyIHNpIGFsZ3VubyBkZSBsb3MganVnYWRvcmVzIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gobWFnbyA9PiB7XHJcbiAgICAgICAgICAgIG1hZ28udXBkYXRlKGRlbHRhKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRWplY3V0YXIgY29tYW5kbyBkZSBtb3ZpbWllbnRvIGxvY2FsXHJcbiAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVNYWdvQ29tbWFuZCh0aGlzLmxvY2FsUGxheWVyLCBkaXJlY2Npb24sIHRoaXMuanVtcEtleS5pc0Rvd24pO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG5cclxuICAgICAgICBpZihkaXJlY2Npb24hPT0nc3RvcCcpe1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICBpZihkaXJlY2Npb249PT0nbGVmdCcpIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGVsc2UgaWYoZGlyZWNjaW9uPT09XCJyaWdodFwiKSB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsb2NhbFdhbGs9IHRoaXMud2Fsa1NvdW5kcy5nZXQodGhpcy5wbGF5ZXJSb2xlKTtcclxuICAgICAgICBpZihkaXJlY2Npb24hPT0nc3RvcCcpe1xyXG4gICAgICAgICAgICBpZihsb2NhbFdhbGsgJiYgIWxvY2FsV2Fsay5pc1BsYXlpbmcpe1xyXG4gICAgICAgICAgICAgICAgbG9jYWxXYWxrLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmKGxvY2FsV2FsayAmJiBsb2NhbFdhbGsuaXNQbGF5aW5nKXtcclxuICAgICAgICAgICAgICAgIGxvY2FsV2Fsay5zdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVudmlhciBwb3NpY2nDs24gZGVsIGp1Z2Fkb3IgbG9jYWwgYWwgc2Vydmlkb3JcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ3BsYXllck1vdmUnLFxyXG4gICAgICAgICAgICB4OiB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS55LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjY2lvbixcclxuICAgICAgICAgICAgaXNNb3Zpbmc6IGRpcmVjY2lvbiAhPT0gJ3N0b3AnLFxyXG4gICAgICAgICAgICBmbGlwWDogdGhpcy5sb2NhbFBsYXllci5zcHJpdGUuZmxpcFggXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGF2aXNhciBhbCBvdHJvIGp1Z2Fkb3Igc2kgaGEgaGFiaWRvIGNhbWJpb3MgZW4gZWwgaW52ZW50YXJpbyBlbiBsYSBlc2NlbmEgZGUgbGEgbGlicmVyw61hXHJcbiAgICAgICAgLy8gaWYodGhpcy52aXNpdExpYnJlcmlhKXtcclxuICAgICAgICAvLyAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgLy8gICAgICAgICB0eXBlOiAnYWN0dWFsaXphckludmVudGFyaW8nLFxyXG4gICAgICAgIC8vICAgICAgICAgaW52ZW50YXJpbzogdGhpcy5pbnZlbnRhcmlvXHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vICAgICB0aGlzLnZpc2l0TGlicmVyaWEgPSBmYWxzZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5hY3R1YWxpemFySW52ZW50YXJpb0VuUGFudGFsbGEoKTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyRXNjZW5hcmlvKCkge1xyXG4gICAgICAgIHRoaXMuc3VlbG8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDcyLCAnc3VlbG9SJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnN1ZWxvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wYXJlZCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCAyMDUsICdwYXJlZFInKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE2NSwgMzAwLCAnZXN0YW50ZXJpYVInKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE4NSwgMzAzLCAnYm9sYUNyaXN0YWxSJyk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDMwLCAnY2FsZGVyb1InKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDk0MCwgMzEwLCAnY2FtcG9GdWVyemFSJyk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvZnJlID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDUsIDI4MywgJ2NvZnJlUicpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNvZnJlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sbGF2ZSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTcwLCAxNjAsICdsbGF2ZVInKTtcclxuICAgICAgICB0aGlzLmxsYXZlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxsYXZlLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg3ODAsIDE4MCwgJ3BlcmdhbWlub1InKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxhbnRhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNzAsIDM2NSwgJ3BsYW50YVInKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBsYW50YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE2OSwgMjYyLCAncG9jaW9uZXNSJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZlbGFzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNDAsIDMwOCwgJ3ZlbGFzUicpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnZlbGFzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saWJyb3MgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE1MCwgMjIwLCAnbGlicm9zUicpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwLCAzNTAsICdib3RvblZSJyk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvdG9uMiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNzgwLCAzNTAsICdib3RvblZSJyk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gZXN0cmVsbGFzIGRlIGRlbnRybyBkZWwgY29mcmVcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDUwLCAyODMsICdlc3RyZWxsYVInKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDU2MCwgMjgzLCAnZXN0cmVsbGFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyQmFycmVyYUludmlzaWJsZSgpIHtcclxuICAgICAgICAvLyBDcmVhciB1bmEgYmFycmVyYSBpbnZpc2libGUgcXVlIGV2aXRhIHF1ZSBzdWJhIGhhY2lhIGFycmliYSAocGVybyBwdWVkYSBhbmRhciBsaWJyZW1lbnRlIHBvciBlbCBzdWVsbylcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0ltYWdlKDUwMCwgMTA1LCBudWxsKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0U2l6ZSgxMDAwLCA1MDApOyBcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLmJvZHkuc2V0U2l6ZSgxMDAwLCA1MDApO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjb2xsaWRlciBpbnZpc2libGUgcGFyYSBxdWUgcHVlZGEgdXNhciBsYSBiYWxkYSBzdXBlcmlvciBkZSBsYSBlc3RhbnRlcsOtwq1hIGNvbW8gcGxhdGFmb3JtYVxyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxNjUsIDE5NSwgJ3doaXRlX3BpeGVsJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5zZXRTY2FsZSg0LCAwLjUpO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjb2xsaWRlciBpbnZpc2libGUgcGFyYSBldml0YXIgcXVlIGF0cmF2aWVzZSBlbCBjYWxkZXJvXHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDUwMCwgNDAwLCAnd2hpdGVfcGl4ZWwnKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLnNldENpcmNsZSg4NSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldE9mZnNldCgtNzAsIC01NSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJQbGF0YWZvcm1hcygpIHtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG4gICAgICAgIC8vIENlbnRyb1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDQ0NiwgMzE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg1MTAsIDMxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNTcwLCAzMTUsICdlc3RhbnRlUicpO1xyXG5cclxuICAgICAgICAvLyBJenF1aWVyZGFcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg2NTAsIDM1MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNjUwLCAyMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDcwMCwgMzkwLCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICAgICAgLy8gRGVyZWNoYVxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDQ0NiwgMjUwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzNjAsIDIzNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMjk1LCAyMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDMwMCwgMzkwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzODAsIDM1MCwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVzdGFibGVjZXJDb2xpc2lvbmVzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIC8vIENvbGlzaW9uZXMgZGVsIGp1Z2Fkb3IgY29uIGVsIGVzY2VuYXJpb1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0YW50ZXJpYUNvbGwpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMucGxhdGFmb3JtYXMpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuY2FsZGVyb0NvbGwpO1xyXG4gICAgICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5jb2ZyZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDb25zZWd1aXIgbGEgbGxhdmVcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMubGxhdmUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdyZWNvZ2VyTGxhdmUnLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sbGF2ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxsYXZlIGNvbnNlZ3VpZGFcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBsbGF2ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDEpOyBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaWQ7IFxyXG4gICAgICAgICAgICBpZihwbGF5ZXIucGxheWVySWQgPT09ICdwbGF5ZXIxJykgaWQgPSAxO1xyXG4gICAgICAgICAgICBlbHNlIGlkID0gMjtcclxuXHJcbiAgICAgICAgICAgIC8vIEFicmlyIGxhIGxpYnJlcsOtwq1hXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxQdWxzYWRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy52aXNpdExpYnJlcmlhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0xpYnJlcmlhU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmVPJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9jaW9uZXM6IHRoaXMuaW52ZW50YXJpbyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291bmQ6IHRoaXMuc291bmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1Z2Fkb3I6IGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cyA6IHRoaXMud3NcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBCYXJyZXJhIGludmlzaWJsZSBwYXJhIHBlcm1pdGlyIGFyZWEgZGUgc3VlbG8gZG9uZGUgc2UgZGVzcGxhY2VuIGxpYnJlbWVudGUsIHkgYXJlYSBkZSBzYWx0byBwYXJhIHN1YmlyIHBvciBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWwgY29saXNpb25hciBjb24gbGEgYmFycmVyYSBpbnZpc2libGUgbWllbnRyYXMgZWwganVnYWRvciB2YSBoYWNpYSBhcnJpYmEsIHNhbHRhXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5qdW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGNhbGxiYWNrIC0gb25seSBjb2xsaWRlIHdoZW4gbW92aW5nIHVwIGFuZCBub3QganVtcGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTW92aW5nVXAgPSBwbGF5ZXIuc3ByaXRlLmJvZHkudmVsb2NpdHkueSA8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFwbGF5ZXIuaXNKdW1waW5nICYmIGlzTW92aW5nVXA7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXIgcG9jaW9uIGRlIGRpc21pbnVpciB0YW1hw7FvIHNpIHNlIHRpZW5lbiBsYXMgcG9jaW9uZXMgbmVjZXNhcmlhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5jYWxkZXJvLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMubGtleSkgfHwgUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMucWtleSkpIHsgLy8gQ29tcHJvYmFyIHF1ZSBzZSBoYSBwdWxzYWRvIGxhIHRlY2xhIEwgbyBRIHBhcmEgY3JlYXIgbGEgcG9jaW9uIChzaSBzZSBtYW50aWVuZSBwdWxzYWRhIGxhIHRlY2xhIG5vIGVudHJhcsOhIHZhcmlhcyB2ZWNlcyBhIGxhIGZ1bmNpw7NuKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndXNhckNhbGRlcm8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRhcmlvOnRoaXMuaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAvLyBBYnJpciBlbCBjb2ZyZSBzaSBzZSB0aWVuZSBsYSBsbGF2ZVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5jb2ZyZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvZnJlQWJpZXJ0bykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludmVudGFyaW9bMF0pIHsgLy8gY29tcHJvYmFyIHF1ZSB0aWVuZSBsYSBsbGF2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ29mcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5lY2VzaXRhcyBsYSBsbGF2ZSBwYXJhIGFicmlyIGVsIGNvZnJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZWNvZ2VyIGVzdHJlbGxhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RyZWxsYTEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb2dlckVzdHJlbGxhKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0cmVsbGEyLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29nZXJFc3RyZWxsYSgyKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy9jb2xvY2FyIGVzdHJlbGxhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb2NhckVzdHJlbGxhKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24yLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9jYXJFc3RyZWxsYSgyKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gcHVsc2FyIGJvdG9uZXMgcGFyYSBkZXNhY3RpdmFyIGVsIGNhbXBvIGRlIGZ1ZXJ6YVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdib3RvbkNhbXBvRnVlcnphJyxcclxuICAgICAgICAgICAgICAgICAgICBib3RvbjogMVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdib3RvbkNhbXBvRnVlcnphJyxcclxuICAgICAgICAgICAgICAgICAgICBib3RvbjogMlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIExvcyBvYmpldG9zIHNvbjogMC1sbGF2ZSwgMS1saWJyb3MsIDItIHBvY2lvbiBtb3JhZGEsIDMtIHBvY2lvbiB2ZXJkZSwgNC0gcG9jaW9uIHJvc2EsIDUtIHBvY2lvbiBhenVsLCA2LSBwb2Npb24gYW1hcmlsbGEsIDctIHBvY2lvbiBuYXJhbmphLCA4LSB2ZWxhcywgOS0gYm9sYSBkZSBjcmlzdGFsLCAxMC0gcGxhbnRhLCAxMS0gZXN0cmVsbGEgMSwgMTItIGVzdHJlbGxhIDJcclxuICAgIGludmVudGFyaW9FblBhbnRhbGxhKCkgeyAvL0NvbW8gc2UgYWNhYmEgZGUgY3JlYXIsIHRvZGF2w61hIG5vIHNlIGhhYnLDoSByZWNvZ2lkbyBuaW5nw7puIGVsZW1lbnRvXHJcbiAgICAgICAgdGhpcy5jZXJvID0gdGhpcy5hZGQuaW1hZ2UoMjAwLCA1MjAsICdsbGF2ZVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMudW5vID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCA1MjAsICdsaWJyb3NSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZG9zID0gdGhpcy5hZGQuaW1hZ2UoMzAwLCA1MjAsICdwb2Npb25lc00nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMudHJlcyA9IHRoaXMuYWRkLmltYWdlKDM1MCwgNTIwLCAncG9jaW9uZXNWJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmN1YXRybyA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTIwLCAncG9jaW9uZXNSbycpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5jaW5jbyA9IHRoaXMuYWRkLmltYWdlKDQ1MCwgNTIwLCAncG9jaW9uZXNBeicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zZWlzID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA1MjAsICdwb2Npb25lc0FtJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnNpZXRlID0gdGhpcy5hZGQuaW1hZ2UoNTUwLCA1MjAsICdwb2Npb25lc04nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMub2NobyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNTIwLCAndmVsYXNSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMubnVldmUgPSB0aGlzLmFkZC5pbWFnZSg2NTAsIDUyMCwgJ2JvbGFDcmlzdGFsUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRpZXogPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUyMCwgJ3BsYW50YVInKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5vbmNlID0gdGhpcy5hZGQuaW1hZ2UoNzUwLCA1MjAsICdlc3RyZWxsYVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuZG9jZSA9IHRoaXMuYWRkLmltYWdlKDgwMCwgNTIwLCAnZXN0cmVsbGFSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgIH1cclxuXHJcbiAgICBhY3R1YWxpemFySW52ZW50YXJpb0VuUGFudGFsbGEoKSB7ICAgICAgICBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMV0pIHRoaXMudW5vLnNldEFscGhhKDEpOyBlbHNlIHRoaXMudW5vLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1syXSkgdGhpcy5kb3Muc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLmRvcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bM10pIHRoaXMudHJlcy5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLnRyZXMuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzRdKSB0aGlzLmN1YXRyby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmN1YXRyby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNV0pIHRoaXMuY2luY28uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNl0pIHRoaXMuc2Vpcy5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuc2Vpcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bN10pIHRoaXMuc2lldGUuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLnNpZXRlLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s4XSkgdGhpcy5vY2hvLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5vY2hvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s5XSkgdGhpcy5udWV2ZS5zZXRBbHBoYSgxKTtlbHNlIHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzEwXSkgdGhpcy5kaWV6LnNldEFscGhhKDEpOyBlbHNlIHRoaXMuZGllei5zZXRBbHBoYSgwLjIpOyBcclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNvZnJlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnYWJyaXJDb2ZyZScsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnYWJyaXJDb2ZyZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29mcmUgYWJpZXJ0b1wiKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldFRleHR1cmUoJ2NvZnJlQWJpZXJ0b1InKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRBbHBoYSgxLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEFscGhhKDEuMCk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZUFiaWVydG8gPSB0cnVlOyAvLyBwYXJhIHF1ZSBzb2xvIHNlIGFicmEgdW5hIHZlelxyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpb1swXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgbGxhdmUgZGVsIGludmVudGFyaW8gYWwgYWJyaXIgZWwgY29mcmVcclxuICAgICAgICB0aGlzLmNlcm8uc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICB9XHJcblxyXG4gICAgcmVjb2dlckVzdHJlbGxhKG4pIHtcclxuICAgICAgICBpZiAodGhpcy5jb2ZyZUFiaWVydG8pIHsgLy8gc29sbyBzZSBwdWVkZSByZWNvZ2VyIHNpIGVsIGNvZnJlIGVzdMOhIGFiaWVydG8gKHBvcnF1ZSBzaW5vIGVzdMOhbiBvY3VsdGFzKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdHJlbGxhIFwiICsgbiArIFwiIHJlY29naWRhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IHRydWU7IC8vIG1hcmNhciBlbiBlbCBpbnZlbnRhcmlvIHF1ZSBzZSBoYSBjb25zZWd1aWRvIGxhIGVzdHJlbGxhICgxMSB5IDEyIGVuIGVsIGFycmF5KVxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lc3RyZWxsYTEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlLnNldEFscGhhKDEuMCk7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICB9IGVsc2V7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5lc3RyZWxsYTIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb2NlLnNldEFscGhhKDEuMCk7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNDAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgIC8vIHZvbHZlciBhIGFjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmVuYWJsZUJvZHkoZmFsc2UsIDAsIDAsIHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvbG9jYXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1sxMCArIG5dKSB7IC8vIGNvbXByb2JhciBxdWUgc2UgdGllbmUgbGEgZXN0cmVsbGEgY29ycmVzcG9uZGllbnRlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgY29sb2NhZGFcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3RyaWdnZXInLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMS5zZXRUZXh0dXJlKCdib3RvbkNSJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgZXN0cmVsbGEgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wcm9iYXJDYW1wb0Z1ZXJ6YSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ib3RvbjEudGV4dHVyZS5rZXkgPT09ICdib3RvbkNSJyAmJiB0aGlzLmJvdG9uMi50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InKSB7IC8vY29tcHJvYmFyIHF1ZSBhbWJvcyBib3RvbmVzIHRpZW5lbiBsYSBlc3RyZWxsYSBjb2xvY2FkYVxyXG4gICAgICAgICAgICBpZiAoKHRoaXMubE9wb25lbnRlIHx8IHRoaXMucWtleS5pc0Rvd24pICYmIHRoaXMubGtleS5pc0Rvd24gJiYgdGhpcy5ib3RvbjFBY3RpdmFkbyAmJiB0aGlzLmJvdG9uMkFjdGl2YWRvKSB7IC8vIGNvbXByb2JhciBxdWUgYW1ib3MganVnYWRvcmVzIGVzdMOhbiBwdWxzYW5kbyBsYSBMIChwZXJtaXRpciB0YW1iaWVuIGxhIHEgcG9yIHNpIGVzdMOhIGp1Z2FuZG8gZW4gYW1iYXMgdmVudGFuYXMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGVzYWN0aXZhckNhbXBvRnVlcnphJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNhbXBvRnVlcnphKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FtcG8gZGUgZnVlcnphIGRlc2FjdGl2YWRvXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncHVlcnRhJywgeyB2b2x1bWU6IDAuNyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5jcmVhclB1ZXJ0YUZpbmFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJQdWVydGFGaW5hbCgpIHtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDM3MCwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyBcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLnNldEFscGhhKDAuMCk7IFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnB1ZXJ0YUZpbmFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2p1Z2Fkb3JFblB1ZXJ0YUZpbmFsJyxcclxuICAgICAgICAgICAgICAgIHBsYXllcjogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgdGhpcy5wdWVydGFGaW5hbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdqdWdhZG9yRW5QdWVydGFGaW5hbCcsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7ICBcclxuICAgIH0gICAgICAgXHJcblxyXG4gICAgZW50cmFyUHVlcnRhRmluYWwoZGVzYWN0aXZhZG8sIGdhbmFkb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkRlc2FjdGl2YWRvOlwiLCBkZXNhY3RpdmFkbyk7IFxyXG4gICAgICAgIGlmIChkZXNhY3RpdmFkb1swXSAmJiBkZXNhY3RpdmFkb1sxXSkgeyAvL2NhbWJpYXIgZGUgZXNjZW5hIHNvbG8gc2kgYW1ib3MganVnYWRvcmVzIGhhbiBsbGVnYWRvIGEgbGEgcHVlcnRhIGZpbmFsXHJcbiAgICAgICAgICAgIC8vIFBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gUGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBwYXJhciBjdWFscXVpZXIgaW5zdGFuY2lhIHBvciBjbGF2ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ3dhbGsnKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdiZ20nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0RlY2lzaW9uU2NlbmUnLCB7ZWxlY2Npb246IGdhbmFkb3IsIGp1Z2Fkb3I6IHRoaXMucGxheWVyUm9sZSwgd3M6IHRoaXMud3MsIG1vZG86J29ubGluZSd9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgIGNvbnN0IG1hZ28xID1uZXcgTWFnbyh0aGlzLCAncGxheWVyMScsICA1MCwgNDAwLCAnaWRsZV9BenVsJyk7XHJcbiAgICAgICBjb25zdCBtYWdvMiA9ICBuZXcgTWFnbyh0aGlzLCAncGxheWVyMicsIDk1MCwgNDAwLCAnaWRsZV9Sb2pvJyk7XHJcbiAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbWFnbzEpO1xyXG4gICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIG1hZ28yKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKGlkKSB7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMjQwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0NTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3Rvbi5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChtYWdvID0+IHtcclxuICAgICAgICAgICAgbWFnby5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgbGEgbXVzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0ZXh0byA9IGlkID09PSAncGxheWVyMScgPyAnRWwganVnYWRvciAxXFxuICBoYSBtdWVydG8nIDogJyBFbCBqdWdhZG9yIDJcXG4gIGhhIG11ZXJ0byc7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgdGV4dG8sIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnICNmZjAwMDBmZicsXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC01KTsgXHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnTWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMmZmODlmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdwbGF5ZXJEaXNjb25uZWN0ZWQnIH0pICk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApOyAvLyBjZXJyYXIgbGEgY29uZXhpw7NuIGRlc3B1w6lzIGRlIHVuIGJyZXZlIHJldHJhc29cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIkdhbWVTY2VuZU9cIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIlBhdXNlU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z0xlZnQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBwbGF5ZXIxLnZpZGEtLTtcclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQuc2V0VGV4dChwbGF5ZXIxLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VsIGp1Z2Fkb3IgMSBoYSByZWNpYmlkbyBkYcOxbycpO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdkYcOxb0p1Z2Fkb3InLFxyXG4gICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgdmlkYTogcGxheWVyMS52aWRhXHJcbiAgICAgICAgfSk7IFxyXG5cclxuICAgICAgICAvLyBjb21wcm9iYXIgc2kgaGEgbXVlcnRvXHJcbiAgICAgICAgaWYgKHBsYXllcjEudmlkYSA8PSAwKSB0aGlzLmVuZEdhbWUoJ3BsYXllcjEnKTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgcGxheWVyMi52aWRhLS07XHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodC5zZXRUZXh0KHBsYXllcjIudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRWwganVnYWRvciAyIGhhIHJlY2liaWRvIGRhw7FvJyk7XHJcblxyXG4gICAgICAgIC8vIEF2aXNhciBhbCBzZXJ2aWRvciBcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ2Rhw7FvSnVnYWRvcicsXHJcbiAgICAgICAgICAgIHBsYXllcjogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICB2aWRhOiBwbGF5ZXIyLnZpZGFcclxuICAgICAgICB9KTsgXHJcblxyXG4gICAgICAgIC8vIGNvbXByb2JhciBzaSBoYSBtdWVydG8gICAgICAgIFxyXG4gICAgICAgIGlmIChwbGF5ZXIyLnZpZGEgPD0gMCkgdGhpcy5lbmRHYW1lKCdwbGF5ZXIyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZU8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZShkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wb2Npb25lcykge1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW8gPSBkYXRhLnBvY2lvbmVzO1xyXG4gICAgICAgICAgICAvL3RoaXMudmlzaXRMaWJyZXJpYSA9IHRydWU7IC8vIHBhcmEgYXZpc2FyIGVuIGVsIHVwZGF0ZSBxdWUgc2UgaGEgdnVlbHRvIGRlIGxhIGxpYnJlcsOtYSB5IGhheSBxdWUgZW52aWFyIGVsIGludmVudGFyaW8gYWwgb3RybyBqdWdhZG9yXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZVN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgbmV3IFBhdXNlR2FtZUNvbW1hbmQodGhpcywgbmV3UGF1c2VTdGF0ZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBXRUJTT0NLRVRTXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBwYXJzZWFyIG1lbnNhamUgV2Vic29ja2V0OicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbmV4acOzbiBXZWJTb2NrZXQgY2VycmFkYScpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZSBXZWJTb2NrZXQgOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ21vdmltaWVudG9KdWdhZG9yJzoge1xyXG4gICAgICAgICAgICAgICAgLy8gSWdub3JhciBtZW5zYWplcyBxdWUgcmVmbGVqYW4gZWwgcHJvcGlvIG1vdmltaWVudG8gbG9jYWxcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnBsYXllciA9PT0gdGhpcy5wbGF5ZXJSb2xlKSBicmVhaztcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yZW1vdGVQbGF5ZXIpIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVdhbGsgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KGRhdGEucGxheWVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlzTW92aW5nICYmIGRhdGEuZGlyZWN0aW9uICE9PSAnc3RvcCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3RlV2FsayAmJiAhcmVtb3RlV2Fsay5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlV2Fsay5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZW1vdGVXYWxrICYmIHJlbW90ZVdhbGsuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlV2Fsay5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zcHJpdGUueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS5mbGlwWCA9IGRhdGEuZmxpcFg7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlzTW92aW5nICYmIGRhdGEuZGlyZWN0aW9uICE9PSAnc3RvcCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdnYW1lT3Zlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEdhbWUoZGF0YS53aW5uZXJJZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAgICAgIFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNhc2UgJ2Rhw7FvJzogXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURhw7FvKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjYXNlICd1c2FyQ2FsZGVybyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNhbGRlcm8oZGF0YSk7IFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG5cclxuICAgICAgICAgICAgY2FzZSAnSW52ZW50YXJpbyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW8gPSBkYXRhLmludmVudGFyaW87XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdHVhbGl6YXJJbnZlbnRhcmlvRW5QYW50YWxsYSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnZlbnRhcmlvIGFjdHVhbGl6YWRvIGRlc2RlIGVsIHNlcnZpZG9yXCIsIHRoaXMuaW52ZW50YXJpbyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdG9uQ0YnOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuYiA9PT0gMSkgdGhpcy5ib3RvbjFBY3RpdmFkbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLmIgPT09IDIpIHRoaXMuYm90b24yQWN0aXZhZG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wcm9iYXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdkZXNhY3RpdmFyQ0YnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hYnJpckNhbXBvRnVlcnphKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2xPcG9uZW50ZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxPcG9uZW50ZSA9IGRhdGEudmFsb3I7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcblxyXG4gICAgICAgICAgICBjYXNlICdwdWVydGFGaW5hbCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVB1ZXJ0YUZpbmFsKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdmaW5hbCc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZpbmFsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZXNjZW5hID09PSAxKSB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0xU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuZXNjZW5hID09PSAyKSB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0yU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxCU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnRGVjaXNpb25TY2VuZScpOyBcclxuICAgICAgICAgICAgICAgIGJyZWFrOyBcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWVuc2FqZSBXZWJTb2NrZXQgZGVzY29ub2NpZG86JywgZGF0YSk7XHJcbiAgICAgICAgfSAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgLy90aGlzLmJhbGwuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDIyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4zLCAwLjI1KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgJ0ZhbGxvIHBvciBkZXNjb25leGnDs24nLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgJ0xhIHBhcnRpZGEgaGEgZmluYWxpemFkbycsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEYcOxbyhkYXRhKXtcclxuICAgICAgICBjb25zdCBtYWdvID0gdGhpcy5wbGF5ZXJzLmdldChkYXRhLnBsYXllcik7XHJcbiAgICAgICAgaWYgKCFtYWdvKSByZXR1cm47XHJcblxyXG4gICAgICAgIG1hZ28udmlkYSA9IGRhdGEudmlkYTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEucGxheWVyID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFsdGhMZWZ0LnNldFRleHQoZGF0YS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoUmlnaHQuc2V0VGV4dChkYXRhLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWFnby52aWRhIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5lbmRHYW1lKGRhdGEucGxheWVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2FsZGVybyhkYXRhKSB7XHJcbiAgICAgICAgLy8gdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSB0b2RvcyBsb3MgZWxlbWVudG9zIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmludmVudGFyaW8ubGVuZ3RoIC0gMjsgaSsrKSB7IC8vIHNlIHNhbHRhIGxhIGxsYXZlIHkgbGFzIGVzdHJlbGxhcyBwb3JxdWUgbm8gc2UgdXRpbGl6YW4gcGFyYSBjcmVhciBsYSBwb2Npb25cclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvW2ldID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy51bm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy50cmVzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMuY3VhdHJvLnNldEFscGhhKDAuMik7ICBcclxuICAgICAgICB0aGlzLmNpbmNvLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zZWlzLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zaWV0ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5udWV2ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgXHJcblxyXG4gICAgICAgIGlmIChkYXRhLmV4aXRvKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBjcmVhZGFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuZGlzYWJsZUJvZHkoKTsgLy8gZGVzYWN0aXZhciBlbCBjb2xsaWRlciBkZWwgY2FsZGVybyBwYXJhIG1pZW50cmFzIGVzdMOpbiBwZXF1ZcOxb3MgcHVlZGFuIGF0cmF2ZXNhcmxvIChjYXVzYWJhIGJ1Z3M6IGxldml0YWJhKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdwZXF1ZcOxbycsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdGllbmVzIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzIHBhcmEgY3JlYXIgbGEgcG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxb1wiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZXhwbG9zaW9uJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEuanVnYWRvckRhw7FhZG8gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGHDsW9KdWdMZWZ0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhw7FvSnVnUmlnaHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgaGFuZGxlUHVlcnRhRmluYWwoZGF0YSkge1xyXG4gICAgICAgIGxldCB3YWxrUztcclxuICAgICAgICBpZiAoZGF0YS5qdWdhZG9yID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZS5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5kZXNhY3RpdmFkb1swXSA9IHRydWU7IC8vIGVsIHBlcnNvbmFqZSB5YSBoYSBlbnRyYWRvIHBvciBsYSBwdWVydGEgeSBoYSBkZXNhcGFyZWNpZG9cclxuICAgICAgICAgICAgd2Fsa1MgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KCdwbGF5ZXIxJyk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzYWN0aXZhZG9bMV0gPSB0cnVlOyAvLyBlbCBwZXJzb25hamUgeWEgaGEgZW50cmFkbyBwb3IgbGEgcHVlcnRhIHkgaGEgZGVzYXBhcmVjaWRvXHJcbiAgICAgICAgICAgIHdhbGtTID0gdGhpcy53YWxrU291bmRzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdhbGtTKSB7XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh3YWxrUy5pc1BsYXlpbmcpIHdhbGtTLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5lbnRyYXJQdWVydGFGaW5hbCh0aGlzLmRlc2FjdGl2YWRvLCBkYXRhLmdhbmFkb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lbnVCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5ib3RvbiA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24uc2V0U2NhbGUoMC4xNSwgMC4xKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0MDAsICdWb2x2ZXIgYWwgTWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjY2NjY2NjJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAncGxheWVyRGlzY29ubmVjdGVkJyB9KSApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDZXJyYW5kbyBjb25leGnDs24gV2ViU29ja2V0Li4uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29uZXhpw7NuIFdlYlNvY2tldCBjZXJyYWRhLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApOyAvLyBjZXJyYXIgbGEgY29uZXhpw7NuIGRlc3B1w6lzIGRlIHVuIGJyZXZlIHJldHJhc29cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIkdhbWVTY2VuZU9cIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIlBhdXNlU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IExvZ2luU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Mb2dpblNjZW5lLmpzJztcclxuaW1wb3J0IHsgTWVudVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTWVudVNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9DcmVkaXRzU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBIaXN0b3JpYVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvSGlzdG9yaWFTY2VuZS5qcyc7XHJcbmltcG9ydCB7IExpYnJlcmlhU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9MaWJyZXJpYVNjZW5lLmpzJztcclxuaW1wb3J0IHsgQ29udHJvbFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29udHJvbFNjZW5lLmpzJztcclxuaW1wb3J0IHsgRGVjaXNpb25TY2VuZSB9IGZyb20gJy4vc2NlbmVzL0RlY2lzaW9uU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBGaW5hbEJTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0ZpbmFsQlNjZW5lLmpzJztcclxuaW1wb3J0IHsgRmluYWxNMVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRmluYWxNMVNjZW5lLmpzJztcclxuaW1wb3J0IHsgRmluYWxNMlNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRmluYWxNMlNjZW5lLmpzJztcclxuaW1wb3J0IHsgQ29ubmVjdGlvbkxvc3RTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMnO1xyXG5pbXBvcnQgU2FsYURlRXNwZXJhIGZyb20gJy4vc2NlbmVzL1NhbGFEZUVzcGVyYS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZU8gfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmVPLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgd2lkdGg6IDEwMDAsXHJcbiAgICBoZWlnaHQ6IDU2MCxcclxuICAgIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB5OiAyMDAwMCB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZG9tOiB7XHJcbiAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFsgTG9naW5TY2VuZSwgTWVudVNjZW5lLCBHYW1lU2NlbmVPLCBHYW1lU2NlbmUsIExpYnJlcmlhU2NlbmUsICBQYXVzZVNjZW5lLCBDcmVkaXRzU2NlbmUsIEhpc3RvcmlhU2NlbmUsIENvbnRyb2xTY2VuZSwgRGVjaXNpb25TY2VuZSwgRmluYWxCU2NlbmUsIEZpbmFsTTFTY2VuZSwgRmluYWxNMlNjZW5lLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBTYWxhRGVFc3BlcmEgXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyM0N2RkZmZmZicsXHJcbn1cclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJMb2dpblNjZW5lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsInByZWxvYWQiLCJjcmVhdGUiLCJ0aGlzIiwiYWRkIiwicmVjdGFuZ2xlIiwibG9naW5Gb3JtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInVzZXJuYW1lSW5wdXQiLCJwYXNzd29yZElucHV0IiwibG9naW5CdXR0b24iLCJjb25zb2xlIiwibG9nIiwiY2xhc3NMaXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInVzZXJuYW1lIiwidmFsdWUiLCJwYXNzd29yZCIsInJlbW92ZSIsInRpbWUiLCJkZWxheWVkQ2FsbCIsInNjZW5lIiwic3RhcnQiLCJhbGVydCIsImUiLCJjbGljayIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiTWVudVNjZW5lIiwibG9hZCIsImltYWdlIiwiYXVkaW8iLCJGb250RmFjZSIsInRoZW4iLCJsb2FkZWRGb250IiwiZm9udHMiLCJjYXRjaCIsInNvdW5kIiwic3RvcEJ5S2V5IiwiZXJyIiwid2FybiIsImdhbWUiLCJwbGF5Iiwidm9sdW1lIiwibG9vcCIsImZvbmRvIiwic2V0U2NhbGUiLCJ0aXR1bG8iLCJib3RvbjEiLCJib3RvbjIiLCJib3RvbjMiLCJib3RvbjQiLCJib3RvbjUiLCJ0ZXh0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiY29sb3IiLCJzZXRPcmlnaW4iLCJzZXRBbmdsZSIsImxvY2FsQnRuIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRTdHlsZSIsImZpbGwiLCJvbmxpbmVCdG4iLCJhc3luYyIsInN0b3AiLCJjcmVkaXRvc0J0biIsImhpc3RvcmlhQnRuIiwiY29udHJvbEJ0biIsIm9yaWdpbmFsU2NlbmUiLCJjb25uZWN0aW9uVGV4dCIsImNvbm5lY3Rpb25MaXN0ZW5lciIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5IiwiaXNBY3RpdmUiLCJzZXRUZXh0Iiwic2V0Q29sb3IiLCJzaHV0ZG93biIsIk1hZ28iLCJpZCIsIngiLCJ5IiwiaWRTcHJpdGUiLCJ2aWRhIiwiaWRsZSIsImVzdGFkb19ub3JtYWwiLCJiYXNlV2lkaHQiLCJiYXNlSGVpZ2h0IiwiYmFzZVNwZWVkIiwiaXNKdW1waW5nIiwianVtcFZlbG9jaXR5IiwiZ3JvdW5kWSIsInNwcml0ZSIsInBoeXNpY3MiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJhbGxvd0dyYXZpdHkiLCJzZXRTaXplIiwic2V0T2Zmc2V0IiwiYW5kYXJfYW5pbWFjaW9uIiwiYW5pbXMiLCJpc1BsYXlpbmciLCJleGlzdHMiLCJhbmRhcl9hbmltYWNpb25fcGFyYXIiLCJzZXRUZXh0dXJlIiwianVtcCIsInNldFZlbG9jaXR5WSIsInVwZGF0ZSIsImRlbHRhIiwidmVsb2NpdHkiLCJzY2FsZSIsInNldFBvc2l0aW9uIiwiQ29tbWFuZFByb2Nlc3NvciIsInBsYXllcnMiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVNYWdvQ29tbWFuZCIsIm1hZ28iLCJkaXJlY3Rpb24iLCJzYWx0byIsInNldFZlbG9jaXR5WCIsIlBhdXNlR2FtZUNvbW1hbmQiLCJpc1BhdXNlZCIsInNldFBhdXNlU3RhdGUiLCJHYW1lU2NlbmUiLCJpbml0IiwiaW5wdXRNYXBwaW5ncyIsImVzY1dhc0Rvd24iLCJsUHVsc2FkYSIsInByb2Nlc3NvciIsImNvZnJlQWJpZXJ0byIsIndhbGtTb3VuZHMiLCJpbnZlbnRhcmlvIiwiZnJhbWVzIiwiZnJhbWVSYXRlIiwicmVwZWF0IiwiYmdtIiwic2V0IiwiZXZlbnRzIiwid3MiLCJvbmNlIiwiZGVzdHJveSIsImNsZWFyIiwiY3JlYXJFc2NlbmFyaW8iLCJjcmVhclBsYXRhZm9ybWFzIiwiY3JlYXJCYXJyZXJhSW52aXNpYmxlIiwic2V0VXBQbGF5ZXJzIiwiZXN0YWJsZWNlckNvbGlzaW9uZXMiLCJpbnZlbnRhcmlvRW5QYW50YWxsYSIsImhlYWx0aExlZnQiLCJoZWFsdGhSaWdodCIsImVzY0tleSIsImlucHV0Iiwia2V5Ym9hcmQiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiRVNDIiwibGtleSIsIkwiLCJxa2V5IiwiUSIsImlzRG93biIsInRvZ2dsZVBhdXNlIiwibWFwcGluZyIsInBsYXllcklkIiwid2Fsa1NvdW5kIiwiaXNNb3ZpbmciLCJ1cEtleU9iaiIsImRvd25LZXlPYmoiLCJsZWZ0S2V5T2JqIiwiZmxpcFgiLCJyaWdodEtleU9iaiIsImp1bXBPYmoiLCJtb3ZlQ29tbWFuZCIsInVubyIsInNldEFscGhhIiwiZG9zIiwidHJlcyIsImN1YXRybyIsImNpbmNvIiwic2VpcyIsInNpZXRlIiwib2NobyIsIm51ZXZlIiwiZGlleiIsInN1ZWxvIiwic2V0SW1tb3ZhYmxlIiwicGFyZWQiLCJlc3RhbnRlcmlhIiwiYm9sYUNyaXN0YWwiLCJjYWxkZXJvIiwiY2FtcG9GdWVyemEiLCJjb2ZyZSIsImxsYXZlIiwicGVyZ2FtaW5vIiwicGxhbnRhIiwicG9jaW9uZXMiLCJ2ZWxhcyIsImxpYnJvcyIsImVzdHJlbGxhMSIsImVzdHJlbGxhMiIsImJhcnJlcmFJbnZpc2libGUiLCJzdGF0aWNJbWFnZSIsInNldFZpc2libGUiLCJlc3RhbnRlcmlhQ29sbCIsInNldEFsbG93R3Jhdml0eSIsImNhbGRlcm9Db2xsIiwic2V0Q2lyY2xlIiwicGxhdGFmb3JtYXMiLCJzdGF0aWNHcm91cCIsInBsYXllciIsImNvbGxpZGVyIiwib3ZlcmxhcCIsImNlcm8iLCJwYXVzZSIsImxhdW5jaCIsImp1Z2Fkb3IiLCJpc01vdmluZ1VwIiwiSnVzdERvd24iLCJlbGVtUmVjb2dpZG9zIiwiZmlsdGVyIiwiZWxlbSIsImxlbmd0aCIsImxlbmdodCIsImRpc2FibGVCb2R5IiwiQmV0d2VlbiIsImkiLCJhYnJpckNvZnJlIiwicmVjb2dlckVzdHJlbGxhIiwiY29sb2NhckVzdHJlbGxhIiwiYm90b24xQWN0aXZhZG8iLCJhYnJpckNhbXBvRnVlcnphIiwiYm90b24yQWN0aXZhZG8iLCJkb2NlIiwibiIsImVuYWJsZUJvZHkiLCJ0ZXh0dXJlIiwiY3JlYXJQdWVydGFGaW5hbCIsInB1ZXJ0YUZpbmFsIiwiZGVzYWN0aXZhZG8iLCJlbnRyYXJQdWVydGFGaW5hbCIsIndzMSIsIndzMiIsIm1vZG8iLCJsZWZ0TWFnbyIsInJpZ2h0TWFnbyIsInVwS2V5IiwiZG93bktleSIsImxlZnRLZXkiLCJyaWdodEtleSIsIm1hcCIsImNvbmZpZyIsImVuZEdhbWUiLCJib3RvbiIsInNldFZlbG9jaXR5IiwidGV4dG8iLCJtZW51QnRuIiwicGxheWVyMSIsInBsYXllcjIiLCJyZXN1bWUiLCJpdGVtIiwibmV3UGF1c2VTdGF0ZSIsIlBhdXNlU2NlbmUiLCJyZXN1bWVCdG4iLCJvcmlnU2NlbmUiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsInNlbmQiLCJ0eXBlIiwic2V0VGltZW91dCIsImNsb3NlIiwiQ3JlZGl0c1NjZW5lIiwicGVyZ2FtaW5vMSIsIlJldHVybkJ0biIsIkhpc3RvcmlhU2NlbmUiLCJMaWJyZXJpYVNjZW5lIiwiYmFsbCIsImFicmlyIiwiZGF0b3MiLCJwb2Npb25lc1JlY29naWRhcyIsInBvY2lvbkFtIiwicG9jaW9uTiIsInBvY2lvbk0iLCJwb2Npb25SIiwicG9jaW9uViIsInBvY2lvbkF6IiwibGlicm8iLCJhYmlyIiwicGFkZGxlIiwiQ29udHJvbFNjZW5lIiwicGVyZ2FtaW5vMiIsInBlcmdhbWlubzMiLCJEZWNpc2lvblNjZW5lIiwiZm9uZG9EIiwic2VsZWN0b3IiLCJlbGVjY2lvbiIsImJ0bjEiLCJidG4yIiwiZXNjZW5hIiwiRmluYWxCU2NlbmUiLCJmb25kb0MiLCJidG4iLCJGaW5hbE0xU2NlbmUiLCJmb25kb18xTSIsIkZpbmFsTTJTY2VuZSIsImZvbmRvXzJNIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJwcmV2aW91c1NjZW5lIiwiZm9udFN0eWxlIiwic3RhdHVzVGV4dCIsImF0dGVtcHRDb3VudCIsImF0dGVtcHRUZXh0IiwiZG90Q291bnQiLCJhZGRFdmVudCIsImRlbGF5IiwiZG90cyIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0IiwiU2FsYURlRXNwZXJhIiwicmVzZXRTdGF0ZSIsInJvb21Db2RlIiwicm9vbUlkIiwiZ2FtZVN0YXJ0ZWQiLCJyb29tQ29kZVRleHQiLCJhY3RpdmUiLCJjb2RlSW5wdXQiLCJjb250YWlucyIsImNvbm5lY3RUb1NlcnZlciIsImNyZWFySW50ZXJmYXoiLCJ3aWR0aCIsImNhbWVyYXMiLCJtYWluIiwiaGVpZ2h0IiwidGl0dWxvQ3JlYXJTYWxhIiwiYm90b25DcmVhclNhbGEiLCJjcmVhclNhbGFUZXh0IiwiY3JlYXJTYWxhIiwidGl0dWxvQ29sYSIsImJvdG9uVW5pcnNlQ29sYSIsInVuaXJzZUNvbGFUZXh0IiwidW5pcnNlQ29sYSIsInRpdHVsb0NvZGlnbyIsImNyZWF0ZUNvZGVJbnB1dCIsImJvdG9uVW5pcnNlQ29kaWdvIiwidW5pcnNlQ29kaWdvVGV4dCIsInVuaXJzZVNhbGEiLCJ2b2x2ZXJCdXR0b24iLCJpbnB1dEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGxhY2Vob2xkZXIiLCJtYXhMZW5ndGgiLCJzdHlsZSIsImNzc1RleHQiLCJ0b1VwcGVyQ2FzZSIsImFwcGVuZENoaWxkIiwicG9zaXRpb25JbnB1dCIsInJlY3QiLCJjYW52YXMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0Iiwicm91bmQiLCJpbnB1dFdpZHRoIiwidG9wIiwiaW5wdXRIZWlnaHQiLCJ3aW5kb3ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlU2VydmVyTWVzc2FnZSIsInBvc2l0aW9uIiwiY29kZSIsIm1vc3RyYXJCb3RvbmVzIiwibWVzc2FnZSIsInBsYXllclJvbGUiLCJyb2xlIiwiaW5pdGlhbEJhbGwiLCJvY3VsdGFyQm90b25lcyIsImRpc2FibGVJbnRlcmFjdGl2ZSIsImRpc3BsYXkiLCJ0cmltIiwiQ09OTkVDVElORyIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsIm9uZXJyb3IiLCJvbmNsb3NlIiwid3NVcmwiLCJsb2NhdGlvbiIsImhvc3QiLCJldmVudCIsInBhcnNlIiwibGVhdmVRdWV1ZSIsIkdhbWVTY2VuZU8iLCJsb2NhbFBsYXllciIsInJlbW90ZVBsYXllciIsImVzdHJlbGxhIiwibE9wb25lbnRlIiwibG9jYWxQbGF5ZXJUZXh0IiwiY3Vyc29ycyIsImNyZWF0ZUN1cnNvcktleXMiLCJqdW1wS2V5IiwiU1BBQ0UiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsImRpcmVjY2lvbiIsInVwIiwiZG93biIsInJpZ2h0Iiwic2VuZE1lc3NhZ2UiLCJsb2NhbFdhbGsiLCJhY3R1YWxpemFySW52ZW50YXJpb0VuUGFudGFsbGEiLCJjb21wcm9iYXJDYW1wb0Z1ZXJ6YSIsImdhbmFkb3IiLCJtYWdvMSIsIm1hZ28yIiwiZ2FtZUVuZGVkIiwicmVtb3RlV2FsayIsIndpbm5lcklkIiwiaGFuZGxlQ2FsZGVybyIsImIiLCJ2YWxvciIsImhhbmRsZVB1ZXJ0YUZpbmFsIiwiY3JlYXRlTWVudUJ1dHRvbiIsImV4aXRvIiwid2Fsa1MiLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwiZG9tIiwiY3JlYXRlQ29udGFpbmVyIiwiYmFja2dyb3VuZENvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==