(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);const i="juego_magos_stats";function o(e){try{const t=localStorage.getItem(i),s=t?JSON.parse(t):{};return s[e]||(s[e]={totalPartidas:0,tiempoTotal:0,partidas:[],ultimaActualizacion:(new Date).toISOString()}),s[e]}catch(e){return console.error("Error al obtener estad√≠sticas locales:",e),{totalPartidas:0,tiempoTotal:0,partidas:[],ultimaActualizacion:(new Date).toISOString()}}}function a(e){if(!e)throw new Error("El nombre de usuario es obligatorio");const t=o(e);return{username:e,modo:"local",totalPartidas:t.totalPartidas,tiempoPromedio:t.totalPartidas>0?t.tiempoTotal/t.totalPartidas:0,tiempoTotal:t.tiempoTotal,partidas:t.partidas,ultimaActualizacion:t.ultimaActualizacion}}const n=(()=>{try{if("undefined"!=typeof window&&window.location&&window.location.origin)return window.location.origin}catch(e){}return`http://${process.env.API_HOST||"localhost"}:${process.env.API_PORT||"3000"}`})();async function r(e,t,s="local"){const a=function(e,t){if(!e||"number"!=typeof t||t<0)throw new Error("Datos inv√°lidos para registrar la partida");const s=o(e);return s.totalPartidas++,s.tiempoTotal+=t,s.partidas.push({duracion:t,fecha:(new Date).toISOString()}),s.partidas.length>50&&(s.partidas=s.partidas.slice(-50)),function(e,t){try{const s=localStorage.getItem(i),o=s?JSON.parse(s):{};o[e]={...t,ultimaActualizacion:(new Date).toISOString()},localStorage.setItem(i,JSON.stringify(o))}catch(e){console.error("Error al guardar estad√≠sticas locales:",e)}}(e,s),console.log(`üéÆ PARTIDA LOCAL: ${e} - Duraci√≥n: ${(t/1e3).toFixed(2)}s`),console.log(`   Promedio: ${(s.tiempoTotal/s.totalPartidas/1e3).toFixed(2)}s`),{username:e,modo:"local",partidasJugadas:s.totalPartidas,tiempoPromedio:s.tiempoTotal/s.totalPartidas,ultimaPartida:t}}(e,t);if("online"===s)try{const s=await fetch(`${n}/api/users/${e}/game-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({durationMs:t})});if(s.ok){const t=await s.json();return console.log(`Partida registrada en servidor: ${e}`),{...a,modo:"online",sincronizadoServidor:!0,datosServidor:t}}{const e=await s.json();console.warn("Advertencia: No se pudo guardar en servidor:",e.error)}}catch(e){console.warn("Error al conectar con servidor, guardando solo localmente:",e)}return a}class l extends s().Scene{constructor(){super("LoginScene")}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png")}create(){this.fondo=this.add.image(500,350,"fondoM"),this.fondo.setScale(.8);const e=document.getElementById("login-form"),t=document.getElementById("username"),s=document.getElementById("password"),i=document.getElementById("loginButton");console.log("LoginScene iniciada"),e&&e.classList.add("active"),i&&i.addEventListener("click",async()=>{const i=t.value.trim();if(""!==i)try{await async function(e){const t=await fetch(`${n}/api/users/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Error al iniciar sesi√≥n")}return console.log("Login exitoso."),await t.json()}(i),console.log("Login exitoso:",i),sessionStorage.setItem("currentUsername",i),e&&e.classList.remove("active"),t.value="",s.value="",this.time.delayedCall(500,()=>{this.scene.start("MenuScene")})}catch(e){console.error("Error en login:",e.message),alert("Error: "+e.message)}else alert("Por favor ingresa un usuario")}),t&&t.addEventListener("keypress",e=>{"Enter"===e.key&&i.click()})}}const h=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling(),window.addEventListener("beforeunload",async()=>{const e=sessionStorage.getItem("currentUsername");if(e)try{await async function(e){const t=await fetch(`${n}/api/users/logout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Error al cerrar sesi√≥n")}return console.log("Logout exitoso."),await t.json()}(e),console.log("Logout autom√°tico al cerrar la ventana"),sessionStorage.removeItem("currentUsername"),sessionStorage.removeItem("currentUser")}catch(e){console.error("Error en logout autom√°tico:",e)}this.stopPolling()})}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e),e({connected:this.isConnected,count:this.connectedCount})}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>{try{t(e)}catch(e){console.error("Error en Listener:",e)}})}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime,sessionId:this.sessionId}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class d extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3"),this.load.audio("musicaMenu","/sounds/m√∫sica_MPrincipal.mp3"),new FontFace("Tagesschrift","url(/fuentes/Tagesschrift.ttf)").load().then(function(e){document.fonts.add(e)}).catch(function(e){console.error("Error loading font:",e)})}create(){this.musicVolume=.7,this.sfxVolume=.7;try{const e=localStorage.getItem("game_settings");if(e){const t=JSON.parse(e),s=Number(t.musicVolume),i=Number(t.sfxVolume),o=Number(t.volume);this.musicVolume=Number.isFinite(s)?s:Number.isFinite(o)?o:.7,this.sfxVolume=Number.isFinite(i)?i:Number.isFinite(o)?o:.7}}catch(e){}try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.menuMusic=this.game.sound.play("musicaMenu",{volume:this.musicVolume,loop:!0}),this.fondo=this.add.image(500,350,"fondoM"),this.fondo.setScale(.8),this.titulo=this.add.image(500,110,"titulo"),this.titulo.setScale(.25);const e=.09;this.boton1=this.add.image(500,280,"boton").setScale(e),this.boton2=this.add.image(500,330,"boton").setScale(e),this.boton3=this.add.image(500,380,"boton").setScale(e),this.boton4=this.add.image(500,430,"boton").setScale(e),this.boton5=this.add.image(500,480,"boton").setScale(e),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8);const t=this.add.text(500,280,"Local",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5*this.sfxVolume})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("musicaMenu"),this.scene.start("GameScene")}),s=this.add.text(500,330,"Online",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#ff0000ff"}),this.sound.play("hover",{volume:.5*this.sfxVolume})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",async()=>{this.scene.stop(),this.scene.start("SalaDeEspera")}),i=this.add.text(500,380,"Cr√©ditos",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#ff9100ff"}),this.sound.play("hover",{volume:.5*this.sfxVolume})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("CreditsScene")}),o=this.add.text(500,430,"Historia",{fontSize:"24px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{o.setStyle({fill:"#38ffffff"}),this.sound.play("hover",{volume:.5*this.sfxVolume})}).on("pointerout",()=>o.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("HistoriaScene")}),a=this.add.text(500,480,"Controles",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{a.setStyle({fill:"#ff0dffc1"}),this.sound.play("hover",{volume:.5*this.sfxVolume})}).on("pointerout",()=>a.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("ControlScene",{originalScene:"MenuScene"})}),n=(this.add.image(500,530,"boton").setScale(e),this.add.text(500,530,"Ajustes",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{n.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5*this.sfxVolume})}).on("pointerout",()=>n.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("SettingsScene")}));this.connectionText=this.add.text(960,40,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00",fontFamily:"Tagesschrift"}).setOrigin(1,.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},h.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&h.removeListener(this.connectionListener)}}class c{constructor(e,t,s,i,o){this.id=t,this.scene=e,this.vida=3,this.idle=o,this.estado_normal=!0,this.baseWidht=20,this.baseHeight=100,this.baseSpeed=300,this.isJumping=!1,this.jumpVelocity=0,this.groundY=i,this.sprite=this.scene.physics.add.sprite(s,i,o),this.sprite.setScale(.35),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setSize(125,175),this.sprite.body.setOffset(880,750)}andar_animacion(){this.sprite&&this.sprite.anims&&(this.sprite.anims.isPlaying||("idle_Azul"===this.idle?this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Azul")&&this.sprite.play("andar_mago_Azul"):"idle_Rojo"===this.idle&&this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Rojo")&&this.sprite.play("andar_mago_Rojo")))}andar_animacion_parar(){this.sprite&&this.sprite.anims&&this.sprite.anims.isPlaying&&(this.sprite.anims.stop(),this.sprite.setTexture(this.idle))}jump(){this.isJumping||(this.isJumping=!0,this.groundY=this.sprite.y,this.sprite.setVelocityY(-1e5),this.sprite.body.allowGravity=!0)}update(e){this.isJumping&&this.sprite.y>=this.groundY&&this.sprite.body.velocity.y>=0&&(this.sprite.y=this.groundY,this.sprite.setVelocityY(0),this.sprite.body.allowGravity=!1,this.isJumping=!1),!1===this.estado_normal?this.sprite.setScale(.1):this.sprite.setScale(.35)}setScale(e){this.sprite.setScale(e)}setPosition(e,t){this.sprite.setPosition(e,t)}}class p{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class m{execute(){}serialize(){}getPlayer(){}}class g extends m{constructor(e,t,s){super(),this.mago=e,this.direction=t,this.salto=s}execute(){"up"===this.direction?this.mago.sprite.setVelocityY(-this.mago.baseSpeed):"down"===this.direction?this.mago.sprite.setVelocityY(+this.mago.baseSpeed):"left"===this.direction?this.mago.sprite.setVelocityX(-this.mago.baseSpeed):"right"===this.direction?this.mago.sprite.setVelocityX(+this.mago.baseSpeed):(this.mago.sprite.setVelocityY(0),this.mago.sprite.setVelocityX(0)),this.salto&&this.mago.sprite.setVelocityY(3.5*-this.mago.baseSpeed)}}class u extends m{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class f extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.spritesheet("explosionCaldero","/imagenes/explosionCaldero.png",{frameWidth:200,frameHeight:200}),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("peque√±o","/sounds/peque√±o.mp3")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new p,this.cofreAbierto=!1,this.walkSounds=new Map,this.gameStartTime=Date.now(),this.gameMode="local",this.username="JugadorLocal",this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}create(){this.musicVolume=.7,this.sfxVolume=.7;try{const e=localStorage.getItem("game_settings");if(e){const t=JSON.parse(e),s=Number(t.musicVolume),i=Number(t.sfxVolume),o=Number(t.volume);this.musicVolume=Number.isFinite(s)?s:Number.isFinite(o)?o:.5,this.sfxVolume=Number.isFinite(i)?i:Number.isFinite(o)?o:.7}}catch(e){}this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"explosion_caldero",frames:this.anims.generateFrameNumbers("explosionCaldero",{start:0,end:16}),frameRate:20,repeat:0}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5*this.musicVolume}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3*this.sfxVolume})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3*this.sfxVolume})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(e,t){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.escWasDown=this.escKey.isDown,console.log("Holaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.lPulsada=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0),this.players.forEach(e=>{e.update(t)}),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null,i=!1;const o=this.walkSounds.get(e.playerId);let a=!1;e.upKeyObj.isDown?(s="up",a=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",a=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",a=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",a=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),o&&o.isPlaying&&o.stop()),e.jumpObj.isDown&&(t.estado_normal||(i=!0,t.andar_animacion_parar())),a&&o&&!o.isPlaying&&o.play();let n=new g(t,s,i);this.processor.process(n)}),this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.sound&&this.sound.play("recogerLlave",{volume:.6*this.sfxVolume}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1)}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameScene",pociones:this.inventario,sound:this.sound,jugador:t}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{if(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey)){let e=this.inventario.filter(e=>!0===e);3===e.length||4===e.lenght?this.inventario[3]&&this.inventario[5]&&this.inventario[7]&&(console.log("Poci√≥n de disminuir tama√±o creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("peque√±o",{volume:.6*this.sfxVolume}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poci√≥n de disminuir tama√±o"),this.sound&&this.sound.play("explosion",{volume:.5*this.sfxVolume}),this.mostrarExplosionCaldero(),1===s().Math.Between(1,2)?this.da√±oJugLeft():this.da√±oJugRight());for(let e=1;e<this.inventario.length-2;e++)switch(this.inventario[e]=!1,e){case 1:this.uno.setAlpha(.2);break;case 2:this.dos.setAlpha(.2);break;case 3:this.tres.setAlpha(.2);break;case 4:this.cuatro.setAlpha(.2);break;case 5:this.cinco.setAlpha(.2);break;case 6:this.seis.setAlpha(.2);break;case 7:this.siete.setAlpha(.2);break;case 8:this.ocho.setAlpha(.2);break;case 9:this.nueve.setAlpha(.2);break;case 10:this.diez.setAlpha(.2)}}}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.boton1Activado=!0,this.abrirCampoFuerza()}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.boton2Activado=!0,this.abrirCampoFuerza()})})}mostrarExplosionCaldero(){const e=this.add.sprite(this.caldero.x,this.caldero.y-170,"explosionCaldero");e.setDepth(50),e.setScale(1.2),e.play("explosion_caldero"),e.on("animationcomplete",()=>{e.destroy()})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5*this.sfxVolume}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){this.cofreAbierto&&(console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})}))}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6*this.sfxVolume}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2)):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2)))}abrirCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&this.qkey.isDown&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7*this.sfxVolume}),this.campoFuerza.destroy(),this.crearPuertaFinal())}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0);let e=[!1,!1];this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.players.get("player1").sprite.disableBody(!0,!0),e[0]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player1");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.players.get("player2").sprite.disableBody(!0,!0),e[1]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player2");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}})}entrarPuertaFinal(e){if(e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{modo:"local"})}}setUpPlayers(){const e=new c(this,"player1",50,400,"idle_Azul"),t=new c(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",leftKey:"A",rightKey:"D",jump:"SPACE"},{playerId:"player2",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"ENTER"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Men√∫",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}da√±oJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador de la izquierda ha recibido da√±o"),e.vida<=0&&this.endGame("player1")}da√±oJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador de la derecha ha recibido da√±o"),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume(),this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}togglePause(){const e=!this.isPaused;this.processor.process(new u(this,e))}}class y extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,200,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,350,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,400,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,450,"boton"),this.boton3.setScale(.1),this.add.text(500,200,"Juego Pausado",{fontSize:"60px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5);const t=this.add.text(500,350,"Volver",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#00ff88ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),s=this.add.text(500,400,"Men√∫",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#6839b3ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{if(e&&"GameSceneO"===e.originalScene){const e=this.scene.get("GameSceneO");e&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(e.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{try{e.ws.close()}catch(e){console.warn(e)}},50))}}catch(e){console.warn(e)}try{this.game.sound.stopByKey("bgm")}catch(e){console.warn(e)}this.scene.start("MenuScene"),this.scene.stop(e.originalScene),this.scene.stop()}),i=this.add.text(500,450,"Controles",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#00eeffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("ControlScene",{originalScene:e&&e.originalScene?e.originalScene:"GameScene"})})}}class b extends s().Scene{constructor(){super("CreditsScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(500,380,"pergamino"),this.pergamino1.setScale(2),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,245,"Cr√©ditos",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,310,"Paula Ortiz Fern√°ndez",{fontSize:"24px",color:"#91ffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,355,"Daniel Corbacho Anes",{fontSize:"24px",color:"#fff132ff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,400,"Alejandro Hern√°ndez Ruiz",{fontSize:"24px",color:"#d7acffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,450,"√Ångel Berm√∫dez Fari√±as",{fontSize:"24px",color:"#ffceadff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.start("MenuScene")})}}class S extends s().Scene{constructor(){super("HistoriaScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#070707ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Historia",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,380,"Despu√©s de a√±os de entrenamiento, por fin ha llegado el momento en el que naquellos magos por\nfin iban a conseguir ser magos de verdad. Llevaban mucho tiempo prepar√°ndose y estudiando para\neste momento, y por fin van a recibir aquel elixir deseado por todo mago,\n‚Äúel elixir de la vida eterna‚Äù.\n\nSin embargo, no ser√° sencillo, a√∫n deber√°n demostrar por √∫ltima vez que est√°n hechos para obtener\nesta gran virtud. La tradici√≥n cuenta que para conseguir ser un verdadero mago ser√° necesario\nconseguir por ellos mismos este elixir adentr√°ndose en la Torre Encantada, demostrando que son\nmerecedores del t√≠tulo de mago eterno y que poseen las habilidades necesarias. La m√°s importante,\nla colaboraci√≥n, puesto que por uno solo no siempre se puede llegar al lugar deseado. \n\nPor este motivo, los j√≥venes aprendices que deseen ascender, se adentrar√°n en aquella vieja torre,\n y atravesar√°n, una a una, sus salas hasta llegar arriba del todo, d√≥nde se encuentra el elixir\nque tanto desean. En cada sala se encontrar√°n con numerosos obst√°culos que deber√°n sobrepasar \ndemostrando sus habilidades obtenidas durante todos estos a√±os de esfuerzo.",{fontSize:"16px",color:"#ffffffff"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")})}}class v extends s().Scene{constructor(){super("LibreriaScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("bolaCristalColor","/imagenes/bolaCristalColor.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("plantaColor","/imagenes/plantaColor.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("velasColor","/imagenes/velasColor.png"),this.load.image("librosColor","/imagenes/librosColor.png"),this.load.image("idle","/imagenes/mano.png")}init(){this.players=new Map,this.inputMappings=[],this.ball=null,this.abrir=!1,this.escWasDown=!1,this.datos,this.processor=new p,this.pocionesRecogidas={bolaCristal:!1,planta:!1,pocionAm:!1,pocionN:!1,pocionM:!1,pocionR:!1,pocionV:!1,pocionAz:!1,velas:!1,libro:!1}}create(e){this.mago=this.add.image(100,100,"idle"),this.mago.setScale(1.9),this.crearEscenario(),this.setUpPlayers(),this.establecerColisiones(),this.datos=e,this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(){this.escKey.isDown&&!this.escWasDown&&(this.datos.ws&&this.datos.ws.readyState===WebSocket.OPEN&&this.datos.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.datos.pociones})),this.scene.resume(this.datos.originalScene,{pociones:this.datos.pociones}),this.scene.stop()),this.abir=!1,this.lkey.isDown&&(this.abrir=!0),this.qkey.isDown&&(this.abrir=!0),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new g(t,s);this.processor.process(i)})}crearEscenario(){this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(1.7),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(440,270,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(1.7),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(485,280,"bolaCristalColor"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(1.7),this.bolaCristal.body.allowGravity=!1,this.planta=this.physics.add.image(440,450,"plantaColor"),this.planta.setImmovable(!0),this.planta.setScale(1.7),this.planta.body.allowGravity=!1,this.pocionAm=this.physics.add.image(530,165,"pocionesAm"),this.pocionAm.setImmovable(!0),this.pocionAm.setScale(1.7),this.pocionAm.body.allowGravity=!1,this.pocionN=this.physics.add.image(595,175,"pocionesN"),this.pocionN.setImmovable(!0),this.pocionN.setScale(1.7),this.pocionN.body.allowGravity=!1,this.pocionM=this.physics.add.image(280,165,"pocionesM"),this.pocionM.setImmovable(!0),this.pocionM.setScale(1.7),this.pocionM.body.allowGravity=!1,this.pocionR=this.physics.add.image(405,165,"pocionesRo"),this.pocionR.setImmovable(!0),this.pocionR.setScale(1.7),this.pocionR.body.allowGravity=!1,this.pocionV=this.physics.add.image(345,175,"pocionesV"),this.pocionV.setImmovable(!0),this.pocionV.setScale(1.7),this.pocionV.body.allowGravity=!1,this.pocionAz=this.physics.add.image(470,170,"pocionesAz"),this.pocionAz.setImmovable(!0),this.pocionAz.setScale(1.7),this.pocionAz.body.allowGravity=!1,this.velas=this.physics.add.image(350,290,"velasColor"),this.velas.setImmovable(!0),this.velas.setScale(1.7),this.velas.body.allowGravity=!1,this.libro=this.physics.add.image(370,33,"librosColor"),this.libro.setImmovable(!0),this.libro.setScale(1.7),this.libro.body.allowGravity=!1}establecerColisiones(){this.players.forEach(e=>{this.physics.add.overlap(e.sprite,this.bolaCristal,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.bolaCristal&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.bolaCristal=!0),this.bolaCristal.setAlpha(.5),this.datos.pociones[9]=!0,this.abrir=!1,console.log("BOLA CRISTAL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.planta,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.planta&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.planta=!0),this.planta.setAlpha(.5),this.datos.pociones[10]=!0,this.abrir=!1,console.log("PLANTA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAm,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAm&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAm=!0),this.pocionAm.setAlpha(.5),this.datos.pociones[6]=!0,this.abrir=!1,console.log("POCION AMARILLA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionN,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionN&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionN=!0),this.pocionN.setAlpha(.5),this.datos.pociones[7]=!0,this.abrir=!1,console.log("POCION NARANJA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionM,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionM&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionM=!0),this.pocionM.setAlpha(.5),this.datos.pociones[2]=!0,this.abrir=!1,console.log("POCION MORADA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionR,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionR&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionR=!0),this.pocionR.setAlpha(.5),this.datos.pociones[4]=!0,this.abrir=!1,console.log("POCION ROSA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionV,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionV&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionV=!0),this.pocionV.setAlpha(.5),this.datos.pociones[3]=!0,this.abrir=!1,console.log("POCION VERDE RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAz,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAz&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAz=!0),this.pocionAz.setAlpha(.5),this.datos.pociones[5]=!0,this.abrir=!1,console.log("POCION AZUL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.velas,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.velas&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.velas=!0),this.velas.setAlpha(.5),this.datos.pociones[8]=!0,this.abrir=!1,console.log("VELAS RECOGIDAS"))}),this.physics.add.overlap(e.sprite,this.libro,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.libro&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.libro=!0),this.libro.setAlpha(.5),this.datos.pociones[1]=!0,this.abrir=!1,console.log("LIBROS RECOGIDOS"))})})}setUpPlayers(){const e=new c(this,"player1",50,300,"idle");e.setScale(.08),this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT"}].map(e=>(console.log(e),{playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey])}))}}class x extends s().Scene{constructor(){super("ControlScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(220,380,"pergamino"),this.pergamino1.setScale(1.3,1.8),this.pergamino2=this.add.image(500,380,"pergamino"),this.pergamino2.setScale(1.3,1.8),this.pergamino3=this.add.image(780,380,"pergamino"),this.pergamino3.setScale(1.3,1.8),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Controles",{fontSize:"45px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(220,310,"Jugador 1:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#9be3ffff"}).setOrigin(.5),this.add.text(230,400,"W-Arriba\n A-Izquierda\n S-Abajo\n D-Derecha\n SPACE-Saltar\n Q-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,310,"Jugador 2:",{fontSize:"32px",color:"rgba(255, 99, 99, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(520,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n ENTER-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(750,310,"Online:",{fontSize:"32px",color:"rgba(141, 116, 255, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(800,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n SPACE-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{if("MenuScene"===e.originalScene){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")}else this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()})}}class w extends s().Scene{constructor(){super("DecisionScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoD","/imagenes/eleccion.jpg")}create(e){this.gameScene=this.scene.get("online"===e.modo?"GameSceneO":"GameScene"),this.gameMode=e.modo||"local",this.fondoD=this.physics.add.image(500,300,"fondoD"),this.fondoD.setImmovable(!0),this.fondoD.body.allowGravity=!1,this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.26),this.boton1=this.add.image(280,420,"boton"),this.boton1.setScale(.15),this.boton1.setAlpha(.5),this.boton2=this.add.image(730,420,"boton"),this.boton2.setScale(.15),this.boton2.setAlpha(.5),"local"===e.modo?this.selector=s().Math.Between(1,2):this.selector=e.eleccion,1===this.selector?(this.add.text(500,100,"El jugador 1 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player1"):2===this.selector&&(this.add.text(500,100,"El jugador 2 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player2"),this.add.text(500,150,"el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.add.text(500,320,"ahora deber√° elegir:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(280,420,"Compartir el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5),i=this.add.text(730,420,"Beber el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5);"online"===e.modo?this.id===e.jugador&&(t.setAlpha(1),t.setInteractive({useHandCursor:!0}),t.on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}),t.on("pointerout",()=>t.setStyle({fill:"#000000ff"})),t.on("pointerdown",()=>{e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:3})))}),i.setAlpha(1),i.setInteractive({useHandCursor:!0}),i.on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}),i.on("pointerout",()=>i.setStyle({fill:"#000000ff"})),i.on("pointerdown",()=>{1===this.selector?e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("ebviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:1}))):2===this.selector&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:2})))}),this.boton1.setAlpha(1),this.boton2.setAlpha(1)):"local"===e.modo&&(t.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("FinalBScene")}),i.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{1===this.selector?this.scene.start("FinalM1Scene"):2===this.selector&&this.scene.start("FinalM2Scene")}),this.boton1.setAlpha(1),this.boton2.setAlpha(1))}}class C extends s().Scene{constructor(){super("FinalBScene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoC","/imagenes/compartir.png"),this.load.audio("victoria","/sounds/victoria.mp3")}create(){const e=this.scene.get("DecisionScene");if(this.gameScene=e?.gameScene,this.gameMode=e?.gameMode||"local",this.gameDuration=this.gameScene?.gameStartTime?Date.now()-this.gameScene.gameStartTime:0,this.gameScene&&this.gameScene.gameStartTime){const e=this.gameDuration;r(this.gameScene.username||"JugadorLocal",e,this.gameMode).then(e=>{console.log("üìä Partida registrada:",e)}).catch(e=>console.warn("‚ö†Ô∏è No se pudo registrar la partida:",e))}this.fondoC=this.physics.add.image(500,300,"fondoC"),this.fondoC.setImmovable(!0),this.fondoC.body.allowGravity=!1;let t=.7;try{const e=localStorage.getItem("game_settings");if(e){const s=JSON.parse(e),i=Number(s.sfxVolume),o=Number(s.volume);t=Number.isFinite(i)?i:Number.isFinite(o)?o:.7}}catch(e){}this.sound&&this.sound.play("victoria",{volume:.7*t}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"Los jugadores han decidido",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"compartir el Elixir de la Vida Eterna, ahora",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ambos vivir√°n hasta la eternidad,",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,200,"y podr√°n adquirir todos los conocimientos",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,250,"existentes...",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const s=this.add.text(500,500,"Volver al men√∫ principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5*t})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("victoria"),this.scene.start("StatsScene",{username:this.gameScene?.username||"JugadorLocal",mode:this.gameMode,duration:this.gameDuration})})}}class A extends s().Scene{constructor(){super("FinalM1Scene")}preload(){this.load.image("fondo_1M","/imagenes/traicion_ranaRoja.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){const e=this.scene.get("DecisionScene");if(this.gameScene=e?.gameScene,this.gameMode=e?.gameMode||"local",this.gameDuration=this.gameScene?.gameStartTime?Date.now()-this.gameScene.gameStartTime:0,this.gameScene&&this.gameScene.gameStartTime){const e=this.gameDuration;r(this.gameScene.username||"JugadorLocal",e,this.gameMode).then(e=>{console.log("üìä Partida registrada:",e)}).catch(e=>console.warn("‚ö†Ô∏è No se pudo registrar la partida:",e))}this.fondo_1M=this.physics.add.image(500,300,"fondo_1M"),this.fondo_1M.setImmovable(!0),this.fondo_1M.body.allowGravity=!1;let t=.7;try{const e=localStorage.getItem("game_settings");if(e){const s=JSON.parse(e),i=Number(s.sfxVolume),o=Number(s.volume);t=Number.isFinite(i)?i:Number.isFinite(o)?o:.7}}catch(e){}this.sound&&this.sound.play("derrota",{volume:.7*t}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 1 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elecci√≥n y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const s=this.add.text(500,500,"Volver al men√∫ principal",{fontSize:"16px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5*t})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("StatsScene",{username:this.gameScene?.username||"JugadorLocal",mode:this.gameMode,duration:this.gameDuration})})}}class T extends s().Scene{constructor(){super("FinalM2Scene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondo_2M","/imagenes/traicion_ranaAzul.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){const e=this.scene.get("DecisionScene");if(this.gameScene=e?.gameScene,this.gameMode=e?.gameMode||"local",this.gameDuration=this.gameScene?.gameStartTime?Date.now()-this.gameScene.gameStartTime:0,this.gameScene&&this.gameScene.gameStartTime){const e=this.gameDuration;r(this.gameScene.username||"JugadorLocal",e,this.gameMode).then(e=>{console.log("üìä Partida registrada:",e)}).catch(e=>console.warn("‚ö†Ô∏è No se pudo registrar la partida:",e))}this.fondo_2M=this.physics.add.image(500,300,"fondo_2M"),this.fondo_2M.setImmovable(!0),this.fondo_2M.body.allowGravity=!1;let t=.7;try{const e=localStorage.getItem("game_settings");if(e){const s=JSON.parse(e),i=Number(s.sfxVolume),o=Number(s.volume);t=Number.isFinite(i)?i:Number.isFinite(o)?o:.7}}catch(e){}this.sound&&this.sound.play("derrota",{volume:.7*t}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 2 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elecci√≥n y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const s=this.add.text(500,500,"Volver al men√∫ principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5*t})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("StatsScene",{username:this.gameScene?.username||"JugadorLocal",mode:this.gameMode,duration:this.gameDuration})})}}class I extends s().Scene{constructor(){super("StatsScene")}preload(){this.load.image("boton","/imagenes/botonTexto.png")}create(e){const t=e?.username||"Jugador",s=e?.mode||"local",i=e?.duration||0;this.boton1=this.add.image(500,450,"boton"),this.boton1.setScale(.1),this.add.rectangle(500,280,1e3,560,0).setDepth(-1).setAlpha(.7),this.add.text(500,100,"TIEMPO DE PARTIDA",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#4bffabff"}).setOrigin(.5);const o=(i/1e3).toFixed(2);this.add.text(500,200,`Esta partida: ${o}s`,{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),async function(e,t="local"){if("local"===t)return a(e);try{const t=await fetch(`${n}/api/users/${e}/stats`);if(!t.ok){const s=await t.json();return console.warn("No hay estad√≠sticas en servidor, usando locales:",s.error),a(e)}const s=await t.json();return console.log(`Estad√≠sticas de ${e}:`,s),{...s,modo:"online",fuente:"servidor"}}catch(t){return console.warn("Error al obtener estad√≠sticas del servidor, usando locales:",t),a(e)}}(t,s).then(e=>{const t="string"==typeof e.tiempoPromedio?e.tiempoPromedio:(e.tiempoPromedio/1e3).toFixed(2)+"s";this.add.text(500,280,`Promedio: ${t}`,{fontSize:"24px",fontFamily:"Tagesschrift",color:"#4bffabff",fontStyle:"bold"}).setOrigin(.5),this.add.text(500,330,`Partidas jugadas: ${e.totalPartidas}`,{fontSize:"18px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5)}).catch(e=>console.warn("Error al cargar tiempo promedio:",e));const r=this.add.text(500,450,"Volver al men√∫",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{r.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>r.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}}class R extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png")}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,180,"titulo"),this.titulo.setScale(.25),this.add.text(500,180,"CONEXI√ìN PERDIDA",{fontSize:"48px",color:"#c90000ff",fontFamily:"Tagesschrift",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(500,320,"Intentando reconectar...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(500,390,"Intentos: 0",{fontSize:"18px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},h.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await h.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),h.removeListener(this.connectionListener),this.statusText.setText("¬°Conexi√≥n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&h.removeListener(this.connectionListener)}}class _ extends s().Scene{constructor(){super({key:"SalaDeEspera"}),this.ws=null}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("pergaminoTitulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("campoFuerza","/imagenes/campodefuerza.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("walk","/sounds/walk.mp3")}resetState(){this.roomCode=null,this.roomId=null,this.gameStarted=!1,this.roomCodeText&&this.roomCodeText.active&&this.roomCodeText.setText(""),this.statusText&&this.statusText.active&&this.statusText.setText(""),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.value="")}init(){this.walkSounds=new Map,this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.processor=new p,this.bgm=null,this.roomCode=null,this.roomId=null,this.gameStarted=!1}create(){this.musicVolume=.7,this.sfxVolume=.7;try{const e=localStorage.getItem("game_settings");if(e){const t=JSON.parse(e),s=Number(t.musicVolume),i=Number(t.sfxVolume),o=Number(t.volume);this.musicVolume=Number.isFinite(s)?s:Number.isFinite(o)?o:.7,this.sfxVolume=Number.isFinite(i)?i:Number.isFinite(o)?o:.7}}catch(e){}this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3*this.sfxVolume})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3*this.sfxVolume})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}}),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}),this.events.on("resume",()=>{this.bgm&&!this.bgm.isPlaying&&this.bgm.resume()}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}try{this.bgm&&(this.bgm.stop(),this.bgm.destroy())}catch(e){console.warn(e)}}),this.walkSounds.clear()}),this.crearEscenario(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.game.sound.stopByKey("musicaMenu"),this.bgm=this.sound.add("bgm",{volume:.7*this.musicVolume,loop:!0}),this.bgm.play(),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.connectToServer(),console.log("codigo:",this.roomCode),this.crearInterfaz()}crearInterfaz(){const e=this.cameras.main.width,t=this.cameras.main.height;this.pergamino=this.add.image(e/2,100,"pergaminoTitulo"),this.pergamino.setScale(.25,.2),this.titulo=this.add.text(e/2,100,"Online Multiplayer",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.roomCodeText=this.add.text(e/2,150,"",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.tituloCrearSala=this.add.text(e/2,300,"Crear torre",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonCrearSala=this.add.image(e/2,340,"boton"),this.botonCrearSala.setScale(.05,.1),this.crearSalaText=this.add.text(e/2,340,"Crear",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.crearSalaText.on("pointerover",()=>{this.crearSalaText.setStyle({fill:"#ff0000"})}),this.crearSalaText.on("pointerout",()=>{this.crearSalaText.setStyle({fill:"#000000ff"})}),this.crearSalaText.on("pointerdown",()=>{this.resetState(),this.crearSala()}),this.tituloCola=this.add.text(e/2,200,"√önete a una torre...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonUnirseCola=this.add.image(e/2,240,"boton"),this.botonUnirseCola.setScale(.05,.1),this.unirseColaText=this.add.text(e/2,240,"Torre",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseColaText.on("pointerover",()=>{this.unirseColaText.setStyle({fill:"#ff0000"})}),this.unirseColaText.on("pointerout",()=>{this.unirseColaText.setStyle({fill:"#000000ff"})}),this.unirseColaText.on("pointerdown",()=>{this.resetState(),this.unirseCola()}),this.tituloCodigo=this.add.text(e/2,400,"O √∫nete con c√≥digo",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.createCodeInput(e/2-80,440),this.botonUnirseCodigo=this.add.image(e/2+110,440,"boton"),this.botonUnirseCodigo.setScale(.05,.1),this.unirseCodigoText=this.add.text(e/2+110,440,"Unirse",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseCodigoText.on("pointerover",()=>{this.unirseCodigoText.setStyle({fill:"#ff0000"})}),this.unirseCodigoText.on("pointerout",()=>{this.unirseCodigoText.setStyle({fill:"#000000ff"})}),this.unirseCodigoText.on("pointerdown",()=>{this.unirseSala()}),this.statusText=this.add.text(e/2,t/2,"",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ff0000"}).setOrigin(.5),this.add.image(e/2,520,"boton").setScale(.05,.1);const s=this.add.text(e/2,520,"Volver",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setStyle({fill:"#ff0000"})}),s.on("pointerout",()=>{s.setStyle({fill:"#000000ff"})}),s.on("pointerdown",()=>{this.shutdown(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop(),this.scene.start("MenuScene")})}createCodeInput(e,t){const s=document.createElement("input");s.type="text",s.id="roomCodeInput",s.placeholder="C√≥digo de sala",s.maxLength=6,s.style.cssText="\n      position: absolute;\n      width: 200px;\n      height: 40px;\n      font-size: 24px;\n      text-align: center;\n      font-family: Tagesschrift, arial;\n      text-transform: uppercase;\n      border: 3px solid #ffffff;\n      background-color: #222222;\n      color: #ffffff;\n      border-radius: 5px;\n      outline: none;\n      z-index: 9999;",s.addEventListener("input",()=>{s.value=s.value.toUpperCase()}),s.addEventListener("keypress",e=>{"Enter"===e.key&&this.unirseSala()}),document.body.appendChild(s);const i=()=>{const i=this.game.canvas.getBoundingClientRect();s.style.left=`${Math.round(i.left+e-100)}px`,s.style.top=`${Math.round(i.top+t-20)}px`};i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),this.events.once("shutdown",()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i),s.remove()}),this.codeInput=s}handleServerMessage(e){switch(e.type){case"queueStatus":this.statusText.setText(`Jugadores en cola: ${e.position}/2`),this.statusText.setColor("#ffff00");break;case"roomInfo":e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Tu torre: ${e.code}`),this.roomCodeText.setColor("#ffffff"),this.roomId=e.roomId,this.statusText.setText(`Sala creada: ${e.code}`),this.statusText.setColor("#00ff00"));break;case"joinRoomResult":e.success?(this.roomCode=e.code,this.roomId=e.roomId,this.roomCodeText.setText(e.code),this.roomCodeText.setColor("#ffffff"),this.statusText.setText("Unido a la sala."),this.statusText.setColor("#00ff00")):(this.resetState(),this.mostrarBotones(),this.statusText.setText(e.message||"No se pudo unir a la sala."),this.statusText.setColor("#ff0000"));break;case"startGame":case"gameStart":if(this.gameStarted)return;this.gameStarted=!0,e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Torre: ${e.code}`),this.roomCodeText.setColor("#ffffff")),this.statusText.setText("¬°Partida iniciando!"),this.statusText.setColor("#00ff00"),console.log("Partida iniciando!",e),this.bgm&&(this.bgm.stop(),this.bgm.destroy());const t=sessionStorage.getItem("currentUsername")||"Jugador";this.scene.start("GameSceneO",{ws:this.ws,playerRole:e.role,roomId:e.roomId||this.roomId,initialBall:e.ball,username:t}),this.ws.onmessage=null;break;case"error":this.resetState(),this.statusText.setText(e.message||"Error del servidor."),this.statusText.setColor("#ff0000"),this.mostrarBotones();break;default:console.log("Unknown message type:",e.type)}}crearSala(){if(this.ws&&this.ws.readyState===WebSocket.OPEN){if(this.roomCode)return this.statusText.setText("Ya has creado una sala."),void this.statusText.setColor("#ff0000");this.ws.send(JSON.stringify({type:"createRoom"})),this.ocultarBotones(),this.statusText.setText("Creando sala..."),this.statusText.setColor("#ffff00")}else this.statusText.setText("No conectado al servidor. Error de conexti√≥n."),this.statusText.setColor("#ff0000")}unirseCola(){this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinQueue"})),this.ocultarBotones(),this.statusText.setText("Buscando partida..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conexti√≥n."),this.statusText.setColor("#ff0000"))}ocultarBotones(){this.tituloCrearSala.setVisible(!1),this.botonCrearSala.setVisible(!1),this.crearSalaText.setVisible(!1),this.crearSalaText.disableInteractive(),this.tituloCola.setVisible(!1),this.botonUnirseCola.setVisible(!1),this.unirseColaText.setVisible(!1),this.unirseColaText.disableInteractive(),this.tituloCodigo.setVisible(!1),this.codeInput.style.display="none",this.botonUnirseCodigo.setVisible(!1),this.unirseCodigoText.setVisible(!1),this.unirseCodigoText.disableInteractive(),this.codeInput&&(this.codeInput.style.display="none")}mostrarBotones(){this.tituloCrearSala.setVisible(!0),this.botonCrearSala.setVisible(!0),this.crearSalaText.setVisible(!0),this.crearSalaText.setInteractive(),this.tituloCola.setVisible(!0),this.botonUnirseCola.setVisible(!0),this.unirseColaText.setVisible(!0),this.unirseColaText.setInteractive(),this.tituloCodigo.setVisible(!0),this.codeInput.style.display="block",this.botonUnirseCodigo.setVisible(!0),this.unirseCodigoText.setVisible(!0),this.unirseCodigoText.setInteractive(),this.codeInput&&(this.codeInput.style.display="block")}unirseSala(){const e=this.codeInput.value.trim().toUpperCase();return e?6!==e.length?(this.statusText.setText("El c√≥digo de sala debe tener 6 caracteres."),void this.statusText.setColor("#ff0000")):void(this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinRoom",code:e})),this.statusText.setText("Intentando unirse a la sala..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conexti√≥n."),this.statusText.setColor("#ff0000"))):(this.statusText.setText("Por favor, introduce un c√≥digo de sala."),void this.statusText.setColor("#ff0000"))}update(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;const i=this.walkSounds.get(e.playerId);let o=!1;e.upKeyObj.isDown?(s="up",o=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",o=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",o=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",o=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),i&&i.isPlaying&&i.stop()),o&&i&&!i.isPlaying&&i.play();let a=new g(t,s,!1);this.processor.process(a)})}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerza"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500)}establecerColisiones(){this.players.forEach(e=>{this.physics.add.collider(e.sprite,this.barreraInvisible)})}setUpPlayers(){const e=new c(this,"player1",50,400,"idle_Azul");this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"SPACE"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"}))}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}connectToServer(){try{this.ws&&(this.ws.readyState!==WebSocket.OPEN&&this.ws.readyState!==WebSocket.CONNECTING||(console.log("WebSocket already connected or connecting"),this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.close()),this.ws=null);const e=`ws://${window.location.host}/ws`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Conectado al servidor."),this.statusText.setColor("#00ff00"),this.time.delayedCall(500,()=>{this.statusText.setText("")})},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("SalaDeEspera")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}leaveQueue(){this.ws&&(this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close()),this.ws=null),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.remove(),this.codeInput=null),this.resetState()}shutdown(){this.leaveQueue()}}class z extends s().Scene{constructor(){super("GameSceneO")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.spritesheet("explosionCaldero","/imagenes/explosionCaldero.png",{frameWidth:200,frameHeight:200}),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("peque√±o","/sounds/peque√±o.mp3"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}init(e){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new p,this.cofreAbierto=!1,this.walkSounds=new Map,this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.username=e.username||"Jugador",this.localPlayer=null,this.remotePlayer=null,this.estrella=!1,this.lOponente=!1,this.desactivado=[!1,!1],this.gameStartTime=Date.now(),this.gameMode="online",this.llaveRecogida=!1,this.estrella1Recogida=!1,this.estrella2Recogida=!1}create(){this.musicVolume=.7,this.sfxVolume=.7;try{const e=localStorage.getItem("game_settings");if(e){const t=JSON.parse(e),s=Number(t.musicVolume),i=Number(t.sfxVolume),o=Number(t.volume);this.musicVolume=Number.isFinite(s)?s:Number.isFinite(o)?o:.7,this.sfxVolume=Number.isFinite(i)?i:Number.isFinite(o)?o:.7}}catch(e){}this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"explosion_caldero",frames:this.anims.generateFrameNumbers("explosionCaldero",{start:0,end:16}),frameRate:20,repeat:0}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5*this.musicVolume}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3*this.sfxVolume})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3*this.sfxVolume})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"});const e="player1"===this.playerRole?"Eres el Jugador 1 (Azul)":"Eres el Jugador 2 (Rojo)";this.add.text(500,40,e,{fontSize:"24px",fontFamily:"Tagesschrift"}).setOrigin(.5),"player1"===this.playerRole?(this.localPlayer=this.players.get("player1"),this.remotePlayer=this.players.get("player2")):(this.localPlayer=this.players.get("player2"),this.remotePlayer=this.players.get("player1"));const t=sessionStorage.getItem("currentUsername")||"Jugador";this.localUsername=t,this.remoteUsername=null,this.ws.send(JSON.stringify({type:"setUsername",username:t,playerRole:this.playerRole})),this.time.delayedCall(500,()=>{this.showUsernames()}),this.cursors=this.input.keyboard.createCursorKeys(),this.jumpKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.SPACE),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q),this.setupWebSocketListeners()}update(e,t){if(!this.localPlayer||!this.remotePlayer)return;this.escKey.isDown&&!this.escWasDown&&this.togglePause();let s=null;s=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":this.cursors.left.isDown?"left":this.cursors.right.isDown?"right":"stop",this.escWasDown=this.escKey.isDown,this.lPulsada=!1,this.lOponente=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0,this.sendMessage({type:"lPulsada"})),this.players.forEach(e=>{e.update(t)});let i=new g(this.localPlayer,s,this.jumpKey.isDown);this.processor.process(i),"stop"!==s?(this.localPlayer.andar_animacion(),"left"===s?this.localPlayer.sprite.flipX=!1:"right"===s&&(this.localPlayer.sprite.flipX=!0)):this.localPlayer.andar_animacion_parar();const o=this.walkSounds.get(this.playerRole);"stop"!==s?o&&!o.isPlaying&&o.play():o&&o.isPlaying&&o.stop(),this.sendMessage({type:"playerMove",x:this.localPlayer.sprite.x,y:this.localPlayer.sprite.y,direction:s,isMoving:"stop"!==s,flipX:this.localPlayer.sprite.flipX}),this.actualizarInventarioEnPantalla()}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}mostrarExplosionCaldero(){const e=this.add.sprite(this.caldero.x,this.caldero.y-170,"explosionCaldero");e.setDepth(50),e.setScale(1.2),e.play("explosion_caldero"),e.on("animationcomplete",()=>{e.destroy()})}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.llaveRecogida||(this.llaveRecogida=!0,this.sound&&this.sound.play("recogerLlave",{volume:.6*this.sfxVolume}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1))}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameSceneO",pociones:this.inventario,sound:this.sound,jugador:t,ws:this.ws}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey))&&this.sendMessage({type:"usarCaldero",inventario:this.inventario})}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.sendMessage({type:"botonCampoFuerza",boton:1})}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.sendMessage({type:"botonCampoFuerza",boton:2})})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}actualizarInventarioEnPantalla(){this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5*this.sfxVolume}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){if(this.cofreAbierto){if(1===e&&this.estrella1Recogida)return;if(2===e&&this.estrella2Recogida)return;1===e&&(this.estrella1Recogida=!0),2===e&&(this.estrella2Recogida=!0),console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.sendMessage({type:"cambiarSize",estado:"peque√±o"})}}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6*this.sfxVolume}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2),this.estrella=!0):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2),this.estrella=!0))}comprobarCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&(this.lOponente||this.qkey.isDown)&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(this.sendMessage({type:"desactivarCampoFuerza"}),this.abrirCampoFuerza())}abrirCampoFuerza(){console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7*this.sfxVolume}),this.campoFuerza.destroy(),this.crearPuertaFinal()}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0),this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player1"})}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player2"})})}entrarPuertaFinal(e,t){if(console.log("Desactivado:",e),e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{eleccion:t,jugador:this.playerRole,ws:this.ws,modo:"online"})}}setUpPlayers(){const e=new c(this,"player1",50,400,"idle_Azul"),t=new c(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t)}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Men√∫",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{this.ws.close()},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}da√±oJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador 1 ha recibido da√±o"),this.sendMessage({type:"da√±oJugador",player:"player1",vida:e.vida}),e.vida<=0&&this.endGame("player1")}da√±oJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador 2 ha recibido da√±o"),this.sendMessage({type:"da√±oJugador",player:"player2",vida:e.vida}),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameSceneO"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){e&&e.pociones&&(this.inventario=e.pociones,this.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.inventario}))),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume()}togglePause(){const e=!this.isPaused;this.processor.process(new u(this,e))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error al parsear mensaje Websocket:",e)}},this.ws.onclose=()=>{console.log("Conexi√≥n WebSocket cerrada"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("Error de WebSocket :",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"usernames":console.log("Recibidos usernames:",e),"player1"===this.playerRole?(this.localUsername=e.player1,this.remoteUsername=e.player2):(this.localUsername=e.player2,this.remoteUsername=e.player1);break;case"setUsername":console.log("Recibido username:",e),e.playerRole!==this.playerRole&&(this.remoteUsername=e.username,console.log("Username remoto actualizado:",this.remoteUsername));break;case"movimientoJugador":{if(e.player===this.playerRole)break;if(!this.remotePlayer)break;const t=this.walkSounds.get(e.player);e.isMoving&&"stop"!==e.direction?t&&!t.isPlaying&&t.play():t&&t.isPlaying&&t.stop(),this.remotePlayer.sprite.x=e.x,this.remotePlayer.sprite.y=e.y,this.remotePlayer.sprite.flipX=e.flipX,e.isMoving&&"stop"!==e.direction?this.remotePlayer.andar_animacion():this.remotePlayer.andar_animacion_parar();break}case"gameOver":this.endGame(e.winnerId);break;case"playerDisconnected":console.log(e.message),this.handleDisconnection();break;case"da√±o":this.handleDa√±o(e);break;case"Inventario":this.inventario=e.inventario,this.actualizarInventarioEnPantalla(),console.log("Inventario actualizado desde el servidor",this.inventario);break;case"botonCF":1===e.b?this.boton1Activado=!0:2===e.b&&(this.boton2Activado=!0),this.comprobarCampoFuerza();break;case"desactivarCF":this.abrirCampoFuerza();break;case"lOponente":this.lOponente=e.valor;break;case"usarCaldero":this.handleCaldero(e);break;case"size":"peque√±o"===e.estado&&this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})});break;case"puertaFinal":this.handlePuertaFinal(e);break;case"final":console.log("final"),1===e.escena?this.scene.start("FinalM1Scene"):2===e.escena?this.scene.start("FinalM2Scene"):this.scene.start("FinalBScene"),this.scene.stop("DecisionScene");break;default:console.log("Mensaje WebSocket desconocido:",e)}}handleDisconnection(){this.gameEnded=!0,this.localPlayer.sprite.setVelocity(0,0),this.remotePlayer.sprite.setVelocity(0,0),this.physics.pause(),this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,220,"titulo"),this.titulo.setScale(.3,.25),this.add.text(500,200,"Fallo por desconexi√≥n",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.add.text(500,250,"La partida ha finalizado",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.createMenuButton()}handleDa√±o(e){const t=this.players.get(e.player);t&&(t.vida=e.vida,"player1"===e.player?this.healthLeft.setText(e.vida.toString()):this.healthRight.setText(e.vida.toString()),t.vida<=0&&this.endGame(e.player))}handleCaldero(e){for(let e=1;e<this.inventario.length-2;e++)this.inventario[e]=!1;this.uno.setAlpha(.2),this.dos.setAlpha(.2),this.tres.setAlpha(.2),this.cuatro.setAlpha(.2),this.cinco.setAlpha(.2),this.seis.setAlpha(.2),this.siete.setAlpha(.2),this.ocho.setAlpha(.2),this.nueve.setAlpha(.2),this.diez.setAlpha(.2),e.exito?(console.log("Poci√≥n de disminuir tama√±o creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("peque√±o",{volume:.6*this.sfxVolume}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poci√≥n de disminuir tama√±o"),this.sound&&this.sound.play("explosion",{volume:.5*this.sfxVolume}),this.mostrarExplosionCaldero(),1===e.jugadorDa√±ado?this.da√±oJugLeft():this.da√±oJugRight())}handlePuertaFinal(e){let t;if("player1"===e.jugador?(this.players.get("player1").sprite.disableBody(!0,!0),this.desactivado[0]=!0,t=this.walkSounds.get("player1")):(this.players.get("player2").sprite.disableBody(!0,!0),this.desactivado[1]=!0,t=this.walkSounds.get("player2")),t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}this.entrarPuertaFinal(this.desactivado,e.ganador)}createMenuButton(){this.boton=this.add.image(500,400,"boton"),this.boton.setScale(.15,.1);const e=this.add.text(500,400,"Volver al Men√∫",{fontFamily:"Tagesschrift",fontSize:"30px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),console.log("Cerrando conexi√≥n WebSocket..."),setTimeout(()=>{this.ws.close(),console.log("Conexi√≥n WebSocket cerrada.")},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}showUsernames(){if(this.localPlayer){const e=this.add.text(this.localPlayer.sprite.x,this.localPlayer.sprite.y-100,this.localUsername,{fontSize:"18px",fontFamily:"Arial",color:"#00ff00",fontStyle:"bold"}).setOrigin(.5);e.setDepth(100),this.time.delayedCall(3e3,()=>{e.destroy()})}if(this.remotePlayer){const e=this.remoteUsername||"Oponente",t=this.add.text(this.remotePlayer.sprite.x,this.remotePlayer.sprite.y-100,e,{fontSize:"18px",fontFamily:"Arial",color:"#00ff00",fontStyle:"bold"}).setOrigin(.5);t.setDepth(100),this.time.delayedCall(3e3,()=>{t.destroy()})}}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}function k({musicVolume:e,sfxVolume:t}){try{const s={musicVolume:e,sfxVolume:t};localStorage.setItem("game_settings",JSON.stringify(s))}catch(e){}}class P extends s().Scene{constructor(){super("SettingsScene"),this.musicVolume=.7,this.sfxVolume=.7}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3")}create(){this.add.image(500,350,"fondoM").setScale(.8);const{musicVolume:e,sfxVolume:t}=function(){try{const e=localStorage.getItem("game_settings");if(!e)return{musicVolume:.7,sfxVolume:.7};const t=JSON.parse(e),i=Number(t.volume),o=Number(t.musicVolume),a=Number(t.sfxVolume),n=Number.isFinite(o)?o:Number.isFinite(i)?i:.7,r=Number.isFinite(a)?a:Number.isFinite(i)?i:.7;return{musicVolume:s().Math.Clamp(n,0,1),sfxVolume:s().Math.Clamp(r,0,1)}}catch(e){return{musicVolume:.7,sfxVolume:.7}}}();this.musicVolume=e,this.sfxVolume=t,this.add.rectangle(500,280,1e3,560,0).setAlpha(.6).setDepth(-1),this.add.text(500,110,"Ajustes",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#4bffabff"}).setOrigin(.5),this.add.text(500,170,"M√∫sica",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.musicValueText=this.add.text(500,205,this.fmtPct(this.musicVolume),{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.musicSlider=this.createSlider(500,240,this.musicVolume,e=>{this.musicVolume=e,this.musicValueText.setText(this.fmtPct(e)),k({musicVolume:this.musicVolume,sfxVolume:this.sfxVolume});try{const e=this.game?.sound;e&&Array.isArray(e.sounds)&&e.sounds.forEach(e=>{e&&e.key&&("musicaMenu"!==e.key&&"bgm"!==e.key||e.setVolume(this.musicVolume))})}catch(e){}}),this.add.text(500,300,"Efectos (SFX)",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.sfxValueText=this.add.text(500,335,this.fmtPct(this.sfxVolume),{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.sfxSlider=this.createSlider(500,370,this.sfxVolume,e=>{this.sfxVolume=e,this.sfxValueText.setText(this.fmtPct(e)),k({musicVolume:this.musicVolume,sfxVolume:this.sfxVolume});try{const e=this.game?.sound;e&&Array.isArray(e.sounds)&&e.sounds.forEach(e=>{e&&e.key&&"walk"===e.key&&e.setVolume(.3*this.sfxVolume)}),this.sound.play("hover",{volume:.5*this.sfxVolume})}catch(e){}}),this.add.image(500,440,"boton").setScale(.1);const i=this.add.text(500,440,"Volver",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{i.setStyle({fill:"#4bffabff"}),this.playHover()}),i.on("pointerout",()=>i.setStyle({fill:"#000000ff"})),i.on("pointerdown",()=>{this.scene.stop(),this.scene.start("MenuScene")})}fmtPct(e){return`${Math.round(100*e)}%`}playHover(){try{this.sound.play("hover",{volume:.5*this.sfxVolume})}catch(e){}}createSlider(e,t,i,o){const a=300,n=e-150,r=this.add.rectangle(e,t,a,8,16777215).setAlpha(.3),l=this.add.rectangle(n,t,a*i,8,4980651).setOrigin(0,.5),h=this.add.circle(n+a*i,t,10,4980651).setStrokeStyle(2,16777215);h.setInteractive({useHandCursor:!0,draggable:!0}),this.input.setDraggable(h,!0);const d=e=>{const t=s().Math.Clamp((e-n)/a,0,1),i=Math.round(100*t)/100;l.width=a*i,h.x=n+a*i,o(i)};return r.setInteractive({useHandCursor:!0}),r.on("pointerdown",e=>d(e.worldX)),l.setInteractive({useHandCursor:!0}),l.on("pointerdown",e=>d(e.worldX)),this.input.on("drag",(e,t,s)=>{t===h&&d(s)}),{track:r,fill:l,handle:h}}}const O={type:s().AUTO,width:1e3,height:560,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:2e4},debug:!1}},dom:{createContainer:!0},scene:[l,d,P,z,f,v,y,b,S,x,w,C,A,T,I,R,_],backgroundColor:"#47ddffff"};new(s().Game)(O)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBUyxTQUNUQyxPQUFRLENBQ0pDLFFBQVMsQ0FBRTlaLEVBQUcsS0FDZCtaLE9BQU8sSUFHZkMsSUFBSyxDQUNEQyxpQkFBaUIsR0FFckJ4Z0IsTUFBTyxDQUFFMUIsRUFBWXFFLEVBQVdrYixFQUFlM0MsRUFBWTFSLEVBQVdrSyxFQUFnQmQsRUFBWVUsRUFBY0csRUFBZWUsRUFBY0csRUFBZU8sRUFBYU0sRUFBY0UsRUFBY0UsRUFBWVEsRUFBcUJZLEdBQ3RPeUosZ0JBQWlCLGFBR1IsSUFBSSxVQUFZek8sRSIsInNvdXJjZXMiOlsid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9nYW1lU3RhdHNTZXJ2aWNlLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9hcGkuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9Mb2dpblNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvZW50aXRpZXMvTWFnby5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9jb21tYW5kL0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2NvbW1hbmQvTW92ZU1hZ29Db21tYW5kLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9jb21tYW5kL1BhdXNlR2FtZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9QYXVzZVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvSGlzdG9yaWFTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0xpYnJlcmlhU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9Db250cm9sU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9EZWNpc2lvblNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvRmluYWxCU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9GaW5hbE0xU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9GaW5hbE0yU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9TdGF0c1NjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL1NhbGFEZUVzcGVyYS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZU8uanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9TZXR0aW5nc1NjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBkZSBlc3RhZMOtc3RpY2FzIGRlIHBhcnRpZGFzXHJcbiAqIEdlc3Rpb25hIGVzdGFkw61zdGljYXMgdGFudG8gbG9jYWxlcyAobG9jYWxTdG9yYWdlKSBjb21vIGVuIGzDrW5lYSAoc2Vydmlkb3IpXHJcbiAqL1xyXG5cclxuY29uc3QgU1RPUkFHRV9LRVkgPSAnanVlZ29fbWFnb3Nfc3RhdHMnO1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgZWwgb2JqZXRvIGRlIGVzdGFkw61zdGljYXMgZGVsIHVzdWFyaW8gZGVzZGUgbG9jYWxTdG9yYWdlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIE5vbWJyZSBkZWwgdXN1YXJpb1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBFc3RhZMOtc3RpY2FzIGRlbCB1c3VhcmlvXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRMb2NhbFN0YXRzKHVzZXJuYW1lKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0YXRzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgY29uc3QgYWxsU3RhdHMgPSBzdGF0cyA/IEpTT04ucGFyc2Uoc3RhdHMpIDoge307XHJcbiAgICBcclxuICAgIGlmICghYWxsU3RhdHNbdXNlcm5hbWVdKSB7XHJcbiAgICAgIGFsbFN0YXRzW3VzZXJuYW1lXSA9IHtcclxuICAgICAgICB0b3RhbFBhcnRpZGFzOiAwLFxyXG4gICAgICAgIHRpZW1wb1RvdGFsOiAwLFxyXG4gICAgICAgIHBhcnRpZGFzOiBbXSxcclxuICAgICAgICB1bHRpbWFBY3R1YWxpemFjaW9uOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGFsbFN0YXRzW3VzZXJuYW1lXTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciBlc3RhZMOtc3RpY2FzIGxvY2FsZXM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxQYXJ0aWRhczogMCxcclxuICAgICAgdGllbXBvVG90YWw6IDAsXHJcbiAgICAgIHBhcnRpZGFzOiBbXSxcclxuICAgICAgdWx0aW1hQWN0dWFsaXphY2lvbjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEd1YXJkYSBsYXMgZXN0YWTDrXN0aWNhcyBkZSB1biB1c3VhcmlvIGVuIGxvY2FsU3RvcmFnZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBOb21icmUgZGVsIHVzdWFyaW9cclxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRzIC0gT2JqZXRvIGRlIGVzdGFkw61zdGljYXNcclxuICovXHJcbmZ1bmN0aW9uIHNhdmVMb2NhbFN0YXRzKHVzZXJuYW1lLCBzdGF0cykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhbGxTdGF0cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgIGNvbnN0IHBhcnNlZFN0YXRzID0gYWxsU3RhdHMgPyBKU09OLnBhcnNlKGFsbFN0YXRzKSA6IHt9O1xyXG4gICAgXHJcbiAgICBwYXJzZWRTdGF0c1t1c2VybmFtZV0gPSB7XHJcbiAgICAgIC4uLnN0YXRzLFxyXG4gICAgICB1bHRpbWFBY3R1YWxpemFjaW9uOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeShwYXJzZWRTdGF0cykpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBndWFyZGFyIGVzdGFkw61zdGljYXMgbG9jYWxlczonLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmVnaXN0cmEgdW5hIHBhcnRpZGEgbG9jYWxcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlbCB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbk1zIC0gRHVyYWNpw7NuIGRlIGxhIHBhcnRpZGEgZW4gbWlsaXNlZ3VuZG9zXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEVzdGFkw61zdGljYXMgYWN0dWFsaXphZGFzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkTG9jYWxHYW1lU2Vzc2lvbih1c2VybmFtZSwgZHVyYXRpb25Ncykge1xyXG4gIGlmICghdXNlcm5hbWUgfHwgdHlwZW9mIGR1cmF0aW9uTXMgIT09ICdudW1iZXInIHx8IGR1cmF0aW9uTXMgPCAwKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdG9zIGludsOhbGlkb3MgcGFyYSByZWdpc3RyYXIgbGEgcGFydGlkYScpO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3RhdHMgPSBnZXRMb2NhbFN0YXRzKHVzZXJuYW1lKTtcclxuICBzdGF0cy50b3RhbFBhcnRpZGFzKys7XHJcbiAgc3RhdHMudGllbXBvVG90YWwgKz0gZHVyYXRpb25NcztcclxuICBzdGF0cy5wYXJ0aWRhcy5wdXNoKHtcclxuICAgIGR1cmFjaW9uOiBkdXJhdGlvbk1zLFxyXG4gICAgZmVjaGE6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH0pO1xyXG5cclxuICAvLyBNYW50ZW5lciBzb2xvIGxhcyDDumx0aW1hcyA1MCBwYXJ0aWRhc1xyXG4gIGlmIChzdGF0cy5wYXJ0aWRhcy5sZW5ndGggPiA1MCkge1xyXG4gICAgc3RhdHMucGFydGlkYXMgPSBzdGF0cy5wYXJ0aWRhcy5zbGljZSgtNTApO1xyXG4gIH1cclxuXHJcbiAgc2F2ZUxvY2FsU3RhdHModXNlcm5hbWUsIHN0YXRzKTtcclxuXHJcbiAgY29uc29sZS5sb2coYPCfjq4gUEFSVElEQSBMT0NBTDogJHt1c2VybmFtZX0gLSBEdXJhY2nDs246ICR7KGR1cmF0aW9uTXMgLyAxMDAwKS50b0ZpeGVkKDIpfXNgKTtcclxuICBjb25zb2xlLmxvZyhgICAgUHJvbWVkaW86ICR7KHN0YXRzLnRpZW1wb1RvdGFsIC8gc3RhdHMudG90YWxQYXJ0aWRhcyAvIDEwMDApLnRvRml4ZWQoMil9c2ApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdXNlcm5hbWUsXHJcbiAgICBtb2RvOiAnbG9jYWwnLFxyXG4gICAgcGFydGlkYXNKdWdhZGFzOiBzdGF0cy50b3RhbFBhcnRpZGFzLFxyXG4gICAgdGllbXBvUHJvbWVkaW86IHN0YXRzLnRpZW1wb1RvdGFsIC8gc3RhdHMudG90YWxQYXJ0aWRhcyxcclxuICAgIHVsdGltYVBhcnRpZGE6IGR1cmF0aW9uTXNcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBsYXMgZXN0YWTDrXN0aWNhcyBsb2NhbGVzIGRlIHVuIHVzdWFyaW9cclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlbCB1c3VhcmlvXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEVzdGFkw61zdGljYXMgZGVsIHVzdWFyaW9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbEdhbWVTdGF0cyh1c2VybmFtZSkge1xyXG4gIGlmICghdXNlcm5hbWUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRWwgbm9tYnJlIGRlIHVzdWFyaW8gZXMgb2JsaWdhdG9yaW8nKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHN0YXRzID0gZ2V0TG9jYWxTdGF0cyh1c2VybmFtZSk7XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIHVzZXJuYW1lLFxyXG4gICAgbW9kbzogJ2xvY2FsJyxcclxuICAgIHRvdGFsUGFydGlkYXM6IHN0YXRzLnRvdGFsUGFydGlkYXMsXHJcbiAgICB0aWVtcG9Qcm9tZWRpbzogc3RhdHMudG90YWxQYXJ0aWRhcyA+IDAgPyBzdGF0cy50aWVtcG9Ub3RhbCAvIHN0YXRzLnRvdGFsUGFydGlkYXMgOiAwLFxyXG4gICAgdGllbXBvVG90YWw6IHN0YXRzLnRpZW1wb1RvdGFsLFxyXG4gICAgcGFydGlkYXM6IHN0YXRzLnBhcnRpZGFzLFxyXG4gICAgdWx0aW1hQWN0dWFsaXphY2lvbjogc3RhdHMudWx0aW1hQWN0dWFsaXphY2lvblxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGVsIHJhbmtpbmcgbG9jYWwgZGUganVnYWRvcmVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCAtIE7Dum1lcm8gbcOheGltbyBkZSBqdWdhZG9yZXNcclxuICogQHJldHVybnMge0FycmF5fSBBcnJheSBkZSBqdWdhZG9yZXMgb3JkZW5hZG9zIHBvciB0aWVtcG8gcHJvbWVkaW9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbEdhbWVTdGF0c1JhbmtpbmcobGltaXQgPSAxMCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhbGxTdGF0cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgIGNvbnN0IHN0YXRzID0gYWxsU3RhdHMgPyBKU09OLnBhcnNlKGFsbFN0YXRzKSA6IHt9O1xyXG5cclxuICAgIGNvbnN0IHJhbmtpbmcgPSBPYmplY3QuZW50cmllcyhzdGF0cylcclxuICAgICAgLm1hcCgoW3VzZXJuYW1lLCB1c2VyU3RhdHNdKSA9PiAoe1xyXG4gICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgIHRvdGFsUGFydGlkYXM6IHVzZXJTdGF0cy50b3RhbFBhcnRpZGFzLFxyXG4gICAgICAgIHRpZW1wb1Byb21lZGlvOiB1c2VyU3RhdHMudG90YWxQYXJ0aWRhcyA+IDAgPyB1c2VyU3RhdHMudGllbXBvVG90YWwgLyB1c2VyU3RhdHMudG90YWxQYXJ0aWRhcyA6IDAsXHJcbiAgICAgICAgdGllbXBvVG90YWw6IHVzZXJTdGF0cy50aWVtcG9Ub3RhbFxyXG4gICAgICB9KSlcclxuICAgICAgLmZpbHRlcih1c2VyID0+IHVzZXIudG90YWxQYXJ0aWRhcyA+IDApXHJcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnRpZW1wb1Byb21lZGlvIC0gYi50aWVtcG9Qcm9tZWRpbylcclxuICAgICAgLnNsaWNlKDAsIGxpbWl0KTtcclxuXHJcbiAgICByZXR1cm4gcmFua2luZztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciByYW5raW5nIGxvY2FsOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbGltaW5hIGxhcyBlc3RhZMOtc3RpY2FzIGRlIHVuIHVzdWFyaW8gKGxpbXBpZXphKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBOb21icmUgZGVsIHVzdWFyaW9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhclVzZXJMb2NhbFN0YXRzKHVzZXJuYW1lKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGFsbFN0YXRzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgY29uc3Qgc3RhdHMgPSBhbGxTdGF0cyA/IEpTT04ucGFyc2UoYWxsU3RhdHMpIDoge307XHJcbiAgICBcclxuICAgIGRlbGV0ZSBzdGF0c1t1c2VybmFtZV07XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoc3RhdHMpKTtcclxuICAgIGNvbnNvbGUubG9nKGBFc3RhZMOtc3RpY2FzIGxvY2FsZXMgZGUgJHt1c2VybmFtZX0gZWxpbWluYWRhc2ApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBlbGltaW5hciBlc3RhZMOtc3RpY2FzIGxvY2FsZXM6JywgZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIExpbXBpYSB0b2RhcyBsYXMgZXN0YWTDrXN0aWNhc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQWxsTG9jYWxTdGF0cygpIHtcclxuICB0cnkge1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgY29uc29sZS5sb2coJ1RvZGFzIGxhcyBlc3RhZMOtc3RpY2FzIGxvY2FsZXMgaGFuIHNpZG8gZWxpbWluYWRhcycpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBsaW1waWFyIGVzdGFkw61zdGljYXM6JywgZXJyb3IpO1xyXG4gIH1cclxufVxyXG4iLCIvKipcclxuICogQVBJIENsaWVudCBwYXJhIGNvbXVuaWNhY2nDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIEVzdGUgYXJjaGl2byBjb250aWVuZSBmdW5jaW9uZXMgcGFyYSByZWFsaXphciBwZXRpY2lvbmVzIEhUVFAgYWwgc2Vydmlkb3JcclxuICpcclxuICogSU1QT1JUQU5URTogTGFzIGZ1bmNpb25lcyBlc3TDoW4gZGVmaW5pZGFzIHBlcm8gTk8gaW1wbGVtZW50YWRhcy5cclxuICogRGViZXMgaW1wbGVtZW50YXIgY2FkYSBmdW5jacOzbiB1c2FuZG8gZmV0Y2goKSBvIGxhIGxpYnJlcsOtYSBxdWUgcHJlZmllcmFzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFxyXG4gIHJlY29yZExvY2FsR2FtZVNlc3Npb24sIFxyXG4gIGdldExvY2FsR2FtZVN0YXRzLCBcclxuICBnZXRMb2NhbEdhbWVTdGF0c1JhbmtpbmcgXHJcbn0gZnJvbSAnLi9zZXJ2aWNlcy9nYW1lU3RhdHNTZXJ2aWNlLmpzJztcclxuXHJcbi8vIENvbnN0cnV5ZSBkaW7DoW1pY2FtZW50ZSBsYSBVUkwgYmFzZSBkZSBsYSBBUEkgcGFyYSBxdWUgZnVuY2lvbmVcclxuLy8gdGFudG8gZW4gbG9jYWwgY29tbyBhbCBhY2NlZGVyIGRlc2RlIG90cm8gb3JkZW5hZG9yIGVuIGxhIHJlZC5cclxuLy8gLSBFbiBwcm9kdWNjacOzbjogdXNhIGVsIG1pc21vIG9yaWdlbiBkZXNkZSBlbCBxdWUgc2Ugc2lydmUgZWwganVlZ29cclxuLy8gLSBFbiBkZXNhcnJvbGxvICh3ZWJwYWNrIGRldiBzZXJ2ZXIpOiBjYWUgYSBsb2NhbGhvc3Q6MzAwMCBzaSBubyBoYXkgd2luZG93XHJcbmNvbnN0IEFQSV9CQVNFX1VSTCA9ICgoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLm9yaWdpbikge1xyXG4gICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcclxuICAgIH1cclxuICB9IGNhdGNoIChfKSB7fVxyXG4gIGNvbnN0IGhvc3QgPSBwcm9jZXNzLmVudi5BUElfSE9TVCB8fCAnbG9jYWxob3N0JztcclxuICBjb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuQVBJX1BPUlQgfHwgJzMwMDAnO1xyXG4gIHJldHVybiBgaHR0cDovLyR7aG9zdH06JHtwb3J0fWA7XHJcbn0pKCk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBVU1VBUklPUyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdHJhIHVuIG51ZXZvIHVzdWFyaW8gZW4gZWwgc2lzdGVtYVxyXG4gKiBAcGFyYW0ge29iamVjdH0gdXNlckRhdGEgLSBEYXRvcyBkZWwgdXN1YXJpbyB7IG5hbWUsIGF2YXRhciwgbGV2ZWx9XHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IC0gVXN1YXJpbyBjcmVhZG9cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdpc3RlclVzZXIodXNlckRhdGEpIHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzYCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH0sXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSlcclxuICB9KTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgLy8gbGV0IGVycm9yVHh0O1xyXG5cclxuICAgIC8vIHRyeXtcclxuICAgIC8vIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgLy8gZXJyb3JUeHQgPSAoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIHJlZ2lzdHJhciB1c3VhcmlvJyk7fVxyXG4gICAgLy8gY2F0Y2h7XHJcbiAgICAvLyAgIGVycm9yVHh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgLy8gfSBcclxuXHJcbiAgICAvLyB0aHJvdyBuZXcgRXJyb3IoIGVycm9yVHh0KTtcclxuXHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgcmVnaXN0cmFyIHVzdWFyaW8nKTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiVXN1YXJpbyBjcmVhZG8gY29ycmVjdGFtZW50ZS5cIik7IFxyXG4gIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIHVuIHVzdWFyaW8gcG9yIHN1IElEXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBJRCBkZWwgdXN1YXJpb1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIFVzdWFyaW8gZW5jb250cmFkb1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXIodXNlcklkKSB7XHJcbiAgLy8gUmV0b3JuYXI6IHVzdWFyaW8gbyBsYW56YXIgZXJyb3Igc2kgbm8gZXhpc3RlXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vycy8ke3VzZXJJZH1gKTtcclxuICAvL25vIGhhY2UgZmFsdGEgZXNwZWNpZmljYXIgZWwgbWV0b2RvIHBvciBxdWUgR0VUIGVzIGVsIG3DqXRvZG8gcG9yIGRlZmVjdG9cclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIG9idGVuZXIgdXN1YXJpbycpO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJVc3VhcmlvIG9idGVuaWRvIGNvcnJlY3RhbWVudGUuXCIpOyBcclxuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpOyBcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgdG9kb3MgbG9zIHVzdWFyaW9zXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gLSBBcnJheSBkZSB1c3Vhcmlvc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFVzZXJzKCkge1xyXG4gIC8vIFJldG9ybmFyOiBhcnJheSBkZSB1c3Vhcmlvc1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnNgKTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIG9idGVuZXIgbG9zIHVzdWFyaW9zJyk7XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKFwiVXN1YXJpb3Mgb2J0ZW5pZG9zIGNvcnJlY3RhbWVudGUuXCIpOyBcclxuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpOyBcclxufVxyXG5cclxuLyoqXHJcbiAqIEFjdHVhbGl6YSB1biBjYW1wbyBlc3BlY8OtZmljbyBkZSB1biB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBJRCBkZWwgdXN1YXJpb1xyXG4gKiBAcGFyYW0ge29iamVjdH0gdXBkYXRlcyAtIE9iamV0byBjb24gbG9zIGNhbXBvcyBhIGFjdHVhbGl6YXJcclxuICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gLSBVc3VhcmlvIGFjdHVhbGl6YWRvXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlcih1c2VySWQsIHVwZGF0ZXMpIHtcclxuICAvLyBCb2R5OiB1cGRhdGVzIChKU09OKVxyXG4gIC8vIFJldG9ybmFyOiB1c3VhcmlvIGFjdHVhbGl6YWRvXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vycy8ke3VzZXJJZH1gLCB7XHJcbiAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlcylcclxuICB9KTtcclxuXHJcbiAgXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIGFjdHVhbGl6YXIgY2FtcG8gZGVsIHVzdWFyaW8nKTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiVXN1YXJpbyBhY3R1YWxpemFkbyBjb3JyZWN0YW1lbnRlLlwiKTsgXHJcbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVsaW1pbmEgdW4gdXN1YXJpbyBkZWwgc2lzdGVtYVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gSUQgZGVsIHVzdWFyaW9cclxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVXNlcih1c2VySWQpIHtcclxuICAvLyBSZXRvcm5hcjogY29uZmlybWFjacOzbiBvIGxhbnphciBlcnJvclxyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnMvJHt1c2VySWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnXHJcbiAgfSk7XHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIGVsaW1pbmFyIHVzdWFyaW8nKTtcclxuICB9XHJcbiAgY29uc29sZS5sb2coXCJVc3VhcmlvIGVsaW1pbmFkbyBjb3JyZWN0YW1lbnRlLlwiKTsgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFsaXphIGxvZ2luIGRlIHVuIHVzdWFyaW9cclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlIHVzdWFyaW9cclxuICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gLSBVc3VhcmlvIGxvZ2VhZG9cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpblVzZXIodXNlcm5hbWUpIHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzL2xvZ2luYCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH0sXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pXHJcbiAgfSk7XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBpbmljaWFyIHNlc2nDs24nKTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiTG9naW4gZXhpdG9zby5cIik7XHJcbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWxpemEgbG9nb3V0IGRlIHVuIHVzdWFyaW9cclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlIHVzdWFyaW9cclxuICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gLSBDb25maXJtYWNpw7NuIGRlIGxvZ291dFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ291dFVzZXIodXNlcm5hbWUpIHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzL2xvZ291dGAsIHtcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KVxyXG4gIH0pO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgY2VycmFyIHNlc2nDs24nKTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiTG9nb3V0IGV4aXRvc28uXCIpO1xyXG4gIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGxhIGxpc3RhIGRlIHVzdWFyaW9zIGFjdHVhbG1lbnRlIGxvZ2VhZG9zXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gLSBBcnJheSBkZSB1c3VhcmlvcyBsb2dlYWRvc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExvZ2dlZEluVXNlcnMoKSB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vycy9sb2dnZWQtaW5gKTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIG9idGVuZXIgdXN1YXJpb3MgbG9nZWFkb3MnKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RyYSB1bmEgcGFydGlkYSAobG9jYWwgdSBvbmxpbmUpXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIE5vbWJyZSBkZWwgdXN1YXJpb1xyXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25NcyAtIER1cmFjacOzbiBkZSBsYSBwYXJ0aWRhIGVuIG1pbGlzZWd1bmRvc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtICdsb2NhbCcgbyAnb25saW5lJ1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIEVzdGFkw61zdGljYXMgYWN0dWFsaXphZGFzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVjb3JkR2FtZVNlc3Npb24odXNlcm5hbWUsIGR1cmF0aW9uTXMsIG1vZGUgPSAnbG9jYWwnKSB7XHJcbiAgLy8gU2llbXByZSBndWFyZGFyIGxvY2FsbWVudGVcclxuICBjb25zdCBsb2NhbFJlc3VsdCA9IHJlY29yZExvY2FsR2FtZVNlc3Npb24odXNlcm5hbWUsIGR1cmF0aW9uTXMpO1xyXG5cclxuICAvLyBTaSBlcyBvbmxpbmUsIGVudmlhciB0YW1iacOpbiBhbCBzZXJ2aWRvclxyXG4gIGlmIChtb2RlID09PSAnb25saW5lJykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vycy8ke3VzZXJuYW1lfS9nYW1lLXNlc3Npb25gLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBkdXJhdGlvbk1zIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGNvbnNvbGUud2FybignQWR2ZXJ0ZW5jaWE6IE5vIHNlIHB1ZG8gZ3VhcmRhciBlbiBzZXJ2aWRvcjonLCBlcnJvci5lcnJvcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3Qgc2VydmVyUmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBQYXJ0aWRhIHJlZ2lzdHJhZGEgZW4gc2Vydmlkb3I6ICR7dXNlcm5hbWV9YCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLmxvY2FsUmVzdWx0LFxyXG4gICAgICAgICAgbW9kbzogJ29ubGluZScsXHJcbiAgICAgICAgICBzaW5jcm9uaXphZG9TZXJ2aWRvcjogdHJ1ZSxcclxuICAgICAgICAgIGRhdG9zU2Vydmlkb3I6IHNlcnZlclJlc3VsdFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignRXJyb3IgYWwgY29uZWN0YXIgY29uIHNlcnZpZG9yLCBndWFyZGFuZG8gc29sbyBsb2NhbG1lbnRlOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBsb2NhbFJlc3VsdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgbGFzIGVzdGFkw61zdGljYXMgZGUgdW4gdXN1YXJpbyAobG9jYWwgdSBvbmxpbmUpXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIE5vbWJyZSBkZWwgdXN1YXJpb1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtICdsb2NhbCcgbyAnb25saW5lJ1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIEVzdGFkw61zdGljYXMgZGVsIHVzdWFyaW9cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyR2FtZVN0YXRzKHVzZXJuYW1lLCBtb2RlID0gJ2xvY2FsJykge1xyXG4gIGlmIChtb2RlID09PSAnbG9jYWwnKSB7XHJcbiAgICByZXR1cm4gZ2V0TG9jYWxHYW1lU3RhdHModXNlcm5hbWUpO1xyXG4gIH1cclxuXHJcbiAgLy8gTW9kbyBvbmxpbmVcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vycy8ke3VzZXJuYW1lfS9zdGF0c2ApO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnNvbGUud2FybignTm8gaGF5IGVzdGFkw61zdGljYXMgZW4gc2Vydmlkb3IsIHVzYW5kbyBsb2NhbGVzOicsIGVycm9yLmVycm9yKTtcclxuICAgICAgcmV0dXJuIGdldExvY2FsR2FtZVN0YXRzKHVzZXJuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzZXJ2ZXJTdGF0cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKGBFc3RhZMOtc3RpY2FzIGRlICR7dXNlcm5hbWV9OmAsIHNlcnZlclN0YXRzKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLnNlcnZlclN0YXRzLFxyXG4gICAgICBtb2RvOiAnb25saW5lJyxcclxuICAgICAgZnVlbnRlOiAnc2Vydmlkb3InXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGFsIG9idGVuZXIgZXN0YWTDrXN0aWNhcyBkZWwgc2Vydmlkb3IsIHVzYW5kbyBsb2NhbGVzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBnZXRMb2NhbEdhbWVTdGF0cyh1c2VybmFtZSk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBlbCByYW5raW5nIGRlIGp1Z2Fkb3JlcyAobG9jYWwgdSBvbmxpbmUpXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCAtIE7Dum1lcm8gbcOheGltbyBkZSBqdWdhZG9yZXMgKGRlZmF1bHQ6IDEwKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtICdsb2NhbCcgbyAnb25saW5lJ1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IC0gQXJyYXkgZGUganVnYWRvcmVzIG9yZGVuYWRvcyBwb3IgdGllbXBvIHByb21lZGlvXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R2FtZVN0YXRzUmFua2luZyhsaW1pdCA9IDEwLCBtb2RlID0gJ2xvY2FsJykge1xyXG4gIGlmIChtb2RlID09PSAnbG9jYWwnKSB7XHJcbiAgICByZXR1cm4gZ2V0TG9jYWxHYW1lU3RhdHNSYW5raW5nKGxpbWl0KTtcclxuICB9XHJcblxyXG4gIC8vIE1vZG8gb25saW5lXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnMvc3RhdHMvcmFua2luZz9saW1pdD0ke2xpbWl0fWApO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnNvbGUud2FybignTm8gaGF5IHJhbmtpbmcgZW4gc2Vydmlkb3IsIHVzYW5kbyBsb2NhbDonLCBlcnJvci5lcnJvcik7XHJcbiAgICAgIHJldHVybiBnZXRMb2NhbEdhbWVTdGF0c1JhbmtpbmcobGltaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNlcnZlclJhbmtpbmcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZygnUmFua2luZyBkZSBqdWdhZG9yZXM6Jywgc2VydmVyUmFua2luZyk7XHJcbiAgICByZXR1cm4gc2VydmVyUmFua2luZztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS53YXJuKCdFcnJvciBhbCBvYnRlbmVyIHJhbmtpbmcgZGVsIHNlcnZpZG9yLCB1c2FuZG8gbG9jYWw6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGdldExvY2FsR2FtZVN0YXRzUmFua2luZyhsaW1pdCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBNRU5TQUpFUyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIEVudsOtYSB1biBtZW5zYWplIGFsIGNoYXRcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJNZXNzYWdlIC0gQ29udGVuaWRvIGRlbCBtZW5zYWplXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IC0gTWVuc2FqZSBjcmVhZG9cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kTWVzc2FnZSh1c2VyTWVzc2FnZSkge1xyXG4gIC8vIEJvZHk6IHtlbWFpbDogdXNlckVtYWlsLCBtZXNzYWdlOiBtZXNzYWdlfVxyXG4gIC8vIEVsIHNlcnZpZG9yIGRlYmUgdmVyaWZpY2FyIHF1ZSBlbCBlbWFpbCBleGlzdGVcclxuICAvLyBSZXRvcm5hcjogbWVuc2FqZSBjcmVhZG8gY29uIHRpbWVzdGFtcFxyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvbWVzc2FnZXNgLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgbWVzc2FnZTogdXNlck1lc3NhZ2VcclxuICAgIH0pXHJcbiAgfSk7XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBlbnZpYXIgbWVuc2FqZScpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbmV3TWVzc2FnZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICBjb25zb2xlLmxvZygnTWVuc2FqZSBjcmVhZG86JywgbmV3TWVzc2FnZSk7XHJcbiAgcmV0dXJuIG5ld01lc3NhZ2U7IFxyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBsb3Mgw7psdGltb3MgbWVuc2FqZXMgZGVsIGNoYXRcclxuICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0IC0gTsO6bWVybyBtw6F4aW1vIGRlIG1lbnNhamVzIGEgb2J0ZW5lciAoZGVmYXVsdDogNTApXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gLSBBcnJheSBkZSBtZW5zYWplc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1lc3NhZ2VzKGxpbWl0ID0gNTApIHtcclxuICAvLyBSZXRvcm5hcjogYXJyYXkgZGUgbWVuc2FqZXMgb3JkZW5hZG9zIHBvciAgIFxyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvbWVzc2FnZXM/bGltaXQ9JHtsaW1pdH1gKTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIG9idGVuZXIgbG9zIMO6bHRpbW9zIG1lbnNhamVzJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBtZW5zYWplcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICBjb25zb2xlLmxvZygnTWVuc2FqZXMgb2J0ZW5pZG9zOicsIG1lbnNhamVzKTtcclxuICByZXR1cm4gbWVuc2FqZXM7IFxyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBtZW5zYWplcyBkZXNkZSB1biB0aW1lc3RhbXAgZXNwZWPDrWZpY28gKHBhcmEgcG9sbGluZylcclxuICogQHBhcmFtIHtzdHJpbmd9IHNpbmNlIC0gVGltZXN0YW1wIElTTyBkZXNkZSBlbCBjdWFsIG9idGVuZXIgbWVuc2FqZXNcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSAtIEFycmF5IGRlIG1lbnNhamVzIG51ZXZvc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1lc3NhZ2VzU2luY2Uoc2luY2UpIHtcclxuICAvLyDDmnRpbCBwYXJhIGltcGxlbWVudGFyIHBvbGxpbmcgeSBvYnRlbmVyIHNvbG8gbWVuc2FqZXMgbnVldm9zXHJcbiAgLy8gUmV0b3JuYXI6IGFycmF5IGRlIG1lbnNhamVzIG51ZXZvc1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvbWVzc2FnZXM/c2luY2U9JHtzaW5jZX1gKTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIG9idGVuZXIgbG9zIMO6bHRpbW9zIG1lbnNhamVzJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBtZW5zYWplcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICBjb25zb2xlLmxvZygnTWVuc2FqZXMgb2J0ZW5pZG9zOicsIG1lbnNhamVzKTtcclxuICByZXR1cm4gbWVuc2FqZXM7XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBsb2dpblVzZXIgfSBmcm9tICcuLi9hcGkuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xvZ2luU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9NJywgJy9pbWFnZW5lcy9sb2dvU2luRm9uZG8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZm9uZG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDM1MCwgJ2ZvbmRvTScpXHJcbiAgICAgICAgdGhpcy5mb25kby5zZXRTY2FsZSgwLjgpO1xyXG4gICAgICAgIC8vIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDFhMWExYSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvZ2luRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1mb3JtJyk7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VybmFtZScpO1xyXG4gICAgICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKTtcclxuICAgICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbkJ1dHRvbicpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnTG9naW5TY2VuZSBpbmljaWFkYScpO1xyXG5cclxuICAgICAgICBpZiAobG9naW5Gb3JtKSB7XHJcbiAgICAgICAgICAgIGxvZ2luRm9ybS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsb2dpbkJ1dHRvbikge1xyXG4gICAgICAgICAgICBsb2dpbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJuYW1lID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdQb3IgZmF2b3IgaW5ncmVzYSB1biB1c3VhcmlvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9naW4gZW4gZWwgc2Vydmlkb3JcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBsb2dpblVzZXIodXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2dpbiBleGl0b3NvOicsIHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBHdWFyZGFyIHVzdWFyaW8gZW4gc2Vzc2lvblN0b3JhZ2VcclxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50VXNlcm5hbWUnLCB1c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT2N1bHRhciBmb3JtdWxhcmlvIHkgbGltcGlhclxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2dpbkZvcm0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJciBhbCBtZW7DulxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIGxvZ2luOicsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdFcnJvcjogJyArIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh1c2VybmFtZUlucHV0KSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9naW5CdXR0b24uY2xpY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIFNlcnZpY2lvIHBhcmEgZ2VzdGlvbmFyIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogTWFuZWphIGVsIHBvbGxpbmcgYWwgZW5kcG9pbnQgL2FwaS9jb25uZWN0ZWQgeSBkZXRlY3RhIHDDqXJkaWRhcyBkZSBjb25leGnDs25cclxuICovXHJcbmltcG9ydCB7IGxvZ291dFVzZXIgfSBmcm9tICcuLi9hcGkuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gMDtcclxuICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IDIwMDA7IC8vIENvbXByb2JhciBjYWRhIDIgc2VndW5kb3NcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcblxyXG4gICAgLy8gSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIFJlYWxpemFyIGxvZ291dCBhbCBjZXJyYXIgbGEgdmVudGFuYVxyXG4gICAgICBjb25zdCBjdXJyZW50VXNlcm5hbWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VXNlcm5hbWUnKTtcclxuICAgICAgaWYgKGN1cnJlbnRVc2VybmFtZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBsb2dvdXRVc2VyKGN1cnJlbnRVc2VybmFtZSk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnTG9nb3V0IGF1dG9tw6F0aWNvIGFsIGNlcnJhciBsYSB2ZW50YW5hJyk7XHJcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdjdXJyZW50VXNlcm5hbWUnKTtcclxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2N1cnJlbnRVc2VyJyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIGxvZ291dCBhdXRvbcOhdGljbzonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc3RvcFBvbGxpbmcoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XHJcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHJvYmFyIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cclxuICAgKi9cclxuICBhc3luYyBjaGVja0Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSBkYXRhLmNvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cclxuICAgKi9cclxuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xyXG4gICAqL1xyXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuXHJcbiAgICAvLyBMbGFtYXIgaW5tZWRpYXRhbWVudGUgY29uIGVsIGVzdGFkbyBhY3R1YWxcclxuICAgIGNhbGxiYWNrKHsgY29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLCBjb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7dHJ5e1xyXG4gICAgICBsaXN0ZW5lcihkYXRhKTtcclxuICAgIH1jYXRjaChlKXtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gTGlzdGVuZXI6JyxlKTtcclxuICAgIH19KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lLFxyXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4geyBcclxuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgKi9cclxuICBzdG9wUG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxyXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb00nLCAnL2ltYWdlbmVzL2xvZ29TaW5Gb25kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnaG92ZXInLCAnL3NvdW5kcy9ob3Zlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljYU1lbnUnLCAnL3NvdW5kcy9tw7pzaWNhX01QcmluY2lwYWwubXAzJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoJ1RhZ2Vzc2NocmlmdCcsICd1cmwoL2Z1ZW50ZXMvVGFnZXNzY2hyaWZ0LnR0ZiknKTtcclxuICAgICAgICBmb250LmxvYWQoKS50aGVuKGZ1bmN0aW9uIChsb2FkZWRGb250KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChsb2FkZWRGb250KTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBmb250OicsIGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gQ2FyZ2FyIHZvbMO6bWVuZXMgZ3VhcmRhZG9zIChtw7pzaWNhIHkgU0ZYKVxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSAwLjc7XHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWUgPSAwLjc7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dhbWVfc2V0dGluZ3MnKTtcclxuICAgICAgICAgICAgaWYgKHJhdykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UocmF3KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG12ID0gTnVtYmVyKGpzb24ubXVzaWNWb2x1bWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3YgPSBOdW1iZXIoanNvbi5zZnhWb2x1bWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVnYWN5ID0gTnVtYmVyKGpzb24udm9sdW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSBOdW1iZXIuaXNGaW5pdGUobXYpID8gbXYgOiAoTnVtYmVyLmlzRmluaXRlKGxlZ2FjeSkgPyBsZWdhY3kgOiAwLjcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZnhWb2x1bWUgPSBOdW1iZXIuaXNGaW5pdGUoc3YpID8gc3YgOiAoTnVtYmVyLmlzRmluaXRlKGxlZ2FjeSkgPyBsZWdhY3kgOiAwLjcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoXykge31cclxuXHJcbiAgICAgICAgLy8gRW5zdXJlIG5vIGR1cGxpY2F0ZSBtZW51IG11c2ljIHBsYXlzIChzdG9wIGV4aXN0aW5nIHRoZW4gcGxheSlcclxuICAgICAgICB0cnkgeyBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIHRoaXMubWVudU11c2ljID0gdGhpcy5nYW1lLnNvdW5kLnBsYXkoJ211c2ljYU1lbnUnLCB7IHZvbHVtZTogdGhpcy5tdXNpY1ZvbHVtZSwgbG9vcDogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5mb25kbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzUwLCAnZm9uZG9NJylcclxuICAgICAgICB0aGlzLmZvbmRvLnNldFNjYWxlKDAuOCk7XHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDExMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVCdG4gPSAwLjA5O1xyXG4gICAgICAgIGNvbnN0IHlTdGFydCA9IDI4MDtcclxuICAgICAgICBjb25zdCB5U3RlcCA9IDUwO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCB5U3RhcnQgKyAwKnlTdGVwLCAnYm90b24nKS5zZXRTY2FsZShzY2FsZUJ0bik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIHlTdGFydCArIDEqeVN0ZXAsICdib3RvbicpLnNldFNjYWxlKHNjYWxlQnRuKTtcclxuICAgICAgICB0aGlzLmJvdG9uMyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgeVN0YXJ0ICsgMip5U3RlcCwgJ2JvdG9uJykuc2V0U2NhbGUoc2NhbGVCdG4pO1xyXG4gICAgICAgIHRoaXMuYm90b240ID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCB5U3RhcnQgKyAzKnlTdGVwLCAnYm90b24nKS5zZXRTY2FsZShzY2FsZUJ0bik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjUgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIHlTdGFydCArIDQqeVN0ZXAsICdib3RvbicpLnNldFNjYWxlKHNjYWxlQnRuKTtcclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTIwLCAnRWwgRW5pZ21hIGRlIGxhXFxuVG9ycmUgRW5jYW50YWRhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzU2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcIlRhZ2Vzc2NocmlmdFwiLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTgpOyBcclxuXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgeVN0YXJ0ICsgMCp5U3RlcCwgJ0xvY2FsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSAqIHRoaXMuc2Z4Vm9sdW1lIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIG1lbsO6IGFudGVzIGRlIGNhbWJpYXIgZGUgZXNjZW5hXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25saW5lQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIHlTdGFydCArIDEqeVN0ZXAsICdPbmxpbmUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbmxpbmVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnI2ZmMDAwMGZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41ICogdGhpcy5zZnhWb2x1bWUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG9ubGluZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgYXN5bmMoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NhbGFEZUVzcGVyYScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWRpdG9zQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIHlTdGFydCArIDIqeVN0ZXAsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY3JlZGl0b3NCdG4uc2V0U3R5bGUoeyBmaWxsOiAnI2ZmOTEwMGZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41ICogdGhpcy5zZnhWb2x1bWUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGNyZWRpdG9zQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgaGlzdG9yaWFCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgeVN0YXJ0ICsgMyp5U3RlcCwgJ0hpc3RvcmlhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGhpc3RvcmlhQnRuLnNldFN0eWxlKHsgZmlsbDogJyMzOGZmZmZmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSAqIHRoaXMuc2Z4Vm9sdW1lIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBoaXN0b3JpYUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdIaXN0b3JpYVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjb250cm9sQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIHlTdGFydCArIDQqeVN0ZXAsICdDb250cm9sZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udHJvbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwZGZmYzEnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgKiB0aGlzLnNmeFZvbHVtZSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY29udHJvbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDb250cm9sU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdNZW51U2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIEFqdXN0ZXNcclxuICAgICAgICBjb25zdCBhanVzdGVzQmcgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIHlTdGFydCArIDUqeVN0ZXAsICdib3RvbicpLnNldFNjYWxlKHNjYWxlQnRuKTtcclxuICAgICAgICBjb25zdCBhanVzdGVzQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIHlTdGFydCArIDUqeVN0ZXAsICdBanVzdGVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHsgYWp1c3Rlc0J0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pOyB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSAqIHRoaXMuc2Z4Vm9sdW1lIH0pOyB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBhanVzdGVzQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NldHRpbmdzU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBjb25leGnDs24gYWwgc2Vydmlkb3JcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0ID0gdGhpcy5hZGQudGV4dCg5NjAsIDQwLCAnU2Vydmlkb3I6IENvbXByb2JhbmRvLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMSwgMC41KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHsgXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgIC8vIFNvbG8gYWN0dWFsaXphciBzaSBlbCB0ZXh0byBleGlzdGUgKGxhIGVzY2VuYSBlc3TDoSBjcmVhZGEpXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0IHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dChgU2Vydmlkb3I6ICR7ZGF0YS5jb3VudH0gdXN1YXJpbyhzKSBjb25lY3RhZG8ocylgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dCgnU2Vydmlkb3I6IERlc2NvbmVjdGFkbycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW01lbnVTY2VuZV0gRXJyb3IgdXBkYXRpbmcgY29ubmVjdGlvbiBkaXNwbGF5OicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIE1hZ297XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksIGlkU3ByaXRlKXtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMudmlkYSA9IDM7IFxyXG4gICAgICAgIHRoaXMuaWRsZSA9IGlkU3ByaXRlO1xyXG4gICAgICAgIHRoaXMuZXN0YWRvX25vcm1hbCA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuYmFzZVdpZGh0ID0gMjA7XHJcbiAgICAgICAgdGhpcy5iYXNlSGVpZ2h0ID0gMTAwO1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMzAwO1xyXG5cclxuICAgICAgICAvLyBTYWx0b1xyXG4gICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5qdW1wVmVsb2NpdHkgPSAwO1xyXG4gICAgICAgIHRoaXMuZ3JvdW5kWSA9IHk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgaWRTcHJpdGUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMzUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyBcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKDEyNSwxNzUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0T2Zmc2V0KDg4MCw3NTApO1xyXG4gICAgfVxyXG5cclxuICAgIGFuZGFyX2FuaW1hY2lvbigpe1xyXG4gICAgICAgIGlmKCF0aGlzLnNwcml0ZSB8fCAhdGhpcy5zcHJpdGUuYW5pbXMpIHJldHVybjsgLy8gUHJvdGVnZXIgc2kgZWwgc3ByaXRlIG8gYW5pbXMgbm8gZXhpc3RlblxyXG4gICAgICAgIGlmKCF0aGlzLnNwcml0ZS5hbmltcy5pc1BsYXlpbmcpe1xyXG4gICAgICAgICAgICBpZih0aGlzLmlkbGUgPT09ICdpZGxlX0F6dWwnKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc2NlbmUgJiYgdGhpcy5zY2VuZS5hbmltcyAmJiB0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhcImFuZGFyX21hZ29fQXp1bFwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheShcImFuZGFyX21hZ29fQXp1bFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlkbGUgPT09ICdpZGxlX1Jvam8nKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc2NlbmUgJiYgdGhpcy5zY2VuZS5hbmltcyAmJiB0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhcImFuZGFyX21hZ29fUm9qb1wiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheShcImFuZGFyX21hZ29fUm9qb1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhbmRhcl9hbmltYWNpb25fcGFyYXIoKXtcclxuICAgICAgICBpZighdGhpcy5zcHJpdGUgfHwgIXRoaXMuc3ByaXRlLmFuaW1zKSByZXR1cm47IC8vIFByb3RlZ2VyIHNpIGVsIHNwcml0ZSBvIGFuaW1zIG5vIGV4aXN0ZW5cclxuICAgICAgICBpZih0aGlzLnNwcml0ZS5hbmltcy5pc1BsYXlpbmcpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRleHR1cmUodGhpcy5pZGxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAganVtcCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNKdW1waW5nICkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSA9IHRoaXMuc3ByaXRlLnk7IC8vIGVzdGFibGVjZXIgbGEgYWx0dXJhIGEgbGEgcXVlIHRpZW5lIHF1ZSB2b2x2ZXIgY29tbyBsYSBhY3R1YWwgXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgtMTAwMDAwKTsgLy8gVmVsb2NpZGFkIGluaWNpYWwgZGUgc2FsdG9cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSB0cnVlOyAvLyBhY3RpdmFyIGdyYXZlZGFkIGVuIGxvcyBzYWx0b3NcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGRlbHRhKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzSnVtcGluZyApIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbGFuZGVkIChiYWNrIHRvIGdyb3VuZCBsZXZlbCBvciBiZWxvdylcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnkgPj0gdGhpcy5ncm91bmRZICYmIHRoaXMuc3ByaXRlLmJvZHkudmVsb2NpdHkueSA+PSAwKSB7IC8vIENvbXByb2JhciBzaSB0aWVuZSBxdWUgdm9sdmVyIGEgYXJlYSBkZSBzdWVsb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUueSA9IHRoaXMuZ3JvdW5kWTsgLy8gaXIgYSBsYSBwb3NpY2nDs24gZW4gbGEgcXVlIGNvbWVuesOzIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTsgLy8gZGVzYWN0aXZhciBncmF2ZWRhZCBcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7IC8vIHlhIG5vIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLmVzdGFkb19ub3JtYWwgPT09IGZhbHNlKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjM1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFNjYWxlKHNjYWxlKXtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZShzY2FsZSk7XHJcbiAgICB9XHJcbiBcclxuICAgIHNldFBvc2l0aW9uKHgsIHkpe1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFBvc2l0aW9uKHgsIHkpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmRQcm9jZXNzb3J7XHJcbmNvbnN0cnVjdG9yKCl7XHJcbiAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7IFxyXG4gICAgdGhpcy5nYW1lU2NlbmUgPSBudWxsO1xyXG59XHJcblxyXG5zZXRQbGF5ZXJzKHBsYXllcnMpe1xyXG4gICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxufVxyXG5cclxuc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSl7XHJcbiAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxufVxyXG5cclxucHJvY2Vzcyhjb21tYW5kKXtcclxuICAgIGNvbW1hbmQuZXhlY3V0ZSgpOyBcclxufVxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmQge1xyXG4gICAgZXhlY3V0ZSgpe31cclxuXHJcbiAgICBzZXJpYWxpemUoKXt9XHJcblxyXG4gICAgZ2V0UGxheWVyKCl7fVxyXG4gICAgXHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVNYWdvQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gICAgY29uc3RydWN0b3IobWFnbywgZGlyZWN0aW9uLCBzYWx0byl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm1hZ28gPSBtYWdvO1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uOyBcclxuICAgICAgICB0aGlzLnNhbHRvID0gc2FsdG87IFxyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKXtcclxuICAgICAgICBpZih0aGlzLmRpcmVjdGlvbiA9PT0gJ3VwJyl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLm1hZ28uYmFzZVNwZWVkKTtcclxuICAgICAgICB9IGVsc2UgaWYodGhpcy5kaXJlY3Rpb24gPT09ICdkb3duJyl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlZKCt0aGlzLm1hZ28uYmFzZVNwZWVkKTtcclxuICAgICAgICB9IGVsc2UgaWYodGhpcy5kaXJlY3Rpb24gPT09ICdsZWZ0Jyl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlYKC10aGlzLm1hZ28uYmFzZVNwZWVkKTtcclxuICAgICAgICB9IGVsc2UgaWYodGhpcy5kaXJlY3Rpb24gPT09ICdyaWdodCcpe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WCgrdGhpcy5tYWdvLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlZKDApOyBcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7IFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLnNhbHRvKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMubWFnby5iYXNlU3BlZWQqMy41ICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtDb21tYW5kfSBmcm9tIFwiLi9Db21tYW5kXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VHYW1lQ29tbWFuZCBleHRlbmRzIENvbW1hbmR7XHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lU2NlbmUsIGlzUGF1c2VkKXtcclxuICAgICAgICBzdXBlcigpOyBcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpe1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lLnNldFBhdXNlU3RhdGUodGhpcy5pc1BhdXNlZCk7IFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNYWdvIH0gZnJvbSAnLi4vZW50aXRpZXMvTWFnbydcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmQvY29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE1vdmVNYWdvQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvTW92ZU1hZ29Db21tYW5kJztcclxuaW1wb3J0IHsgUGF1c2VHYW1lQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvUGF1c2VHYW1lQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBFc2NlbW5hcmlvIHkgb2JqZXRvcyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhcmVkUicsICcvaW1hZ2VuZXMvcGFyZWRZVGVjaG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsb1InLCAnL2ltYWdlbmVzL3N1ZWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm9sYUNyaXN0YWxSJywgJy9pbWFnZW5lcy9ib2xhQ3Jpc3RhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbGRlcm9SJywgJy9pbWFnZW5lcy9jYWxkZXJvQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW1wb0Z1ZXJ6YVInLCAnL2ltYWdlbmVzL2NhbXBvZGVmdWVyemEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb2ZyZVInLCAnL2ltYWdlbmVzL2NvZnJlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29mcmVBYmllcnRvUicsICcvaW1hZ2VuZXMvY29mcmVBYmllcnRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0YW50ZXJpYVInLCAnL2ltYWdlbmVzL2VzdGFudGVyaWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsbGF2ZVInLCAnL2ltYWdlbmVzL2xsYXZlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vUicsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGFudGFSJywgJy9pbWFnZW5lcy9wbGFudGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1InLCAnL2ltYWdlbmVzL3BvY2lvbmVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVsYXNSJywgJy9pbWFnZW5lcy92ZWxhcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVSJywgJy9pbWFnZW5lcy9lc3RhbnRlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGlicm9zUicsICcvaW1hZ2VuZXMvbGlicm9zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25WUicsICcvaW1hZ2VuZXMvYm90b25WYWNpby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ1InLCAnL2ltYWdlbmVzL2JvdG9uQ29tcGxldG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RyZWxsYVInLCAnL2ltYWdlbmVzL2VzdHJlbGxhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBeicsICcvaW1hZ2VuZXMvcG9jaW9uQXp1bC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQW0nLCAnL2ltYWdlbmVzL3BvY2lvbmVzQW1hcmlsbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc04nLCAnL2ltYWdlbmVzL3BvY2lvbk5hcmFuamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1JvJywgJy9pbWFnZW5lcy9wb2Npb25Sb3NhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNNJywgJy9pbWFnZW5lcy9wb2Npb25Nb3JhZGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1YnLCAnL2ltYWdlbmVzL3BvY2lvblZlcmRlLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlX0F6dWwnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzInLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzMnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzQnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzUnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzYnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzcnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb184LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzgnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9Sb2pvJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzMnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb180JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNScsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzYnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb183JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fOCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb184LnBuZycpO1xyXG5cclxuICAgICAgICAvL0V4cGxvc2nDs24gY2FsZGVyb1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZXhwbG9zaW9uQ2FsZGVybycsICcvaW1hZ2VuZXMvZXhwbG9zaW9uQ2FsZGVyby5wbmcnLCB7IGZyYW1lV2lkdGg6IDIwMCwgZnJhbWVIZWlnaHQ6IDIwMCB9KTtcclxuXHJcbiAgICAgICAgLy8gSW50ZXJmYXogTXVlcnRlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCR01cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2JnbScsICcvc291bmRzL2JnbS5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvcyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdhYnJpckNvZnJlJywgJy9zb3VuZHMvY2hlc3Rfb3Blbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJQb2Npb24nLCAnL3NvdW5kcy9ib3RlbGxhcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJMbGF2ZScsICcvc291bmRzL2xsYXZlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2FsaycsICcvc291bmRzL3dhbGsubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdleHBsb3Npb24nLCAnL3NvdW5kcy9leHBsb3Npb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwdWVydGEnLCAnL3NvdW5kcy9wdWVydGEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd0cmlnZ2VyJywgJy9zb3VuZHMvdHJpZ2dlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3BlcXVlw7FvJywgJy9zb3VuZHMvcGVxdWXDsW8ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubFB1bHNhZGEgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZUFiaWVydG8gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMgPSBuZXcgTWFwKCk7IC8vIE1hcCBwYXJhIGd1YXJkYXIgZWwgc29uaWRvIGRlIGNhZGEganVnYWRvclxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXJ0VGltZSA9IERhdGUubm93KCk7IC8vIFJhc3RyZWFyIGluaWNpbyBkZSBwYXJ0aWRhXHJcbiAgICAgICAgdGhpcy5nYW1lTW9kZSA9ICdsb2NhbCc7IC8vIE1vZG8gbG9jYWxcclxuICAgICAgICB0aGlzLnVzZXJuYW1lID0gJ0p1Z2Fkb3JMb2NhbCc7IC8vIFVzdWFyaW8gcG9yIGRlZmVjdG8gcGFyYSBsb2NhbFxyXG5cclxuICAgICAgICAvLyBBcnJheSBkZSBib29sZWFub3MgcXVlIHJlcHJlc2VudGEgcXVlIG9iamV0b3MgaGFuIHJlY29naWRvIGVudHJlIGFtYm9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIC8vIExvcyBvYmpldG9zIHNvbjogMC1sbGF2ZSwgMS1saWJyb3MsIDItIHBvY2lvbiBtb3JhZGEsIDMtIHBvY2lvbiB2ZXJkZSwgNC0gcG9jaW9uIHJvc2EsIDUtIHBvY2lvbiBhenVsLCA2LSBwb2Npb24gYW1hcmlsbGEsIDctIHBvY2lvbiBuYXJhbmphLCA4LSB2ZWxhcywgOS0gYm9sYSBkZSBjcmlzdGFsLCAxMC0gcGxhbnRhLCAxMS0gZXN0cmVsbGEgMSwgMTItIGVzdHJlbGxhIDJcclxuICAgICAgICB0aGlzLmludmVudGFyaW8gPSBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2FyIHZvbMO6bWVuZXMgZ3VhcmRhZG9zXHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZSA9IDAuNztcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZSA9IDAuNztcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZV9zZXR0aW5ncycpO1xyXG4gICAgICAgICAgICBpZiAocmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShyYXcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXYgPSBOdW1iZXIoanNvbi5tdXNpY1ZvbHVtZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdiA9IE51bWJlcihqc29uLnNmeFZvbHVtZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWdhY3kgPSBOdW1iZXIoanNvbi52b2x1bWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZSA9IE51bWJlci5pc0Zpbml0ZShtdikgPyBtdiA6IChOdW1iZXIuaXNGaW5pdGUobGVnYWN5KSA/IGxlZ2FjeSA6IDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZSA9IE51bWJlci5pc0Zpbml0ZShzdikgPyBzdiA6IChOdW1iZXIuaXNGaW5pdGUobGVnYWN5KSA/IGxlZ2FjeSA6IDAuNyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChfKSB7fVxyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2FuZGFyX21hZ29fQXp1bCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdpZGxlX0F6dWwnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8yJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF81JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzcnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF84JyB9XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdhbmRhcl9tYWdvX1Jvam8nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnaWRsZV9Sb2pvJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fMicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb180JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzYnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb183JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fOCcgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZXhwbG9zaW9uX2NhbGRlcm8nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2V4cGxvc2lvbkNhbGRlcm8nLCB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgICAgICAgIGVuZDogMTYgICBcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJnbSA9IHRoaXMuc291bmQuYWRkKCdiZ20nLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41ICogdGhpcy5tdXNpY1ZvbHVtZSB9KTtcclxuICAgICAgICBpZiAoIXRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhciB1biBzb25pZG8gZGUgcGFzb3MgcGFyYSBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIxJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zICogdGhpcy5zZnhWb2x1bWUgfSkpO1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjInLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgKiB0aGlzLnNmeFZvbHVtZSB9KSk7XHJcblxyXG4gICAgICAgIC8vIFBhcmFyIHBhc29zIGN1YW5kbyBsYSBlc2NlbmEgc2UgcGF1c2UgKGVqLiBQYXVzZVNjZW5lKSB5IGxpbXBpYXIgc29uaWRvcyBhbCBzaHV0ZG93blxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdwYXVzZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4geyB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH0gfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQWwgcmVzdW1lIG5vIHNlIHJlcHJvZHVjZSBhdXRvbcOhdGljYW1lbnRlOiBlbCB1cGRhdGUoKSByZWFudWRhcsOhIHBhc29zIHNpIHNlIHB1bHNhIG1vdmVyXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3Jlc3VtZScsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gbmFkYSBlc3BlY2lhbDogdXBkYXRlKCkgdm9sdmVyw6EgYSByZXByb2R1Y2lyIGN1YW5kbyBkZXRlY3RlIG1vdmltaWVudG9cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBBc2VndXJhciBsaW1waWV6YSBjdWFuZG8gbGEgZXNjZW5hIHNlIGNpZXJyZSBkZWZpbml0aXZhbWVudGVcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gcGFyYXIgeSBkZXN0cnVpciBzb25pZG9zIGRlIHBhc29zXHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzKSB3cy5kZXN0cm95KCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAvLyBwYXJhciBCR01cclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuYmdtICYmICh0aGlzLmJnbS5pc1BsYXlpbmcgfHwgdGhpcy5iZ20uaXNQYXVzZWQpKSB0aGlzLmJnbS5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhckVzY2VuYXJpbygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJQbGF0YWZvcm1hcygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJCYXJyZXJhSW52aXNpYmxlKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgICAgICB0aGlzLmVzdGFibGVjZXJDb2xpc2lvbmVzKCk7XHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvRW5QYW50YWxsYSgpOyBcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaGVhbHRoTGVmdCA9IHRoaXMuYWRkLnRleHQoNTAsIDMwLCAnMycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0ID0gdGhpcy5hZGQudGV4dCg5MDAsIDMwLCAnMycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICB0aGlzLmxrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuTCk7XHJcbiAgICAgICAgdGhpcy5xa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlEpO1xyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSh0aW1lLCBkZWx0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IHRoaXMuZXNjS2V5LmlzRG93bjtcclxuY29uc29sZS5sb2coXCJIb2xhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFcIik7XHJcbiAgICAgICAgdGhpcy5sUHVsc2FkYSA9IGZhbHNlOyAvL3ZvbHZlciBhIHBvbmVyIGEgZmFsc2Ugc2kgbm8gaGEgaGFiaWRvIG92ZXJsYXBcclxuICAgICAgICBpZiAodGhpcy5sa2V5LmlzRG93biB8fCB0aGlzLnFrZXkuaXNEb3duKSB0aGlzLmxQdWxzYWRhID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gQ29tcHJvYmFyIHNpIGFsZ3VubyBkZSBsb3MganVnYWRvcmVzIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gobWFnbyA9PiB7XHJcbiAgICAgICAgICAgIG1hZ28udXBkYXRlKGRlbHRhKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hZ28gPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IHNhbHRvID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhbGtTb3VuZCA9IHRoaXMud2Fsa1NvdW5kcy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGxldCBpc01vdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcuZG93bktleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5zcHJpdGUuZmxpcFggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb25fcGFyYXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2Fsa1NvdW5kICYmIHdhbGtTb3VuZC5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YWxrU291bmQuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzYWx0byBzb2xvIHNpIGVzdGEgcGVxdWXDsW9cclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcuanVtcE9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGlmICghbWFnby5lc3RhZG9fbm9ybWFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2FsdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTW92aW5nICYmIHdhbGtTb3VuZCAmJiAhd2Fsa1NvdW5kLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgd2Fsa1NvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZU1hZ29Db21tYW5kKG1hZ28sIGRpcmVjdGlvbiwgc2FsdG8pO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1sxXSkgdGhpcy51bm8uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy51bm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1syXSkgdGhpcy5kb3Muc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLmRvcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzNdKSB0aGlzLnRyZXMuc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy50cmVzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNF0pIHRoaXMuY3VhdHJvLnNldEFscGhhKDEpOyBlbHNlIHRoaXMuY3VhdHJvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNV0pIHRoaXMuY2luY28uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzZdKSB0aGlzLnNlaXMuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLnNlaXMuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s3XSkgdGhpcy5zaWV0ZS5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuc2lldGUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s4XSkgdGhpcy5vY2hvLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5vY2hvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bOV0pIHRoaXMubnVldmUuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLm51ZXZlLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMTBdKSB0aGlzLmRpZXouc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5kaWV6LnNldEFscGhhKDAuMik7IFxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhckVzY2VuYXJpbygpIHtcclxuICAgICAgICB0aGlzLnN1ZWxvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQ3MiwgJ3N1ZWxvUicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGFyZWQgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgMjA1LCAncGFyZWRSJyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnBhcmVkLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNjUsIDMwMCwgJ2VzdGFudGVyaWFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxODUsIDMwMywgJ2JvbGFDcmlzdGFsUicpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQzMCwgJ2NhbGRlcm9SJyk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDMxMCwgJ2NhbXBvRnVlcnphUicpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb2ZyZSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTA1LCAyODMsICdjb2ZyZVInKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGxhdmUgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE3MCwgMTYwLCAnbGxhdmVSJyk7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBlcmdhbWlubyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNzgwLCAxODAsICdwZXJnYW1pbm9SJyk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYW50YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTcwLCAzNjUsICdwbGFudGFSJyk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNjksIDI2MiwgJ3BvY2lvbmVzUicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy52ZWxhcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTQwLCAzMDgsICd2ZWxhc1InKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGlicm9zID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNTAsIDIyMCwgJ2xpYnJvc1InKTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWJyb3Muc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MCwgMzUwLCAnYm90b25WUicpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDc4MCwgMzUwLCAnYm90b25WUicpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGVzdHJlbGxhcyBkZSBkZW50cm8gZGVsIGNvZnJlXHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ1MCwgMjgzLCAnZXN0cmVsbGFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1NjAsIDI4MywgJ2VzdHJlbGxhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckJhcnJlcmFJbnZpc2libGUoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXIgdW5hIGJhcnJlcmEgaW52aXNpYmxlIHF1ZSBldml0YSBxdWUgc3ViYSBoYWNpYSBhcnJpYmEgKHBlcm8gcHVlZGEgYW5kYXIgbGlicmVtZW50ZSBwb3IgZWwgc3VlbG8pXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSg1MDAsIDEwNSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFNpemUoMTAwMCwgNTAwKTsgXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5ib2R5LnNldFNpemUoMTAwMCwgNTAwKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgY29sbGlkZXIgaW52aXNpYmxlIHBhcmEgcXVlIHB1ZWRhIHVzYXIgbGEgYmFsZGEgc3VwZXJpb3IgZGUgbGEgZXN0YW50ZXLDrcKtYSBjb21vIHBsYXRhZm9ybWFcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTY1LCAxOTUsICd3aGl0ZV9waXhlbCcpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuc2V0U2NhbGUoNCwgMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgY29sbGlkZXIgaW52aXNpYmxlIHBhcmEgZXZpdGFyIHF1ZSBhdHJhdmllc2UgZWwgY2FsZGVyb1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg1MDAsIDQwMCwgJ3doaXRlX3BpeGVsJyk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5zZXRDaXJjbGUoODUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRPZmZzZXQoLTcwLCAtNTUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyUGxhdGFmb3JtYXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoKTtcclxuICAgICAgICAvLyBDZW50cm9cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg0NDYsIDMxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNTEwLCAzMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDU3MCwgMzE1LCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICAgICAgLy8gSXpxdWllcmRhXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNjUwLCAzNTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDY1MCwgMjE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg3MDAsIDM5MCwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgICAgIC8vIERlcmVjaGFcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg0NDYsIDI1MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzYwLCAyMzUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDI5NSwgMjE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzMDAsIDM5MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzgwLCAzNTAsICdlc3RhbnRlUicpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBlc3RhYmxlY2VyQ29saXNpb25lcygpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyBDb2xpc2lvbmVzIGRlbCBqdWdhZG9yIGNvbiBlbCBlc2NlbmFyaW9cclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWFDb2xsKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLnBsYXRhZm9ybWFzKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmNhbGRlcm9Db2xsKTtcclxuICAgICAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29uc2VndWlyIGxhIGxsYXZlXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmxsYXZlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncmVjb2dlckxsYXZlJywgeyB2b2x1bWU6IDAuNiAqIHRoaXMuc2Z4Vm9sdW1lIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sbGF2ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxsYXZlIGNvbnNlZ3VpZGFcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBsbGF2ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDEpOyBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaWQ7IFxyXG4gICAgICAgICAgICBpZihwbGF5ZXIucGxheWVySWQgPT09ICdwbGF5ZXIxJykgaWQgPSAxO1xyXG4gICAgICAgICAgICBlbHNlIGlkID0gMjtcclxuXHJcbiAgICAgICAgICAgIC8vIEFicmlyIGxhIGxpYnJlcsOtwq1hXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxQdWxzYWRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdMaWJyZXJpYVNjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9jaW9uZXM6IHRoaXMuaW52ZW50YXJpbyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291bmQ6IHRoaXMuc291bmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1Z2Fkb3I6IGlkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQmFycmVyYSBpbnZpc2libGUgcGFyYSBwZXJtaXRpciBhcmVhIGRlIHN1ZWxvIGRvbmRlIHNlIGRlc3BsYWNlbiBsaWJyZW1lbnRlLCB5IGFyZWEgZGUgc2FsdG8gcGFyYSBzdWJpciBwb3IgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsIGNvbGlzaW9uYXIgY29uIGxhIGJhcnJlcmEgaW52aXNpYmxlIG1pZW50cmFzIGVsIGp1Z2Fkb3IgdmEgaGFjaWEgYXJyaWJhLCBzYWx0YVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxheWVyLmlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuanVtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBjYWxsYmFjayAtIG9ubHkgY29sbGlkZSB3aGVuIG1vdmluZyB1cCBhbmQgbm90IGp1bXBpbmdcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc01vdmluZ1VwID0gcGxheWVyLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnkgPCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhcGxheWVyLmlzSnVtcGluZyAmJiBpc01vdmluZ1VwO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWFyIHBvY2lvbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBzaSBzZSB0aWVuZW4gbGFzIHBvY2lvbmVzIG5lY2VzYXJpYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY2FsZGVybywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmxrZXkpIHx8IFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLnFrZXkpKSB7IC8vIENvbXByb2JhciBxdWUgc2UgaGEgcHVsc2FkbyBsYSB0ZWNsYSBMIG8gUSBwYXJhIGNyZWFyIGxhIHBvY2lvbiAoc2kgc2UgbWFudGllbmUgcHVsc2FkYSBsYSB0ZWNsYSBubyBlbnRyYXLDoSB2YXJpYXMgdmVjZXMgYSBsYSBmdW5jacOzbilcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbVJlY29naWRvcyA9IHRoaXMuaW52ZW50YXJpby5maWx0ZXIoZWxlbSA9PiBlbGVtID09PSB0cnVlKTsgLy8gY3JlYXIgdW4gc2VndW5kbyBhcnJheSBjb24gdW5pY2FtZW50ZSBsb3MgZWxlbWVudG9zIHJlY29naWRvc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbVJlY29naWRvcy5sZW5ndGggPT09IDMpIHx8IChlbGVtUmVjb2dpZG9zLmxlbmdodCA9PT0gNCkpIHsgLy8gcHJpbWVybyBjb21wcm9iYXIgcXVlIHNlIGhhbiByZWNvZ2lkbyAzIGVsZW1lbnRvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzNdICYmIHRoaXMuaW52ZW50YXJpb1s1XSAmJiB0aGlzLmludmVudGFyaW9bN10pIHsgLy8gY29tcHJvYmFyIHF1ZSBlc29zIGVsZW1lbnRvcyByZWNvZ2lkb3Mgc29uIGxhcyBwb2Npb25lcyB2ZXJkZSwgYXp1bCB5IG5hcmFuamEgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW8gY3JlYWRhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5kaXNhYmxlQm9keSgpOyAvLyBkZXNhY3RpdmFyIGVsIGNvbGxpZGVyIGRlbCBjYWxkZXJvIHBhcmEgbWllbnRyYXMgZXN0w6luIHBlcXVlw7FvcyBwdWVkYW4gYXRyYXZlc2FybG8gKGNhdXNhYmEgYnVnczogbGV2aXRhYmEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncGVxdWXDsW8nLCB7IHZvbHVtZTogMC42ICogdGhpcy5zZnhWb2x1bWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdGllbmVzIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzIHBhcmEgY3JlYXIgbGEgcG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxb1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZXhwbG9zaW9uJywgeyB2b2x1bWU6IDAuNSAqIHRoaXMuc2Z4Vm9sdW1lIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vc3RyYXJFeHBsb3Npb25DYWxkZXJvKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWxlYXRvcmlvID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCAyKTsgLy8gZ2VuZXJhciB1biBuw7ptZXJvIGFsZWF0b3JpbyBlbnRyZSAxIHkgMiBwYXJhIGVsZWdpciBxdWUganVnYWRvciByZWNpYmUgZGHDsW9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsZWF0b3JpbyA9PT0gMSkgdGhpcy5kYcOxb0p1Z0xlZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0aGlzLmRhw7FvSnVnUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZvbHZlciBhIHBvbmVyIGEgZmFsc2UgdG9kb3MgbG9zIGVsZW1lbnRvcyBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5pbnZlbnRhcmlvLmxlbmd0aCAtIDI7IGkrKykgeyAvLyBzZSBzYWx0YSBsYSBsbGF2ZSB5IGxhcyBlc3RyZWxsYXMgcG9ycXVlIG5vIHNlIHV0aWxpemFuIHBhcmEgY3JlYXIgbGEgcG9jaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1tpXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiB0aGlzLnVuby5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDogdGhpcy5jdWF0cm8uc2V0QWxwaGEoMC4yKTsgYnJlYWs7ICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTogdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjogdGhpcy5zZWlzLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiB0aGlzLnNpZXRlLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OiB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOiB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWJyaXIgZWwgY29mcmUgc2kgc2UgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb2ZyZUFiaWVydG8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzBdKSB7IC8vIGNvbXByb2JhciBxdWUgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpckNvZnJlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOZWNlc2l0YXMgbGEgbGxhdmUgcGFyYSBhYnJpciBlbCBjb2ZyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVjb2dlciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0cmVsbGExLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29nZXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdHJlbGxhMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvZ2VyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vY29sb2NhciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9jYXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvY2FyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIHB1bHNhciBib3RvbmVzIHBhcmEgZGVzYWN0aXZhciBlbCBjYW1wbyBkZSBmdWVyemFcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMUFjdGl2YWRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24yLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMkFjdGl2YWRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW9zdHJhckV4cGxvc2lvbkNhbGRlcm8oKSB7XHJcbiAgICAgICAgY29uc3QgZXhwbG9zaW9uID0gdGhpcy5hZGQuc3ByaXRlKFxyXG4gICAgICAgICAgICB0aGlzLmNhbGRlcm8ueCxcclxuICAgICAgICAgICAgdGhpcy5jYWxkZXJvLnkgLSAxNzAsIFxyXG4gICAgICAgICAgICAnZXhwbG9zaW9uQ2FsZGVybydcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBleHBsb3Npb24uc2V0RGVwdGgoNTApOyBcclxuICAgICAgICBleHBsb3Npb24uc2V0U2NhbGUoMS4yKTsgXHJcblxyXG4gICAgICAgIGV4cGxvc2lvbi5wbGF5KCdleHBsb3Npb25fY2FsZGVybycpO1xyXG5cclxuICAgICAgICBleHBsb3Npb24ub24oJ2FuaW1hdGlvbmNvbXBsZXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBleHBsb3Npb24uZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExvcyBvYmpldG9zIHNvbjogMC1sbGF2ZSwgMS1saWJyb3MsIDItIHBvY2lvbiBtb3JhZGEsIDMtIHBvY2lvbiB2ZXJkZSwgNC0gcG9jaW9uIHJvc2EsIDUtIHBvY2lvbiBhenVsLCA2LSBwb2Npb24gYW1hcmlsbGEsIDctIHBvY2lvbiBuYXJhbmphLCA4LSB2ZWxhcywgOS0gYm9sYSBkZSBjcmlzdGFsLCAxMC0gcGxhbnRhLCAxMS0gZXN0cmVsbGEgMSwgMTItIGVzdHJlbGxhIDJcclxuICAgIGludmVudGFyaW9FblBhbnRhbGxhKCkgeyAvL0NvbW8gc2UgYWNhYmEgZGUgY3JlYXIsIHRvZGF2w61hIG5vIHNlIGhhYnLDoSByZWNvZ2lkbyBuaW5nw7puIGVsZW1lbnRvXHJcbiAgICAgICAgdGhpcy5jZXJvID0gdGhpcy5hZGQuaW1hZ2UoMjAwLCA1MjAsICdsbGF2ZVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMudW5vID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCA1MjAsICdsaWJyb3NSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZG9zID0gdGhpcy5hZGQuaW1hZ2UoMzAwLCA1MjAsICdwb2Npb25lc00nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMudHJlcyA9IHRoaXMuYWRkLmltYWdlKDM1MCwgNTIwLCAncG9jaW9uZXNWJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmN1YXRybyA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTIwLCAncG9jaW9uZXNSbycpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5jaW5jbyA9IHRoaXMuYWRkLmltYWdlKDQ1MCwgNTIwLCAncG9jaW9uZXNBeicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zZWlzID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA1MjAsICdwb2Npb25lc0FtJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnNpZXRlID0gdGhpcy5hZGQuaW1hZ2UoNTUwLCA1MjAsICdwb2Npb25lc04nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMub2NobyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNTIwLCAndmVsYXNSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMubnVldmUgPSB0aGlzLmFkZC5pbWFnZSg2NTAsIDUyMCwgJ2JvbGFDcmlzdGFsUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRpZXogPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUyMCwgJ3BsYW50YVInKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5vbmNlID0gdGhpcy5hZGQuaW1hZ2UoNzUwLCA1MjAsICdlc3RyZWxsYVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuZG9jZSA9IHRoaXMuYWRkLmltYWdlKDgwMCwgNTIwLCAnZXN0cmVsbGFSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNvZnJlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnYWJyaXJDb2ZyZScsIHsgdm9sdW1lOiAwLjUgKiB0aGlzLnNmeFZvbHVtZSB9KTtcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdhYnJpckNvZnJlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb2ZyZSBhYmllcnRvXCIpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0VGV4dHVyZSgnY29mcmVBYmllcnRvUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEFscGhhKDEuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICB0aGlzLmNvZnJlQWJpZXJ0byA9IHRydWU7IC8vIHBhcmEgcXVlIHNvbG8gc2UgYWJyYSB1bmEgdmV6XHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzBdID0gZmFsc2U7IC8vIHF1aXRhciBsYSBsbGF2ZSBkZWwgaW52ZW50YXJpbyBhbCBhYnJpciBlbCBjb2ZyZVxyXG4gICAgICAgIHRoaXMuY2Vyby5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgIH1cclxuXHJcbiAgICByZWNvZ2VyRXN0cmVsbGEobikge1xyXG4gICAgICAgIGlmICh0aGlzLmNvZnJlQWJpZXJ0bykgeyAvLyBzb2xvIHNlIHB1ZWRlIHJlY29nZXIgc2kgZWwgY29mcmUgZXN0w6EgYWJpZXJ0byAocG9ycXVlIHNpbm8gZXN0w6FuIG9jdWx0YXMpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgcmVjb2dpZGFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1sxMCArIG5dID0gdHJ1ZTsgLy8gbWFyY2FyIGVuIGVsIGludmVudGFyaW8gcXVlIHNlIGhhIGNvbnNlZ3VpZG8gbGEgZXN0cmVsbGEgKDExIHkgMTIgZW4gZWwgYXJyYXkpXHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2Uuc2V0QWxwaGEoMS4wKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH0gZWxzZXsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMS4wKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmVzdGFkb19ub3JtYWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgLy8gdm9sdmVyIGEgYWN0aXZhciBlbCBjb2xsaWRlciBkZWwgY2FsZGVyb1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuZW5hYmxlQm9keShmYWxzZSwgMCwgMCwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY29sb2NhckVzdHJlbGxhKG4pIHtcclxuICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzEwICsgbl0pIHsgLy8gY29tcHJvYmFyIHF1ZSBzZSB0aWVuZSBsYSBlc3RyZWxsYSBjb3JyZXNwb25kaWVudGVcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RyZWxsYSBcIiArIG4gKyBcIiBjb2xvY2FkYVwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgndHJpZ2dlcicsIHsgdm9sdW1lOiAwLjYgKiB0aGlzLnNmeFZvbHVtZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjEuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMi5zZXRUZXh0dXJlKCdib3RvbkNSJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgZXN0cmVsbGEgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgIHRoaXMuZG9jZS5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNhbXBvRnVlcnphKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmJvdG9uMS50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InICYmIHRoaXMuYm90b24yLnRleHR1cmUua2V5ID09PSAnYm90b25DUicpIHsgLy9jb21wcm9iYXIgcXVlIGFtYm9zIGJvdG9uZXMgdGllbmVuIGxhIGVzdHJlbGxhIGNvbG9jYWRhXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnFrZXkuaXNEb3duICYmIHRoaXMubGtleS5pc0Rvd24gJiYgdGhpcy5ib3RvbjFBY3RpdmFkbyAmJiB0aGlzLmJvdG9uMkFjdGl2YWRvKSB7IC8vIGNvbXByb2JhciBxdWUgYW1ib3MganVnYWRvcmVzIGVzdMOhbiBwdWxzYW5kbyBzdSB0ZWNsYSBjb3JyZXNwb25kaWVudGVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FtcG8gZGUgZnVlcnphIGRlc2FjdGl2YWRvXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3B1ZXJ0YScsIHsgdm9sdW1lOiAwLjcgKiB0aGlzLnNmeFZvbHVtZSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtcG9GdWVyemEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhclB1ZXJ0YUZpbmFsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJQdWVydGFGaW5hbCgpIHtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDM3MCwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyBcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLnNldEFscGhhKDAuMCk7IFxyXG4gICAgICAgIGxldCBkZXNhY3RpdmFkbyA9IFtmYWxzZSwgZmFsc2VdOyAvLyBhcnJheSBwYXJhIGNvbnRyb2xhciBxdWUgYW1ib3MganVnYWRvcmVzIGhhbiBsbGVnYWRvIGEgbGEgcHVlcnRhIGZpbmFsXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUsIHRoaXMucHVlcnRhRmluYWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZS5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgZGVzYWN0aXZhZG9bMF0gPSB0cnVlOyAvLyBlbCBwZXJzb25hamUgeWEgaGEgZW50cmFkbyBwb3IgbGEgcHVlcnRhIHkgaGEgZGVzYXBhcmVjaWRvXHJcbiAgICAgICAgICAgIHRoaXMuZW50cmFyUHVlcnRhRmluYWwoZGVzYWN0aXZhZG8pO1xyXG4gICAgICAgICAgICBjb25zdCB3czEgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgICAgIGlmICh3czEpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3czEuaXNQbGF5aW5nKSB3czEuc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgdGhpcy5wdWVydGFGaW5hbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICBkZXNhY3RpdmFkb1sxXSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZW50cmFyUHVlcnRhRmluYWwoZGVzYWN0aXZhZG8pO1xyXG4gICAgICAgICAgICBjb25zdCB3czIgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgICAgIGlmICh3czIpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3czIuaXNQbGF5aW5nKSB3czIuc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsgIFxyXG4gICAgfSAgICAgICBcclxuXHJcbiAgICBlbnRyYXJQdWVydGFGaW5hbChkZXNhY3RpdmFkbykge1xyXG4gICAgICAgIGlmIChkZXNhY3RpdmFkb1swXSAmJiBkZXNhY3RpdmFkb1sxXSkgeyAvL2NhbWJpYXIgZGUgZXNjZW5hIHNvbG8gc2kgYW1ib3MganVnYWRvcmVzIGhhbiBsbGVnYWRvIGEgbGEgcHVlcnRhIGZpbmFsXHJcbiAgICAgICAgICAgIC8vIFBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gUGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBwYXJhciBjdWFscXVpZXIgaW5zdGFuY2lhIHBvciBjbGF2ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ3dhbGsnKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdiZ20nKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRGVjaXNpb25TY2VuZScsIHttb2RvOiAnbG9jYWwnfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgbGVmdE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMScsIDUwLCA0MDAsICdpZGxlX0F6dWwnKTtcclxuICAgICAgICBjb25zdCByaWdodE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMicsIDk1MCwgNDAwLCAnaWRsZV9Sb2pvJyk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBsZWZ0TWFnbyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHJpZ2h0TWFnbyk7XHJcblxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdXJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdTJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wOiAnU1BBQ0UnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnLFxyXG4gICAgICAgICAgICAgICAganVtcDogJ0VOVEVSJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG5cclxuICAgICAgICAvL3RoaXMuaW50cHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZzsgXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gSW5wdXRDb25maWcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAganVtcE9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5qdW1wXSksXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kR2FtZShpZCkge1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDI0MCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbiA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24uc2V0U2NhbGUoMC4xKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gobWFnbyA9PiB7XHJcbiAgICAgICAgICAgIG1hZ28uc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICAvLyBEZXRlbmVyIGxhIG3Dg8K6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20uc3RvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdGV4dG8gPSBpZCA9PT0gJ3BsYXllcjEnID8gJ0VsIGp1Z2Fkb3IgMVxcbiAgaGEgbXVlcnRvJyA6ICcgRWwganVnYWRvciAyXFxuICBoYSBtdWVydG8nO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNTAsIHRleHRvLCB7XHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyAjZmYwMDAwZmYnLFxyXG5cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnTWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMmZmODlmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z0xlZnQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBwbGF5ZXIxLnZpZGEtLTtcclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQuc2V0VGV4dChwbGF5ZXIxLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VsIGp1Z2Fkb3IgZGUgbGEgaXpxdWllcmRhIGhhIHJlY2liaWRvIGRhw7FvJyk7XHJcbiAgICAgICAgaWYgKHBsYXllcjEudmlkYSA8PSAwKSB0aGlzLmVuZEdhbWUoJ3BsYXllcjEnKTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgcGxheWVyMi52aWRhLS07XHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodC5zZXRUZXh0KHBsYXllcjIudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRWwganVnYWRvciBkZSBsYSBkZXJlY2hhIGhhIHJlY2liaWRvIGRhw7FvJyk7XHJcbiAgICAgICAgaWYgKHBsYXllcjIudmlkYSA8PSAwKSB0aGlzLmVuZEdhbWUoJ3BsYXllcjInKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZVN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdW1pbmcgR2FtZVNjZW5lIHdpdGggZGF0YTpcIiwgZGF0YSk7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wb2Npb25lcykge1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW8gPSBkYXRhLnBvY2lvbmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBJbnZlbnRhcmlvWyR7aW5kZXh9XTogJHtpdGVtfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdXNlU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICBuZXcgUGF1c2VHYW1lQ29tbWFuZCh0aGlzLCBuZXdQYXVzZVN0YXRlKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2hvdmVyJywgJy9zb3VuZHMvaG92ZXIubXAzJyk7XHJcbiAgICB9ICAgXHJcblxyXG4gICAgY3JlYXRlKGRhdGEpe1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMjAwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCwzNTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuYm90b24yID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDQwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYm90b24zID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMy5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjAwLCAnSnVlZ28gUGF1c2FkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2MHB4JywgXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjonIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bWVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzUwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VtZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBmZjg4ZmYnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiByZXN1bWVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgIHRoaXMuc2NlbmUuZ2V0KGRhdGEub3JpZ2luYWxTY2VuZSkucmVzdW1lKCk7IFxyXG4gICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0MDAsICdNZW7DuicsIHtcclxuICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzY4MzliM2ZmJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gU2kgdmVuaW1vcyBkZSBsYSBlc2NlbmEgb25saW5lLCBhdmlzYXIgYWwgc2Vydmlkb3IgcGFyYSBub3RpZmljYXIgZGVzY29uZXhpw7NuXHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5vcmlnaW5hbFNjZW5lID09PSAnR2FtZVNjZW5lTycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdHYW1lU2NlbmVPJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ1NjZW5lICYmIG9yaWdTY2VuZS53cyAmJiBvcmlnU2NlbmUud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnU2NlbmUud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdwbGF5ZXJEaXNjb25uZWN0ZWQnIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDZXJyYXIgbGEgY29uZXhpw7NuIGRlc3B1w6lzIGRlIHVuIGJyZXZlIHJldHJhc28gcGFyYSBhc2VndXJhciBlbnbDrW9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdHJ5IHsgb3JpZ1NjZW5lLndzLmNsb3NlKCk7IH0gY2F0Y2goZSl7IGNvbnNvbGUud2FybihlKTsgfSB9LCA1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGNhdGNoKGVycikgeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgIHRyeXt0aGlzLmdhbWUuc291bmQuc3RvcEJ5S2V5KCdiZ20nKTt9Y2F0Y2goZSl7Y29uc29sZS53YXJuKGUpO31cclxuXHJcbiAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgIFxyXG4gICAgICAgICBjb25zdCBjb250cm9sQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ0NvbnRyb2xlcycsIHtcclxuICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZWVmZmZmJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGNvbnRyb2xCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gUGFzYXIgbGEgZXNjZW5hIG9yaWdpbmFsIHBhcmEgcXVlIENvbnRyb2xlcyBwdWVkYSB2b2x2ZXIgY29ycmVjdGFtZW50ZSAoR2FtZVNjZW5lIG8gR2FtZVNjZW5lTylcclxuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDb250cm9sU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IGRhdGEgJiYgZGF0YS5vcmlnaW5hbFNjZW5lID8gZGF0YS5vcmlnaW5hbFNjZW5lIDogJ0dhbWVTY2VuZScgfSk7IFxyXG4gICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vJywgJy9pbWFnZW5lcy9wZXJnYW1pbm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMTIwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MzAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTtcclxuXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDM4MCwgJ3BlcmdhbWlubycpXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8xLnNldFNjYWxlKDIpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTIwLCAnRWwgRW5pZ21hIGRlIGxhXFxuVG9ycmUgRW5jYW50YWRhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzU2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjQ1LCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzUwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3ZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzMTAsICdQYXVsYSBPcnRpeiBGZXJuw6FuZGV6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM5MWZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzNTUsICdEYW5pZWwgQ29yYmFjaG8gQW5lcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmMTMyZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgNDAwLCAnQWxlamFuZHJvIEhlcm7DoW5kZXogUnVpeicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZDdhY2ZmZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnw4FuZ2VsIEJlcm3DumRleiBGYXJpw7FhcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZjZWFkZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICBjb25zdCBSZXR1cm5CdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTMwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmY4OGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBIaXN0b3JpYVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdIaXN0b3JpYVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUzMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMjAsICdFbCBFbmlnbWEgZGUgbGFcXG5Ub3JyZSBFbmNhbnRhZGEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwNzA3MDdmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtOCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNDAsICdIaXN0b3JpYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1MHB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnI2E3YTdhN2ZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzgwLCAnRGVzcHXDqXMgZGUgYcOxb3MgZGUgZW50cmVuYW1pZW50bywgcG9yIGZpbiBoYSBsbGVnYWRvIGVsIG1vbWVudG8gZW4gZWwgcXVlIG5hcXVlbGxvcyBtYWdvcyBwb3JcXG5maW4gaWJhbiBhIGNvbnNlZ3VpciBzZXIgbWFnb3MgZGUgdmVyZGFkLiBMbGV2YWJhbiBtdWNobyB0aWVtcG8gcHJlcGFyw6FuZG9zZSB5IGVzdHVkaWFuZG8gcGFyYVxcbmVzdGUgbW9tZW50bywgeSBwb3IgZmluIHZhbiBhIHJlY2liaXIgYXF1ZWwgZWxpeGlyIGRlc2VhZG8gcG9yIHRvZG8gbWFnbyxcXG7igJxlbCBlbGl4aXIgZGUgbGEgdmlkYSBldGVybmHigJ0uXFxuXFxuU2luIGVtYmFyZ28sIG5vIHNlcsOhIHNlbmNpbGxvLCBhw7puIGRlYmVyw6FuIGRlbW9zdHJhciBwb3Igw7psdGltYSB2ZXogcXVlIGVzdMOhbiBoZWNob3MgcGFyYSBvYnRlbmVyXFxuZXN0YSBncmFuIHZpcnR1ZC4gTGEgdHJhZGljacOzbiBjdWVudGEgcXVlIHBhcmEgY29uc2VndWlyIHNlciB1biB2ZXJkYWRlcm8gbWFnbyBzZXLDoSBuZWNlc2FyaW9cXG5jb25zZWd1aXIgcG9yIGVsbG9zIG1pc21vcyBlc3RlIGVsaXhpciBhZGVudHLDoW5kb3NlIGVuIGxhIFRvcnJlIEVuY2FudGFkYSwgZGVtb3N0cmFuZG8gcXVlIHNvblxcbm1lcmVjZWRvcmVzIGRlbCB0w610dWxvIGRlIG1hZ28gZXRlcm5vIHkgcXVlIHBvc2VlbiBsYXMgaGFiaWxpZGFkZXMgbmVjZXNhcmlhcy4gTGEgbcOhcyBpbXBvcnRhbnRlLFxcbmxhIGNvbGFib3JhY2nDs24sIHB1ZXN0byBxdWUgcG9yIHVubyBzb2xvIG5vIHNpZW1wcmUgc2UgcHVlZGUgbGxlZ2FyIGFsIGx1Z2FyIGRlc2VhZG8uIFxcblxcblBvciBlc3RlIG1vdGl2bywgbG9zIGrDs3ZlbmVzIGFwcmVuZGljZXMgcXVlIGRlc2VlbiBhc2NlbmRlciwgc2UgYWRlbnRyYXLDoW4gZW4gYXF1ZWxsYSB2aWVqYSB0b3JyZSxcXG4geSBhdHJhdmVzYXLDoW4sIHVuYSBhIHVuYSwgc3VzIHNhbGFzIGhhc3RhIGxsZWdhciBhcnJpYmEgZGVsIHRvZG8sIGTDs25kZSBzZSBlbmN1ZW50cmEgZWwgZWxpeGlyXFxucXVlIHRhbnRvIGRlc2Vhbi4gRW4gY2FkYSBzYWxhIHNlIGVuY29udHJhcsOhbiBjb24gbnVtZXJvc29zIG9ic3TDoWN1bG9zIHF1ZSBkZWJlcsOhbiBzb2JyZXBhc2FyIFxcbmRlbW9zdHJhbmRvIHN1cyBoYWJpbGlkYWRlcyBvYnRlbmlkYXMgZHVyYW50ZSB0b2RvcyBlc3RvcyBhw7FvcyBkZSBlc2Z1ZXJ6by4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIC8vZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuXHJcbiAgICAgICAgY29uc3QgUmV0dXJuQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUzMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMGZmODhmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNYWdvIH0gZnJvbSAnLi4vZW50aXRpZXMvTWFnbydcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmQvY29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE1vdmVNYWdvQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvTW92ZU1hZ29Db21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMaWJyZXJpYVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTGlicmVyaWFTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJlZFInLCAnL2ltYWdlbmVzL3BhcmVkWVRlY2hvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm9sYUNyaXN0YWxDb2xvcicsICcvaW1hZ2VuZXMvYm9sYUNyaXN0YWxDb2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVyaWFSJywgJy9pbWFnZW5lcy9lc3RhbnRlcmlhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhbnRhQ29sb3InLCAnL2ltYWdlbmVzL3BsYW50YUNvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBeicsICcvaW1hZ2VuZXMvcG9jaW9uQXp1bC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQW0nLCAnL2ltYWdlbmVzL3BvY2lvbmVzQW1hcmlsbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc04nLCAnL2ltYWdlbmVzL3BvY2lvbk5hcmFuamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1JvJywgJy9pbWFnZW5lcy9wb2Npb25Sb3NhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNNJywgJy9pbWFnZW5lcy9wb2Npb25Nb3JhZGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1YnLCAnL2ltYWdlbmVzL3BvY2lvblZlcmRlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVsYXNDb2xvcicsICcvaW1hZ2VuZXMvdmVsYXNDb2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xpYnJvc0NvbG9yJywgJy9pbWFnZW5lcy9saWJyb3NDb2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGUnLCAnL2ltYWdlbmVzL21hbm8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbnVsbDtcclxuICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgLy90aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kYXRvcztcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcblxyXG4gICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMgPSB7XHJcbiAgICAgICAgICAgIGJvbGFDcmlzdGFsOiBmYWxzZSxcclxuICAgICAgICAgICAgcGxhbnRhOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uQW06IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25OOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uTTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvblI6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25WOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uQXo6IGZhbHNlLFxyXG4gICAgICAgICAgICB2ZWxhczogZmFsc2UsXHJcbiAgICAgICAgICAgIGxpYnJvOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5tYWdvID0gdGhpcy5hZGQuaW1hZ2UoMTAwLCAxMDAsIFwiaWRsZVwiKTtcclxuICAgICAgICB0aGlzLm1hZ28uc2V0U2NhbGUoMS45KTtcclxuICAgICAgICB0aGlzLmNyZWFyRXNjZW5hcmlvKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgICAgICB0aGlzLmVzdGFibGVjZXJDb2xpc2lvbmVzKCk7XHJcbiAgICAgICAgdGhpcy5kYXRvcyA9IGRhdGE7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICAgICAgdGhpcy5sa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkwpO1xyXG4gICAgICAgIHRoaXMucWtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5RKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLndzICYmIHRoaXMuZGF0b3Mud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Mud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdhY3R1YWxpemFySW52ZW50YXJpbycsIGludmVudGFyaW86IHRoaXMuZGF0b3MucG9jaW9uZXN9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5kYXRvcy5vcmlnaW5hbFNjZW5lLCB7IHBvY2lvbmVzOiB0aGlzLmRhdG9zLnBvY2lvbmVzIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zY2VuZS5nZXQodGhpcy5kYXRvcy5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFiaXIgPSBmYWxzZTsgLy92b2x2ZXIgYSBwb25lciBhIGZhbHNlIHNpIG5vIGhhIGhhYmlkbyBvdmVybGFwXHJcbiAgICAgICAgaWYgKHRoaXMubGtleS5pc0Rvd24pIHRoaXMuYWJyaXIgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLnFrZXkuaXNEb3duKSB0aGlzLmFicmlyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZGRsZSA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5kb3duS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdzdG9wJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZU1hZ29Db21tYW5kKHBhZGRsZSwgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJFc2NlbmFyaW8oKSB7XHJcbiAgICAgICAgdGhpcy5wYXJlZCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCAyMDUsICdwYXJlZFInKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDQwLCAyNzAsICdlc3RhbnRlcmlhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDg1LCAyODAsICdib2xhQ3Jpc3RhbENvbG9yJyk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYW50YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDQwLCA0NTAsICdwbGFudGFDb2xvcicpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BbSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTMwLCAxNjUsICdwb2Npb25lc0FtJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BbS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BbS5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQW0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbk4gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDU5NSwgMTc1LCAncG9jaW9uZXNOJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25OLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbk4uc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvbk4uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbk0gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDI4MCwgMTY1LCAncG9jaW9uZXNNJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25NLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbk0uc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvbk0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvblIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQwNSwgMTY1LCAncG9jaW9uZXNSbycpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uUi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25SLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25SLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25WID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgzNDUsIDE3NSwgJ3BvY2lvbmVzVicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uVi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25WLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25WLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BeiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDcwLCAxNzAsICdwb2Npb25lc0F6Jyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25Bei5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25Bei5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQXouYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZlbGFzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgzNTAsIDI5MCwgJ3ZlbGFzQ29sb3InKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGlicm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDM3MCwgMzMsICdsaWJyb3NDb2xvcicpO1xyXG4gICAgICAgIHRoaXMubGlicm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlicm8uc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLmxpYnJvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZXN0YWJsZWNlckNvbGlzaW9uZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm9sYUNyaXN0YWwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMuYm9sYUNyaXN0YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5ib2xhQ3Jpc3RhbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzldID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBib2xhIGRlIGNyaXN0YWxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJCT0xBIENSSVNUQUwgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wbGFudGEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucGxhbnRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucGxhbnRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFudGEuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzEwXSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcGxhbnRhXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUExBTlRBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uQW0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uQW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25BbSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uQW0uc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzZdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gYW1hcmlsbGFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gQU1BUklMTEEgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25OLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbk4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25OID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25OLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s3XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIG5hcmFuamFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gTkFSQU5KQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvbk0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uTSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbk0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbk0uc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzJdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gbW9yYWRhXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIE1PUkFEQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvblIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uUikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvblIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvblIuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzRdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gcm9zYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBST1NBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uViwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25WKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uViA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uVi5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbM10gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiB2ZXJkZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBWRVJERSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvbkF6LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbkF6KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uQXogPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbkF6LnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s1XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIGF6dWxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gQVpVTCBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnZlbGFzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnZlbGFzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMudmVsYXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlbGFzLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s4XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGFzIHZlbGFzXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVkVMQVMgUkVDT0dJREFTXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMubGlicm8sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMubGlicm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5saWJybyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlicm8uc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzFdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsb3MgbGlicm9zXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTElCUk9TIFJFQ09HSURPU1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG5cclxuICAgICAgICBjb25zdCBsZWZ0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIxJywgNTAsIDMwMCwgJ2lkbGUnKTtcclxuICAgICAgICBsZWZ0TWFnby5zZXRTY2FsZSgwLjA4KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbGVmdE1hZ28pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnRE9XTicsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnTEVGVCcsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ1JJR0hUJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG5cclxuICAgICAgICAvL3RoaXMuaW50cHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZzsgXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gSW5wdXRDb25maWcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbmZpZyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udHJvbFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb250cm9sU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJnYW1pbm8nLCAnL2ltYWdlbmVzL3BlcmdhbWluby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTsgXHJcbiAgICB9ICBcclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMTIwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MzAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICAvLyB0aGlzLmJvdG9uMiA9IHRoaXMuYWRkLmltYWdlKDUwMCw0MDAsICdib3RvbicpXHJcbiAgICAgICAgLy8gdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzEgPSB0aGlzLmFkZC5pbWFnZSgyMjAsMzgwLCAncGVyZ2FtaW5vJylcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzEuc2V0U2NhbGUoMS4zLCAxLjgpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMiA9IHRoaXMuYWRkLmltYWdlKDUwMCwzODAsICdwZXJnYW1pbm8nKVxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMi5zZXRTY2FsZSgxLjMsMS44KTsgICAgICAgIFxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMyA9IHRoaXMuYWRkLmltYWdlKDc4MCwzODAsICdwZXJnYW1pbm8nKVxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMy5zZXRTY2FsZSgxLjMsMS44KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEyMCwgJ0VsIEVuaWdtYSBkZSBsYVxcblRvcnJlIEVuY2FudGFkYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1NnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC04KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI0MCwgJ0NvbnRyb2xlcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0NXB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2E3YTdhN2ZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIyMCwgMzEwLCAnSnVnYWRvciAxOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnIzliZTNmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCgyMzAsIDQwMCwgJ1ctQXJyaWJhXFxuIEEtSXpxdWllcmRhXFxuIFMtQWJham9cXG4gRC1EZXJlY2hhXFxuIFNQQUNFLVNhbHRhclxcbiBRLUludGVyYWN0dWFyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzEwLCAnSnVnYWRvciAyOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgOTksIDk5LCAxKScsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUyMCwgNDAwLCAnRmxlY2hhcy1BcnJpYmFcXG4gRmxlY2hhcy1JenF1aWVyZGFcXG4gRmxlY2hhcy1BYmFqb1xcbiBGbGVjaGFzLURlcmVjaGFcXG4gRU5URVItU2FsdGFyXFxuIEwtSW50ZXJhY3R1YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzUwLCAzMTAsICdPbmxpbmU6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3JnYmEoMTQxLCAxMTYsIDI1NSwgMSknLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg4MDAsIDQwMCwgJ0ZsZWNoYXMtQXJyaWJhXFxuIEZsZWNoYXMtSXpxdWllcmRhXFxuIEZsZWNoYXMtQWJham9cXG4gRmxlY2hhcy1EZXJlY2hhXFxuIFNQQUNFLVNhbHRhclxcbiBMLUludGVyYWN0dWFyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBSZXR1cm5CdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTMwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM0cHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmY4OGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZihkYXRhLm9yaWdpbmFsU2NlbmUgPT09ICdNZW51U2NlbmUnKXtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXQoZGF0YS5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyByZWNvcmRHYW1lU2Vzc2lvbiB9IGZyb20gJy4uL2FwaS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRGVjaXNpb25TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRGVjaXNpb25TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9EJywgJy9pbWFnZW5lcy9lbGVjY2lvbi5qcGcnKTt9ICAgXHJcblxyXG4gICAgY3JlYXRlKGRhdGEpe1xyXG4gICAgICAgIC8vIE9idGVuZXIgcmVmZXJlbmNpYSBhIGxhIGVzY2VuYSBkZSBqdWVnbyB5IGd1YXJkYXIgdGllbXBvXHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSB0aGlzLnNjZW5lLmdldChkYXRhLm1vZG8gPT09ICdvbmxpbmUnID8gJ0dhbWVTY2VuZU8nIDogJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU1vZGUgPSBkYXRhLm1vZG8gfHwgJ2xvY2FsJztcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmZvbmRvRCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvRCcpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9ELnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmZvbmRvRC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoMjgwLDQyMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjE1KTsgICBcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRBbHBoYSgwLjUpOyAgICAgXHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg3MzAsNDIwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuMTUpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldEFscGhhKDAuNSk7IFxyXG5cclxuICAgICAgICBpZiAoZGF0YS5tb2RvID09PSAnbG9jYWwnKSB0aGlzLnNlbGVjdG9yID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCAyKTtcclxuICAgICAgICBlbHNlIHRoaXMuc2VsZWN0b3IgPSBkYXRhLmVsZWNjaW9uO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RvciA9PT0gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdFbCBqdWdhZG9yIDEgaGEgcmVjb2dpZG8nLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSAncGxheWVyMSc7IFxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RvciA9PT0gMil7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdFbCBqdWdhZG9yIDIgaGEgcmVjb2dpZG8nLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSAncGxheWVyMic7XHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE1MCwgJ2VsIEVsaXhpciBkZSBsYSBWaWRhIEV0ZXJuYSwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzMjAsICdhaG9yYSBkZWJlcsOhIGVsZWdpcjonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0bjEgPSB0aGlzLmFkZC50ZXh0KDI4MCwgNDIwLCAnQ29tcGFydGlyIGVsIGVsaXhpcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidG4yID0gdGhpcy5hZGQudGV4dCg3MzAsIDQyMCwgJ0JlYmVyIGVsIGVsaXhpcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjUpO1xyXG5cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgaWYgKGRhdGEubW9kbyA9PT0gJ29ubGluZScpe1xyXG4gICAgICAgICAgICBjb25zdCBwdWVkZUVsZWdpciA9IHRoaXMuaWQgPT09IGRhdGEuanVnYWRvcjsgXHJcbiAgICAgICAgICAgIGlmKHB1ZWRlRWxlZ2lyKXtcclxuICAgICAgICAgICAgICAgIGJ0bjEuc2V0QWxwaGEoMSk7IFxyXG4gICAgICAgICAgICAgICAgYnRuMS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICBidG4xLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidG4xLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJ0bjEub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4xLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgICAgICBidG4xLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS53cyAmJiBkYXRhLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW52aWFuZG8gZmluYWxcIik7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6ICdlc2NlbmFGaW5hbCcsIGVzY2VuYTogM30pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidG4yLnNldEFscGhhKDEpXHJcbiAgICAgICAgICAgICAgICBidG4yLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgYnRuMi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBidG4yLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKTtcclxuICAgICAgICAgICAgICAgIGJ0bjIub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9yID09PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEud3MgJiYgZGF0YS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlYnZpYW5kbyBmaW5hbFwiKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6ICdlc2NlbmFGaW5hbCcsIGVzY2VuYTogMX0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdG9yID09PSAyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEud3MgJiYgZGF0YS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbnZpYW5kbyBmaW5hbFwiKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6ICdlc2NlbmFGaW5hbCcsIGVzY2VuYTogMn0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24xLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0QWxwaGEoMSk7ICBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEubW9kbyA9PT0gJ2xvY2FsJyl7XHJcbiAgICAgICAgICAgIGJ0bjEuc2V0QWxwaGEoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuMS5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4xLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbEJTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJ0bjIuc2V0QWxwaGEoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4yLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RvciA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdG9yID09PSAyKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0yU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90b24xLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICB0aGlzLmJvdG9uMi5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IHJlY29yZEdhbWVTZXNzaW9uIH0gZnJvbSAnLi4vYXBpLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaW5hbEJTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCdGaW5hbEJTY2VuZScpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb0MnLCAnL2ltYWdlbmVzL2NvbXBhcnRpci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3ZpY3RvcmlhJywgJy9zb3VuZHMvdmljdG9yaWEubXAzJyk7XHJcbiAgICB9ICAgXHJcblxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gT2J0ZW5lciBkYXRvcyBkZSBsYSBwYXJ0aWRhIGRlc2RlIERlY2lzaW9uU2NlbmVcclxuICAgICAgICBjb25zdCBkZWNpc2lvblNjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ0RlY2lzaW9uU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGRlY2lzaW9uU2NlbmU/LmdhbWVTY2VuZTtcclxuICAgICAgICB0aGlzLmdhbWVNb2RlID0gZGVjaXNpb25TY2VuZT8uZ2FtZU1vZGUgfHwgJ2xvY2FsJztcclxuICAgICAgICB0aGlzLmdhbWVEdXJhdGlvbiA9IHRoaXMuZ2FtZVNjZW5lPy5nYW1lU3RhcnRUaW1lID8gRGF0ZS5ub3coKSAtIHRoaXMuZ2FtZVNjZW5lLmdhbWVTdGFydFRpbWUgOiAwO1xyXG5cclxuICAgICAgICAvLyBSZWdpc3RyYXIgbGEgcGFydGlkYSBzaSBoYXkgaW5mb3JtYWNpw7NuIGRpc3BvbmlibGVcclxuICAgICAgICBpZiAodGhpcy5nYW1lU2NlbmUgJiYgdGhpcy5nYW1lU2NlbmUuZ2FtZVN0YXJ0VGltZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuZ2FtZUR1cmF0aW9uO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMuZ2FtZVNjZW5lLnVzZXJuYW1lIHx8ICdKdWdhZG9yTG9jYWwnO1xyXG4gICAgICAgICAgICByZWNvcmRHYW1lU2Vzc2lvbih1c2VybmFtZSwgZHVyYXRpb24sIHRoaXMuZ2FtZU1vZGUpXHJcbiAgICAgICAgICAgICAgICAudGhlbihzdGF0cyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUGFydGlkYSByZWdpc3RyYWRhOicsIHN0YXRzKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS53YXJuKCfimqDvuI8gTm8gc2UgcHVkbyByZWdpc3RyYXIgbGEgcGFydGlkYTonLCBlcnJvcikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb25kb0MgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwzMDAsICdmb25kb0MnKTtcclxuICAgICAgICB0aGlzLmZvbmRvQy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb0MuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2FyIHZvbHVtZW4gZGUgU0ZYIHkgcmVwcm9kdWNpciB2aWN0b3JpYVxyXG4gICAgICAgIGxldCBzZnhWb2x1bWUgPSAwLjc7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dhbWVfc2V0dGluZ3MnKTtcclxuICAgICAgICAgICAgaWYgKHJhdykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UocmF3KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN2ID0gTnVtYmVyKGpzb24uc2Z4Vm9sdW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlZ2FjeSA9IE51bWJlcihqc29uLnZvbHVtZSk7XHJcbiAgICAgICAgICAgICAgICBzZnhWb2x1bWUgPSBOdW1iZXIuaXNGaW5pdGUoc3YpID8gc3YgOiAoTnVtYmVyLmlzRmluaXRlKGxlZ2FjeSkgPyBsZWdhY3kgOiAwLjcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoXykge31cclxuICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3ZpY3RvcmlhJywgeyB2b2x1bWU6IDAuNyAqIHNmeFZvbHVtZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEzKTsgICAgICAgIFxyXG5cclxuXHJcbiAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgNTAsICdMb3MganVnYWRvcmVzIGhhbiBkZWNpZGlkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ2NvbXBhcnRpciBlbCBFbGl4aXIgZGUgbGEgVmlkYSBFdGVybmEsIGFob3JhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnYW1ib3Mgdml2aXLDoW4gaGFzdGEgbGEgZXRlcm5pZGFkLCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsICd5IHBvZHLDoW4gYWRxdWlyaXIgdG9kb3MgbG9zIGNvbm9jaW1pZW50b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNTAsICdleGlzdGVudGVzLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTAwLCAnVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41ICogc2Z4Vm9sdW1lIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIERldGVuZXIgbcO6c2ljYSBkZSB2aWN0b3JpYSBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCd2aWN0b3JpYScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU3RhdHNTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5nYW1lU2NlbmU/LnVzZXJuYW1lIHx8ICdKdWdhZG9yTG9jYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMuZ2FtZU1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZ2FtZUR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IHJlY29yZEdhbWVTZXNzaW9uIH0gZnJvbSAnLi4vYXBpLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaW5hbE0xU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0ZpbmFsTTFTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb18xTScsICcvaW1hZ2VuZXMvdHJhaWNpb25fcmFuYVJvamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2RlcnJvdGEnLCAnL3NvdW5kcy9kZXJyb3RhLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIE9idGVuZXIgZGF0b3MgZGUgbGEgcGFydGlkYSBkZXNkZSBEZWNpc2lvblNjZW5lXHJcbiAgICAgICAgY29uc3QgZGVjaXNpb25TY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdEZWNpc2lvblNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBkZWNpc2lvblNjZW5lPy5nYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5nYW1lTW9kZSA9IGRlY2lzaW9uU2NlbmU/LmdhbWVNb2RlIHx8ICdsb2NhbCc7XHJcbiAgICAgICAgdGhpcy5nYW1lRHVyYXRpb24gPSB0aGlzLmdhbWVTY2VuZT8uZ2FtZVN0YXJ0VGltZSA/IERhdGUubm93KCkgLSB0aGlzLmdhbWVTY2VuZS5nYW1lU3RhcnRUaW1lIDogMDtcclxuXHJcbiAgICAgICAgLy8gUmVnaXN0cmFyIGxhIHBhcnRpZGEgc2kgaGF5IGluZm9ybWFjacOzbiBkaXNwb25pYmxlXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVNjZW5lICYmIHRoaXMuZ2FtZVNjZW5lLmdhbWVTdGFydFRpbWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmdhbWVEdXJhdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLmdhbWVTY2VuZS51c2VybmFtZSB8fCAnSnVnYWRvckxvY2FsJztcclxuICAgICAgICAgICAgcmVjb3JkR2FtZVNlc3Npb24odXNlcm5hbWUsIGR1cmF0aW9uLCB0aGlzLmdhbWVNb2RlKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc3RhdHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBhcnRpZGEgcmVnaXN0cmFkYTonLCBzdGF0cyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUud2Fybign4pqg77iPIE5vIHNlIHB1ZG8gcmVnaXN0cmFyIGxhIHBhcnRpZGE6JywgZXJyb3IpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZm9uZG9fMU0gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwzMDAsICdmb25kb18xTScpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9fMU0uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9fMU0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2FyIHZvbHVtZW4gZGUgU0ZYIHkgcmVwcm9kdWNpciBkZXJyb3RhXHJcbiAgICAgICAgbGV0IHNmeFZvbHVtZSA9IDAuNztcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZV9zZXR0aW5ncycpO1xyXG4gICAgICAgICAgICBpZiAocmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShyYXcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3YgPSBOdW1iZXIoanNvbi5zZnhWb2x1bWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVnYWN5ID0gTnVtYmVyKGpzb24udm9sdW1lKTtcclxuICAgICAgICAgICAgICAgIHNmeFZvbHVtZSA9IE51bWJlci5pc0Zpbml0ZShzdikgPyBzdiA6IChOdW1iZXIuaXNGaW5pdGUobGVnYWN5KSA/IGxlZ2FjeSA6IDAuNyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChfKSB7fVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZGVycm90YScsIHsgdm9sdW1lOiAwLjcgKiBzZnhWb2x1bWUgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xMyk7ICAgXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0VsIGp1Z2Fkb3IgMSBoYSBkZWNpZGlkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ25vIGNvbXBhcnRpciBlbCBFbGl4aXIgZGUgbGEgVmlkYSBFdGVybmEsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnYWhvcmEgZGViZSBlbmZyZW50YXIgbGFzIGNvbnNlY3VlbmNpYXMgZGUgc3UgZWxlY2Npw7NuIHkgdml2aXIgc29sbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE3NSwgJ2hhc3RhIGxhIGV0ZXJuaWRhZC4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ1ZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSAqIHNmeFZvbHVtZSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlbmVyIG3DunNpY2EgZGUgZGVycm90YSBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdkZXJyb3RhJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTdGF0c1NjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmdhbWVTY2VuZT8udXNlcm5hbWUgfHwgJ0p1Z2Fkb3JMb2NhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5nYW1lTW9kZSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5nYW1lRHVyYXRpb25cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgcmVjb3JkR2FtZVNlc3Npb24gfSBmcm9tICcuLi9hcGkuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpbmFsTTJTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRmluYWxNMlNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9fMk0nLCAnL2ltYWdlbmVzL3RyYWljaW9uX3JhbmFBenVsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZGVycm90YScsICcvc291bmRzL2RlcnJvdGEubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gT2J0ZW5lciBkYXRvcyBkZSBsYSBwYXJ0aWRhIGRlc2RlIERlY2lzaW9uU2NlbmVcclxuICAgICAgICBjb25zdCBkZWNpc2lvblNjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ0RlY2lzaW9uU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGRlY2lzaW9uU2NlbmU/LmdhbWVTY2VuZTtcclxuICAgICAgICB0aGlzLmdhbWVNb2RlID0gZGVjaXNpb25TY2VuZT8uZ2FtZU1vZGUgfHwgJ2xvY2FsJztcclxuICAgICAgICB0aGlzLmdhbWVEdXJhdGlvbiA9IHRoaXMuZ2FtZVNjZW5lPy5nYW1lU3RhcnRUaW1lID8gRGF0ZS5ub3coKSAtIHRoaXMuZ2FtZVNjZW5lLmdhbWVTdGFydFRpbWUgOiAwO1xyXG5cclxuICAgICAgICAvLyBSZWdpc3RyYXIgbGEgcGFydGlkYSBzaSBoYXkgaW5mb3JtYWNpw7NuIGRpc3BvbmlibGVcclxuICAgICAgICBpZiAodGhpcy5nYW1lU2NlbmUgJiYgdGhpcy5nYW1lU2NlbmUuZ2FtZVN0YXJ0VGltZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuZ2FtZUR1cmF0aW9uO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMuZ2FtZVNjZW5lLnVzZXJuYW1lIHx8ICdKdWdhZG9yTG9jYWwnO1xyXG4gICAgICAgICAgICByZWNvcmRHYW1lU2Vzc2lvbih1c2VybmFtZSwgZHVyYXRpb24sIHRoaXMuZ2FtZU1vZGUpXHJcbiAgICAgICAgICAgICAgICAudGhlbihzdGF0cyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUGFydGlkYSByZWdpc3RyYWRhOicsIHN0YXRzKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS53YXJuKCfimqDvuI8gTm8gc2UgcHVkbyByZWdpc3RyYXIgbGEgcGFydGlkYTonLCBlcnJvcikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb25kb18yTSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvXzJNJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb18yTS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb18yTS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIG3DunNpY2EgZGUgZGVycm90YSBjb24gdm9sdW1lbiBTRlggZ3VhcmRhZG9cclxuICAgICAgICBsZXQgc2Z4Vm9sdW1lID0gMC43O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lX3NldHRpbmdzJyk7XHJcbiAgICAgICAgICAgIGlmIChyYXcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHJhdyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdiA9IE51bWJlcihqc29uLnNmeFZvbHVtZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWdhY3kgPSBOdW1iZXIoanNvbi52b2x1bWUpO1xyXG4gICAgICAgICAgICAgICAgc2Z4Vm9sdW1lID0gTnVtYmVyLmlzRmluaXRlKHN2KSA/IHN2IDogKE51bWJlci5pc0Zpbml0ZShsZWdhY3kpID8gbGVnYWN5IDogMC43KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKF8pIHt9XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdkZXJyb3RhJywgeyB2b2x1bWU6IDAuNyAqIHNmeFZvbHVtZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEzKTsgICBcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDUwLCAnRWwganVnYWRvciAyIGhhIGRlY2lkaWRvJywge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ25vIGNvbXBhcnRpciBlbCBFbGl4aXIgZGUgbGEgVmlkYSBFdGVybmEsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnYWhvcmEgZGViZSBlbmZyZW50YXIgbGFzIGNvbnNlY3VlbmNpYXMgZGUgc3UgZWxlY2Npw7NuIHkgdml2aXIgc29sbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE3NSwgJ2hhc3RhIGxhIGV0ZXJuaWRhZC4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ1ZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgYnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41ICogc2Z4Vm9sdW1lIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBEZXRlbmVyIG3DunNpY2EgZGUgZGVycm90YSBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2RlcnJvdGEnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1N0YXRzU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuZ2FtZVNjZW5lPy51c2VybmFtZSB8fCAnSnVnYWRvckxvY2FsJyxcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLmdhbWVNb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmdhbWVEdXJhdGlvblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgZ2V0VXNlckdhbWVTdGF0cyB9IGZyb20gJy4uL2FwaS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhdHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU3RhdHNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gZGF0YT8udXNlcm5hbWUgfHwgJ0p1Z2Fkb3InO1xyXG4gICAgICAgIGNvbnN0IG1vZGUgPSBkYXRhPy5tb2RlIHx8ICdsb2NhbCc7XHJcbiAgICAgICAgY29uc3QgbGFzdEdhbWVEdXJhdGlvbiA9IGRhdGE/LmR1cmF0aW9uIHx8IDA7XHJcblxyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0NTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDApLnNldERlcHRoKC0xKS5zZXRBbHBoYSgwLjcpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ1RJRU1QTyBERSBQQVJUSURBJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JywgXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzRiZmZhYmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gw5psdGltYSBwYXJ0aWRhXHJcbiAgICAgICAgY29uc3QgbGFzdEdhbWVTZWNvbmRzID0gKGxhc3RHYW1lRHVyYXRpb24gLyAxMDAwKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsIGBFc3RhIHBhcnRpZGE6ICR7bGFzdEdhbWVTZWNvbmRzfXNgLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYXIgcHJvbWVkaW9cclxuICAgICAgICBnZXRVc2VyR2FtZVN0YXRzKHVzZXJuYW1lLCBtb2RlKVxyXG4gICAgICAgICAgICAudGhlbihzdGF0cyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdmdTZWNvbmRzID0gdHlwZW9mIHN0YXRzLnRpZW1wb1Byb21lZGlvID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gc3RhdHMudGllbXBvUHJvbWVkaW9cclxuICAgICAgICAgICAgICAgICAgICA6IChzdGF0cy50aWVtcG9Qcm9tZWRpbyAvIDEwMDApLnRvRml4ZWQoMikgKyAncyc7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyODAsIGBQcm9tZWRpbzogJHthdmdTZWNvbmRzfWAsIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzRiZmZhYmZmJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzMzAsIGBQYXJ0aWRhcyBqdWdhZGFzOiAke3N0YXRzLnRvdGFsUGFydGlkYXN9YCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS53YXJuKCdFcnJvciBhbCBjYXJnYXIgdGllbXBvIHByb21lZGlvOicsIGVycm9yKSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiB2b2x2ZXIgYWwgbWVuw7pcclxuICAgICAgICBjb25zdCBidG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnVm9sdmVyIGFsIG1lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbi8qKlxyXG4gKiBFc2NlbmEgcXVlIHNlIG11ZXN0cmEgY3VhbmRvIHNlIHBpZXJkZSBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIFBhdXNhIGVsIHJlc3RvIGRlIGVzY2VuYXMgeSBjb21wcnVlYmEgY29udGludWFtZW50ZSBoYXN0YSBxdWUgc2UgcmVzdGFibGV6Y2FcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTG9zdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25uZWN0aW9uTG9zdFNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICB9ICBcclxuXHJcbiAgICAgXHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gR3VhcmRhciBsYSBlc2NlbmEgcXVlIGVzdGFiYSBhY3RpdmEgY3VhbmRvIHNlIHBlcmRpw7MgbGEgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lID0gZGF0YS5wcmV2aW91c1NjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kbyBzZW1pLXRyYW5zcGFyZW50ZSAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxODAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTgwLCAnQ09ORVhJw5NOIFBFUkRJREEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2M5MDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamVcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzIwLCAnSW50ZW50YW5kbyByZWNvbmVjdGFyLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRhZG9yIGRlIGludGVudG9zIFxyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0ID0gdGhpcy5hZGQudGV4dCg1MDAsIDM5MCwgJ0ludGVudG9zOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgcGFycGFkZWFudGVcclxuICAgICAgICB0aGlzLmRvdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMjAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG90Q291bnQgPSAodGhpcy5kb3RDb3VudCArIDEpICUgNDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvdHMgPSAnLicucmVwZWF0KHRoaXMuZG90Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoYEludGVudGFuZG8gcmVjb25lY3RhciR7ZG90c31gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25SZWNvbm5lY3RlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIEludGVudGFyIHJlY29uZWN0YXIgY2FkYSAyIHNlZ3VuZG9zXHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuXHJcbiAgICAgICAgLy8gUHJpbWVyIGludGVudG8gaW5tZWRpYXRvXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYXR0ZW1wdFJlY29ubmVjdCgpIHtcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCsrO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQuc2V0VGV4dChgSW50ZW50b3M6ICR7dGhpcy5hdHRlbXB0Q291bnR9YCk7XHJcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbk1hbmFnZXIuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZWNvbm5lY3RlZCgpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGludGVydmFsXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmVyIGxpc3RlbmVyXHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplIGRlIMOpeGl0b1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoUNvbmV4acOzbiByZXN0YWJsZWNpZGEhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciBhIGxhIGVzY2VuYSBhbnRlcmlvclxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2aW91c1NjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSh0aGlzLnByZXZpb3VzU2NlbmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBlbCBpbnRlcnZhbCBhbCBjZXJyYXIgbGEgZXNjZW5hXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIgaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IE1hZ28gfSBmcm9tICcuLi9lbnRpdGllcy9NYWdvJ1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZU1hZ29Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2FsYURlRXNwZXJhIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKHsga2V5OiAnU2FsYURlRXNwZXJhJyB9KTtcclxuICAgIHRoaXMud3MgPSBudWxsO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBwcmVsb2FkKCkge1xyXG4gICAgLy9Fc2NlbmFyaW9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhcmVkUicsICcvaW1hZ2VuZXMvcGFyZWRZVGVjaG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsb1InLCAnL2ltYWdlbmVzL3N1ZWxvLnBuZycpO1xyXG5cclxuICAgIFxyXG4gICAgLy8gUGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9BenVsJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8yJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8zJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF80JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF81JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF82JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF83JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fOC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF84JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlub1RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW1wb0Z1ZXJ6YScsICcvaW1hZ2VuZXMvY2FtcG9kZWZ1ZXJ6YS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdpZGxlX1Jvam8nLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18yJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzQnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb181JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzcnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb184JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzgucG5nJyk7XHJcblxyXG4gICAgLy8gQkdNXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdiZ20nLCAnL3NvdW5kcy9iZ20ubXAzJyk7XHJcblxyXG4gICAgLy8gRWZlY3RvcyBkZSBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGsnLCAnL3NvdW5kcy93YWxrLm1wMycpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRTdGF0ZSgpIHtcclxuICAgIHRoaXMucm9vbUNvZGUgPSBudWxsO1xyXG4gICAgdGhpcy5yb29tSWQgPSBudWxsO1xyXG4gICAgdGhpcy5nYW1lU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgXHJcblxyXG4gICAgaWYodGhpcy5yb29tQ29kZVRleHQgJiYgdGhpcy5yb29tQ29kZVRleHQuYWN0aXZlKXtcclxuICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0VGV4dCgnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5zdGF0dXNUZXh0ICYmIHRoaXMuc3RhdHVzVGV4dC5hY3RpdmUpe1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5jb2RlSW5wdXQgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLmNvZGVJbnB1dCkpe1xyXG4gICAgICB0aGlzLmNvZGVJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdCgpe1xyXG4gICAgdGhpcy53YWxrU291bmRzID0gbmV3IE1hcCgpOyAvLyBNYXAgcGFyYSBndWFyZGFyIGVsIHNvbmlkbyBkZSBjYWRhIGp1Z2Fkb3JcclxuXHJcbiAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7IC8vIE1hcCBwYXJhIGd1YXJkYXIgbG9zIGp1Z2Fkb3JlcyBlbiBsYSBlc2NlbmFcclxuICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICB0aGlzLmJnbSA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5yb29tQ29kZSA9IG51bGw7XHJcbiAgICB0aGlzLnJvb21JZCA9IG51bGw7XHJcbiAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gIGNyZWF0ZSgpe1xyXG4gICAgLy8gQ2FyZ2FyIHZvbMO6bWVuZXMgZ3VhcmRhZG9zXHJcbiAgICB0aGlzLm11c2ljVm9sdW1lID0gMC43O1xyXG4gICAgdGhpcy5zZnhWb2x1bWUgPSAwLjc7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZV9zZXR0aW5ncycpO1xyXG4gICAgICBpZiAocmF3KSB7XHJcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UocmF3KTtcclxuICAgICAgICBjb25zdCBtdiA9IE51bWJlcihqc29uLm11c2ljVm9sdW1lKTtcclxuICAgICAgICBjb25zdCBzdiA9IE51bWJlcihqc29uLnNmeFZvbHVtZSk7XHJcbiAgICAgICAgY29uc3QgbGVnYWN5ID0gTnVtYmVyKGpzb24udm9sdW1lKTtcclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lID0gTnVtYmVyLmlzRmluaXRlKG12KSA/IG12IDogKE51bWJlci5pc0Zpbml0ZShsZWdhY3kpID8gbGVnYWN5IDogMC43KTtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZSA9IE51bWJlci5pc0Zpbml0ZShzdikgPyBzdiA6IChOdW1iZXIuaXNGaW5pdGUobGVnYWN5KSA/IGxlZ2FjeSA6IDAuNyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKF8pIHt9XHJcbiAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgIGtleTogJ2FuZGFyX21hZ29fQXp1bCcsXHJcbiAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgeyBrZXk6ICdpZGxlX0F6dWwnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8yJyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMycgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzQnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF81JyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNicgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzcnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF84JyB9XHJcbiAgICAgIF0sXHJcbiAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgIHJlcGVhdDogLTFcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyBDcmVhciB1biBzb25pZG8gZGUgcGFzb3MgcGFyYSBjYWRhIGp1Z2Fkb3JcclxuICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjEnLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgKiB0aGlzLnNmeFZvbHVtZSB9KSk7XHJcbiAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIyJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zICogdGhpcy5zZnhWb2x1bWUgfSkpO1xyXG5cclxuICAgIC8vIFBhcmFyIHBhc29zIGN1YW5kbyBsYSBlc2NlbmEgc2UgcGF1c2UgKGVqLiBQYXVzZVNjZW5lKSB5IGxpbXBpYXIgc29uaWRvcyBhbCBzaHV0ZG93blxyXG4gICAgdGhpcy5ldmVudHMub24oJ3BhdXNlJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHsgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9IH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIEFsIHJlc3VtZSBubyBzZSByZXByb2R1Y2UgYXV0b23DoXRpY2FtZW50ZTogZWwgdXBkYXRlKCkgcmVhbnVkYXLDoSBwYXNvcyBzaSBzZSBwdWxzYSBtb3ZlclxyXG4gICAgdGhpcy5ldmVudHMub24oJ3Jlc3VtZScsICgpID0+IHtcclxuICAgICAgICAvLyBuYWRhIGVzcGVjaWFsOiB1cGRhdGUoKSB2b2x2ZXLDoSBhIHJlcHJvZHVjaXIgY3VhbmRvIGRldGVjdGUgbW92aW1pZW50b1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiAhdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8gQXNlZ3VyYXIgbGltcGllemEgY3VhbmRvIGxhIGVzY2VuYSBzZSBjaWVycmUgZGVmaW5pdGl2YW1lbnRlXHJcbiAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICAvLyBwYXJhciB5IGRlc3RydWlyIHNvbmlkb3MgZGUgcGFzb3NcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB0cnkgeyBpZiAod3MpIHdzLmRlc3Ryb3koKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgICAgaWYodGhpcy5iZ20pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ20uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ20uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWNhdGNoIChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5jbGVhcigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jcmVhckVzY2VuYXJpbygpO1xyXG4gICAgdGhpcy5jcmVhckJhcnJlcmFJbnZpc2libGUoKTtcclxuICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICB0aGlzLmVzdGFibGVjZXJDb2xpc2lvbmVzKCk7XHJcblxyXG4gICAgLy8gU3RvcCBtZW51IG11c2ljIGFuZCBwbGF5IGJhY2tncm91bmQgbXVzaWNcclxuICAgIHRoaXMuZ2FtZS5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTtcclxuICAgIHRoaXMuYmdtID0gdGhpcy5zb3VuZC5hZGQoJ2JnbScsIHsgdm9sdW1lOiAwLjcgKiB0aGlzLm11c2ljVm9sdW1lLCBsb29wOiB0cnVlIH0pO1xyXG4gICAgdGhpcy5iZ20ucGxheSgpO1xyXG5cclxuICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXHJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gICAgY29uc29sZS5sb2coXCJjb2RpZ286XCIsIHRoaXMucm9vbUNvZGUpO1xyXG4gICAgdGhpcy5jcmVhckludGVyZmF6KCk7XHJcbiAgfVxyXG5cclxuICBjcmVhckludGVyZmF6KCl7XHJcbiAgICAvLyBBcXXDrSBwdWVkZXMgY3JlYXIgbG9zIGVsZW1lbnRvcyBkZSBsYSBpbnRlcmZheiBkZSB1c3VhcmlvIG5lY2VzYXJpb3NcclxuXHJcbiAgICAvKnRoaXMuYWRkLnRleHQoNTAwLCAzNTAsICdFc3BlcmFuZG8gYSBvdHJvcyBqdWdhZG9yZXMuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpOyovXHJcblxyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICB0aGlzLnBlcmdhbWlubyA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMTAwLCAncGVyZ2FtaW5vVGl0dWxvJylcclxuICAgIHRoaXMucGVyZ2FtaW5vLnNldFNjYWxlKDAuMjUsIDAuMjApO1xyXG5cclxuICAgIC8vIFRpdGxlXHJcbiAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsICdPbmxpbmUgTXVsdGlwbGF5ZXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyB0aGlzLnRpdHVsb1RvcnJlID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDE0MCwgJ1R1IHRvcnJlOiAnLCB7XHJcbiAgICAvLyAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAvLyAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgLy8gICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAvLyB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICB0aGlzLnJvb21Db2RlVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxNTAsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gPT09PT09PT09PT09IENSRUFSIFNBTEEgUFJJVkFEQSA9PT09PT09PT09PT1cclxuXHJcbiAgICB0aGlzLnRpdHVsb0NyZWFyU2FsYSA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAzMDAsICdDcmVhciB0b3JyZScsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIHRoaXMuYm90b25DcmVhclNhbGEgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIDM0MCwgJ2JvdG9uJyk7XHJcbiAgICB0aGlzLmJvdG9uQ3JlYXJTYWxhLnNldFNjYWxlKDAuMDUsIDAuMSk7XHJcblxyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDM0MCwgJ0NyZWFyJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwJyB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgIHRoaXMuY3JlYXJTYWxhKCl9KTtcclxuXHJcbiAgICAvLyA9PT09PT09PT09PT0gVU5JUlRFIEEgTEEgQ09MQSAoU0FMQSBBTEVBVE9SSUEpID09PT09PT09PT09PVxyXG5cclxuICAgIHRoaXMudGl0dWxvQ29sYSA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAyMDAsICfDmm5ldGUgYSB1bmEgdG9ycmUuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvL2JvdG9uIHVuaXJzZSBhIGxhIGNvbGFcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCAyNDAsICdib3RvbicpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvbGEuc2V0U2NhbGUoMC4wNSwgMC4xKTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDI0MCwgJ1RvcnJlJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnVuaXJzZUNvbGEoKX0pO1xyXG5cclxuICAgIC8qdGhpcy5lc3RhZG9Db2xhVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyIC0gNTAsICdDb25lY3RhbmRvIGFsIHNlcnZpZG9yLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7Ki9cclxuXHJcbiAgICAvLyA9PT09PT09PT09PT0gVU5JUlRFIEEgVU5BIFNBTEEgKEPDk0RJR08pID09PT09PT09PT09PSBcclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvZGlnbyA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA0MDAsICdPIMO6bmV0ZSBjb24gY8OzZGlnbycsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlQ29kZUlucHV0KHdpZHRoLzIgLSA4MCwgNDQwKTtcclxuXHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyICsgMTEwLDQ0MCwgJ2JvdG9uJyk7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvLnNldFNjYWxlKDAuMDUsIDAuMSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIgKyAxMTAsIDQ0MCwgJ1VuaXJzZScsIHtcclxuICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0U3R5bGUoeyBmaWxsOiAnI2ZmMDAwMCcgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pO1xyXG4gICAgfSk7IFxyXG5cclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIC8vdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgIHRoaXMudW5pcnNlU2FsYSgpfSk7XHJcblxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZjAwMDAnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgXHJcbiAgICBjb25zdCBib3RvblZvbHZlciA9IHRoaXMuYWRkLmltYWdlKHdpZHRoLzIsIDUyMCwgJ2JvdG9uJyk7XHJcbiAgICBib3RvblZvbHZlci5zZXRTY2FsZSgwLjA1LCAwLjEpO1xyXG5cclxuICAgIGNvbnN0IHZvbHZlckJ1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA1MjAsICdWb2x2ZXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdm9sdmVyQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgdm9sdmVyQnV0dG9uLnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdm9sdmVyQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB2b2x2ZXJCdXR0b24uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7IHtcclxuICAgIC8vICAgaWYoIXRoaXMudGl0dWxvQ29sYS52aXNpYmxlKXtcclxuICAgIC8vICAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICAgIC8vICAgICB0aGlzLm1vc3RyYXJCb3RvbmVzKCk7XHJcbiAgICAvLyAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJycpO1xyXG4gICAgLy8gICB9IGVsc2Uge1xyXG4gICAgICAgIFxyXG4gICAgLy8gICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICAgIC8vICAgaWYodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKXtcclxuICAgIC8vICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAvLyAgIH0gXHJcbiAgICAvLyAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO31cclxuXHJcbiAgICAvLyB9fSk7XHJcblxyXG4gICAgdm9sdmVyQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5zaHV0ZG93bigpO1xyXG4gICAgICBpZih0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpe1xyXG4gICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgfVxyXG4gICAgICAvL3RoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ29kZUlucHV0KHgsIHkpIHtcclxuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBpbnB1dEVsZW1lbnQudHlwZSA9ICd0ZXh0JztcclxuICAgIGlucHV0RWxlbWVudC5pZCA9ICdyb29tQ29kZUlucHV0JztcclxuICAgIGlucHV0RWxlbWVudC5wbGFjZWhvbGRlciA9ICdDw7NkaWdvIGRlIHNhbGEnO1xyXG4gICAgaW5wdXRFbGVtZW50Lm1heExlbmd0aCA9IDY7XHJcbiAgICBpbnB1dEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB3aWR0aDogMjAwcHg7XHJcbiAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGZvbnQtZmFtaWx5OiBUYWdlc3NjaHJpZnQsIGFyaWFsO1xyXG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICBib3JkZXI6IDNweCBzb2xpZCAjZmZmZmZmO1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyMjIyO1xyXG4gICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgICB6LWluZGV4OiA5OTk5O2A7XHJcblxyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gVXNlIHRoZSBlbGVtZW50IHJlZmVyZW5jZSBkaXJlY3RseSB0byBhdm9pZCB0eXBpbmcgaXNzdWVzIG9uIEV2ZW50VGFyZ2V0XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gaW5wdXRFbGVtZW50LnZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgIHRoaXMudW5pcnNlU2FsYSgpO1xyXG4gICAgICAgIH0gXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dEVsZW1lbnQpO1xyXG5cclxuICAgICAgLy8gUG9zaXRpb24gcmVsYXRpdmUgdG8gY2FudmFzIHRvIGF2b2lkIHBhZ2Ugb2Zmc2V0c1xyXG4gICAgICBjb25zdCBpbnB1dFdpZHRoID0gMjAwO1xyXG4gICAgICBjb25zdCBpbnB1dEhlaWdodCA9IDQwO1xyXG4gICAgICBjb25zdCBwb3NpdGlvbklucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdhbWUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5yb3VuZChyZWN0LmxlZnQgKyB4IC0gaW5wdXRXaWR0aCAvIDIpfXB4YDtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuc3R5bGUudG9wID0gYCR7TWF0aC5yb3VuZChyZWN0LnRvcCArIHkgLSBpbnB1dEhlaWdodCAvIDIpfXB4YDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHBvc2l0aW9uSW5wdXQoKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgcG9zaXRpb25JbnB1dCk7XHJcblxyXG4gICAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcG9zaXRpb25JbnB1dCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLmNvZGVJbnB1dCA9IGlucHV0RWxlbWVudDtcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBKdWdhZG9yZXMgZW4gY29sYTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdyb29tSW5mbyc6XHJcbiAgICAgICAgLy8gU2hvdyByb29tIGNvZGUgdG8gdGhlIGNyZWF0b3JcclxuICAgICAgICBpZiAoZGF0YS5jb2RlKSB7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlID0gZGF0YS5jb2RlO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0VGV4dChgVHUgdG9ycmU6ICR7ZGF0YS5jb2RlfWApO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0Q29sb3IoJyNmZmZmZmYnKTtcclxuICAgICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgU2FsYSBjcmVhZGE6ICR7ZGF0YS5jb2RlfWApO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnam9pblJvb21SZXN1bHQnOlxyXG4gICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGUgPSBkYXRhLmNvZGU7XHJcbiAgICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0VGV4dChkYXRhLmNvZGUpO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0Q29sb3IoJyNmZmZmZmYnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdVbmlkbyBhIGxhIHNhbGEuJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgICAgICB0aGlzLm1vc3RyYXJCb3RvbmVzKCk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChkYXRhLm1lc3NhZ2UgfHwgJ05vIHNlIHB1ZG8gdW5pciBhIGxhIHNhbGEuJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdzdGFydEdhbWUnOlxyXG4gICAgICBjYXNlICdnYW1lU3RhcnQnOlxyXG4gICAgICAgIC8vIFByZXZlbmlyIGV2ZW50b3MgZHVwbGljYWRvc1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdGFydGVkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRhdGEuY29kZSkge1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZSA9IGRhdGEuY29kZTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoYFRvcnJlOiAke2RhdGEuY29kZX1gKTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldENvbG9yKCcjZmZmZmZmJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoVBhcnRpZGEgaW5pY2lhbmRvIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnUGFydGlkYSBpbmljaWFuZG8hJywgZGF0YSk7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtKXtcclxuICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgICAgIHRoaXMuYmdtLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VXNlcm5hbWUnKSB8fCAnSnVnYWRvcic7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lTycsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCB8fCB0aGlzLnJvb21JZCxcclxuICAgICAgICAgIGluaXRpYWxCYWxsOiBkYXRhLmJhbGwsXHJcbiAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IG51bGw7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdlcnJvcic6XHJcbiAgICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChkYXRhLm1lc3NhZ2UgfHwgJ0Vycm9yIGRlbCBzZXJ2aWRvci4nKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgdGhpcy5tb3N0cmFyQm90b25lcygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXJTYWxhKCl7XHJcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIGlmKHRoaXMucm9vbUNvZGUpe1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdZYSBoYXMgY3JlYWRvIHVuYSBzYWxhLicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2NyZWF0ZVJvb20nIH0pKTtcclxuXHJcbiAgICAgIHRoaXMub2N1bHRhckJvdG9uZXMoKTtcclxuXHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDcmVhbmRvIHNhbGEuLi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnTm8gY29uZWN0YWRvIGFsIHNlcnZpZG9yLiBFcnJvciBkZSBjb25leHRpw7NuLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVuaXJzZUNvbGEoKSB7XHJcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcclxuXHJcbiAgICAgIHRoaXMub2N1bHRhckJvdG9uZXMoKTtcclxuXHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdCdXNjYW5kbyBwYXJ0aWRhLi4uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ05vIGNvbmVjdGFkbyBhbCBzZXJ2aWRvci4gRXJyb3IgZGUgY29uZXh0acOzbi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvY3VsdGFyQm90b25lcygpIHtcclxuICAgIHRoaXMudGl0dWxvQ3JlYXJTYWxhLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy5ib3RvbkNyZWFyU2FsYS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvbGEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29sYS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG5cclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvZGlnby5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuY29kZUlucHV0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIGlmKHRoaXMuY29kZUlucHV0KXtcclxuICAgICAgdGhpcy5jb2RlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1vc3RyYXJCb3RvbmVzKCkge1xyXG4gICAgdGhpcy50aXR1bG9DcmVhclNhbGEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuYm90b25DcmVhclNhbGEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0LnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2xhLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29sYS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMudGl0dWxvQ29kaWdvLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLmNvZGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2RpZ28uc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgaWYodGhpcy5jb2RlSW5wdXQpe1xyXG4gICAgICB0aGlzLmNvZGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVuaXJzZVNhbGEoKSB7XHJcbiAgICBjb25zdCBjb2RlID0gdGhpcy5jb2RlSW5wdXQudmFsdWUudHJpbSgpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICBpZighY29kZSl7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdQb3IgZmF2b3IsIGludHJvZHVjZSB1biBjw7NkaWdvIGRlIHNhbGEuJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYoY29kZS5sZW5ndGggIT09IDYpe1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRWwgY8OzZGlnbyBkZSBzYWxhIGRlYmUgdGVuZXIgNiBjYXJhY3RlcmVzLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2pvaW5Sb29tJywgY29kZTogY29kZSB9KSk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdJbnRlbnRhbmRvIHVuaXJzZSBhIGxhIHNhbGEuLi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ05vIGNvbmVjdGFkbyBhbCBzZXJ2aWRvci4gRXJyb3IgZGUgY29uZXh0acOzbi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHVwZGF0ZSgpe1xyXG4gICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgIGNvbnN0IG1hZ28gPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgbGV0IHNhbHRvID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IHdhbGtTb3VuZCA9IHRoaXMud2Fsa1NvdW5kcy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgIGxldCBpc01vdmluZyA9IGZhbHNlO1xyXG4gICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XHJcbiAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKG1hcHBpbmcuZG93bktleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5zcHJpdGUuZmxpcFggPSBmYWxzZTtcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb25fcGFyYXIoKTtcclxuXHJcbiAgICAgICAgICBpZiAod2Fsa1NvdW5kICYmIHdhbGtTb3VuZC5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICB3YWxrU291bmQuc3RvcCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNNb3ZpbmcgJiYgd2Fsa1NvdW5kICYmICF3YWxrU291bmQuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICB3YWxrU291bmQucGxheSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlTWFnb0NvbW1hbmQobWFnbywgZGlyZWN0aW9uLCBzYWx0byk7XHJcbiAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG4gICAgfSk7XHJcblxyXG4gfVxyXG5cclxuXHJcbiAgY3JlYXJFc2NlbmFyaW8oKSB7XHJcbiAgICAgICAgdGhpcy5zdWVsbyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0NzIsICdzdWVsb1InKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhcmVkID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDIwNSwgJ3BhcmVkUicpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDk0MCwgMzEwLCAnY2FtcG9GdWVyemEnKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyQmFycmVyYUludmlzaWJsZSgpIHtcclxuICAgICAgICAvLyBDcmVhciB1bmEgYmFycmVyYSBpbnZpc2libGUgcXVlIGV2aXRhIHF1ZSBzdWJhIGhhY2lhIGFycmliYSAocGVybyBwdWVkYSBhbmRhciBsaWJyZW1lbnRlIHBvciBlbCBzdWVsbylcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0ltYWdlKDUwMCwgMTA1LCBudWxsKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0U2l6ZSgxMDAwLCA1MDApOyBcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLmJvZHkuc2V0U2l6ZSgxMDAwLCA1MDApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBlc3RhYmxlY2VyQ29saXNpb25lcygpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gQmFycmVyYSBpbnZpc2libGUgcGFyYSBwZXJtaXRpciBhcmVhIGRlIHN1ZWxvIGRvbmRlIHNlIGRlc3BsYWNlbiBsaWJyZW1lbnRlLCB5IGFyZWEgZGUgc2FsdG8gcGFyYSBzdWJpciBwb3IgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgICAgIC8vIEJhcnJlcmEgaW52aXNpYmxlIHBhcmEgcGVybWl0aXIgYXJlYSBkZSBzdWVsbyBkb25kZSBzZSBkZXNwbGFjZW4gbGlicmVtZW50ZSwgeSBhcmVhIGRlIHNhbHRvIHBhcmEgc3ViaXIgcG9yIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKFxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICAgICAgY29uc3QgbGVmdE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMScsIDUwLCA0MDAsICdpZGxlX0F6dWwnKTtcclxuICAgICAgICAgICAgLy8gY29uc3QgcmlnaHRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjInLCA5NTAsIDQwMCwgJ2lkbGVfQXp1bCcpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBsZWZ0TWFnbyk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCByaWdodE1hZ28pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBLZXk6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZG93bktleTogJ0RPV04nLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgICAgICByaWdodEtleTogJ1JJR0hUJyxcclxuICAgICAgICAgICAgICAgICAgICBqdW1wOiAnU1BBQ0UnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdXBLZXk6ICdXJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBkb3duS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAganVtcDogJ0VOVEVSJ1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBdXHJcbiAgICBcclxuICAgICAgICAgICAgLy90aGlzLmludHB1dE1hcHBpbmdzID0gSW5wdXRDb25maWc7IFxyXG4gICAgICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAganVtcE9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5qdW1wXSksXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIHNldFBhdXNlU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdW1pbmcgR2FtZVNjZW5lIHdpdGggZGF0YTpcIiwgZGF0YSk7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wb2Npb25lcykge1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW8gPSBkYXRhLnBvY2lvbmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpby5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgSW52ZW50YXJpb1ske2luZGV4fV06ICR7aXRlbX1gKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIgKHNhbWUgaG9zdCBhcyB3ZWIgc2VydmVyKVxyXG5cclxuICAgICAgaWYodGhpcy53cyl7XHJcbiAgICAgICAgaWYodGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiB8fCB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQgb3IgY29ubmVjdGluZycpO1xyXG4gICAgICAgICAgdGhpcy53cy5vbm9wZW4gPSBudWxsO1xyXG4gICAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBudWxsO1xyXG4gICAgICAgICAgdGhpcy53cy5vbmVycm9yID0gbnVsbDtcclxuICAgICAgICAgIHRoaXMud3Mub25jbG9zZSA9IG51bGw7XHJcbiAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3MgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH0vd3NgO1xyXG5cclxuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG5cclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0NvbmVjdGFkbyBhbCBzZXJ2aWRvci4nKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBKb2luIG1hdGNobWFraW5nIHF1ZXVlXHJcbiAgICAgICAgLy90aGlzLi5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2pvaW5RdWV1ZScgfSkpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gZXJyb3IhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdTYWxhRGVFc3BlcmEnKSkge1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gbG9zdCEnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gc2VydmVyOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0ZhaWxlZCB0byBjb25uZWN0IScpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuXHJcbiAgbGVhdmVRdWV1ZSgpIHtcclxuICAgIGlmICh0aGlzLndzKXtcclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSBudWxsO1xyXG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IG51bGw7XHJcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IG51bGw7XHJcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9IG51bGw7XHJcbiAgICAgIGlmKHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pe1xyXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdsZWF2ZVF1ZXVlJyB9KSk7XHJcbiAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMud3MgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuY29kZUlucHV0ICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5jb2RlSW5wdXQpKXtcclxuICAgICAgdGhpcy5jb2RlSW5wdXQucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlc2V0U3RhdGUoKTtcclxuICAgIFxyXG4gIH1cclxuXHJcblxyXG4gIHNodXRkb3duKCkge1xyXG4gICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWFnbyB9IGZyb20gJy4uL2VudGl0aWVzL01hZ28nXHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlTWFnb0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL01vdmVNYWdvQ29tbWFuZCc7XHJcbmltcG9ydCB7IFBhdXNlR2FtZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL1BhdXNlR2FtZUNvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZU8gZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmVPJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBFc2NlbW5hcmlvIHkgb2JqZXRvcyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhcmVkUicsICcvaW1hZ2VuZXMvcGFyZWRZVGVjaG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsb1InLCAnL2ltYWdlbmVzL3N1ZWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm9sYUNyaXN0YWxSJywgJy9pbWFnZW5lcy9ib2xhQ3Jpc3RhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbGRlcm9SJywgJy9pbWFnZW5lcy9jYWxkZXJvQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW1wb0Z1ZXJ6YVInLCAnL2ltYWdlbmVzL2NhbXBvZGVmdWVyemEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb2ZyZVInLCAnL2ltYWdlbmVzL2NvZnJlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29mcmVBYmllcnRvUicsICcvaW1hZ2VuZXMvY29mcmVBYmllcnRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0YW50ZXJpYVInLCAnL2ltYWdlbmVzL2VzdGFudGVyaWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsbGF2ZVInLCAnL2ltYWdlbmVzL2xsYXZlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vUicsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGFudGFSJywgJy9pbWFnZW5lcy9wbGFudGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1InLCAnL2ltYWdlbmVzL3BvY2lvbmVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVsYXNSJywgJy9pbWFnZW5lcy92ZWxhcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVSJywgJy9pbWFnZW5lcy9lc3RhbnRlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGlicm9zUicsICcvaW1hZ2VuZXMvbGlicm9zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25WUicsICcvaW1hZ2VuZXMvYm90b25WYWNpby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ1InLCAnL2ltYWdlbmVzL2JvdG9uQ29tcGxldG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RyZWxsYVInLCAnL2ltYWdlbmVzL2VzdHJlbGxhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBeicsICcvaW1hZ2VuZXMvcG9jaW9uQXp1bC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQW0nLCAnL2ltYWdlbmVzL3BvY2lvbmVzQW1hcmlsbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc04nLCAnL2ltYWdlbmVzL3BvY2lvbk5hcmFuamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1JvJywgJy9pbWFnZW5lcy9wb2Npb25Sb3NhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNNJywgJy9pbWFnZW5lcy9wb2Npb25Nb3JhZGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1YnLCAnL2ltYWdlbmVzL3BvY2lvblZlcmRlLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlX0F6dWwnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzInLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzMnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzQnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzUnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzYnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzcnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb184LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzgnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9Sb2pvJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzMnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb180JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNScsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzYnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb183JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fOCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb184LnBuZycpO1xyXG5cclxuICAgICAgICAvL0V4cGxvc2nDs24gY2FsZGVyb1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZXhwbG9zaW9uQ2FsZGVybycsICcvaW1hZ2VuZXMvZXhwbG9zaW9uQ2FsZGVyby5wbmcnLCB7IGZyYW1lV2lkdGg6IDIwMCwgZnJhbWVIZWlnaHQ6IDIwMCB9KTtcclxuXHJcbiAgICAgICAgLy8gSW50ZXJmYXogTXVlcnRlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCR01cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2JnbScsICcvc291bmRzL2JnbS5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvcyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdhYnJpckNvZnJlJywgJy9zb3VuZHMvY2hlc3Rfb3Blbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJQb2Npb24nLCAnL3NvdW5kcy9ib3RlbGxhcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJMbGF2ZScsICcvc291bmRzL2xsYXZlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2FsaycsICcvc291bmRzL3dhbGsubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdleHBsb3Npb24nLCAnL3NvdW5kcy9leHBsb3Npb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwdWVydGEnLCAnL3NvdW5kcy9wdWVydGEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd0cmlnZ2VyJywgJy9zb3VuZHMvdHJpZ2dlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3BlcXVlw7FvJywgJy9zb3VuZHMvcGVxdWXDsW8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIEludGVyZmF6XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTsgXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3M7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gZGF0YS5wbGF5ZXJSb2xlO1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IGRhdGEudXNlcm5hbWUgfHwgJ0p1Z2Fkb3InO1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sT3BvbmVudGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRlc2FjdGl2YWRvID0gW2ZhbHNlLCBmYWxzZV07XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhcnRUaW1lID0gRGF0ZS5ub3coKTsgLy8gUmFzdHJlYXIgaW5pY2lvIGRlIHBhcnRpZGFcclxuICAgICAgICB0aGlzLmdhbWVNb2RlID0gJ29ubGluZSc7IC8vIE1vZG8gb25saW5lXHJcbiAgICAgICAgdGhpcy5sbGF2ZVJlY29naWRhID0gZmFsc2U7IC8vIEZsYWcgcGFyYSBldml0YXIgcXVlIHNlIHJlY29qYSBsYSBsbGF2ZSBtw7psdGlwbGVzIHZlY2VzXHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTFSZWNvZ2lkYSA9IGZhbHNlOyAvLyBGbGFnIHBhcmEgZXN0cmVsbGEgMVxyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyUmVjb2dpZGEgPSBmYWxzZTsgLy8gRmxhZyBwYXJhIGVzdHJlbGxhIDJcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gQ2FyZ2FyIHZvbMO6bWVuZXMgZ3VhcmRhZG9zIChNw7pzaWNhIHkgU0ZYKVxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSAwLjc7XHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWUgPSAwLjc7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dhbWVfc2V0dGluZ3MnKTtcclxuICAgICAgICAgICAgaWYgKHJhdykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UocmF3KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG12ID0gTnVtYmVyKGpzb24ubXVzaWNWb2x1bWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3YgPSBOdW1iZXIoanNvbi5zZnhWb2x1bWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVnYWN5ID0gTnVtYmVyKGpzb24udm9sdW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSBOdW1iZXIuaXNGaW5pdGUobXYpID8gbXYgOiAoTnVtYmVyLmlzRmluaXRlKGxlZ2FjeSkgPyBsZWdhY3kgOiAwLjcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZnhWb2x1bWUgPSBOdW1iZXIuaXNGaW5pdGUoc3YpID8gc3YgOiAoTnVtYmVyLmlzRmluaXRlKGxlZ2FjeSkgPyBsZWdhY3kgOiAwLjcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoXykge31cclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdhbmRhcl9tYWdvX0F6dWwnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnaWRsZV9BenVsJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF80JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzYnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF83JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfOCcgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnYW5kYXJfbWFnb19Sb2pvJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2lkbGVfUm9qbycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzInIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb18zJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzUnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb182JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzgnIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2V4cGxvc2lvbl9jYWxkZXJvJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdleHBsb3Npb25DYWxkZXJvJywge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IDE2ICAgXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5iZ20gPSB0aGlzLnNvdW5kLmFkZCgnYmdtJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNSAqIHRoaXMubXVzaWNWb2x1bWUgfSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgdW4gc29uaWRvIGRlIHBhc29zIHBhcmEgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMScsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyAqIHRoaXMuc2Z4Vm9sdW1lIH0pKTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIyJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zICogdGhpcy5zZnhWb2x1bWUgfSkpO1xyXG5cclxuICAgICAgICAvLyBQYXJhciBwYXNvcyBjdWFuZG8gbGEgZXNjZW5hIHNlIHBhdXNlIChlai4gUGF1c2VTY2VuZSkgeSBsaW1waWFyIHNvbmlkb3MgYWwgc2h1dGRvd25cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHsgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFsIHJlc3VtZSBubyBzZSByZXByb2R1Y2UgYXV0b23DoXRpY2FtZW50ZTogZWwgdXBkYXRlKCkgcmVhbnVkYXLDoSBwYXNvcyBzaSBzZSBwdWxzYSBtb3ZlclxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIG5hZGEgZXNwZWNpYWw6IHVwZGF0ZSgpIHZvbHZlcsOhIGEgcmVwcm9kdWNpciBjdWFuZG8gZGV0ZWN0ZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQXNlZ3VyYXIgbGltcGllemEgY3VhbmRvIGxhIGVzY2VuYSBzZSBjaWVycmUgZGVmaW5pdGl2YW1lbnRlXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gcGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBDcmVhciBlc2NlbmFyaW9cclxuICAgICAgICB0aGlzLmNyZWFyRXNjZW5hcmlvKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhclBsYXRhZm9ybWFzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhckJhcnJlcmFJbnZpc2libGUoKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMuZXN0YWJsZWNlckNvbGlzaW9uZXMoKTtcclxuICAgICAgICB0aGlzLmludmVudGFyaW9FblBhbnRhbGxhKCk7IFxyXG5cclxuICAgICAgICAvL01vc3RyYXIgdmlkYXNcclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQgPSB0aGlzLmFkZC50ZXh0KDUwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodCA9IHRoaXMuYWRkLnRleHQoOTAwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTW9zdGFyIHF1ZSBqdWdhZG9yIGVzIGNhZGEgdW5vXHJcbiAgICAgICAgY29uc3QgbG9jYWxQbGF5ZXJUZXh0ID0gdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyAnRXJlcyBlbCBKdWdhZG9yIDEgKEF6dWwpJyA6ICdFcmVzIGVsIEp1Z2Fkb3IgMiAoUm9qbyknO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA0MCwgbG9jYWxQbGF5ZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpOyAgXHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsb2NhbFVzZXJuYW1lID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXJuYW1lJykgfHwgJ0p1Z2Fkb3InO1xyXG4gICAgICAgIHRoaXMubG9jYWxVc2VybmFtZSA9IGxvY2FsVXNlcm5hbWU7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVVc2VybmFtZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdzZXRVc2VybmFtZScsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiBsb2NhbFVzZXJuYW1lLFxyXG4gICAgICAgICAgICBwbGF5ZXJSb2xlOiB0aGlzLnBsYXllclJvbGVcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VXNlcm5hbWVzKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIElucHV0c1xyXG4gICAgICAgIHRoaXMuY3Vyc29ycyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuY3JlYXRlQ3Vyc29yS2V5cygpO1xyXG4gICAgICAgIHRoaXMuanVtcEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5TUEFDRSk7XHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICB0aGlzLmxrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuTCk7XHJcbiAgICAgICAgdGhpcy5xa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlEpO1xyXG4gICAgXHJcbiAgICAgICAgLy8gV2ViU29ja2V0IGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMuc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUodGltZSwgZGVsdGEpIHtcclxuICAgICAgICBpZiAoIXRoaXMubG9jYWxQbGF5ZXIgfHwgIXRoaXMucmVtb3RlUGxheWVyKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERldGVjdGFyIGRpcmVjY2nDs24gZGUgbW92aW1pZW50byBsb2NhbFxyXG4gICAgICAgIGxldCBkaXJlY2Npb24gPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMudXAuaXNEb3duKSBkaXJlY2Npb24gPSAndXAnO1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5kb3duLmlzRG93bikgZGlyZWNjaW9uID0gJ2Rvd24nO1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5sZWZ0LmlzRG93bikgZGlyZWNjaW9uID0gJ2xlZnQnO1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5yaWdodC5pc0Rvd24pIGRpcmVjY2lvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgZWxzZSBkaXJlY2Npb24gPSAnc3RvcCc7XHJcblxyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IHRoaXMuZXNjS2V5LmlzRG93bjtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7IC8vdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSBzaSBubyBoYSBoYWJpZG8gb3ZlcmxhcFxyXG4gICAgICAgIHRoaXMubE9wb25lbnRlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMubGtleS5pc0Rvd24gfHwgdGhpcy5xa2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLmxQdWxzYWRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnbFB1bHNhZGEnICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb21wcm9iYXIgc2kgYWxndW5vIGRlIGxvcyBqdWdhZG9yZXMgZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChtYWdvID0+IHtcclxuICAgICAgICAgICAgbWFnby51cGRhdGUoZGVsdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFamVjdXRhciBjb21hbmRvIGRlIG1vdmltaWVudG8gbG9jYWxcclxuICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZU1hZ29Db21tYW5kKHRoaXMubG9jYWxQbGF5ZXIsIGRpcmVjY2lvbiwgdGhpcy5qdW1wS2V5LmlzRG93bik7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcblxyXG4gICAgICAgIGlmKGRpcmVjY2lvbiE9PSdzdG9wJyl7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIGlmKGRpcmVjY2lvbj09PSdsZWZ0JykgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUuZmxpcFggPSBmYWxzZTtcclxuICAgICAgICAgICAgZWxzZSBpZihkaXJlY2Npb249PT1cInJpZ2h0XCIpIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5hbmRhcl9hbmltYWNpb25fcGFyYXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsV2Fsaz0gdGhpcy53YWxrU291bmRzLmdldCh0aGlzLnBsYXllclJvbGUpO1xyXG4gICAgICAgIGlmKGRpcmVjY2lvbiE9PSdzdG9wJyl7XHJcbiAgICAgICAgICAgIGlmKGxvY2FsV2FsayAmJiAhbG9jYWxXYWxrLmlzUGxheWluZyl7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFdhbGsucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYobG9jYWxXYWxrICYmIGxvY2FsV2Fsay5pc1BsYXlpbmcpe1xyXG4gICAgICAgICAgICAgICAgbG9jYWxXYWxrLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRW52aWFyIHBvc2ljacOzbiBkZWwganVnYWRvciBsb2NhbCBhbCBzZXJ2aWRvclxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAncGxheWVyTW92ZScsXHJcbiAgICAgICAgICAgIHg6IHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLnksXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWNjaW9uLFxyXG4gICAgICAgICAgICBpc01vdmluZzogZGlyZWNjaW9uICE9PSAnc3RvcCcsXHJcbiAgICAgICAgICAgIGZsaXBYOiB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS5mbGlwWCBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYXZpc2FyIGFsIG90cm8ganVnYWRvciBzaSBoYSBoYWJpZG8gY2FtYmlvcyBlbiBlbCBpbnZlbnRhcmlvIGVuIGxhIGVzY2VuYSBkZSBsYSBsaWJyZXLDrWFcclxuICAgICAgICAvLyBpZih0aGlzLnZpc2l0TGlicmVyaWEpe1xyXG4gICAgICAgIC8vICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAvLyAgICAgICAgIHR5cGU6ICdhY3R1YWxpemFySW52ZW50YXJpbycsXHJcbiAgICAgICAgLy8gICAgICAgICBpbnZlbnRhcmlvOiB0aGlzLmludmVudGFyaW9cclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMudmlzaXRMaWJyZXJpYSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy9hY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICB0aGlzLmFjdHVhbGl6YXJJbnZlbnRhcmlvRW5QYW50YWxsYSgpO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJFc2NlbmFyaW8oKSB7XHJcbiAgICAgICAgdGhpcy5zdWVsbyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0NzIsICdzdWVsb1InKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhcmVkID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDIwNSwgJ3BhcmVkUicpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTY1LCAzMDAsICdlc3RhbnRlcmlhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTg1LCAzMDMsICdib2xhQ3Jpc3RhbFInKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FsZGVybyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0MzAsICdjYWxkZXJvUicpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzMTAsICdjYW1wb0Z1ZXJ6YVInKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29mcmUgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwNSwgMjgzLCAnY29mcmVSJyk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxsYXZlID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNzAsIDE2MCwgJ2xsYXZlUicpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmxsYXZlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDc4MCwgMTgwLCAncGVyZ2FtaW5vUicpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGFudGEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE3MCwgMzY1LCAncGxhbnRhUicpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTY5LCAyNjIsICdwb2Npb25lc1InKTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmVsYXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE0MCwgMzA4LCAndmVsYXNSJyk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxpYnJvcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTUwLCAyMjAsICdsaWJyb3NSJyk7XHJcbiAgICAgICAgdGhpcy5saWJyb3Muc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5saWJyb3MuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAsIDM1MCwgJ2JvdG9uVlInKTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm90b24yID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg3ODAsIDM1MCwgJ2JvdG9uVlInKTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBlc3RyZWxsYXMgZGUgZGVudHJvIGRlbCBjb2ZyZVxyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NTAsIDI4MywgJ2VzdHJlbGxhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTYwLCAyODMsICdlc3RyZWxsYVInKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJCYXJyZXJhSW52aXNpYmxlKCkge1xyXG4gICAgICAgIC8vIENyZWFyIHVuYSBiYXJyZXJhIGludmlzaWJsZSBxdWUgZXZpdGEgcXVlIHN1YmEgaGFjaWEgYXJyaWJhIChwZXJvIHB1ZWRhIGFuZGFyIGxpYnJlbWVudGUgcG9yIGVsIHN1ZWxvKVxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljSW1hZ2UoNTAwLCAxMDUsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRTaXplKDEwMDAsIDUwMCk7IFxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuYm9keS5zZXRTaXplKDEwMDAsIDUwMCk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGNvbGxpZGVyIGludmlzaWJsZSBwYXJhIHF1ZSBwdWVkYSB1c2FyIGxhIGJhbGRhIHN1cGVyaW9yIGRlIGxhIGVzdGFudGVyw63CrWEgY29tbyBwbGF0YWZvcm1hXHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDE2NSwgMTk1LCAnd2hpdGVfcGl4ZWwnKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLnNldFNjYWxlKDQsIDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGNvbGxpZGVyIGludmlzaWJsZSBwYXJhIGV2aXRhciBxdWUgYXRyYXZpZXNlIGVsIGNhbGRlcm9cclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNTAwLCA0MDAsICd3aGl0ZV9waXhlbCcpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuc2V0Q2lyY2xlKDg1KTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0T2Zmc2V0KC03MCwgLTU1KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhclBsYXRhZm9ybWFzKCkge1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcbiAgICAgICAgLy8gQ2VudHJvXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNDQ2LCAzMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDUxMCwgMzE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg1NzAsIDMxNSwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgICAgIC8vIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDY1MCwgMzUwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg2NTAsIDIxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNzAwLCAzOTAsICdlc3RhbnRlUicpO1xyXG5cclxuICAgICAgICAvLyBEZXJlY2hhXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNDQ2LCAyNTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDM2MCwgMjM1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgyOTUsIDIxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzAwLCAzOTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDM4MCwgMzUwLCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbW9zdHJhckV4cGxvc2lvbkNhbGRlcm8oKSB7XHJcbiAgICAgICAgY29uc3QgZXhwbG9zaW9uID0gdGhpcy5hZGQuc3ByaXRlKFxyXG4gICAgICAgICAgICB0aGlzLmNhbGRlcm8ueCxcclxuICAgICAgICAgICAgdGhpcy5jYWxkZXJvLnkgLSAxNzAsIFxyXG4gICAgICAgICAgICAnZXhwbG9zaW9uQ2FsZGVybydcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBleHBsb3Npb24uc2V0RGVwdGgoNTApOyBcclxuICAgICAgICBleHBsb3Npb24uc2V0U2NhbGUoMS4yKTsgXHJcblxyXG4gICAgICAgIGV4cGxvc2lvbi5wbGF5KCdleHBsb3Npb25fY2FsZGVybycpO1xyXG5cclxuICAgICAgICBleHBsb3Npb24ub24oJ2FuaW1hdGlvbmNvbXBsZXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBleHBsb3Npb24uZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBlc3RhYmxlY2VyQ29saXNpb25lcygpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyBDb2xpc2lvbmVzIGRlbCBqdWdhZG9yIGNvbiBlbCBlc2NlbmFyaW9cclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWFDb2xsKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLnBsYXRhZm9ybWFzKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmNhbGRlcm9Db2xsKTtcclxuICAgICAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29uc2VndWlyIGxhIGxsYXZlXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmxsYXZlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sbGF2ZVJlY29naWRhKSByZXR1cm47IC8vIEV2aXRhciBxdWUgc2UgZWplY3V0ZSBtw7psdGlwbGVzIHZlY2VzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxsYXZlUmVjb2dpZGEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncmVjb2dlckxsYXZlJywgeyB2b2x1bWU6IDAuNiAqIHRoaXMuc2Z4Vm9sdW1lIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sbGF2ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxsYXZlIGNvbnNlZ3VpZGFcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBsbGF2ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZDsgXHJcbiAgICAgICAgICAgIGlmKHBsYXllci5wbGF5ZXJJZCA9PT0gJ3BsYXllcjEnKSBpZCA9IDE7XHJcbiAgICAgICAgICAgIGVsc2UgaWQgPSAyO1xyXG5cclxuICAgICAgICAgICAgLy8gQWJyaXIgbGEgbGlicmVyw63CrWFcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0YW50ZXJpYSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubFB1bHNhZGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnZpc2l0TGlicmVyaWEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnTGlicmVyaWFTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZU8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2Npb25lczogdGhpcy5pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VuZDogdGhpcy5zb3VuZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAganVnYWRvcjogaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdzIDogdGhpcy53c1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEJhcnJlcmEgaW52aXNpYmxlIHBhcmEgcGVybWl0aXIgYXJlYSBkZSBzdWVsbyBkb25kZSBzZSBkZXNwbGFjZW4gbGlicmVtZW50ZSwgeSBhcmVhIGRlIHNhbHRvIHBhcmEgc3ViaXIgcG9yIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKFxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZSxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbCBjb2xpc2lvbmFyIGNvbiBsYSBiYXJyZXJhIGludmlzaWJsZSBtaWVudHJhcyBlbCBqdWdhZG9yIHZhIGhhY2lhIGFycmliYSwgc2FsdGFcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsYXllci5pc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmp1bXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgY2FsbGJhY2sgLSBvbmx5IGNvbGxpZGUgd2hlbiBtb3ZpbmcgdXAgYW5kIG5vdCBqdW1waW5nXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNb3ZpbmdVcCA9IHBsYXllci5zcHJpdGUuYm9keS52ZWxvY2l0eS55IDwgMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXBsYXllci5pc0p1bXBpbmcgJiYgaXNNb3ZpbmdVcDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhciBwb2Npb24gZGUgZGlzbWludWlyIHRhbWHDsW8gc2kgc2UgdGllbmVuIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmNhbGRlcm8sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5sa2V5KSB8fCBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5xa2V5KSkgeyAvLyBDb21wcm9iYXIgcXVlIHNlIGhhIHB1bHNhZG8gbGEgdGVjbGEgTCBvIFEgcGFyYSBjcmVhciBsYSBwb2Npb24gKHNpIHNlIG1hbnRpZW5lIHB1bHNhZGEgbGEgdGVjbGEgbm8gZW50cmFyw6EgdmFyaWFzIHZlY2VzIGEgbGEgZnVuY2nDs24pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd1c2FyQ2FsZGVybycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmVudGFyaW86dGhpcy5pbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIC8vIEFicmlyIGVsIGNvZnJlIHNpIHNlIHRpZW5lIGxhIGxsYXZlXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmNvZnJlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29mcmVBYmllcnRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1swXSkgeyAvLyBjb21wcm9iYXIgcXVlIHRpZW5lIGxhIGxsYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDb2ZyZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmVjZXNpdGFzIGxhIGxsYXZlIHBhcmEgYWJyaXIgZWwgY29mcmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlY29nZXIgZXN0cmVsbGFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdHJlbGxhMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvZ2VyRXN0cmVsbGEoMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RyZWxsYTIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb2dlckVzdHJlbGxhKDIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL2NvbG9jYXIgZXN0cmVsbGFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvY2FyRXN0cmVsbGEoMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb2NhckVzdHJlbGxhKDIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBwdWxzYXIgYm90b25lcyBwYXJhIGRlc2FjdGl2YXIgZWwgY2FtcG8gZGUgZnVlcnphXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JvdG9uQ2FtcG9GdWVyemEnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdG9uOiAxXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JvdG9uQ2FtcG9GdWVyemEnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdG9uOiAyXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gTG9zIG9iamV0b3Mgc29uOiAwLWxsYXZlLCAxLWxpYnJvcywgMi0gcG9jaW9uIG1vcmFkYSwgMy0gcG9jaW9uIHZlcmRlLCA0LSBwb2Npb24gcm9zYSwgNS0gcG9jaW9uIGF6dWwsIDYtIHBvY2lvbiBhbWFyaWxsYSwgNy0gcG9jaW9uIG5hcmFuamEsIDgtIHZlbGFzLCA5LSBib2xhIGRlIGNyaXN0YWwsIDEwLSBwbGFudGEsIDExLSBlc3RyZWxsYSAxLCAxMi0gZXN0cmVsbGEgMlxyXG4gICAgaW52ZW50YXJpb0VuUGFudGFsbGEoKSB7IC8vQ29tbyBzZSBhY2FiYSBkZSBjcmVhciwgdG9kYXbDrWEgbm8gc2UgaGFicsOhIHJlY29naWRvIG5pbmfDum4gZWxlbWVudG9cclxuICAgICAgICB0aGlzLmNlcm8gPSB0aGlzLmFkZC5pbWFnZSgyMDAsIDUyMCwgJ2xsYXZlUicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy51bm8gPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDUyMCwgJ2xpYnJvc1InKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5kb3MgPSB0aGlzLmFkZC5pbWFnZSgzMDAsIDUyMCwgJ3BvY2lvbmVzTScpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy50cmVzID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCA1MjAsICdwb2Npb25lc1YnKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuY3VhdHJvID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA1MjAsICdwb2Npb25lc1JvJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmNpbmNvID0gdGhpcy5hZGQuaW1hZ2UoNDUwLCA1MjAsICdwb2Npb25lc0F6Jykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnNlaXMgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDUyMCwgJ3BvY2lvbmVzQW0nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2lldGUgPSB0aGlzLmFkZC5pbWFnZSg1NTAsIDUyMCwgJ3BvY2lvbmVzTicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5vY2hvID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA1MjAsICd2ZWxhc1InKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5udWV2ZSA9IHRoaXMuYWRkLmltYWdlKDY1MCwgNTIwLCAnYm9sYUNyaXN0YWxSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZGlleiA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTIwLCAncGxhbnRhUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLm9uY2UgPSB0aGlzLmFkZC5pbWFnZSg3NTAsIDUyMCwgJ2VzdHJlbGxhUicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5kb2NlID0gdGhpcy5hZGQuaW1hZ2UoODAwLCA1MjAsICdlc3RyZWxsYVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFjdHVhbGl6YXJJbnZlbnRhcmlvRW5QYW50YWxsYSgpIHsgICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1sxXSkgdGhpcy51bm8uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy51bm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzJdKSB0aGlzLmRvcy5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuZG9zLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1szXSkgdGhpcy50cmVzLnNldEFscGhhKDEpOyBlbHNlIHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNF0pIHRoaXMuY3VhdHJvLnNldEFscGhhKDEpOyBlbHNlIHRoaXMuY3VhdHJvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s1XSkgdGhpcy5jaW5jby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmNpbmNvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s2XSkgdGhpcy5zZWlzLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5zZWlzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s3XSkgdGhpcy5zaWV0ZS5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuc2lldGUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzhdKSB0aGlzLm9jaG8uc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzldKSB0aGlzLm51ZXZlLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5udWV2ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMTBdKSB0aGlzLmRpZXouc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5kaWV6LnNldEFscGhhKDAuMik7IFxyXG4gICAgfVxyXG5cclxuICAgIGFicmlyQ29mcmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdhYnJpckNvZnJlJywgeyB2b2x1bWU6IDAuNSAqIHRoaXMuc2Z4Vm9sdW1lIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2FicmlyQ29mcmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvZnJlIGFiaWVydG9cIik7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRUZXh0dXJlKCdjb2ZyZUFiaWVydG9SJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRBbHBoYSgxLjApO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gdHJ1ZTsgLy8gcGFyYSBxdWUgc29sbyBzZSBhYnJhIHVuYSB2ZXpcclxuICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGxsYXZlIGRlbCBpbnZlbnRhcmlvIGFsIGFicmlyIGVsIGNvZnJlXHJcbiAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgfVxyXG5cclxuICAgIHJlY29nZXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29mcmVBYmllcnRvKSB7IC8vIHNvbG8gc2UgcHVlZGUgcmVjb2dlciBzaSBlbCBjb2ZyZSBlc3TDoSBhYmllcnRvIChwb3JxdWUgc2lubyBlc3TDoW4gb2N1bHRhcylcclxuICAgICAgICAgICAgLy8gRmxhZyBwYXJhIGV2aXRhciBlamVjdWNpw7NuIG3Dumx0aXBsZVxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSAmJiB0aGlzLmVzdHJlbGxhMVJlY29naWRhKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChuID09PSAyICYmIHRoaXMuZXN0cmVsbGEyUmVjb2dpZGEpIHJldHVybjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB0aGlzLmVzdHJlbGxhMVJlY29naWRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKG4gPT09IDIpIHRoaXMuZXN0cmVsbGEyUmVjb2dpZGEgPSB0cnVlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RyZWxsYSBcIiArIG4gKyBcIiByZWNvZ2lkYVwiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBlc3RyZWxsYSAoMTEgeSAxMiBlbiBlbCBhcnJheSlcclxuICAgICAgICAgICAgaWYgKG4gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGExLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfSBlbHNleyBcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7dHlwZTogJ2NhbWJpYXJTaXplJywgZXN0YWRvOiAncGVxdWXDsW8nfSk7IFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvbG9jYXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1sxMCArIG5dKSB7IC8vIGNvbXByb2JhciBxdWUgc2UgdGllbmUgbGEgZXN0cmVsbGEgY29ycmVzcG9uZGllbnRlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgY29sb2NhZGFcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3RyaWdnZXInLCB7IHZvbHVtZTogMC42ICogdGhpcy5zZnhWb2x1bWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG4gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24xLnNldFRleHR1cmUoJ2JvdG9uQ1InKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1sxMCArIG5dID0gZmFsc2U7IC8vIHF1aXRhciBsYSBlc3RyZWxsYSBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lc3RyZWxsYSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMi5zZXRUZXh0dXJlKCdib3RvbkNSJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgZXN0cmVsbGEgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgIHRoaXMuZG9jZS5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXByb2JhckNhbXBvRnVlcnphKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmJvdG9uMS50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InICYmIHRoaXMuYm90b24yLnRleHR1cmUua2V5ID09PSAnYm90b25DUicpIHsgLy9jb21wcm9iYXIgcXVlIGFtYm9zIGJvdG9uZXMgdGllbmVuIGxhIGVzdHJlbGxhIGNvbG9jYWRhXHJcbiAgICAgICAgICAgIGlmICgodGhpcy5sT3BvbmVudGUgfHwgdGhpcy5xa2V5LmlzRG93bikgJiYgdGhpcy5sa2V5LmlzRG93biAmJiB0aGlzLmJvdG9uMUFjdGl2YWRvICYmIHRoaXMuYm90b24yQWN0aXZhZG8pIHsgLy8gY29tcHJvYmFyIHF1ZSBhbWJvcyBqdWdhZG9yZXMgZXN0w6FuIHB1bHNhbmRvIGxhIEwgKHBlcm1pdGlyIHRhbWJpZW4gbGEgcSBwb3Igc2kgZXN0w6EganVnYW5kbyBlbiBhbWJhcyB2ZW50YW5hcylcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZXNhY3RpdmFyQ2FtcG9GdWVyemEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFicmlyQ2FtcG9GdWVyemEoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDYW1wbyBkZSBmdWVyemEgZGVzYWN0aXZhZG9cIik7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdwdWVydGEnLCB7IHZvbHVtZTogMC43ICogdGhpcy5zZnhWb2x1bWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJQdWVydGFGaW5hbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyUHVlcnRhRmluYWwoKSB7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzNzAsIG51bGwpO1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTsgXHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5zZXRBbHBoYSgwLjApOyBcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZSwgdGhpcy5wdWVydGFGaW5hbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdqdWdhZG9yRW5QdWVydGFGaW5hbCcsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUsIHRoaXMucHVlcnRhRmluYWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnanVnYWRvckVuUHVlcnRhRmluYWwnLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pOyAgXHJcbiAgICB9ICAgICAgIFxyXG5cclxuICAgIGVudHJhclB1ZXJ0YUZpbmFsKGRlc2FjdGl2YWRvLCBnYW5hZG9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJEZXNhY3RpdmFkbzpcIiwgZGVzYWN0aXZhZG8pOyBcclxuICAgICAgICBpZiAoZGVzYWN0aXZhZG9bMF0gJiYgZGVzYWN0aXZhZG9bMV0pIHsgLy9jYW1iaWFyIGRlIGVzY2VuYSBzb2xvIHNpIGFtYm9zIGp1Z2Fkb3JlcyBoYW4gbGxlZ2FkbyBhIGxhIHB1ZXJ0YSBmaW5hbFxyXG4gICAgICAgICAgICAvLyBQYXJhciB5IGRlc3RydWlyIHNvbmlkb3MgZGUgcGFzb3NcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MpIHdzLmRlc3Ryb3koKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIC8vIFBhcmFyIEJHTVxyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5iZ20gJiYgKHRoaXMuYmdtLmlzUGxheWluZyB8fCB0aGlzLmJnbS5pc1BhdXNlZCkpIHRoaXMuYmdtLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAvLyBGYWxsYmFjazogcGFyYXIgY3VhbHF1aWVyIGluc3RhbmNpYSBwb3IgY2xhdmVcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCd3YWxrJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnYmdtJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdEZWNpc2lvblNjZW5lJywge2VsZWNjaW9uOiBnYW5hZG9yLCBqdWdhZG9yOiB0aGlzLnBsYXllclJvbGUsIHdzOiB0aGlzLndzLCBtb2RvOidvbmxpbmUnfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICBjb25zdCBtYWdvMSA9bmV3IE1hZ28odGhpcywgJ3BsYXllcjEnLCAgNTAsIDQwMCwgJ2lkbGVfQXp1bCcpO1xyXG4gICAgICAgY29uc3QgbWFnbzIgPSAgbmV3IE1hZ28odGhpcywgJ3BsYXllcjInLCA5NTAsIDQwMCwgJ2lkbGVfUm9qbycpO1xyXG4gICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIG1hZ28xKTtcclxuICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCBtYWdvMik7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kR2FtZShpZCkge1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDI0MCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbiA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24uc2V0U2NhbGUoMC4xKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gobWFnbyA9PiB7XHJcbiAgICAgICAgICAgIG1hZ28uc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICAvLyBEZXRlbmVyIGxhIG11c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20uc3RvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdGV4dG8gPSBpZCA9PT0gJ3BsYXllcjEnID8gJ0VsIGp1Z2Fkb3IgMVxcbiAgaGEgbXVlcnRvJyA6ICcgRWwganVnYWRvciAyXFxuICBoYSBtdWVydG8nO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNTAsIHRleHRvLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyAjZmYwMDAwZmYnLFxyXG5cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtNSk7IFxyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ01lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDJmZjg5ZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAncGxheWVyRGlzY29ubmVjdGVkJyB9KSApO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTsgLy8gY2VycmFyIGxhIGNvbmV4acOzbiBkZXNwdcOpcyBkZSB1biBicmV2ZSByZXRyYXNvXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoXCJHYW1lU2NlbmVPXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoXCJQYXVzZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGHDsW9KdWdMZWZ0KCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgcGxheWVyMS52aWRhLS07XHJcbiAgICAgICAgdGhpcy5oZWFsdGhMZWZ0LnNldFRleHQocGxheWVyMS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbCBqdWdhZG9yIDEgaGEgcmVjaWJpZG8gZGHDsW8nKTtcclxuXHJcbiAgICAgICAgLy8gQXZpc2FyIGFsIHNlcnZpZG9yIFxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAnZGHDsW9KdWdhZG9yJyxcclxuICAgICAgICAgICAgcGxheWVyOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgIHZpZGE6IHBsYXllcjEudmlkYVxyXG4gICAgICAgIH0pOyBcclxuXHJcbiAgICAgICAgLy8gY29tcHJvYmFyIHNpIGhhIG11ZXJ0b1xyXG4gICAgICAgIGlmIChwbGF5ZXIxLnZpZGEgPD0gMCkgdGhpcy5lbmRHYW1lKCdwbGF5ZXIxJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGHDsW9KdWdSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIHBsYXllcjIudmlkYS0tO1xyXG4gICAgICAgIHRoaXMuaGVhbHRoUmlnaHQuc2V0VGV4dChwbGF5ZXIyLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VsIGp1Z2Fkb3IgMiBoYSByZWNpYmlkbyBkYcOxbycpO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdkYcOxb0p1Z2Fkb3InLFxyXG4gICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgdmlkYTogcGxheWVyMi52aWRhXHJcbiAgICAgICAgfSk7IFxyXG5cclxuICAgICAgICAvLyBjb21wcm9iYXIgc2kgaGEgbXVlcnRvICAgICAgICBcclxuICAgICAgICBpZiAocGxheWVyMi52aWRhIDw9IDApIHRoaXMuZW5kR2FtZSgncGxheWVyMicpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBhdXNlU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmVPJyB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEucG9jaW9uZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gZGF0YS5wb2Npb25lcztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNpbmNyb25pemFyIGNhbWJpb3MgZGVsIGludmVudGFyaW8gY29uIGVsIG90cm8ganVnYWRvclxyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2FjdHVhbGl6YXJJbnZlbnRhcmlvJyxcclxuICAgICAgICAgICAgICAgIGludmVudGFyaW86IHRoaXMuaW52ZW50YXJpb1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZVN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgbmV3IFBhdXNlR2FtZUNvbW1hbmQodGhpcywgbmV3UGF1c2VTdGF0ZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBXRUJTT0NLRVRTXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBwYXJzZWFyIG1lbnNhamUgV2Vic29ja2V0OicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbmV4acOzbiBXZWJTb2NrZXQgY2VycmFkYScpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZSBXZWJTb2NrZXQgOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VzZXJuYW1lcyc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjaWJpZG9zIHVzZXJuYW1lczonLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYWxVc2VybmFtZSA9IGRhdGEucGxheWVyMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVVzZXJuYW1lID0gZGF0YS5wbGF5ZXIyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsVXNlcm5hbWUgPSBkYXRhLnBsYXllcjI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVVc2VybmFtZSA9IGRhdGEucGxheWVyMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnc2V0VXNlcm5hbWUnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY2liaWRvIHVzZXJuYW1lOicsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucGxheWVyUm9sZSAhPT0gdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVVc2VybmFtZSA9IGRhdGEudXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZXJuYW1lIHJlbW90byBhY3R1YWxpemFkbzonLCB0aGlzLnJlbW90ZVVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnbW92aW1pZW50b0p1Z2Fkb3InOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmFyIG1lbnNhamVzIHF1ZSByZWZsZWphbiBlbCBwcm9waW8gbW92aW1pZW50byBsb2NhbFxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucGxheWVyID09PSB0aGlzLnBsYXllclJvbGUpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJlbW90ZVBsYXllcikgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlV2FsayA9IHRoaXMud2Fsa1NvdW5kcy5nZXQoZGF0YS5wbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXNNb3ZpbmcgJiYgZGF0YS5kaXJlY3Rpb24gIT09ICdzdG9wJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdGVXYWxrICYmICFyZW1vdGVXYWxrLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVXYWxrLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlbW90ZVdhbGsgJiYgcmVtb3RlV2Fsay5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdGVXYWxrLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zcHJpdGUueCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS55ID0gZGF0YS55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLmZsaXBYID0gZGF0YS5mbGlwWDtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXNNb3ZpbmcgJiYgZGF0YS5kaXJlY3Rpb24gIT09ICdzdG9wJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5hbmRhcl9hbmltYWNpb25fcGFyYXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ2dhbWVPdmVyJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lcklkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyBcclxuICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7ICAgICAgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgY2FzZSAnZGHDsW8nOiBcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGHDsW8oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0ludmVudGFyaW8nOiBcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IGRhdGEuaW52ZW50YXJpbztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3R1YWxpemFySW52ZW50YXJpb0VuUGFudGFsbGEoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW52ZW50YXJpbyBhY3R1YWxpemFkbyBkZXNkZSBlbCBzZXJ2aWRvclwiLCB0aGlzLmludmVudGFyaW8pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjYXNlICdib3RvbkNGJzpcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmIgPT09IDEpIHRoaXMuYm90b24xQWN0aXZhZG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5iID09PSAyKSB0aGlzLmJvdG9uMkFjdGl2YWRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tcHJvYmFyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZGVzYWN0aXZhckNGJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdsT3BvbmVudGUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sT3BvbmVudGUgPSBkYXRhLnZhbG9yO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG5cclxuICAgICAgICAgICAgY2FzZSAndXNhckNhbGRlcm8nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDYWxkZXJvKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdzaXplJzogICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5lc3RhZG8gPT09ICdwZXF1ZcOxbycpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZXN0YWRvX25vcm1hbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZvbHZlciBhIGFjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuZW5hYmxlQm9keShmYWxzZSwgMCwgMCwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG5cclxuICAgICAgICAgICAgY2FzZSAncHVlcnRhRmluYWwnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQdWVydGFGaW5hbChkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZmluYWwnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaW5hbFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmVzY2VuYSA9PT0gMSkgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLmVzY2VuYSA9PT0gMikgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMlNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuc2NlbmUuc3RhcnQoJ0ZpbmFsQlNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0RlY2lzaW9uU2NlbmUnKTsgXHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01lbnNhamUgV2ViU29ja2V0IGRlc2Nvbm9jaWRvOicsIGRhdGEpO1xyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vdGhpcy5iYWxsLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwyMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMywgMC4yNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsICdGYWxsbyBwb3IgZGVzY29uZXhpw7NuJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNTAsICdMYSBwYXJ0aWRhIGhhIGZpbmFsaXphZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGHDsW8oZGF0YSl7XHJcbiAgICAgICAgY29uc3QgbWFnbyA9IHRoaXMucGxheWVycy5nZXQoZGF0YS5wbGF5ZXIpO1xyXG4gICAgICAgIGlmICghbWFnbykgcmV0dXJuO1xyXG5cclxuICAgICAgICBtYWdvLnZpZGEgPSBkYXRhLnZpZGE7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnBsYXllciA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoTGVmdC5zZXRUZXh0KGRhdGEudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0LnNldFRleHQoZGF0YS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1hZ28udmlkYSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLnBsYXllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNhbGRlcm8oZGF0YSkge1xyXG4gICAgICAgIC8vIHZvbHZlciBhIHBvbmVyIGEgZmFsc2UgdG9kb3MgbG9zIGVsZW1lbnRvcyBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5pbnZlbnRhcmlvLmxlbmd0aCAtIDI7IGkrKykgeyAvLyBzZSBzYWx0YSBsYSBsbGF2ZSB5IGxhcyBlc3RyZWxsYXMgcG9ycXVlIG5vIHNlIHV0aWxpemFuIHBhcmEgY3JlYXIgbGEgcG9jaW9uXHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1tpXSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMudW5vLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMuZG9zLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICB0aGlzLmN1YXRyby5zZXRBbHBoYSgwLjIpOyAgXHJcbiAgICAgICAgdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2Vpcy5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2lldGUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5vY2hvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5kaWV6LnNldEFscGhhKDAuMik7IFxyXG5cclxuICAgICAgICBpZiAoZGF0YS5leGl0bykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW8gY3JlYWRhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmRpc2FibGVCb2R5KCk7IC8vIGRlc2FjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm8gcGFyYSBtaWVudHJhcyBlc3TDqW4gcGVxdWXDsW9zIHB1ZWRhbiBhdHJhdmVzYXJsbyBcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncGVxdWXDsW8nLCB7IHZvbHVtZTogMC42ICogdGhpcy5zZnhWb2x1bWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdGllbmVzIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzIHBhcmEgY3JlYXIgbGEgcG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxb1wiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZXhwbG9zaW9uJywgeyB2b2x1bWU6IDAuNSAqIHRoaXMuc2Z4Vm9sdW1lIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1vc3RyYXJFeHBsb3Npb25DYWxkZXJvKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5qdWdhZG9yRGHDsWFkbyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYcOxb0p1Z0xlZnQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGHDsW9KdWdSaWdodCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSAgICBcclxuXHJcbiAgICBoYW5kbGVQdWVydGFGaW5hbChkYXRhKSB7XHJcbiAgICAgICAgbGV0IHdhbGtTO1xyXG4gICAgICAgIGlmIChkYXRhLmp1Z2Fkb3IgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2FjdGl2YWRvWzBdID0gdHJ1ZTsgLy8gZWwgcGVyc29uYWplIHlhIGhhIGVudHJhZG8gcG9yIGxhIHB1ZXJ0YSB5IGhhIGRlc2FwYXJlY2lkb1xyXG4gICAgICAgICAgICB3YWxrUyA9IHRoaXMud2Fsa1NvdW5kcy5nZXQoJ3BsYXllcjEnKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZS5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5kZXNhY3RpdmFkb1sxXSA9IHRydWU7IC8vIGVsIHBlcnNvbmFqZSB5YSBoYSBlbnRyYWRvIHBvciBsYSBwdWVydGEgeSBoYSBkZXNhcGFyZWNpZG9cclxuICAgICAgICAgICAgd2Fsa1MgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2Fsa1MpIHtcclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHdhbGtTLmlzUGxheWluZykgd2Fsa1Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgfSBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmVudHJhclB1ZXJ0YUZpbmFsKHRoaXMuZGVzYWN0aXZhZG8sIGRhdGEuZ2FuYWRvcik7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTWVudUJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLmJvdG9uID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3Rvbi5zZXRTY2FsZSgwLjE1LCAwLjEpO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQwMCwgJ1ZvbHZlciBhbCBNZW7DuicsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNjY2NjY2MnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjZmZmZmZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdwbGF5ZXJEaXNjb25uZWN0ZWQnIH0pICk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNlcnJhbmRvIGNvbmV4acOzbiBXZWJTb2NrZXQuLi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb25leGnDs24gV2ViU29ja2V0IGNlcnJhZGEuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7IC8vIGNlcnJhciBsYSBjb25leGnDs24gZGVzcHXDqXMgZGUgdW4gYnJldmUgcmV0cmFzb1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKFwiR2FtZVNjZW5lT1wiKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKFwiUGF1c2VTY2VuZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1VzZXJuYW1lcygpIHtcclxuICAgICAgICBpZiAodGhpcy5sb2NhbFBsYXllcikge1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhbFVzZXJuYW1lVGV4dCA9IHRoaXMuYWRkLnRleHQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS54LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUueSAtIDEwMCxcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxVc2VybmFtZSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMDBmZjAwJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICBsb2NhbFVzZXJuYW1lVGV4dC5zZXREZXB0aCgxMDApO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMzAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxVc2VybmFtZVRleHQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZVBsYXllcikge1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdGVVc2VybmFtZSA9IHRoaXMucmVtb3RlVXNlcm5hbWUgfHwgJ09wb25lbnRlJztcclxuICAgICAgICAgICAgY29uc3QgcmVtb3RlVXNlcm5hbWVUZXh0ID0gdGhpcy5hZGQudGV4dChcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS54LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLnkgLSAxMDAsXHJcbiAgICAgICAgICAgICAgICByZW1vdGVVc2VybmFtZSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMDBmZjAwJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICByZW1vdGVVc2VybmFtZVRleHQuc2V0RGVwdGgoMTAwKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlbW90ZVVzZXJuYW1lVGV4dC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5mdW5jdGlvbiBsb2FkU2F2ZWRWb2x1bWVzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZV9zZXR0aW5ncycpO1xyXG4gICAgaWYgKCFyYXcpIHJldHVybiB7IG11c2ljVm9sdW1lOiAwLjcsIHNmeFZvbHVtZTogMC43IH07XHJcbiAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShyYXcpO1xyXG4gICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eTogaWYgb25seSBgdm9sdW1lYCBleGlzdHMsIHVzZSBmb3IgYm90aFxyXG4gICAgY29uc3QgYmFzZSA9IE51bWJlcihqc29uLnZvbHVtZSk7XHJcbiAgICBjb25zdCBtdXNpYyA9IE51bWJlcihqc29uLm11c2ljVm9sdW1lKTtcclxuICAgIGNvbnN0IHNmeCA9IE51bWJlcihqc29uLnNmeFZvbHVtZSk7XHJcbiAgICBjb25zdCBtdXNpY1ZvbHVtZSA9IE51bWJlci5pc0Zpbml0ZShtdXNpYykgPyBtdXNpYyA6IChOdW1iZXIuaXNGaW5pdGUoYmFzZSkgPyBiYXNlIDogMC43KTtcclxuICAgIGNvbnN0IHNmeFZvbHVtZSA9IE51bWJlci5pc0Zpbml0ZShzZngpID8gc2Z4IDogKE51bWJlci5pc0Zpbml0ZShiYXNlKSA/IGJhc2UgOiAwLjcpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbXVzaWNWb2x1bWU6IFBoYXNlci5NYXRoLkNsYW1wKG11c2ljVm9sdW1lLCAwLCAxKSxcclxuICAgICAgc2Z4Vm9sdW1lOiBQaGFzZXIuTWF0aC5DbGFtcChzZnhWb2x1bWUsIDAsIDEpXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKF8pIHtcclxuICAgIHJldHVybiB7IG11c2ljVm9sdW1lOiAwLjcsIHNmeFZvbHVtZTogMC43IH07XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzYXZlVm9sdW1lcyh7IG11c2ljVm9sdW1lLCBzZnhWb2x1bWUgfSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwYXlsb2FkID0geyBtdXNpY1ZvbHVtZSwgc2Z4Vm9sdW1lIH07XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2FtZV9zZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTtcclxuICB9IGNhdGNoIChfKSB7fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcignU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgdGhpcy5tdXNpY1ZvbHVtZSA9IDAuNztcclxuICAgIHRoaXMuc2Z4Vm9sdW1lID0gMC43O1xyXG4gIH1cclxuXHJcbiAgcHJlbG9hZCgpIHtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9NJywgJy9pbWFnZW5lcy9sb2dvU2luRm9uZG8ucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdob3ZlcicsICcvc291bmRzL2hvdmVyLm1wMycpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgLy8gRm9uZG9cclxuICAgIHRoaXMuYWRkLmltYWdlKDUwMCwgMzUwLCAnZm9uZG9NJykuc2V0U2NhbGUoMC44KTtcclxuXHJcbiAgICAvLyBDYXJnYXIgdm9sw7ptZW5lcyBndWFyZGFkb3NcclxuICAgIGNvbnN0IHsgbXVzaWNWb2x1bWUsIHNmeFZvbHVtZSB9ID0gbG9hZFNhdmVkVm9sdW1lcygpO1xyXG4gICAgdGhpcy5tdXNpY1ZvbHVtZSA9IG11c2ljVm9sdW1lO1xyXG4gICAgdGhpcy5zZnhWb2x1bWUgPSBzZnhWb2x1bWU7XHJcblxyXG4gICAgLy8gUGFuZWwgYmFzZVxyXG4gICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwKS5zZXRBbHBoYSgwLjYpLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTEwLCAnQWp1c3RlcycsIHtcclxuICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnIzRiZmZhYmZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFNlY2Npw7NuIE3DunNpY2FcclxuICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNzAsICdNw7pzaWNhJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgdGhpcy5tdXNpY1ZhbHVlVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAyMDUsIHRoaXMuZm10UGN0KHRoaXMubXVzaWNWb2x1bWUpLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLCBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIHRoaXMubXVzaWNTbGlkZXIgPSB0aGlzLmNyZWF0ZVNsaWRlcig1MDAsIDI0MCwgdGhpcy5tdXNpY1ZvbHVtZSwgKHYpID0+IHtcclxuICAgICAgdGhpcy5tdXNpY1ZvbHVtZSA9IHY7XHJcbiAgICAgIHRoaXMubXVzaWNWYWx1ZVRleHQuc2V0VGV4dCh0aGlzLmZtdFBjdCh2KSk7XHJcbiAgICAgIHNhdmVWb2x1bWVzKHsgbXVzaWNWb2x1bWU6IHRoaXMubXVzaWNWb2x1bWUsIHNmeFZvbHVtZTogdGhpcy5zZnhWb2x1bWUgfSk7XHJcbiAgICAgIC8vIEFjdHVhbGl6YXIgbcO6c2ljYSBlbiByZXByb2R1Y2Npw7NuIChtZW7Dui9iZ20pIHNpIGV4aXN0ZW5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBnbSA9IHRoaXMuZ2FtZT8uc291bmQ7XHJcbiAgICAgICAgaWYgKGdtICYmIEFycmF5LmlzQXJyYXkoZ20uc291bmRzKSkge1xyXG4gICAgICAgICAgZ20uc291bmRzLmZvckVhY2gocyA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcyB8fCAhcy5rZXkpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKHMua2V5ID09PSAnbXVzaWNhTWVudScgfHwgcy5rZXkgPT09ICdiZ20nKSB7XHJcbiAgICAgICAgICAgICAgcy5zZXRWb2x1bWUodGhpcy5tdXNpY1ZvbHVtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoXykge31cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNlY2Npw7NuIFNGWFxyXG4gICAgdGhpcy5hZGQudGV4dCg1MDAsIDMwMCwgJ0VmZWN0b3MgKFNGWCknLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICB0aGlzLnNmeFZhbHVlVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzMzUsIHRoaXMuZm10UGN0KHRoaXMuc2Z4Vm9sdW1lKSwge1xyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLCBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JywgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICB0aGlzLnNmeFNsaWRlciA9IHRoaXMuY3JlYXRlU2xpZGVyKDUwMCwgMzcwLCB0aGlzLnNmeFZvbHVtZSwgKHYpID0+IHtcclxuICAgICAgdGhpcy5zZnhWb2x1bWUgPSB2O1xyXG4gICAgICB0aGlzLnNmeFZhbHVlVGV4dC5zZXRUZXh0KHRoaXMuZm10UGN0KHYpKTtcclxuICAgICAgc2F2ZVZvbHVtZXMoeyBtdXNpY1ZvbHVtZTogdGhpcy5tdXNpY1ZvbHVtZSwgc2Z4Vm9sdW1lOiB0aGlzLnNmeFZvbHVtZSB9KTtcclxuICAgICAgLy8gQWN0dWFsaXphciBsb29wcyBTRlggKHBvciBlamVtcGxvLCBjYW1pbmFyKSBzaSBleGlzdGVuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZ20gPSB0aGlzLmdhbWU/LnNvdW5kO1xyXG4gICAgICAgIGlmIChnbSAmJiBBcnJheS5pc0FycmF5KGdtLnNvdW5kcykpIHtcclxuICAgICAgICAgIGdtLnNvdW5kcy5mb3JFYWNoKHMgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXMgfHwgIXMua2V5KSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChzLmtleSA9PT0gJ3dhbGsnKSBzLnNldFZvbHVtZSgwLjMgKiB0aGlzLnNmeFZvbHVtZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRmVlZGJhY2sgZGUgc29uaWRvIGFsIG1vdmVyIChjbGljayBsaWdlcm8pXHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgKiB0aGlzLnNmeFZvbHVtZSB9KTtcclxuICAgICAgfSBjYXRjaCAoXykge31cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEJvdMOzbiB2b2x2ZXJcclxuICAgIGNvbnN0IGJhY2tCZyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDQwLCAnYm90b24nKS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgY29uc3QgYmFja0J0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NDAsICdWb2x2ZXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICBiYWNrQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHsgYmFja0J0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pOyB0aGlzLnBsYXlIb3ZlcigpOyB9KTtcclxuICAgIGJhY2tCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBiYWNrQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpO1xyXG4gICAgYmFja0J0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZm10UGN0KHYpIHsgcmV0dXJuIGAke01hdGgucm91bmQodiAqIDEwMCl9JWA7IH1cclxuXHJcbiAgcGxheUhvdmVyKCkge1xyXG4gICAgdHJ5IHsgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgKiB0aGlzLnNmeFZvbHVtZSB9KTsgfSBjYXRjaChfKSB7fVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlU2xpZGVyKHgsIHksIGluaXRpYWxWYWx1ZSwgb25DaGFuZ2UpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gMzAwO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gODtcclxuICAgIGNvbnN0IGxlZnQgPSB4IC0gd2lkdGggLyAyO1xyXG5cclxuICAgIC8vIFRyYWNrXHJcbiAgICBjb25zdCB0cmFjayA9IHRoaXMuYWRkLnJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCAweGZmZmZmZikuc2V0QWxwaGEoMC4zKTtcclxuICAgIC8vIEZpbGxcclxuICAgIGNvbnN0IGZpbGwgPSB0aGlzLmFkZC5yZWN0YW5nbGUobGVmdCwgeSwgd2lkdGggKiBpbml0aWFsVmFsdWUsIGhlaWdodCwgMHg0YmZmYWIpLnNldE9yaWdpbigwLCAwLjUpO1xyXG4gICAgLy8gSGFuZGxlXHJcbiAgICBjb25zdCBoYW5kbGUgPSB0aGlzLmFkZC5jaXJjbGUobGVmdCArIHdpZHRoICogaW5pdGlhbFZhbHVlLCB5LCAxMCwgMHg0YmZmYWIpLnNldFN0cm9rZVN0eWxlKDIsIDB4ZmZmZmZmKTtcclxuICAgIGhhbmRsZS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUsIGRyYWdnYWJsZTogdHJ1ZSB9KTtcclxuICAgIHRoaXMuaW5wdXQuc2V0RHJhZ2dhYmxlKGhhbmRsZSwgdHJ1ZSk7XHJcblxyXG4gICAgY29uc3Qgc2V0RnJvbVBvaW50ZXIgPSAocG9pbnRlclgpID0+IHtcclxuICAgICAgY29uc3QgY2xhbXBlZCA9IFBoYXNlci5NYXRoLkNsYW1wKChwb2ludGVyWCAtIGxlZnQpIC8gd2lkdGgsIDAsIDEpO1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IE1hdGgucm91bmQoY2xhbXBlZCAqIDEwMCkgLyAxMDA7IC8vIDIgZGVjaW1hbGVzXHJcbiAgICAgIGZpbGwud2lkdGggPSB3aWR0aCAqIHZhbHVlO1xyXG4gICAgICBoYW5kbGUueCA9IGxlZnQgKyB3aWR0aCAqIHZhbHVlO1xyXG4gICAgICBvbkNoYW5nZSh2YWx1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENsaWNrIGVuIGVsIHRyYWNrXHJcbiAgICB0cmFjay5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICB0cmFjay5vbigncG9pbnRlcmRvd24nLCAocCkgPT4gc2V0RnJvbVBvaW50ZXIocC53b3JsZFgpKTtcclxuICAgIGZpbGwuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgZmlsbC5vbigncG9pbnRlcmRvd24nLCAocCkgPT4gc2V0RnJvbVBvaW50ZXIocC53b3JsZFgpKTtcclxuXHJcbiAgICAvLyBEcmFnIGRlbCBoYW5kbGVcclxuICAgIHRoaXMuaW5wdXQub24oJ2RyYWcnLCAoX3BvaW50ZXIsIGdhbWVPYmplY3QsIGRyYWdYKSA9PiB7XHJcbiAgICAgIGlmIChnYW1lT2JqZWN0ICE9PSBoYW5kbGUpIHJldHVybjtcclxuICAgICAgc2V0RnJvbVBvaW50ZXIoZHJhZ1gpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHsgdHJhY2ssIGZpbGwsIGhhbmRsZSB9O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IExvZ2luU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Mb2dpblNjZW5lLmpzJztcclxuaW1wb3J0IHsgTWVudVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTWVudVNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9DcmVkaXRzU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBIaXN0b3JpYVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvSGlzdG9yaWFTY2VuZS5qcyc7XHJcbmltcG9ydCB7IExpYnJlcmlhU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9MaWJyZXJpYVNjZW5lLmpzJztcclxuaW1wb3J0IHsgQ29udHJvbFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29udHJvbFNjZW5lLmpzJztcclxuaW1wb3J0IHsgRGVjaXNpb25TY2VuZSB9IGZyb20gJy4vc2NlbmVzL0RlY2lzaW9uU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBGaW5hbEJTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0ZpbmFsQlNjZW5lLmpzJztcclxuaW1wb3J0IHsgRmluYWxNMVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRmluYWxNMVNjZW5lLmpzJztcclxuaW1wb3J0IHsgRmluYWxNMlNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRmluYWxNMlNjZW5lLmpzJztcclxuaW1wb3J0IHsgU3RhdHNTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1N0YXRzU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyc7XHJcbmltcG9ydCBTYWxhRGVFc3BlcmEgZnJvbSAnLi9zY2VuZXMvU2FsYURlRXNwZXJhLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lTyB9IGZyb20gJy4vc2NlbmVzL0dhbWVTY2VuZU8uanMnO1xyXG5pbXBvcnQgeyBTZXR0aW5nc1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvU2V0dGluZ3NTY2VuZS5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiAxMDAwLFxyXG4gICAgaGVpZ2h0OiA1NjAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeTogMjAwMDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRvbToge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbIExvZ2luU2NlbmUsIE1lbnVTY2VuZSwgU2V0dGluZ3NTY2VuZSwgR2FtZVNjZW5lTywgR2FtZVNjZW5lLCBMaWJyZXJpYVNjZW5lLCAgUGF1c2VTY2VuZSwgQ3JlZGl0c1NjZW5lLCBIaXN0b3JpYVNjZW5lLCBDb250cm9sU2NlbmUsIERlY2lzaW9uU2NlbmUsIEZpbmFsQlNjZW5lLCBGaW5hbE0xU2NlbmUsIEZpbmFsTTJTY2VuZSwgU3RhdHNTY2VuZSwgQ29ubmVjdGlvbkxvc3RTY2VuZSwgU2FsYURlRXNwZXJhIF0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDdkZGZmZmYnLFxyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUGhhc2VyIiwiU1RPUkFHRV9LRVkiLCJnZXRMb2NhbFN0YXRzIiwidXNlcm5hbWUiLCJzdGF0cyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJhbGxTdGF0cyIsIkpTT04iLCJwYXJzZSIsInRvdGFsUGFydGlkYXMiLCJ0aWVtcG9Ub3RhbCIsInBhcnRpZGFzIiwidWx0aW1hQWN0dWFsaXphY2lvbiIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImVycm9yIiwiY29uc29sZSIsImdldExvY2FsR2FtZVN0YXRzIiwiRXJyb3IiLCJtb2RvIiwidGllbXBvUHJvbWVkaW8iLCJBUElfQkFTRV9VUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsIl8iLCJwcm9jZXNzIiwiZW52IiwiQVBJX0hPU1QiLCJBUElfUE9SVCIsImFzeW5jIiwicmVjb3JkR2FtZVNlc3Npb24iLCJkdXJhdGlvbk1zIiwibW9kZSIsImxvY2FsUmVzdWx0IiwicHVzaCIsImR1cmFjaW9uIiwiZmVjaGEiLCJsZW5ndGgiLCJzbGljZSIsInBhcnNlZFN0YXRzIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInNhdmVMb2NhbFN0YXRzIiwibG9nIiwidG9GaXhlZCIsInBhcnRpZGFzSnVnYWRhcyIsInVsdGltYVBhcnRpZGEiLCJyZWNvcmRMb2NhbEdhbWVTZXNzaW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5Iiwib2siLCJzZXJ2ZXJSZXN1bHQiLCJqc29uIiwic2luY3Jvbml6YWRvU2Vydmlkb3IiLCJkYXRvc1NlcnZpZG9yIiwid2FybiIsIkxvZ2luU2NlbmUiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwicHJlbG9hZCIsInRoaXMiLCJsb2FkIiwiaW1hZ2UiLCJjcmVhdGUiLCJmb25kbyIsImFkZCIsInNldFNjYWxlIiwibG9naW5Gb3JtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInVzZXJuYW1lSW5wdXQiLCJwYXNzd29yZElucHV0IiwibG9naW5CdXR0b24iLCJjbGFzc0xpc3QiLCJhZGRFdmVudExpc3RlbmVyIiwidmFsdWUiLCJ0cmltIiwibG9naW5Vc2VyIiwic2Vzc2lvblN0b3JhZ2UiLCJyZW1vdmUiLCJ0aW1lIiwiZGVsYXllZENhbGwiLCJzY2VuZSIsInN0YXJ0IiwibWVzc2FnZSIsImFsZXJ0IiwiZSIsImNsaWNrIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJjdXJyZW50VXNlcm5hbWUiLCJsb2dvdXRVc2VyIiwicmVtb3ZlSXRlbSIsInN0b3BQb2xsaW5nIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwiZGF0YSIsImNvbm5lY3RlZCIsIm5vdGlmeUxpc3RlbmVycyIsImNvdW50Iiwic3VjY2VzcyIsImhhbmRsZURpc2Nvbm5lY3Rpb24iLCJhZGRMaXN0ZW5lciIsImNhbGxiYWNrIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJnZXRTdGF0dXMiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJNZW51U2NlbmUiLCJhdWRpbyIsIkZvbnRGYWNlIiwidGhlbiIsImxvYWRlZEZvbnQiLCJmb250cyIsImNhdGNoIiwibXVzaWNWb2x1bWUiLCJzZnhWb2x1bWUiLCJyYXciLCJtdiIsIk51bWJlciIsInN2IiwibGVnYWN5Iiwidm9sdW1lIiwiaXNGaW5pdGUiLCJzb3VuZCIsInN0b3BCeUtleSIsImVyciIsIm1lbnVNdXNpYyIsImdhbWUiLCJwbGF5IiwibG9vcCIsInRpdHVsbyIsInNjYWxlQnRuIiwiYm90b24xIiwieVN0YXJ0IiwiYm90b24yIiwiYm90b24zIiwiYm90b240IiwiYm90b241IiwidGV4dCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImNvbG9yIiwic2V0T3JpZ2luIiwic2V0QW5nbGUiLCJsb2NhbEJ0biIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsIm9uIiwic2V0U3R5bGUiLCJmaWxsIiwib25saW5lQnRuIiwic3RvcCIsImNyZWRpdG9zQnRuIiwiaGlzdG9yaWFCdG4iLCJjb250cm9sQnRuIiwib3JpZ2luYWxTY2VuZSIsImFqdXN0ZXNCdG4iLCJjb25uZWN0aW9uVGV4dCIsImNvbm5lY3Rpb25MaXN0ZW5lciIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5IiwiaXNBY3RpdmUiLCJzZXRUZXh0Iiwic2V0Q29sb3IiLCJzaHV0ZG93biIsIk1hZ28iLCJpZCIsIngiLCJ5IiwiaWRTcHJpdGUiLCJ2aWRhIiwiaWRsZSIsImVzdGFkb19ub3JtYWwiLCJiYXNlV2lkaHQiLCJiYXNlSGVpZ2h0IiwiYmFzZVNwZWVkIiwiaXNKdW1waW5nIiwianVtcFZlbG9jaXR5IiwiZ3JvdW5kWSIsInNwcml0ZSIsInBoeXNpY3MiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJhbGxvd0dyYXZpdHkiLCJzZXRTaXplIiwic2V0T2Zmc2V0IiwiYW5kYXJfYW5pbWFjaW9uIiwiYW5pbXMiLCJpc1BsYXlpbmciLCJleGlzdHMiLCJhbmRhcl9hbmltYWNpb25fcGFyYXIiLCJzZXRUZXh0dXJlIiwianVtcCIsInNldFZlbG9jaXR5WSIsInVwZGF0ZSIsImRlbHRhIiwidmVsb2NpdHkiLCJzY2FsZSIsInNldFBvc2l0aW9uIiwiQ29tbWFuZFByb2Nlc3NvciIsInBsYXllcnMiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwiY29tbWFuZCIsImV4ZWN1dGUiLCJDb21tYW5kIiwic2VyaWFsaXplIiwiZ2V0UGxheWVyIiwiTW92ZU1hZ29Db21tYW5kIiwibWFnbyIsImRpcmVjdGlvbiIsInNhbHRvIiwic2V0VmVsb2NpdHlYIiwiUGF1c2VHYW1lQ29tbWFuZCIsImlzUGF1c2VkIiwic2V0UGF1c2VTdGF0ZSIsIkdhbWVTY2VuZSIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0IiwiaW5pdCIsImlucHV0TWFwcGluZ3MiLCJlc2NXYXNEb3duIiwibFB1bHNhZGEiLCJwcm9jZXNzb3IiLCJjb2ZyZUFiaWVydG8iLCJ3YWxrU291bmRzIiwiZ2FtZVN0YXJ0VGltZSIsImdhbWVNb2RlIiwiaW52ZW50YXJpbyIsImZyYW1lcyIsImZyYW1lUmF0ZSIsInJlcGVhdCIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiYmdtIiwic2V0IiwiZXZlbnRzIiwid3MiLCJvbmNlIiwiZGVzdHJveSIsImNsZWFyIiwiY3JlYXJFc2NlbmFyaW8iLCJjcmVhclBsYXRhZm9ybWFzIiwiY3JlYXJCYXJyZXJhSW52aXNpYmxlIiwic2V0VXBQbGF5ZXJzIiwiZXN0YWJsZWNlckNvbGlzaW9uZXMiLCJpbnZlbnRhcmlvRW5QYW50YWxsYSIsImhlYWx0aExlZnQiLCJoZWFsdGhSaWdodCIsImVzY0tleSIsImlucHV0Iiwia2V5Ym9hcmQiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiRVNDIiwibGtleSIsIkwiLCJxa2V5IiwiUSIsImlzRG93biIsInRvZ2dsZVBhdXNlIiwibWFwcGluZyIsInBsYXllcklkIiwid2Fsa1NvdW5kIiwiaXNNb3ZpbmciLCJ1cEtleU9iaiIsImRvd25LZXlPYmoiLCJsZWZ0S2V5T2JqIiwiZmxpcFgiLCJyaWdodEtleU9iaiIsImp1bXBPYmoiLCJtb3ZlQ29tbWFuZCIsInVubyIsInNldEFscGhhIiwiZG9zIiwidHJlcyIsImN1YXRybyIsImNpbmNvIiwic2VpcyIsInNpZXRlIiwib2NobyIsIm51ZXZlIiwiZGlleiIsInN1ZWxvIiwic2V0SW1tb3ZhYmxlIiwicGFyZWQiLCJlc3RhbnRlcmlhIiwiYm9sYUNyaXN0YWwiLCJjYWxkZXJvIiwiY2FtcG9GdWVyemEiLCJjb2ZyZSIsImxsYXZlIiwicGVyZ2FtaW5vIiwicGxhbnRhIiwicG9jaW9uZXMiLCJ2ZWxhcyIsImxpYnJvcyIsImVzdHJlbGxhMSIsImVzdHJlbGxhMiIsImJhcnJlcmFJbnZpc2libGUiLCJzdGF0aWNJbWFnZSIsInNldFZpc2libGUiLCJlc3RhbnRlcmlhQ29sbCIsInNldEFsbG93R3Jhdml0eSIsImNhbGRlcm9Db2xsIiwic2V0Q2lyY2xlIiwicGxhdGFmb3JtYXMiLCJzdGF0aWNHcm91cCIsInBsYXllciIsImNvbGxpZGVyIiwib3ZlcmxhcCIsImNlcm8iLCJwYXVzZSIsImxhdW5jaCIsImp1Z2Fkb3IiLCJpc01vdmluZ1VwIiwiSnVzdERvd24iLCJlbGVtUmVjb2dpZG9zIiwiZmlsdGVyIiwiZWxlbSIsImxlbmdodCIsImRpc2FibGVCb2R5IiwibW9zdHJhckV4cGxvc2lvbkNhbGRlcm8iLCJCZXR3ZWVuIiwiaSIsImFicmlyQ29mcmUiLCJyZWNvZ2VyRXN0cmVsbGEiLCJjb2xvY2FyRXN0cmVsbGEiLCJib3RvbjFBY3RpdmFkbyIsImFicmlyQ2FtcG9GdWVyemEiLCJib3RvbjJBY3RpdmFkbyIsImV4cGxvc2lvbiIsInNldERlcHRoIiwiZG9jZSIsIm4iLCJlbmFibGVCb2R5IiwidGV4dHVyZSIsImNyZWFyUHVlcnRhRmluYWwiLCJwdWVydGFGaW5hbCIsImRlc2FjdGl2YWRvIiwiZW50cmFyUHVlcnRhRmluYWwiLCJ3czEiLCJ3czIiLCJsZWZ0TWFnbyIsInJpZ2h0TWFnbyIsInVwS2V5IiwiZG93bktleSIsImxlZnRLZXkiLCJyaWdodEtleSIsIm1hcCIsImNvbmZpZyIsImVuZEdhbWUiLCJyZWN0YW5nbGUiLCJib3RvbiIsInNldFZlbG9jaXR5IiwidGV4dG8iLCJtZW51QnRuIiwicGxheWVyMSIsInBsYXllcjIiLCJyZXN1bWUiLCJpdGVtIiwibmV3UGF1c2VTdGF0ZSIsIlBhdXNlU2NlbmUiLCJyZXN1bWVCdG4iLCJvcmlnU2NlbmUiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsInNlbmQiLCJ0eXBlIiwic2V0VGltZW91dCIsImNsb3NlIiwiQ3JlZGl0c1NjZW5lIiwicGVyZ2FtaW5vMSIsIlJldHVybkJ0biIsIkhpc3RvcmlhU2NlbmUiLCJMaWJyZXJpYVNjZW5lIiwiYmFsbCIsImFicmlyIiwiZGF0b3MiLCJwb2Npb25lc1JlY29naWRhcyIsInBvY2lvbkFtIiwicG9jaW9uTiIsInBvY2lvbk0iLCJwb2Npb25SIiwicG9jaW9uViIsInBvY2lvbkF6IiwibGlicm8iLCJhYmlyIiwicGFkZGxlIiwiQ29udHJvbFNjZW5lIiwicGVyZ2FtaW5vMiIsInBlcmdhbWlubzMiLCJEZWNpc2lvblNjZW5lIiwiZm9uZG9EIiwic2VsZWN0b3IiLCJlbGVjY2lvbiIsImJ0bjEiLCJidG4yIiwiZXNjZW5hIiwiRmluYWxCU2NlbmUiLCJkZWNpc2lvblNjZW5lIiwiZ2FtZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJmb25kb0MiLCJidG4iLCJGaW5hbE0xU2NlbmUiLCJmb25kb18xTSIsIkZpbmFsTTJTY2VuZSIsImZvbmRvXzJNIiwiU3RhdHNTY2VuZSIsImxhc3RHYW1lRHVyYXRpb24iLCJsYXN0R2FtZVNlY29uZHMiLCJzZXJ2ZXJTdGF0cyIsImZ1ZW50ZSIsImdldFVzZXJHYW1lU3RhdHMiLCJhdmdTZWNvbmRzIiwiZm9udFN0eWxlIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJwcmV2aW91c1NjZW5lIiwic3RhdHVzVGV4dCIsImF0dGVtcHRDb3VudCIsImF0dGVtcHRUZXh0IiwiZG90Q291bnQiLCJhZGRFdmVudCIsImRlbGF5IiwiZG90cyIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0IiwiU2FsYURlRXNwZXJhIiwicmVzZXRTdGF0ZSIsInJvb21Db2RlIiwicm9vbUlkIiwiZ2FtZVN0YXJ0ZWQiLCJyb29tQ29kZVRleHQiLCJhY3RpdmUiLCJjb2RlSW5wdXQiLCJjb250YWlucyIsImNvbm5lY3RUb1NlcnZlciIsImNyZWFySW50ZXJmYXoiLCJ3aWR0aCIsImNhbWVyYXMiLCJtYWluIiwiaGVpZ2h0IiwidGl0dWxvQ3JlYXJTYWxhIiwiYm90b25DcmVhclNhbGEiLCJjcmVhclNhbGFUZXh0IiwiY3JlYXJTYWxhIiwidGl0dWxvQ29sYSIsImJvdG9uVW5pcnNlQ29sYSIsInVuaXJzZUNvbGFUZXh0IiwidW5pcnNlQ29sYSIsInRpdHVsb0NvZGlnbyIsImNyZWF0ZUNvZGVJbnB1dCIsImJvdG9uVW5pcnNlQ29kaWdvIiwidW5pcnNlQ29kaWdvVGV4dCIsInVuaXJzZVNhbGEiLCJ2b2x2ZXJCdXR0b24iLCJpbnB1dEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGxhY2Vob2xkZXIiLCJtYXhMZW5ndGgiLCJzdHlsZSIsImNzc1RleHQiLCJ0b1VwcGVyQ2FzZSIsImFwcGVuZENoaWxkIiwicG9zaXRpb25JbnB1dCIsInJlY3QiLCJjYW52YXMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0Iiwicm91bmQiLCJpbnB1dFdpZHRoIiwidG9wIiwiaW5wdXRIZWlnaHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlU2VydmVyTWVzc2FnZSIsInBvc2l0aW9uIiwiY29kZSIsIm1vc3RyYXJCb3RvbmVzIiwicGxheWVyUm9sZSIsInJvbGUiLCJpbml0aWFsQmFsbCIsIm9ubWVzc2FnZSIsIm9jdWx0YXJCb3RvbmVzIiwiZGlzYWJsZUludGVyYWN0aXZlIiwiZGlzcGxheSIsIkNPTk5FQ1RJTkciLCJvbm9wZW4iLCJvbmVycm9yIiwib25jbG9zZSIsIndzVXJsIiwiaG9zdCIsImV2ZW50IiwibGVhdmVRdWV1ZSIsIkdhbWVTY2VuZU8iLCJsb2NhbFBsYXllciIsInJlbW90ZVBsYXllciIsImVzdHJlbGxhIiwibE9wb25lbnRlIiwibGxhdmVSZWNvZ2lkYSIsImVzdHJlbGxhMVJlY29naWRhIiwiZXN0cmVsbGEyUmVjb2dpZGEiLCJsb2NhbFBsYXllclRleHQiLCJsb2NhbFVzZXJuYW1lIiwicmVtb3RlVXNlcm5hbWUiLCJzaG93VXNlcm5hbWVzIiwiY3Vyc29ycyIsImNyZWF0ZUN1cnNvcktleXMiLCJqdW1wS2V5IiwiU1BBQ0UiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsImRpcmVjY2lvbiIsInVwIiwiZG93biIsInJpZ2h0Iiwic2VuZE1lc3NhZ2UiLCJsb2NhbFdhbGsiLCJhY3R1YWxpemFySW52ZW50YXJpb0VuUGFudGFsbGEiLCJlc3RhZG8iLCJjb21wcm9iYXJDYW1wb0Z1ZXJ6YSIsImdhbmFkb3IiLCJtYWdvMSIsIm1hZ28yIiwiZ2FtZUVuZGVkIiwicmVtb3RlV2FsayIsIndpbm5lcklkIiwiYiIsInZhbG9yIiwiaGFuZGxlQ2FsZGVybyIsImhhbmRsZVB1ZXJ0YUZpbmFsIiwiY3JlYXRlTWVudUJ1dHRvbiIsImV4aXRvIiwid2Fsa1MiLCJsb2NhbFVzZXJuYW1lVGV4dCIsInJlbW90ZVVzZXJuYW1lVGV4dCIsInNhdmVWb2x1bWVzIiwicGF5bG9hZCIsIlNldHRpbmdzU2NlbmUiLCJiYXNlIiwibXVzaWMiLCJzZngiLCJDbGFtcCIsImxvYWRTYXZlZFZvbHVtZXMiLCJtdXNpY1ZhbHVlVGV4dCIsImZtdFBjdCIsIm11c2ljU2xpZGVyIiwiY3JlYXRlU2xpZGVyIiwidiIsImdtIiwiQXJyYXkiLCJpc0FycmF5Iiwic291bmRzIiwicyIsInNldFZvbHVtZSIsInNmeFZhbHVlVGV4dCIsInNmeFNsaWRlciIsImJhY2tCdG4iLCJwbGF5SG92ZXIiLCJpbml0aWFsVmFsdWUiLCJvbkNoYW5nZSIsInRyYWNrIiwiaGFuZGxlIiwiY2lyY2xlIiwic2V0U3Ryb2tlU3R5bGUiLCJkcmFnZ2FibGUiLCJzZXREcmFnZ2FibGUiLCJzZXRGcm9tUG9pbnRlciIsInBvaW50ZXJYIiwiY2xhbXBlZCIsInAiLCJ3b3JsZFgiLCJfcG9pbnRlciIsImdhbWVPYmplY3QiLCJkcmFnWCIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJkb20iLCJjcmVhdGVDb250YWluZXIiLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9