(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);const i="juego_magos_stats";function a(e){try{const t=localStorage.getItem(i),s=t?JSON.parse(t):{};return s[e]||(s[e]={totalPartidas:0,tiempoTotal:0,partidas:[],ultimaActualizacion:(new Date).toISOString()}),s[e]}catch(e){return console.error("Error al obtener estad√≠sticas locales:",e),{totalPartidas:0,tiempoTotal:0,partidas:[],ultimaActualizacion:(new Date).toISOString()}}}function o(e){if(!e)throw new Error("El nombre de usuario es obligatorio");const t=a(e);return{username:e,modo:"local",totalPartidas:t.totalPartidas,tiempoPromedio:t.totalPartidas>0?t.tiempoTotal/t.totalPartidas:0,tiempoTotal:t.tiempoTotal,partidas:t.partidas,ultimaActualizacion:t.ultimaActualizacion}}const n="http://localhost:3000";async function r(e,t,s="local"){const o=function(e,t){if(!e||"number"!=typeof t||t<0)throw new Error("Datos inv√°lidos para registrar la partida");const s=a(e);return s.totalPartidas++,s.tiempoTotal+=t,s.partidas.push({duracion:t,fecha:(new Date).toISOString()}),s.partidas.length>50&&(s.partidas=s.partidas.slice(-50)),function(e,t){try{const s=localStorage.getItem(i),a=s?JSON.parse(s):{};a[e]={...t,ultimaActualizacion:(new Date).toISOString()},localStorage.setItem(i,JSON.stringify(a))}catch(e){console.error("Error al guardar estad√≠sticas locales:",e)}}(e,s),console.log(`üéÆ PARTIDA LOCAL: ${e} - Duraci√≥n: ${(t/1e3).toFixed(2)}s`),console.log(`   Promedio: ${(s.tiempoTotal/s.totalPartidas/1e3).toFixed(2)}s`),{username:e,modo:"local",partidasJugadas:s.totalPartidas,tiempoPromedio:s.tiempoTotal/s.totalPartidas,ultimaPartida:t}}(e,t);if("online"===s)try{const s=await fetch(`${n}/api/users/${e}/game-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({durationMs:t})});if(s.ok){const t=await s.json();return console.log(`Partida registrada en servidor: ${e}`),{...o,modo:"online",sincronizadoServidor:!0,datosServidor:t}}{const e=await s.json();console.warn("Advertencia: No se pudo guardar en servidor:",e.error)}}catch(e){console.warn("Error al conectar con servidor, guardando solo localmente:",e)}return o}class l extends s().Scene{constructor(){super("LoginScene")}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png")}create(){this.fondo=this.add.image(500,350,"fondoM"),this.fondo.setScale(.8);const e=document.getElementById("login-form"),t=document.getElementById("username"),s=document.getElementById("password"),i=document.getElementById("loginButton");console.log("LoginScene iniciada"),e&&e.classList.add("active"),i&&i.addEventListener("click",async()=>{const i=t.value.trim();if(""!==i)try{await async function(e){const t=await fetch(`${n}/api/users/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Error al iniciar sesi√≥n")}return console.log("Login exitoso."),await t.json()}(i),console.log("Login exitoso:",i),sessionStorage.setItem("currentUsername",i),e&&e.classList.remove("active"),t.value="",s.value="",this.time.delayedCall(500,()=>{this.scene.start("MenuScene")})}catch(e){console.error("Error en login:",e.message),alert("Error: "+e.message)}else alert("Por favor ingresa un usuario")}),t&&t.addEventListener("keypress",e=>{"Enter"===e.key&&i.click()})}}const h=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling(),window.addEventListener("beforeunload",async()=>{const e=sessionStorage.getItem("currentUsername");if(e)try{await async function(e){const t=await fetch(`${n}/api/users/logout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Error al cerrar sesi√≥n")}return console.log("Logout exitoso."),await t.json()}(e),console.log("Logout autom√°tico al cerrar la ventana"),sessionStorage.removeItem("currentUsername"),sessionStorage.removeItem("currentUser")}catch(e){console.error("Error en logout autom√°tico:",e)}this.stopPolling()})}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e),e({connected:this.isConnected,count:this.connectedCount})}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>{try{t(e)}catch(e){console.error("Error en Listener:",e)}})}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime,sessionId:this.sessionId}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class d extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3"),this.load.audio("musicaMenu","/sounds/m√∫sica_MPrincipal.mp3"),new FontFace("Tagesschrift","url(/fuentes/Tagesschrift.ttf)").load().then(function(e){document.fonts.add(e)}).catch(function(e){console.error("Error loading font:",e)})}create(){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.game.sound.play("musicaMenu",{volume:.7,loop:!0}),this.fondo=this.add.image(500,350,"fondoM"),this.fondo.setScale(.8),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,300,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,350,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,400,"boton"),this.boton3.setScale(.1),this.boton4=this.add.image(500,450,"boton"),this.boton4.setScale(.1),this.boton5=this.add.image(500,500,"boton"),this.boton5.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8);const e=this.add.text(500,300,"Local",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("musicaMenu"),this.scene.start("GameScene")}),t=this.add.text(500,350,"Online",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#ff0000ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",async()=>{this.scene.stop(),this.scene.start("SalaDeEspera")}),s=this.add.text(500,400,"Cr√©ditos",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#ff9100ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("CreditsScene")}),i=this.add.text(500,450,"Historia",{fontSize:"24px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#38ffffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("HistoriaScene")}),a=this.add.text(500,500,"Controles",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{a.setStyle({fill:"#ff0dffc1"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>a.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("ControlScene",{originalScene:"MenuScene"})});this.connectionText=this.add.text(500,540,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00",fontFamily:"Tagesschrift"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},h.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&h.removeListener(this.connectionListener)}}class c{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.vida=3,this.idle=a,this.estado_normal=!0,this.baseWidht=20,this.baseHeight=100,this.baseSpeed=300,this.isJumping=!1,this.jumpVelocity=0,this.groundY=i,this.sprite=this.scene.physics.add.sprite(s,i,a),this.sprite.setScale(.35),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setSize(125,175),this.sprite.body.setOffset(880,750)}andar_animacion(){this.sprite&&this.sprite.anims&&(this.sprite.anims.isPlaying||("idle_Azul"===this.idle?this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Azul")&&this.sprite.play("andar_mago_Azul"):"idle_Rojo"===this.idle&&this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Rojo")&&this.sprite.play("andar_mago_Rojo")))}andar_animacion_parar(){this.sprite&&this.sprite.anims&&this.sprite.anims.isPlaying&&(this.sprite.anims.stop(),this.sprite.setTexture(this.idle))}jump(){this.isJumping||(this.isJumping=!0,this.groundY=this.sprite.y,this.sprite.setVelocityY(-1e5),this.sprite.body.allowGravity=!0)}update(e){this.isJumping&&this.sprite.y>=this.groundY&&this.sprite.body.velocity.y>=0&&(this.sprite.y=this.groundY,this.sprite.setVelocityY(0),this.sprite.body.allowGravity=!1,this.isJumping=!1),!1===this.estado_normal?this.sprite.setScale(.1):this.sprite.setScale(.35)}setScale(e){this.sprite.setScale(e)}setPosition(e,t){this.sprite.setPosition(e,t)}}class p{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class g{execute(){}serialize(){}getPlayer(){}}class m extends g{constructor(e,t,s){super(),this.mago=e,this.direction=t,this.salto=s}execute(){"up"===this.direction?this.mago.sprite.setVelocityY(-this.mago.baseSpeed):"down"===this.direction?this.mago.sprite.setVelocityY(+this.mago.baseSpeed):"left"===this.direction?this.mago.sprite.setVelocityX(-this.mago.baseSpeed):"right"===this.direction?this.mago.sprite.setVelocityX(+this.mago.baseSpeed):(this.mago.sprite.setVelocityY(0),this.mago.sprite.setVelocityX(0)),this.salto&&this.mago.sprite.setVelocityY(3.5*-this.mago.baseSpeed)}}class u extends g{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class f extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("peque√±o","/sounds/peque√±o.mp3")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new p,this.cofreAbierto=!1,this.walkSounds=new Map,this.gameStartTime=Date.now(),this.gameMode="local",this.username="JugadorLocal",this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(e,t){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.escWasDown=this.escKey.isDown,console.log("Holaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.lPulsada=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0),this.players.forEach(e=>{e.update(t)}),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null,i=!1;const a=this.walkSounds.get(e.playerId);let o=!1;e.upKeyObj.isDown?(s="up",o=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",o=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",o=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",o=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),a&&a.isPlaying&&a.stop()),e.jumpObj.isDown&&(t.estado_normal||(i=!0,t.andar_animacion_parar())),o&&a&&!a.isPlaying&&a.play();let n=new m(t,s,i);this.processor.process(n)}),this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1)}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameScene",pociones:this.inventario,sound:this.sound,jugador:t}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{if(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey)){let e=this.inventario.filter(e=>!0===e);3===e.length||4===e.lenght?this.inventario[3]&&this.inventario[5]&&this.inventario[7]&&(console.log("Poci√≥n de disminuir tama√±o creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("peque√±o",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poci√≥n de disminuir tama√±o"),this.sound&&this.sound.play("explosion",{volume:.5}),1===s().Math.Between(1,2)?this.da√±oJugLeft():this.da√±oJugRight());for(let e=1;e<this.inventario.length-2;e++)switch(this.inventario[e]=!1,e){case 1:this.uno.setAlpha(.2);break;case 2:this.dos.setAlpha(.2);break;case 3:this.tres.setAlpha(.2);break;case 4:this.cuatro.setAlpha(.2);break;case 5:this.cinco.setAlpha(.2);break;case 6:this.seis.setAlpha(.2);break;case 7:this.siete.setAlpha(.2);break;case 8:this.ocho.setAlpha(.2);break;case 9:this.nueve.setAlpha(.2);break;case 10:this.diez.setAlpha(.2)}}}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.boton1Activado=!0,this.abrirCampoFuerza()}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.boton2Activado=!0,this.abrirCampoFuerza()})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){this.cofreAbierto&&(console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})}))}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2)):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2)))}abrirCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&this.qkey.isDown&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal())}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0);let e=[!1,!1];this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.players.get("player1").sprite.disableBody(!0,!0),e[0]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player1");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.players.get("player2").sprite.disableBody(!0,!0),e[1]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player2");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}})}entrarPuertaFinal(e){if(e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{modo:"local"})}}setUpPlayers(){const e=new c(this,"player1",50,400,"idle_Azul"),t=new c(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",leftKey:"A",rightKey:"D",jump:"SPACE"},{playerId:"player2",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"ENTER"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Men√∫",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}da√±oJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador de la izquierda ha recibido da√±o"),e.vida<=0&&this.endGame("player1")}da√±oJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador de la derecha ha recibido da√±o"),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume(),this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}togglePause(){const e=!this.isPaused;this.processor.process(new u(this,e))}}class y extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,200,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,350,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,400,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,450,"boton"),this.boton3.setScale(.1),this.add.text(500,200,"Juego Pausado",{fontSize:"60px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5);const t=this.add.text(500,350,"Volver",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#00ff88ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),s=this.add.text(500,400,"Men√∫",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#6839b3ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{if(e&&"GameSceneO"===e.originalScene){const e=this.scene.get("GameSceneO");e&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(e.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{try{e.ws.close()}catch(e){console.warn(e)}},50))}}catch(e){console.warn(e)}try{this.game.sound.stopByKey("bgm")}catch(e){console.warn(e)}this.scene.start("MenuScene"),this.scene.stop(e.originalScene),this.scene.stop()}),i=this.add.text(500,450,"Controles",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#00eeffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("ControlScene",{originalScene:e&&e.originalScene?e.originalScene:"GameScene"})})}}class b extends s().Scene{constructor(){super("CreditsScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(500,380,"pergamino"),this.pergamino1.setScale(2),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,245,"Cr√©ditos",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,310,"Paula Ortiz Fern√°ndez",{fontSize:"24px",color:"#91ffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,355,"Daniel Corbacho Anes",{fontSize:"24px",color:"#fff132ff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,400,"Alejandro Hern√°ndez Ruiz",{fontSize:"24px",color:"#d7acffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,450,"√Ångel Berm√∫dez Fari√±as",{fontSize:"24px",color:"#ffceadff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.start("MenuScene")})}}class v extends s().Scene{constructor(){super("HistoriaScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#070707ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Historia",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,380,"Despu√©s de a√±os de entrenamiento, por fin ha llegado el momento en el que naquellos magos por\nfin iban a conseguir ser magos de verdad. Llevaban mucho tiempo prepar√°ndose y estudiando para\neste momento, y por fin van a recibir aquel elixir deseado por todo mago,\n‚Äúel elixir de la vida eterna‚Äù.\n\nSin embargo, no ser√° sencillo, a√∫n deber√°n demostrar por √∫ltima vez que est√°n hechos para obtener\nesta gran virtud. La tradici√≥n cuenta que para conseguir ser un verdadero mago ser√° necesario\nconseguir por ellos mismos este elixir adentr√°ndose en la Torre Encantada, demostrando que son\nmerecedores del t√≠tulo de mago eterno y que poseen las habilidades necesarias. La m√°s importante,\nla colaboraci√≥n, puesto que por uno solo no siempre se puede llegar al lugar deseado. \n\nPor este motivo, los j√≥venes aprendices que deseen ascender, se adentrar√°n en aquella vieja torre,\n y atravesar√°n, una a una, sus salas hasta llegar arriba del todo, d√≥nde se encuentra el elixir\nque tanto desean. En cada sala se encontrar√°n con numerosos obst√°culos que deber√°n sobrepasar \ndemostrando sus habilidades obtenidas durante todos estos a√±os de esfuerzo.",{fontSize:"16px",color:"#ffffffff"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")})}}class S extends s().Scene{constructor(){super("LibreriaScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("bolaCristalColor","/imagenes/bolaCristalColor.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("plantaColor","/imagenes/plantaColor.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("velasColor","/imagenes/velasColor.png"),this.load.image("librosColor","/imagenes/librosColor.png"),this.load.image("idle","/imagenes/mano.png")}init(){this.players=new Map,this.inputMappings=[],this.ball=null,this.abrir=!1,this.escWasDown=!1,this.datos,this.processor=new p,this.pocionesRecogidas={bolaCristal:!1,planta:!1,pocionAm:!1,pocionN:!1,pocionM:!1,pocionR:!1,pocionV:!1,pocionAz:!1,velas:!1,libro:!1}}create(e){this.mago=this.add.image(100,100,"idle"),this.mago.setScale(1.9),this.crearEscenario(),this.setUpPlayers(),this.establecerColisiones(),this.datos=e,this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(){this.escKey.isDown&&!this.escWasDown&&(this.datos.ws&&this.datos.ws.readyState===WebSocket.OPEN&&this.datos.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.datos.pociones})),this.scene.resume(this.datos.originalScene,{pociones:this.datos.pociones}),this.scene.stop()),this.abir=!1,this.lkey.isDown&&(this.abrir=!0),this.qkey.isDown&&(this.abrir=!0),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new m(t,s);this.processor.process(i)})}crearEscenario(){this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(1.7),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(440,270,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(1.7),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(485,280,"bolaCristalColor"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(1.7),this.bolaCristal.body.allowGravity=!1,this.planta=this.physics.add.image(440,450,"plantaColor"),this.planta.setImmovable(!0),this.planta.setScale(1.7),this.planta.body.allowGravity=!1,this.pocionAm=this.physics.add.image(530,165,"pocionesAm"),this.pocionAm.setImmovable(!0),this.pocionAm.setScale(1.7),this.pocionAm.body.allowGravity=!1,this.pocionN=this.physics.add.image(595,175,"pocionesN"),this.pocionN.setImmovable(!0),this.pocionN.setScale(1.7),this.pocionN.body.allowGravity=!1,this.pocionM=this.physics.add.image(280,165,"pocionesM"),this.pocionM.setImmovable(!0),this.pocionM.setScale(1.7),this.pocionM.body.allowGravity=!1,this.pocionR=this.physics.add.image(405,165,"pocionesRo"),this.pocionR.setImmovable(!0),this.pocionR.setScale(1.7),this.pocionR.body.allowGravity=!1,this.pocionV=this.physics.add.image(345,175,"pocionesV"),this.pocionV.setImmovable(!0),this.pocionV.setScale(1.7),this.pocionV.body.allowGravity=!1,this.pocionAz=this.physics.add.image(470,170,"pocionesAz"),this.pocionAz.setImmovable(!0),this.pocionAz.setScale(1.7),this.pocionAz.body.allowGravity=!1,this.velas=this.physics.add.image(350,290,"velasColor"),this.velas.setImmovable(!0),this.velas.setScale(1.7),this.velas.body.allowGravity=!1,this.libro=this.physics.add.image(370,33,"librosColor"),this.libro.setImmovable(!0),this.libro.setScale(1.7),this.libro.body.allowGravity=!1}establecerColisiones(){this.players.forEach(e=>{this.physics.add.overlap(e.sprite,this.bolaCristal,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.bolaCristal&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.bolaCristal=!0),this.bolaCristal.setAlpha(.5),this.datos.pociones[9]=!0,this.abrir=!1,console.log("BOLA CRISTAL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.planta,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.planta&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.planta=!0),this.planta.setAlpha(.5),this.datos.pociones[10]=!0,this.abrir=!1,console.log("PLANTA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAm,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAm&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAm=!0),this.pocionAm.setAlpha(.5),this.datos.pociones[6]=!0,this.abrir=!1,console.log("POCION AMARILLA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionN,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionN&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionN=!0),this.pocionN.setAlpha(.5),this.datos.pociones[7]=!0,this.abrir=!1,console.log("POCION NARANJA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionM,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionM&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionM=!0),this.pocionM.setAlpha(.5),this.datos.pociones[2]=!0,this.abrir=!1,console.log("POCION MORADA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionR,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionR&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionR=!0),this.pocionR.setAlpha(.5),this.datos.pociones[4]=!0,this.abrir=!1,console.log("POCION ROSA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionV,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionV&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionV=!0),this.pocionV.setAlpha(.5),this.datos.pociones[3]=!0,this.abrir=!1,console.log("POCION VERDE RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAz,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAz&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAz=!0),this.pocionAz.setAlpha(.5),this.datos.pociones[5]=!0,this.abrir=!1,console.log("POCION AZUL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.velas,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.velas&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.velas=!0),this.velas.setAlpha(.5),this.datos.pociones[8]=!0,this.abrir=!1,console.log("VELAS RECOGIDAS"))}),this.physics.add.overlap(e.sprite,this.libro,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.libro&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.libro=!0),this.libro.setAlpha(.5),this.datos.pociones[1]=!0,this.abrir=!1,console.log("LIBROS RECOGIDOS"))})})}setUpPlayers(){const e=new c(this,"player1",50,300,"idle");e.setScale(.08),this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT"}].map(e=>(console.log(e),{playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey])}))}}class w extends s().Scene{constructor(){super("ControlScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(220,380,"pergamino"),this.pergamino1.setScale(1.3,1.8),this.pergamino2=this.add.image(500,380,"pergamino"),this.pergamino2.setScale(1.3,1.8),this.pergamino3=this.add.image(780,380,"pergamino"),this.pergamino3.setScale(1.3,1.8),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Controles",{fontSize:"45px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(220,310,"Jugador 1:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#9be3ffff"}).setOrigin(.5),this.add.text(230,400,"W-Arriba\n A-Izquierda\n S-Abajo\n D-Derecha\n SPACE-Saltar\n Q-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,310,"Jugador 2:",{fontSize:"32px",color:"rgba(255, 99, 99, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(520,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n ENTER-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(750,310,"Online:",{fontSize:"32px",color:"rgba(141, 116, 255, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(800,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n SPACE-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{if("MenuScene"===e.originalScene){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")}else this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()})}}class x extends s().Scene{constructor(){super("DecisionScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoD","/imagenes/eleccion.jpg")}create(e){this.gameScene=this.scene.get("online"===e.modo?"GameSceneO":"GameScene"),this.gameMode=e.modo||"local",this.fondoD=this.physics.add.image(500,300,"fondoD"),this.fondoD.setImmovable(!0),this.fondoD.body.allowGravity=!1,this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.26),this.boton1=this.add.image(280,420,"boton"),this.boton1.setScale(.15),this.boton1.setAlpha(.5),this.boton2=this.add.image(730,420,"boton"),this.boton2.setScale(.15),this.boton2.setAlpha(.5),"local"===e.modo?this.selector=s().Math.Between(1,2):this.selector=e.eleccion,1===this.selector?(this.add.text(500,100,"El jugador 1 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player1"):2===this.selector&&(this.add.text(500,100,"El jugador 2 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player2"),this.add.text(500,150,"el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.add.text(500,320,"ahora deber√° elegir:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(280,420,"Compartir el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5),i=this.add.text(730,420,"Beber el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5);"online"===e.modo?this.id===e.jugador&&(t.setAlpha(1),t.setInteractive({useHandCursor:!0}),t.on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}),t.on("pointerout",()=>t.setStyle({fill:"#000000ff"})),t.on("pointerdown",()=>{e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:3})))}),i.setAlpha(1),i.setInteractive({useHandCursor:!0}),i.on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}),i.on("pointerout",()=>i.setStyle({fill:"#000000ff"})),i.on("pointerdown",()=>{1===this.selector?e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("ebviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:1}))):2===this.selector&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:2})))}),this.boton1.setAlpha(1),this.boton2.setAlpha(1)):"local"===e.modo&&(t.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("FinalBScene")}),i.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{1===this.selector?this.scene.start("FinalM1Scene"):2===this.selector&&this.scene.start("FinalM2Scene")}),this.boton1.setAlpha(1),this.boton2.setAlpha(1))}}class C extends s().Scene{constructor(){super("FinalBScene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoC","/imagenes/compartir.png"),this.load.audio("victoria","/sounds/victoria.mp3")}create(){const e=this.scene.get("DecisionScene");if(this.gameScene=e?.gameScene,this.gameMode=e?.gameMode||"local",this.gameDuration=this.gameScene?.gameStartTime?Date.now()-this.gameScene.gameStartTime:0,this.gameScene&&this.gameScene.gameStartTime){const e=this.gameDuration;r(this.gameScene.username||"JugadorLocal",e,this.gameMode).then(e=>{console.log("üìä Partida registrada:",e)}).catch(e=>console.warn("‚ö†Ô∏è No se pudo registrar la partida:",e))}this.fondoC=this.physics.add.image(500,300,"fondoC"),this.fondoC.setImmovable(!0),this.fondoC.body.allowGravity=!1,this.sound&&this.sound.play("victoria",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"Los jugadores han decidido",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"compartir el Elixir de la Vida Eterna, ahora",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ambos vivir√°n hasta la eternidad,",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,200,"y podr√°n adquirir todos los conocimientos",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,250,"existentes...",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(500,500,"Volver al men√∫ principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("victoria"),this.scene.start("StatsScene",{username:this.gameScene?.username||"JugadorLocal",mode:this.gameMode,duration:this.gameDuration})})}}class A extends s().Scene{constructor(){super("FinalM1Scene")}preload(){this.load.image("fondo_1M","/imagenes/traicion_ranaRoja.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){const e=this.scene.get("DecisionScene");if(this.gameScene=e?.gameScene,this.gameMode=e?.gameMode||"local",this.gameDuration=this.gameScene?.gameStartTime?Date.now()-this.gameScene.gameStartTime:0,this.gameScene&&this.gameScene.gameStartTime){const e=this.gameDuration;r(this.gameScene.username||"JugadorLocal",e,this.gameMode).then(e=>{console.log("üìä Partida registrada:",e)}).catch(e=>console.warn("‚ö†Ô∏è No se pudo registrar la partida:",e))}this.fondo_1M=this.physics.add.image(500,300,"fondo_1M"),this.fondo_1M.setImmovable(!0),this.fondo_1M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 1 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elecci√≥n y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const t=this.add.text(500,500,"Volver al men√∫ principal",{fontSize:"16px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("StatsScene",{username:this.gameScene?.username||"JugadorLocal",mode:this.gameMode,duration:this.gameDuration})})}}class T extends s().Scene{constructor(){super("FinalM2Scene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondo_2M","/imagenes/traicion_ranaAzul.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){const e=this.scene.get("DecisionScene");if(this.gameScene=e?.gameScene,this.gameMode=e?.gameMode||"local",this.gameDuration=this.gameScene?.gameStartTime?Date.now()-this.gameScene.gameStartTime:0,this.gameScene&&this.gameScene.gameStartTime){const e=this.gameDuration;r(this.gameScene.username||"JugadorLocal",e,this.gameMode).then(e=>{console.log("üìä Partida registrada:",e)}).catch(e=>console.warn("‚ö†Ô∏è No se pudo registrar la partida:",e))}this.fondo_2M=this.physics.add.image(500,300,"fondo_2M"),this.fondo_2M.setImmovable(!0),this.fondo_2M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 2 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elecci√≥n y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const t=this.add.text(500,500,"Volver al men√∫ principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("StatsScene",{username:this.gameScene?.username||"JugadorLocal",mode:this.gameMode,duration:this.gameDuration})})}}class R extends s().Scene{constructor(){super("StatsScene")}preload(){this.load.image("boton","/imagenes/botonTexto.png")}create(e){const t=e?.username||"Jugador",s=e?.mode||"local",i=e?.duration||0;this.boton1=this.add.image(500,450,"boton"),this.boton1.setScale(.1),this.add.rectangle(500,280,1e3,560,0).setDepth(-1).setAlpha(.7),this.add.text(500,100,"TIEMPO DE PARTIDA",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#4bffabff"}).setOrigin(.5);const a=(i/1e3).toFixed(2);this.add.text(500,200,`Esta partida: ${a}s`,{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),async function(e,t="local"){if("local"===t)return o(e);try{const t=await fetch(`${n}/api/users/${e}/stats`);if(!t.ok){const s=await t.json();return console.warn("No hay estad√≠sticas en servidor, usando locales:",s.error),o(e)}const s=await t.json();return console.log(`Estad√≠sticas de ${e}:`,s),{...s,modo:"online",fuente:"servidor"}}catch(t){return console.warn("Error al obtener estad√≠sticas del servidor, usando locales:",t),o(e)}}(t,s).then(e=>{const t="string"==typeof e.tiempoPromedio?e.tiempoPromedio:(e.tiempoPromedio/1e3).toFixed(2)+"s";this.add.text(500,280,`Promedio: ${t}`,{fontSize:"24px",fontFamily:"Tagesschrift",color:"#4bffabff",fontStyle:"bold"}).setOrigin(.5),this.add.text(500,330,`Partidas jugadas: ${e.totalPartidas}`,{fontSize:"18px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5)}).catch(e=>console.warn("Error al cargar tiempo promedio:",e));const r=this.add.text(500,450,"Volver al men√∫",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{r.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>r.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}}class I extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png")}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,180,"titulo"),this.titulo.setScale(.25),this.add.text(500,180,"CONEXI√ìN PERDIDA",{fontSize:"48px",color:"#c90000ff",fontFamily:"Tagesschrift",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(500,320,"Intentando reconectar...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(500,390,"Intentos: 0",{fontSize:"18px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},h.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await h.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),h.removeListener(this.connectionListener),this.statusText.setText("¬°Conexi√≥n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&h.removeListener(this.connectionListener)}}class z extends s().Scene{constructor(){super({key:"SalaDeEspera"}),this.ws=null}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("pergaminoTitulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("campoFuerza","/imagenes/campodefuerza.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("walk","/sounds/walk.mp3")}resetState(){this.roomCode=null,this.roomId=null,this.gameStarted=!1,this.roomCodeText&&this.roomCodeText.active&&this.roomCodeText.setText(""),this.statusText&&this.statusText.active&&this.statusText.setText(""),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.value="")}init(){this.walkSounds=new Map,this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.processor=new p,this.bgm=null,this.roomCode=null,this.roomId=null,this.gameStarted=!1}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}}),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}),this.events.on("resume",()=>{this.bgm&&!this.bgm.isPlaying&&this.bgm.resume()}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}try{this.bgm&&(this.bgm.stop(),this.bgm.destroy())}catch(e){console.warn(e)}}),this.walkSounds.clear()}),this.crearEscenario(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.game.sound.stopByKey("musicaMenu"),this.bgm=this.sound.add("bgm",{volume:.7,loop:!0}),this.bgm.play(),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.connectToServer(),console.log("codigo:",this.roomCode),this.crearInterfaz()}crearInterfaz(){const e=this.cameras.main.width,t=this.cameras.main.height;this.pergamino=this.add.image(e/2,100,"pergaminoTitulo"),this.pergamino.setScale(.25,.2),this.titulo=this.add.text(e/2,100,"Online Multiplayer",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.roomCodeText=this.add.text(e/2,150,"",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.tituloCrearSala=this.add.text(e/2,300,"Crear torre",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonCrearSala=this.add.image(e/2,340,"boton"),this.botonCrearSala.setScale(.05,.1),this.crearSalaText=this.add.text(e/2,340,"Crear",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.crearSalaText.on("pointerover",()=>{this.crearSalaText.setStyle({fill:"#ff0000"})}),this.crearSalaText.on("pointerout",()=>{this.crearSalaText.setStyle({fill:"#000000ff"})}),this.crearSalaText.on("pointerdown",()=>{this.resetState(),this.crearSala()}),this.tituloCola=this.add.text(e/2,200,"√önete a una torre...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonUnirseCola=this.add.image(e/2,240,"boton"),this.botonUnirseCola.setScale(.05,.1),this.unirseColaText=this.add.text(e/2,240,"Torre",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseColaText.on("pointerover",()=>{this.unirseColaText.setStyle({fill:"#ff0000"})}),this.unirseColaText.on("pointerout",()=>{this.unirseColaText.setStyle({fill:"#000000ff"})}),this.unirseColaText.on("pointerdown",()=>{this.resetState(),this.unirseCola()}),this.tituloCodigo=this.add.text(e/2,400,"O √∫nete con c√≥digo",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.createCodeInput(e/2-80,440),this.botonUnirseCodigo=this.add.image(e/2+110,440,"boton"),this.botonUnirseCodigo.setScale(.05,.1),this.unirseCodigoText=this.add.text(e/2+110,440,"Unirse",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseCodigoText.on("pointerover",()=>{this.unirseCodigoText.setStyle({fill:"#ff0000"})}),this.unirseCodigoText.on("pointerout",()=>{this.unirseCodigoText.setStyle({fill:"#000000ff"})}),this.unirseCodigoText.on("pointerdown",()=>{this.unirseSala()}),this.statusText=this.add.text(e/2,t/2,"",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ff0000"}).setOrigin(.5),this.add.image(e/2,520,"boton").setScale(.05,.1);const s=this.add.text(e/2,520,"Volver",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setStyle({fill:"#ff0000"})}),s.on("pointerout",()=>{s.setStyle({fill:"#000000ff"})}),s.on("pointerdown",()=>{this.shutdown(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop(),this.scene.start("MenuScene")})}createCodeInput(e,t){const s=document.createElement("input");s.type="text",s.id="roomCodeInput",s.placeholder="C√≥digo de sala",s.maxLength=6,s.style.cssText="\n      position: absolute;\n      width: 200px;\n      height: 40px;\n      font-size: 24px;\n      text-align: center;\n      font-family: Tagesschrift, arial;\n      text-transform: uppercase;\n      border: 3px solid #ffffff;\n      background-color: #222222;\n      color: #ffffff;\n      border-radius: 5px;\n      outline: none;\n      z-index: 9999;",s.addEventListener("input",()=>{s.value=s.value.toUpperCase()}),s.addEventListener("keypress",e=>{"Enter"===e.key&&this.unirseSala()}),document.body.appendChild(s);const i=()=>{const i=this.game.canvas.getBoundingClientRect();s.style.left=`${Math.round(i.left+e-100)}px`,s.style.top=`${Math.round(i.top+t-20)}px`};i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),this.events.once("shutdown",()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i),s.remove()}),this.codeInput=s}handleServerMessage(e){switch(e.type){case"queueStatus":this.statusText.setText(`Jugadores en cola: ${e.position}/2`),this.statusText.setColor("#ffff00");break;case"roomInfo":e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Tu torre: ${e.code}`),this.roomCodeText.setColor("#ffffff"),this.roomId=e.roomId,this.statusText.setText(`Sala creada: ${e.code}`),this.statusText.setColor("#00ff00"));break;case"joinRoomResult":e.success?(this.roomCode=e.code,this.roomId=e.roomId,this.roomCodeText.setText(e.code),this.roomCodeText.setColor("#ffffff"),this.statusText.setText("Unido a la sala."),this.statusText.setColor("#00ff00")):(this.resetState(),this.mostrarBotones(),this.statusText.setText(e.message||"No se pudo unir a la sala."),this.statusText.setColor("#ff0000"));break;case"startGame":case"gameStart":if(this.gameStarted)return;this.gameStarted=!0,e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Torre: ${e.code}`),this.roomCodeText.setColor("#ffffff")),this.statusText.setText("¬°Partida iniciando!"),this.statusText.setColor("#00ff00"),console.log("Partida iniciando!",e),this.bgm&&(this.bgm.stop(),this.bgm.destroy());const t=sessionStorage.getItem("currentUsername")||"Jugador";this.scene.start("GameSceneO",{ws:this.ws,playerRole:e.role,roomId:e.roomId||this.roomId,initialBall:e.ball,username:t}),this.ws.onmessage=null;break;case"error":this.resetState(),this.statusText.setText(e.message||"Error del servidor."),this.statusText.setColor("#ff0000"),this.mostrarBotones();break;default:console.log("Unknown message type:",e.type)}}crearSala(){if(this.ws&&this.ws.readyState===WebSocket.OPEN){if(this.roomCode)return this.statusText.setText("Ya has creado una sala."),void this.statusText.setColor("#ff0000");this.ws.send(JSON.stringify({type:"createRoom"})),this.ocultarBotones(),this.statusText.setText("Creando sala..."),this.statusText.setColor("#ffff00")}else this.statusText.setText("No conectado al servidor. Error de conexti√≥n."),this.statusText.setColor("#ff0000")}unirseCola(){this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinQueue"})),this.ocultarBotones(),this.statusText.setText("Buscando partida..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conexti√≥n."),this.statusText.setColor("#ff0000"))}ocultarBotones(){this.tituloCrearSala.setVisible(!1),this.botonCrearSala.setVisible(!1),this.crearSalaText.setVisible(!1),this.crearSalaText.disableInteractive(),this.tituloCola.setVisible(!1),this.botonUnirseCola.setVisible(!1),this.unirseColaText.setVisible(!1),this.unirseColaText.disableInteractive(),this.tituloCodigo.setVisible(!1),this.codeInput.style.display="none",this.botonUnirseCodigo.setVisible(!1),this.unirseCodigoText.setVisible(!1),this.unirseCodigoText.disableInteractive(),this.codeInput&&(this.codeInput.style.display="none")}mostrarBotones(){this.tituloCrearSala.setVisible(!0),this.botonCrearSala.setVisible(!0),this.crearSalaText.setVisible(!0),this.crearSalaText.setInteractive(),this.tituloCola.setVisible(!0),this.botonUnirseCola.setVisible(!0),this.unirseColaText.setVisible(!0),this.unirseColaText.setInteractive(),this.tituloCodigo.setVisible(!0),this.codeInput.style.display="block",this.botonUnirseCodigo.setVisible(!0),this.unirseCodigoText.setVisible(!0),this.unirseCodigoText.setInteractive(),this.codeInput&&(this.codeInput.style.display="block")}unirseSala(){const e=this.codeInput.value.trim().toUpperCase();return e?6!==e.length?(this.statusText.setText("El c√≥digo de sala debe tener 6 caracteres."),void this.statusText.setColor("#ff0000")):void(this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinRoom",code:e})),this.statusText.setText("Intentando unirse a la sala..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conexti√≥n."),this.statusText.setColor("#ff0000"))):(this.statusText.setText("Por favor, introduce un c√≥digo de sala."),void this.statusText.setColor("#ff0000"))}update(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;const i=this.walkSounds.get(e.playerId);let a=!1;e.upKeyObj.isDown?(s="up",a=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",a=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",a=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",a=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),i&&i.isPlaying&&i.stop()),a&&i&&!i.isPlaying&&i.play();let o=new m(t,s,!1);this.processor.process(o)})}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerza"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500)}establecerColisiones(){this.players.forEach(e=>{this.physics.add.collider(e.sprite,this.barreraInvisible)})}setUpPlayers(){const e=new c(this,"player1",50,400,"idle_Azul");this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"SPACE"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"}))}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}connectToServer(){try{this.ws&&(this.ws.readyState!==WebSocket.OPEN&&this.ws.readyState!==WebSocket.CONNECTING||(console.log("WebSocket already connected or connecting"),this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.close()),this.ws=null);const e=`ws://${window.location.host}/ws`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Conectado al servidor."),this.statusText.setColor("#00ff00"),this.time.delayedCall(500,()=>{this.statusText.setText("")})},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("SalaDeEspera")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}leaveQueue(){this.ws&&(this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close()),this.ws=null),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.remove(),this.codeInput=null),this.resetState()}shutdown(){this.leaveQueue()}}class _ extends s().Scene{constructor(){super("GameSceneO")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("peque√±o","/sounds/peque√±o.mp3"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}init(e){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new p,this.cofreAbierto=!1,this.walkSounds=new Map,this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.username=e.username||"Jugador",this.localPlayer=null,this.remotePlayer=null,this.estrella=!1,this.lOponente=!1,this.desactivado=[!1,!1],this.gameStartTime=Date.now(),this.gameMode="online",this.llaveRecogida=!1,this.estrella1Recogida=!1,this.estrella2Recogida=!1}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"});const e="player1"===this.playerRole?"Eres el Jugador 1 (Azul)":"Eres el Jugador 2 (Rojo)";this.add.text(500,40,e,{fontSize:"24px",fontFamily:"Tagesschrift"}).setOrigin(.5),"player1"===this.playerRole?(this.localPlayer=this.players.get("player1"),this.remotePlayer=this.players.get("player2")):(this.localPlayer=this.players.get("player2"),this.remotePlayer=this.players.get("player1"));const t=sessionStorage.getItem("currentUsername")||"Jugador";this.localUsername=t,this.remoteUsername=null,this.ws.send(JSON.stringify({type:"setUsername",username:t,playerRole:this.playerRole})),this.time.delayedCall(500,()=>{this.showUsernames()}),this.cursors=this.input.keyboard.createCursorKeys(),this.jumpKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.SPACE),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q),this.setupWebSocketListeners()}update(e,t){if(!this.localPlayer||!this.remotePlayer)return;this.escKey.isDown&&!this.escWasDown&&this.togglePause();let s=null;s=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":this.cursors.left.isDown?"left":this.cursors.right.isDown?"right":"stop",this.escWasDown=this.escKey.isDown,this.lPulsada=!1,this.lOponente=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0,this.sendMessage({type:"lPulsada"})),this.players.forEach(e=>{e.update(t)});let i=new m(this.localPlayer,s,this.jumpKey.isDown);this.processor.process(i),"stop"!==s?(this.localPlayer.andar_animacion(),"left"===s?this.localPlayer.sprite.flipX=!1:"right"===s&&(this.localPlayer.sprite.flipX=!0)):this.localPlayer.andar_animacion_parar();const a=this.walkSounds.get(this.playerRole);"stop"!==s?a&&!a.isPlaying&&a.play():a&&a.isPlaying&&a.stop(),this.sendMessage({type:"playerMove",x:this.localPlayer.sprite.x,y:this.localPlayer.sprite.y,direction:s,isMoving:"stop"!==s,flipX:this.localPlayer.sprite.flipX}),this.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.inventario})),this.actualizarInventarioEnPantalla()}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.llaveRecogida||(this.llaveRecogida=!0,this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1),this.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.inventario})))}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameSceneO",pociones:this.inventario,sound:this.sound,jugador:t,ws:this.ws}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey))&&this.sendMessage({type:"usarCaldero",inventario:this.inventario})}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.sendMessage({type:"botonCampoFuerza",boton:1})}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.sendMessage({type:"botonCampoFuerza",boton:2})})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}actualizarInventarioEnPantalla(){this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){if(this.cofreAbierto){if(1===e&&this.estrella1Recogida)return;if(2===e&&this.estrella2Recogida)return;1===e&&(this.estrella1Recogida=!0),2===e&&(this.estrella2Recogida=!0),console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.inventario})),this.sendMessage({type:"cambiarSize",estado:"peque√±o"})}}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2),this.estrella=!0):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2),this.estrella=!0),this.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.inventario})))}comprobarCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&(this.lOponente||this.qkey.isDown)&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(this.sendMessage({type:"desactivarCampoFuerza"}),this.abrirCampoFuerza())}abrirCampoFuerza(){console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal()}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0),this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player1"})}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player2"})})}entrarPuertaFinal(e,t){if(console.log("Desactivado:",e),e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{eleccion:t,jugador:this.playerRole,ws:this.ws,modo:"online"})}}setUpPlayers(){const e=new c(this,"player1",50,400,"idle_Azul"),t=new c(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t)}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Men√∫",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{this.ws.close()},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}da√±oJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador 1 ha recibido da√±o"),this.sendMessage({type:"da√±oJugador",player:"player1",vida:e.vida}),e.vida<=0&&this.endGame("player1")}da√±oJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador 2 ha recibido da√±o"),this.sendMessage({type:"da√±oJugador",player:"player2",vida:e.vida}),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameSceneO"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){e&&e.pociones&&(this.inventario=e.pociones,this.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.inventario}))),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume()}togglePause(){const e=!this.isPaused;this.processor.process(new u(this,e))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error al parsear mensaje Websocket:",e)}},this.ws.onclose=()=>{console.log("Conexi√≥n WebSocket cerrada"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("Error de WebSocket :",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"usernames":console.log("Recibidos usernames:",e),"player1"===this.playerRole?(this.localUsername=e.player1,this.remoteUsername=e.player2):(this.localUsername=e.player2,this.remoteUsername=e.player1);break;case"setUsername":console.log("Recibido username:",e),e.playerRole!==this.playerRole&&(this.remoteUsername=e.username,console.log("Username remoto actualizado:",this.remoteUsername));break;case"movimientoJugador":{if(e.player===this.playerRole)break;if(!this.remotePlayer)break;const t=this.walkSounds.get(e.player);e.isMoving&&"stop"!==e.direction?t&&!t.isPlaying&&t.play():t&&t.isPlaying&&t.stop(),this.remotePlayer.sprite.x=e.x,this.remotePlayer.sprite.y=e.y,this.remotePlayer.sprite.flipX=e.flipX,e.isMoving&&"stop"!==e.direction?this.remotePlayer.andar_animacion():this.remotePlayer.andar_animacion_parar();break}case"gameOver":this.endGame(e.winnerId);break;case"playerDisconnected":this.handleDisconnection();break;case"da√±o":this.handleDa√±o(e);break;case"Inventario":{const t=this.inventario[0],s=this.inventario[11],i=this.inventario[12];this.inventario=e.inventario,!t&&e.inventario[0]&&this.llave&&(console.log("Llave recogida por el otro jugador"),this.llave.destroy()),!s&&e.inventario[11]&&this.estrella1&&(console.log("Estrella 1 recogida por el otro jugador"),this.estrella1.destroy(),this.once.setAlpha(1)),!i&&e.inventario[12]&&this.estrella2&&(console.log("Estrella 2 recogida por el otro jugador"),this.estrella2.destroy(),this.doce.setAlpha(1)),s&&!e.inventario[11]&&(console.log("Estrella 1 colocada por el otro jugador"),this.boton1&&this.boton1.setTexture("botonCR"),this.once&&this.once.setAlpha(.2)),i&&!e.inventario[12]&&(console.log("Estrella 2 colocada por el otro jugador"),this.boton2&&this.boton2.setTexture("botonCR"),this.doce&&this.doce.setAlpha(.2)),this.actualizarInventarioEnPantalla(),console.log("Inventario actualizado desde el servidor",this.inventario);break}case"botonCF":1===e.b?this.boton1Activado=!0:2===e.b&&(this.boton2Activado=!0),this.comprobarCampoFuerza();break;case"desactivarCF":this.abrirCampoFuerza();break;case"lOponente":this.lOponente=e.valor;break;case"usarCaldero":this.handleCaldero(e);break;case"size":"peque√±o"===e.estado&&this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})});break;case"puertaFinal":this.handlePuertaFinal(e);break;case"final":console.log("final"),1===e.escena?this.scene.start("FinalM1Scene"):2===e.escena?this.scene.start("FinalM2Scene"):this.scene.start("FinalBScene"),this.scene.stop("DecisionScene");break;default:console.log("Mensaje WebSocket desconocido:",e)}}handleDisconnection(){this.gameEnded=!0,this.localPlayer.sprite.setVelocity(0,0),this.remotePlayer.sprite.setVelocity(0,0),this.physics.pause(),this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,220,"titulo"),this.titulo.setScale(.3,.25),this.add.text(500,200,"Fallo por desconexi√≥n",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.add.text(500,250,"La partida ha finalizado",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.createMenuButton()}handleDa√±o(e){const t=this.players.get(e.player);t&&(t.vida=e.vida,"player1"===e.player?this.healthLeft.setText(e.vida.toString()):this.healthRight.setText(e.vida.toString()),t.vida<=0&&this.endGame(e.player))}handleCaldero(e){for(let e=1;e<this.inventario.length-2;e++)this.inventario[e]=!1;this.uno.setAlpha(.2),this.dos.setAlpha(.2),this.tres.setAlpha(.2),this.cuatro.setAlpha(.2),this.cinco.setAlpha(.2),this.seis.setAlpha(.2),this.siete.setAlpha(.2),this.ocho.setAlpha(.2),this.nueve.setAlpha(.2),this.diez.setAlpha(.2),e.exito?(console.log("Poci√≥n de disminuir tama√±o creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("peque√±o",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poci√≥n de disminuir tama√±o"),this.sound&&this.sound.play("explosion",{volume:.5}),1===e.jugadorDa√±ado?this.da√±oJugLeft():this.da√±oJugRight())}handlePuertaFinal(e){let t;if("player1"===e.jugador?(this.players.get("player1").sprite.disableBody(!0,!0),this.desactivado[0]=!0,t=this.walkSounds.get("player1")):(this.players.get("player2").sprite.disableBody(!0,!0),this.desactivado[1]=!0,t=this.walkSounds.get("player2")),t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}this.entrarPuertaFinal(this.desactivado,e.ganador)}createMenuButton(){this.boton=this.add.image(500,400,"boton"),this.boton.setScale(.15,.1);const e=this.add.text(500,400,"Volver al Men√∫",{fontFamily:"Tagesschrift",fontSize:"30px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),console.log("Cerrando conexi√≥n WebSocket..."),setTimeout(()=>{this.ws.close(),console.log("Conexi√≥n WebSocket cerrada.")},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}showUsernames(){if(this.localPlayer){const e=this.add.text(this.localPlayer.sprite.x,this.localPlayer.sprite.y-100,this.localUsername,{fontSize:"18px",fontFamily:"Arial",color:"#00ff00",fontStyle:"bold"}).setOrigin(.5);e.setDepth(100),this.time.delayedCall(3e3,()=>{e.destroy()})}if(this.remotePlayer){const e=this.remoteUsername||"Oponente",t=this.add.text(this.remotePlayer.sprite.x,this.remotePlayer.sprite.y-100,e,{fontSize:"18px",fontFamily:"Arial",color:"#00ff00",fontStyle:"bold"}).setOrigin(.5);t.setDepth(100),this.time.delayedCall(3e3,()=>{t.destroy()})}}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}const k={type:s().AUTO,width:1e3,height:560,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:2e4},debug:!1}},dom:{createContainer:!0},scene:[l,d,_,f,S,y,b,v,w,x,C,A,T,R,I,z],backgroundColor:"#47ddffff"};new(s().Game)(k)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixDQ0ExQkEsRUFBeUJDLElBQ3hCLElBQUlDLEVBQVNELEdBQVVBLEVBQU9FLFdBQzdCLElBQU9GLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBRCxFQUFvQkksRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsR0NMUkYsRUFBd0IsQ0FBQ00sRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUCxFQUFvQlMsRUFBRUYsRUFBWUMsS0FBU1IsRUFBb0JTLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0VSLEVBQXdCLENBQUNjLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLElDQWxGLE1BQU0sRUFBK0JJLE8sYUNLckMsTUFBTUMsRUFBYyxvQkFPcEIsU0FBU0MsRUFBY0MsR0FDckIsSUFDRSxNQUFNQyxFQUFRQyxhQUFhQyxRQUFRTCxHQUM3Qk0sRUFBV0gsRUFBUUksS0FBS0MsTUFBTUwsR0FBUyxDQUFDLEVBVzlDLE9BVEtHLEVBQVNKLEtBQ1pJLEVBQVNKLEdBQVksQ0FDbkJPLGNBQWUsRUFDZkMsWUFBYSxFQUNiQyxTQUFVLEdBQ1ZDLHFCQUFxQixJQUFJQyxNQUFPQyxnQkFJN0JSLEVBQVNKLEVBQ2xCLENBQUUsTUFBT2EsR0FFUCxPQURBQyxRQUFRRCxNQUFNLHlDQUEwQ0EsR0FDakQsQ0FDTE4sY0FBZSxFQUNmQyxZQUFhLEVBQ2JDLFNBQVUsR0FDVkMscUJBQXFCLElBQUlDLE1BQU9DLGNBRXBDLENBQ0YsQ0FrRU8sU0FBU0csRUFBa0JmLEdBQ2hDLElBQUtBLEVBQ0gsTUFBTSxJQUFJZ0IsTUFBTSx1Q0FHbEIsTUFBTWYsRUFBUUYsRUFBY0MsR0FFNUIsTUFBTyxDQUNMQSxXQUNBaUIsS0FBTSxRQUNOVixjQUFlTixFQUFNTSxjQUNyQlcsZUFBZ0JqQixFQUFNTSxjQUFnQixFQUFJTixFQUFNTyxZQUFjUCxFQUFNTSxjQUFnQixFQUNwRkMsWUFBYVAsRUFBTU8sWUFDbkJDLFNBQVVSLEVBQU1RLFNBQ2hCQyxvQkFBcUJULEVBQU1TLG9CQUUvQixDQ3hHQSxNQUFNUyxFQUFlLHdCQXlMZEMsZUFBZUMsRUFBa0JyQixFQUFVc0IsRUFBWUMsRUFBTyxTQUVuRSxNQUFNQyxFRHhJRCxTQUFnQ3hCLEVBQVVzQixHQUMvQyxJQUFLdEIsR0FBa0MsaUJBQWZzQixHQUEyQkEsRUFBYSxFQUM5RCxNQUFNLElBQUlOLE1BQU0sNkNBR2xCLE1BQU1mLEVBQVFGLEVBQWNDLEdBa0I1QixPQWpCQUMsRUFBTU0sZ0JBQ05OLEVBQU1PLGFBQWVjLEVBQ3JCckIsRUFBTVEsU0FBU2dCLEtBQUssQ0FDbEJDLFNBQVVKLEVBQ1ZLLE9BQU8sSUFBSWhCLE1BQU9DLGdCQUloQlgsRUFBTVEsU0FBU21CLE9BQVMsS0FDMUIzQixFQUFNUSxTQUFXUixFQUFNUSxTQUFTb0IsT0FBTyxLQXJDM0MsU0FBd0I3QixFQUFVQyxHQUNoQyxJQUNFLE1BQU1HLEVBQVdGLGFBQWFDLFFBQVFMLEdBQ2hDZ0MsRUFBYzFCLEVBQVdDLEtBQUtDLE1BQU1GLEdBQVksQ0FBQyxFQUV2RDBCLEVBQVk5QixHQUFZLElBQ25CQyxFQUNIUyxxQkFBcUIsSUFBSUMsTUFBT0MsZUFHbENWLGFBQWE2QixRQUFRakMsRUFBYU8sS0FBSzJCLFVBQVVGLEdBQ25ELENBQUUsTUFBT2pCLEdBQ1BDLFFBQVFELE1BQU0seUNBQTBDQSxFQUMxRCxDQUNGLENBMEJFb0IsQ0FBZWpDLEVBQVVDLEdBRXpCYSxRQUFRb0IsSUFBSSxxQkFBcUJsQyxrQkFBeUJzQixFQUFhLEtBQU1hLFFBQVEsT0FDckZyQixRQUFRb0IsSUFBSSxpQkFBaUJqQyxFQUFNTyxZQUFjUCxFQUFNTSxjQUFnQixLQUFNNEIsUUFBUSxPQUU5RSxDQUNMbkMsV0FDQWlCLEtBQU0sUUFDTm1CLGdCQUFpQm5DLEVBQU1NLGNBQ3ZCVyxlQUFnQmpCLEVBQU1PLFlBQWNQLEVBQU1NLGNBQzFDOEIsY0FBZWYsRUFFbkIsQ0MwR3NCZ0IsQ0FBdUJ0QyxFQUFVc0IsR0FHckQsR0FBYSxXQUFUQyxFQUNGLElBQ0UsTUFBTWdCLFFBQWlCQyxNQUFNLEdBQUdyQixlQUEwQm5CLGlCQUF5QixDQUNqRnlDLE9BQVEsT0FDUkMsUUFBUyxDQUNQLGVBQWdCLG9CQUVsQkMsS0FBTXRDLEtBQUsyQixVQUFVLENBQUVWLGlCQUd6QixHQUFLaUIsRUFBU0ssR0FHUCxDQUNMLE1BQU1DLFFBQXFCTixFQUFTTyxPQUVwQyxPQURBaEMsUUFBUW9CLElBQUksbUNBQW1DbEMsS0FDeEMsSUFDRndCLEVBQ0hQLEtBQU0sU0FDTjhCLHNCQUFzQixFQUN0QkMsY0FBZUgsRUFFbkIsQ0Faa0IsQ0FDaEIsTUFBTWhDLFFBQWMwQixFQUFTTyxPQUM3QmhDLFFBQVFtQyxLQUFLLCtDQUFnRHBDLEVBQU1BLE1BQ3JFLENBVUYsQ0FBRSxNQUFPQSxHQUNQQyxRQUFRbUMsS0FBSyw2REFBOERwQyxFQUM3RSxDQUdGLE9BQU9XLENBQ1QsQ0N0T08sTUFBTTBCLFVBQW1CLFVBQzVCLFdBQUFDLEdBQ0lDLE1BQU0sYUFDVixDQUVBLE9BQUFDLEdBQ0lDLEtBQUtDLEtBQUtDLE1BQU0sU0FBVSw2QkFDOUIsQ0FFQSxNQUFBQyxHQUVJSCxLQUFLSSxNQUFRSixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxVQUN0Q0YsS0FBS0ksTUFBTUUsU0FBUyxJQUdwQixNQUFNQyxFQUFZQyxTQUFTQyxlQUFlLGNBQ3BDQyxFQUFnQkYsU0FBU0MsZUFBZSxZQUN4Q0UsRUFBZ0JILFNBQVNDLGVBQWUsWUFDeENHLEVBQWNKLFNBQVNDLGVBQWUsZUFFNUNqRCxRQUFRb0IsSUFBSSx1QkFFUjJCLEdBQ0FBLEVBQVVNLFVBQVVSLElBQUksVUFHeEJPLEdBQ0FBLEVBQVlFLGlCQUFpQixRQUFTaEQsVUFDbEMsTUFBTXBCLEVBQVdnRSxFQUFjSyxNQUFNQyxPQUVyQyxHQUFpQixLQUFidEUsRUFLSixVRGtHVG9CLGVBQXlCcEIsR0FDOUIsTUFBTXVDLFFBQWlCQyxNQUFNLEdBQUdyQixvQkFBZ0MsQ0FDOURzQixPQUFRLE9BQ1JDLFFBQVMsQ0FDUCxlQUFnQixvQkFFbEJDLEtBQU10QyxLQUFLMkIsVUFBVSxDQUFFaEMsZUFHekIsSUFBS3VDLEVBQVNLLEdBQUksQ0FDaEIsTUFBTS9CLFFBQWMwQixFQUFTTyxPQUM3QixNQUFNLElBQUk5QixNQUFNSCxFQUFNQSxPQUFTLDBCQUNqQyxDQUdBLE9BREFDLFFBQVFvQixJQUFJLHdCQUNDSyxFQUFTTyxNQUN4QixDQ2hIMEJ5QixDQUFVdkUsR0FDaEJjLFFBQVFvQixJQUFJLGlCQUFrQmxDLEdBRzlCd0UsZUFBZXpDLFFBQVEsa0JBQW1CL0IsR0FHdEM2RCxHQUNBQSxFQUFVTSxVQUFVTSxPQUFPLFVBRS9CVCxFQUFjSyxNQUFRLEdBQ3RCSixFQUFjSSxNQUFRLEdBR3RCZixLQUFLb0IsS0FBS0MsWUFBWSxJQUFLLEtBQ3ZCckIsS0FBS3NCLE1BQU1DLE1BQU0sY0FFekIsQ0FBRSxNQUFPaEUsR0FDTEMsUUFBUUQsTUFBTSxrQkFBbUJBLEVBQU1pRSxTQUN2Q0MsTUFBTSxVQUFZbEUsRUFBTWlFLFFBQzVCLE1BMUJJQyxNQUFNLGtDQThCZGYsR0FDQUEsRUFBY0ksaUJBQWlCLFdBQWFZLElBQzFCLFVBQVZBLEVBQUU5RixLQUNGZ0YsRUFBWWUsU0FJNUIsRUMrRkcsTUFBTUMsRUFBb0IsSUFoSzFCLE1BQ0wsV0FBQS9CLEdBQ0VHLEtBQUs2QixlQUFpQixFQUN0QjdCLEtBQUs4QixhQUFjLEVBQ25COUIsS0FBSytCLGNBQWdCLEVBQ3JCL0IsS0FBS2dDLGNBQWdCLElBQ3JCaEMsS0FBS2lDLFVBQVksR0FDakJqQyxLQUFLa0MsVUFBWWxDLEtBQUttQyxvQkFDdEJuQyxLQUFLb0MsV0FBYSxLQUdsQnBDLEtBQUtxQyxlQUVMQyxPQUFPeEIsaUJBQWlCLGVBQWdCaEQsVUFFdEMsTUFBTXlFLEVBQWtCckIsZUFBZXJFLFFBQVEsbUJBQy9DLEdBQUkwRixFQUNGLFVGd0lEekUsZUFBMEJwQixHQUMvQixNQUFNdUMsUUFBaUJDLE1BQU0sR0FBR3JCLHFCQUFpQyxDQUMvRHNCLE9BQVEsT0FDUkMsUUFBUyxDQUNQLGVBQWdCLG9CQUVsQkMsS0FBTXRDLEtBQUsyQixVQUFVLENBQUVoQyxlQUd6QixJQUFLdUMsRUFBU0ssR0FBSSxDQUNoQixNQUFNL0IsUUFBYzBCLEVBQVNPLE9BQzdCLE1BQU0sSUFBSTlCLE1BQU1ILEVBQU1BLE9BQVMseUJBQ2pDLENBR0EsT0FEQUMsUUFBUW9CLElBQUkseUJBQ0NLLEVBQVNPLE1BQ3hCLENFdkpnQmdELENBQVdELEdBQ2pCL0UsUUFBUW9CLElBQUksMENBQ1pzQyxlQUFldUIsV0FBVyxtQkFDMUJ2QixlQUFldUIsV0FBVyxjQUM1QixDQUFFLE1BQU9sRixHQUNQQyxRQUFRRCxNQUFNLDhCQUErQkEsRUFDL0MsQ0FFRnlDLEtBQUswQyxlQUVULENBTUEsaUJBQUFQLEdBQ0UsTUFBTyxXQUFXOUUsS0FBS3NGLFNBQVNDLEtBQUtDLFNBQVNDLFNBQVMsSUFBSUMsT0FBTyxFQUFHLElBQ3ZFLENBTUEscUJBQU1DLEdBQ0osSUFDRSxNQUFNL0QsUUFBaUJDLE1BQU0saUJBQWtCLENBQzdDQyxPQUFRLE9BQ1JDLFFBQVMsQ0FDUCxlQUFnQixvQkFFbEJDLEtBQU10QyxLQUFLMkIsVUFBVSxDQUNuQndELFVBQVdsQyxLQUFLa0MsY0FJcEIsR0FBSWpELEVBQVNLLEdBQUksQ0FDZixNQUFNMkQsUUFBYWhFLEVBQVNPLE9BUTVCLE9BUEFRLEtBQUs2QixlQUFpQm9CLEVBQUtDLFVBQzNCbEQsS0FBSzhCLGFBQWMsRUFDbkI5QixLQUFLK0IsY0FBZ0IxRSxLQUFLc0YsTUFHMUIzQyxLQUFLbUQsZ0JBQWdCLENBQUVELFdBQVcsRUFBTUUsTUFBT3BELEtBQUs2QixpQkFFN0MsQ0FBRXFCLFVBQVdsRCxLQUFLNkIsZUFBZ0J3QixTQUFTLEVBQ3BELENBRUUsT0FEQXJELEtBQUtzRCxzQkFDRSxDQUFFSixVQUFXLEVBQUdHLFNBQVMsRUFFcEMsQ0FBRSxNQUFPOUYsR0FHUCxPQUZBQyxRQUFRRCxNQUFNLDZCQUE4QkEsR0FDNUN5QyxLQUFLc0Qsc0JBQ0UsQ0FBRUosVUFBVyxFQUFHRyxTQUFTLEVBQ2xDLENBQ0YsQ0FLQSxtQkFBQUMsR0FDRXRELEtBQUs4QixhQUFjLEVBQ25COUIsS0FBSzZCLGVBQWlCLEVBQ3RCN0IsS0FBS21ELGdCQUFnQixDQUFFRCxXQUFXLEVBQU9FLE1BQU8sR0FDbEQsQ0FNQSxXQUFBRyxDQUFZQyxHQUNWeEQsS0FBS2lDLFVBQVU5RCxLQUFLcUYsR0FHcEJBLEVBQVMsQ0FBRU4sVUFBV2xELEtBQUs4QixZQUFhc0IsTUFBT3BELEtBQUs2QixnQkFDdEQsQ0FNQSxjQUFBNEIsQ0FBZUQsR0FDYixNQUFNRSxFQUFRMUQsS0FBS2lDLFVBQVUwQixRQUFRSCxHQUNqQ0UsR0FBUyxHQUNYMUQsS0FBS2lDLFVBQVUyQixPQUFPRixFQUFPLEVBRWpDLENBTUEsZUFBQVAsQ0FBZ0JGLEdBQ2RqRCxLQUFLaUMsVUFBVTRCLFFBQVFDLElBQWEsSUFDbENBLEVBQVNiLEVBQ1gsQ0FBQyxNQUFNdkIsR0FDTGxFLFFBQVFELE1BQU0scUJBQXFCbUUsRUFDckMsR0FDRixDQU1BLFNBQUFxQyxHQUNFLE1BQU8sQ0FDTGpDLFlBQWE5QixLQUFLOEIsWUFDbEJELGVBQWdCN0IsS0FBSzZCLGVBQ3JCRSxjQUFlL0IsS0FBSytCLGNBQ3BCRyxVQUFXbEMsS0FBS2tDLFVBRXBCLENBS0EsWUFBQUcsR0FDTXJDLEtBQUtvQyxhQUtUcEMsS0FBS2dELGtCQUdMaEQsS0FBS29DLFdBQWE0QixZQUFZLEtBQzVCaEUsS0FBS2dELG1CQUNKaEQsS0FBS2dDLGVBQ1YsQ0FLQSxXQUFBVSxHQUNNMUMsS0FBS29DLGFBQ1A2QixjQUFjakUsS0FBS29DLFlBQ25CcEMsS0FBS29DLFdBQWEsS0FFdEIsR0MvSkssTUFBTThCLFVBQWtCLFVBQzNCLFdBQUFyRSxHQUNJQyxNQUFNLFlBQ1YsQ0FFQSxPQUFBQyxHQUNJQyxLQUFLQyxLQUFLQyxNQUFNLFNBQVUsOEJBQzFCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUsaUNBQzFCRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsNEJBRXpCRixLQUFLQyxLQUFLa0UsTUFBTSxRQUFTLHFCQUN6Qm5FLEtBQUtDLEtBQUtrRSxNQUFNLGFBQWMsaUNBRWpCLElBQUlDLFNBQVMsZUFBZ0Isa0NBQ3JDbkUsT0FBT29FLEtBQUssU0FBVUMsR0FDdkI5RCxTQUFTK0QsTUFBTWxFLElBQUlpRSxFQUN2QixHQUFHRSxNQUFNLFNBQVVqSCxHQUNmQyxRQUFRRCxNQUFNLHNCQUF1QkEsRUFDekMsRUFDSixDQUVBLE1BQUE0QyxHQUVJLElBQVVILEtBQUt5RSxPQUFPekUsS0FBS3lFLE1BQU1DLFVBQVUsYUFBZSxDQUFFLE1BQU1DLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sQ0FDM0YzRSxLQUFLNEUsS0FBS0gsTUFBTUksS0FBSyxhQUFjLENBQUVDLE9BQVEsR0FBS0MsTUFBTSxJQUV4RC9FLEtBQUtJLE1BQVFKLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQ3RDRixLQUFLSSxNQUFNRSxTQUFTLElBQ3BCTixLQUFLZ0YsT0FBU2hGLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQ3ZDRixLQUFLZ0YsT0FBTzFFLFNBQVMsS0FDckJOLEtBQUtpRixPQUFTakYsS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssU0FDdkNGLEtBQUtpRixPQUFPM0UsU0FBUyxJQUNyQk4sS0FBS2tGLE9BQVNsRixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxTQUN2Q0YsS0FBS2tGLE9BQU81RSxTQUFTLElBQ3JCTixLQUFLbUYsT0FBU25GLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFNBQ3ZDRixLQUFLbUYsT0FBTzdFLFNBQVMsSUFDckJOLEtBQUtvRixPQUFTcEYsS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssU0FDdkNGLEtBQUtvRixPQUFPOUUsU0FBUyxJQUNyQk4sS0FBS3FGLE9BQVNyRixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxTQUN2Q0YsS0FBS3FGLE9BQU8vRSxTQUFTLElBSXJCTixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssbUNBQW9DLENBQ3hEQyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNSQyxVQUFVLElBQ1pDLFVBQVUsR0FFWCxNQUFNQyxFQUFXNUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLFFBQVMsQ0FDOUNDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBQ1JDLFVBQVUsSUFDUkcsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsS0FDZkgsRUFBU0ksU0FBUyxDQUFFQyxLQUFNLGNBQzFCakcsS0FBS3lFLE1BQU1JLEtBQUssUUFBUyxDQUFFQyxPQUFRLE9BRXRDaUIsR0FBRyxhQUFjLElBQU1ILEVBQVNJLFNBQVMsQ0FBRUMsS0FBTSxlQUNqREYsR0FBRyxjQUFlLEtBRVgvRixLQUFLeUUsT0FBT3pFLEtBQUt5RSxNQUFNQyxVQUFVLGNBQ3JDMUUsS0FBS3NCLE1BQU1DLE1BQU0sZUFHbkIyRSxFQUFZbEcsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLFNBQVUsQ0FDaERDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBQ1JDLFVBQVUsSUFDWkcsZUFBZSxDQUFFQyxlQUFlLElBQzVCQyxHQUFHLGNBQWUsS0FDZkcsRUFBVUYsU0FBUyxDQUFFQyxLQUFNLGNBQzNCakcsS0FBS3lFLE1BQU1JLEtBQUssUUFBUyxDQUFFQyxPQUFRLE9BRXRDaUIsR0FBRyxhQUFjLElBQU1HLEVBQVVGLFNBQVMsQ0FBRUMsS0FBTSxlQUNsREYsR0FBRyxjQUFlakksVUFDZmtDLEtBQUtzQixNQUFNNkUsT0FDWG5HLEtBQUtzQixNQUFNQyxNQUFNLGtCQUluQjZFLEVBQWNwRyxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssV0FBWSxDQUNwREMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUNSRyxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxLQUNmSyxFQUFZSixTQUFTLENBQUVDLEtBQU0sY0FDN0JqRyxLQUFLeUUsTUFBTUksS0FBSyxRQUFTLENBQUVDLE9BQVEsT0FFdENpQixHQUFHLGFBQWMsSUFBTUssRUFBWUosU0FBUyxDQUFFQyxLQUFNLGVBQ3BERixHQUFHLGNBQWUsS0FDZi9GLEtBQUtzQixNQUFNNkUsT0FDWG5HLEtBQUtzQixNQUFNQyxNQUFNLGtCQUduQjhFLEVBQWNyRyxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssV0FBWSxDQUNwREMsU0FBVSxPQUNWRSxNQUFPLFlBQ1BELFdBQVksaUJBQ2JFLFVBQVUsSUFDUkcsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsS0FDZk0sRUFBWUwsU0FBUyxDQUFFQyxLQUFNLGNBQzdCakcsS0FBS3lFLE1BQU1JLEtBQUssUUFBUyxDQUFFQyxPQUFRLE9BRXRDaUIsR0FBRyxhQUFjLElBQU1NLEVBQVlMLFNBQVMsQ0FBRUMsS0FBTSxlQUNwREYsR0FBRyxjQUFlLEtBQ2YvRixLQUFLc0IsTUFBTTZFLE9BQ1huRyxLQUFLc0IsTUFBTUMsTUFBTSxtQkFHbkIrRSxFQUFhdEcsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLFlBQWEsQ0FDcERDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBQ1JDLFVBQVUsSUFDUkcsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsS0FDZk8sRUFBV04sU0FBUyxDQUFFQyxLQUFNLGNBQzVCakcsS0FBS3lFLE1BQU1JLEtBQUssUUFBUyxDQUFFQyxPQUFRLE9BRXRDaUIsR0FBRyxhQUFjLElBQU1PLEVBQVdOLFNBQVMsQ0FBRUMsS0FBTSxlQUNuREYsR0FBRyxjQUFlLEtBQ2YvRixLQUFLc0IsTUFBTTZFLE9BQ1huRyxLQUFLc0IsTUFBTUMsTUFBTSxlQUFnQixDQUFFZ0YsY0FBZSxnQkFJMUR2RyxLQUFLd0csZUFBaUJ4RyxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssMkJBQTRCLENBQ3RFQyxTQUFVLE9BQ1ZFLE1BQU8sVUFDUEQsV0FBWSxpQkFDYkUsVUFBVSxJQUdiMUYsS0FBS3lHLG1CQUFzQnhELElBQ3ZCakQsS0FBSzBHLHdCQUF3QnpELElBRWpDckIsRUFBa0IyQixZQUFZdkQsS0FBS3lHLG1CQUN2QyxDQUVBLHVCQUFBQyxDQUF3QnpELEdBRXBCLEdBQUtqRCxLQUFLd0csZ0JBQW1CeEcsS0FBS3NCLE9BQVV0QixLQUFLc0IsTUFBTXFGLFNBQVMsYUFJaEUsSUFDUTFELEVBQUtDLFdBQ0xsRCxLQUFLd0csZUFBZUksUUFBUSxhQUFhM0QsRUFBS0csaUNBQzlDcEQsS0FBS3dHLGVBQWVLLFNBQVMsYUFFN0I3RyxLQUFLd0csZUFBZUksUUFBUSwwQkFDNUI1RyxLQUFLd0csZUFBZUssU0FBUyxXQUVyQyxDQUFFLE1BQU90SixHQUNMQyxRQUFRRCxNQUFNLGlEQUFrREEsRUFDcEUsQ0FDSixDQUVBLFFBQUF1SixHQUVROUcsS0FBS3lHLG9CQUNMN0UsRUFBa0I2QixlQUFlekQsS0FBS3lHLG1CQUU5QyxFQzdLRyxNQUFNTSxFQUNULFdBQUFsSCxDQUFZeUIsRUFBTzBGLEVBQUlDLEVBQUdDLEVBQUdDLEdBQ3pCbkgsS0FBS2dILEdBQUtBLEVBQ1ZoSCxLQUFLc0IsTUFBUUEsRUFDYnRCLEtBQUtvSCxLQUFPLEVBQ1pwSCxLQUFLcUgsS0FBT0YsRUFDWm5ILEtBQUtzSCxlQUFnQixFQUVyQnRILEtBQUt1SCxVQUFZLEdBQ2pCdkgsS0FBS3dILFdBQWEsSUFDbEJ4SCxLQUFLeUgsVUFBWSxJQUdqQnpILEtBQUswSCxXQUFZLEVBQ2pCMUgsS0FBSzJILGFBQWUsRUFDcEIzSCxLQUFLNEgsUUFBVVYsRUFFZmxILEtBQUs2SCxPQUFTN0gsS0FBS3NCLE1BQU13RyxRQUFRekgsSUFBSXdILE9BQU9aLEVBQUdDLEVBQUdDLEdBQ2xEbkgsS0FBSzZILE9BQU92SCxTQUFTLEtBQ3JCTixLQUFLNkgsT0FBT0UsdUJBQXNCLEdBQ2xDL0gsS0FBSzZILE9BQU94SSxLQUFLMkksY0FBZSxFQUVoQ2hJLEtBQUs2SCxPQUFPeEksS0FBSzRJLFFBQVEsSUFBSSxLQUM3QmpJLEtBQUs2SCxPQUFPeEksS0FBSzZJLFVBQVUsSUFBSSxJQUNuQyxDQUVBLGVBQUFDLEdBQ1FuSSxLQUFLNkgsUUFBVzdILEtBQUs2SCxPQUFPTyxRQUM1QnBJLEtBQUs2SCxPQUFPTyxNQUFNQyxZQUNELGNBQWRySSxLQUFLcUgsS0FDRHJILEtBQUtzQixPQUFTdEIsS0FBS3NCLE1BQU04RyxPQUFTcEksS0FBS3NCLE1BQU04RyxNQUFNRSxPQUFPLG9CQUN6RHRJLEtBQUs2SCxPQUFPaEQsS0FBSyxtQkFFQSxjQUFkN0UsS0FBS3FILE1BQ1RySCxLQUFLc0IsT0FBU3RCLEtBQUtzQixNQUFNOEcsT0FBU3BJLEtBQUtzQixNQUFNOEcsTUFBTUUsT0FBTyxvQkFDekR0SSxLQUFLNkgsT0FBT2hELEtBQUssb0JBSWpDLENBRUEscUJBQUEwRCxHQUNRdkksS0FBSzZILFFBQVc3SCxLQUFLNkgsT0FBT08sT0FDN0JwSSxLQUFLNkgsT0FBT08sTUFBTUMsWUFDakJySSxLQUFLNkgsT0FBT08sTUFBTWpDLE9BQ2xCbkcsS0FBSzZILE9BQU9XLFdBQVd4SSxLQUFLcUgsTUFFcEMsQ0FFQSxJQUFBb0IsR0FDU3pJLEtBQUswSCxZQUNOMUgsS0FBSzBILFdBQVksRUFDakIxSCxLQUFLNEgsUUFBVTVILEtBQUs2SCxPQUFPWCxFQUMzQmxILEtBQUs2SCxPQUFPYSxjQUFjLEtBQzFCMUksS0FBSzZILE9BQU94SSxLQUFLMkksY0FBZSxFQUV4QyxDQUVBLE1BQUFXLENBQU9DLEdBRUM1SSxLQUFLMEgsV0FFRDFILEtBQUs2SCxPQUFPWCxHQUFLbEgsS0FBSzRILFNBQVc1SCxLQUFLNkgsT0FBT3hJLEtBQUt3SixTQUFTM0IsR0FBSyxJQUNoRWxILEtBQUs2SCxPQUFPWCxFQUFJbEgsS0FBSzRILFFBQ3JCNUgsS0FBSzZILE9BQU9hLGFBQWEsR0FDekIxSSxLQUFLNkgsT0FBT3hJLEtBQUsySSxjQUFlLEVBQ2hDaEksS0FBSzBILFdBQVksSUFLQyxJQUF2QjFILEtBQUtzSCxjQUNKdEgsS0FBSzZILE9BQU92SCxTQUFTLElBRXJCTixLQUFLNkgsT0FBT3ZILFNBQVMsSUFHN0IsQ0FFQSxRQUFBQSxDQUFTd0ksR0FDTDlJLEtBQUs2SCxPQUFPdkgsU0FBU3dJLEVBQ3pCLENBRUEsV0FBQUMsQ0FBWTlCLEVBQUdDLEdBQ1hsSCxLQUFLNkgsT0FBT2tCLFlBQVk5QixFQUFHQyxFQUMvQixFQ3JGRyxNQUFNOEIsRUFDYixXQUFBbkosR0FDSUcsS0FBS2lKLFFBQVUsSUFBSUMsSUFDbkJsSixLQUFLbUosVUFBWSxJQUNyQixDQUVBLFVBQUFDLENBQVdILEdBQ1BqSixLQUFLaUosUUFBVUEsQ0FDbkIsQ0FFQSxZQUFBSSxDQUFhRixHQUNUbkosS0FBS21KLFVBQVlBLENBQ3JCLENBRUEsT0FBQUcsQ0FBUUMsR0FDSkEsRUFBUUMsU0FDWixFQ2hCTyxNQUFNQyxFQUNULE9BQUFELEdBQVUsQ0FFVixTQUFBRSxHQUFZLENBRVosU0FBQUMsR0FBWSxFQ0hULE1BQU1DLFVBQXdCSCxFQUNqQyxXQUFBNUosQ0FBWWdLLEVBQU1DLEVBQVdDLEdBQ3pCakssUUFDQUUsS0FBSzZKLEtBQU9BLEVBQ1o3SixLQUFLOEosVUFBWUEsRUFDakI5SixLQUFLK0osTUFBUUEsQ0FDakIsQ0FFQSxPQUFBUCxHQUMwQixPQUFuQnhKLEtBQUs4SixVQUNKOUosS0FBSzZKLEtBQUtoQyxPQUFPYSxjQUFjMUksS0FBSzZKLEtBQUtwQyxXQUNoQixTQUFuQnpILEtBQUs4SixVQUNYOUosS0FBSzZKLEtBQUtoQyxPQUFPYSxjQUFjMUksS0FBSzZKLEtBQUtwQyxXQUNoQixTQUFuQnpILEtBQUs4SixVQUNYOUosS0FBSzZKLEtBQUtoQyxPQUFPbUMsY0FBY2hLLEtBQUs2SixLQUFLcEMsV0FDaEIsVUFBbkJ6SCxLQUFLOEosVUFDWDlKLEtBQUs2SixLQUFLaEMsT0FBT21DLGNBQWNoSyxLQUFLNkosS0FBS3BDLFlBRXpDekgsS0FBSzZKLEtBQUtoQyxPQUFPYSxhQUFhLEdBQzlCMUksS0FBSzZKLEtBQUtoQyxPQUFPbUMsYUFBYSxJQUUvQmhLLEtBQUsrSixPQUNKL0osS0FBSzZKLEtBQUtoQyxPQUFPYSxhQUFrQyxLQUFwQjFJLEtBQUs2SixLQUFLcEMsVUFFakQsRUN4QkcsTUFBTXdDLFVBQXlCUixFQUNsQyxXQUFBNUosQ0FBWXNKLEVBQVdlLEdBQ25CcEssUUFDQUUsS0FBS21KLFVBQVlBLEVBQ2pCbkosS0FBS2tLLFNBQVdBLENBQ3BCLENBRUEsT0FBQVYsR0FDSXhKLEtBQUttSixVQUFVZ0IsY0FBY25LLEtBQUtrSyxTQUN0QyxFQ0xHLE1BQU1FLFVBQWtCLFVBRTNCLFdBQUF2SyxHQUNJQyxNQUFNLFlBQ1YsQ0FFQSxPQUFBQyxHQUVJQyxLQUFLQyxLQUFLQyxNQUFNLFNBQVUsNkJBQzFCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUsdUJBQzFCRixLQUFLQyxLQUFLQyxNQUFNLGVBQWdCLDZCQUNoQ0YsS0FBS0MsS0FBS0MsTUFBTSxXQUFZLDhCQUM1QkYsS0FBS0MsS0FBS0MsTUFBTSxlQUFnQiwrQkFDaENGLEtBQUtDLEtBQUtDLE1BQU0sU0FBVSx1QkFDMUJGLEtBQUtDLEtBQUtDLE1BQU0sZ0JBQWlCLDhCQUNqQ0YsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLDRCQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLHVCQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLGdDQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLHdCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDBCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLHVCQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxXQUFZLHlCQUM1QkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLHdCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLDRCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLCtCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDBCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLDRCQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLGtDQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLCtCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLDRCQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDhCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDZCQUc3QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLGdDQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLG9DQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUcvQkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLGlDQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDRCQUd6QkYsS0FBS0MsS0FBS2tFLE1BQU0sTUFBTyxtQkFHdkJuRSxLQUFLQyxLQUFLa0UsTUFBTSxhQUFjLDBCQUM5Qm5FLEtBQUtDLEtBQUtrRSxNQUFNLGdCQUFpQix3QkFDakNuRSxLQUFLQyxLQUFLa0UsTUFBTSxlQUFnQixxQkFDaENuRSxLQUFLQyxLQUFLa0UsTUFBTSxPQUFRLG9CQUN4Qm5FLEtBQUtDLEtBQUtrRSxNQUFNLFlBQWEseUJBQzdCbkUsS0FBS0MsS0FBS2tFLE1BQU0sU0FBVSxzQkFDMUJuRSxLQUFLQyxLQUFLa0UsTUFBTSxVQUFXLHVCQUMzQm5FLEtBQUtDLEtBQUtrRSxNQUFNLFVBQVcsc0JBQy9CLENBRUEsSUFBQWtHLEdBQ0lySyxLQUFLaUosUUFBVSxJQUFJQyxJQUNuQmxKLEtBQUtzSyxjQUFnQixHQUNyQnRLLEtBQUtrSyxVQUFXLEVBQ2hCbEssS0FBS3VLLFlBQWEsRUFDbEJ2SyxLQUFLd0ssVUFBVyxFQUNoQnhLLEtBQUt5SyxVQUFZLElBQUl6QixFQUNyQmhKLEtBQUswSyxjQUFlLEVBQ3BCMUssS0FBSzJLLFdBQWEsSUFBSXpCLElBQ3RCbEosS0FBSzRLLGNBQWdCdk4sS0FBS3NGLE1BQzFCM0MsS0FBSzZLLFNBQVcsUUFDaEI3SyxLQUFLdEQsU0FBVyxlQUloQnNELEtBQUs4SyxXQUFhLEVBQUMsR0FBTyxHQUFPLEdBQU8sR0FBTyxHQUFPLEdBQU8sR0FBTyxHQUFPLEdBQU8sR0FBTyxHQUFPLEdBQU8sRUFDM0csQ0FFQSxNQUFBM0ssR0FFSUgsS0FBS29JLE1BQU1qSSxPQUFPLENBQ2R2RSxJQUFLLGtCQUNMbVAsT0FBUSxDQUNKLENBQUVuUCxJQUFLLGFBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxnQkFFWG9QLFVBQVcsR0FDWEMsUUFBUyxJQUdiakwsS0FBS29JLE1BQU1qSSxPQUFPLENBQ2R2RSxJQUFLLGtCQUNMbVAsT0FBUSxDQUNKLENBQUVuUCxJQUFLLGFBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxnQkFFWG9QLFVBQVcsR0FDWEMsUUFBUyxJQUdiakwsS0FBS2tMLElBQU1sTCxLQUFLeUUsTUFBTXBFLElBQUksTUFBTyxDQUFFMEUsTUFBTSxFQUFNRCxPQUFRLEtBQ2xEOUUsS0FBS2tMLElBQUk3QyxXQUNWckksS0FBS2tMLElBQUlyRyxPQUliN0UsS0FBSzJLLFdBQVdRLElBQUksVUFBV25MLEtBQUt5RSxNQUFNcEUsSUFBSSxPQUFRLENBQUUwRSxNQUFNLEVBQU1ELE9BQVEsTUFDNUU5RSxLQUFLMkssV0FBV1EsSUFBSSxVQUFXbkwsS0FBS3lFLE1BQU1wRSxJQUFJLE9BQVEsQ0FBRTBFLE1BQU0sRUFBTUQsT0FBUSxNQUc1RTlFLEtBQUtvTCxPQUFPckYsR0FBRyxRQUFTLEtBQ3BCL0YsS0FBSzJLLFdBQVc5RyxRQUFRd0gsSUFBUSxJQUFVQSxHQUFNQSxFQUFHaEQsV0FBV2dELEVBQUdsRixNQUFRLENBQUUsTUFBTXhCLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sTUFHOUczRSxLQUFLb0wsT0FBT3JGLEdBQUcsU0FBVSxRQUl6Qi9GLEtBQUtvTCxPQUFPRSxLQUFLLFdBQVksS0FFekJ0TCxLQUFLMkssV0FBVzlHLFFBQVF3SCxJQUNwQixJQUFVQSxHQUFNQSxFQUFHaEQsV0FBV2dELEVBQUdsRixNQUFRLENBQUUsTUFBTXhCLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sQ0FDMUUsSUFBVTBHLEdBQUlBLEVBQUdFLFNBQVcsQ0FBRSxNQUFNNUcsR0FBTW5ILFFBQVFtQyxLQUFLZ0YsRUFBTSxJQUVqRTNFLEtBQUsySyxXQUFXYSxRQUVoQixJQUFVeEwsS0FBS2tMLE1BQVFsTCxLQUFLa0wsSUFBSTdDLFdBQWFySSxLQUFLa0wsSUFBSWhCLFdBQVdsSyxLQUFLa0wsSUFBSS9FLE1BQVEsQ0FBRSxNQUFNeEIsR0FBTW5ILFFBQVFtQyxLQUFLZ0YsRUFBTSxJQUd2SDNFLEtBQUt5TCxpQkFDTHpMLEtBQUswTCxtQkFDTDFMLEtBQUsyTCx3QkFDTDNMLEtBQUs0TCxlQUNMNUwsS0FBSzZMLHVCQUNMN0wsS0FBSzhMLHVCQUdMOUwsS0FBSytMLFdBQWEvTCxLQUFLSyxJQUFJaUYsS0FBSyxHQUFJLEdBQUksSUFBSyxDQUN6Q0MsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FHWHpGLEtBQUtnTSxZQUFjaE0sS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxHQUFJLElBQUssQ0FDM0NDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBSVh6RixLQUFLaU0sT0FBU2pNLEtBQUtrTSxNQUFNQyxTQUFTQyxPQUFPLFVBQWFDLFNBQVNDLFNBQVNDLEtBQ3hFdk0sS0FBS3dNLEtBQU94TSxLQUFLa00sTUFBTUMsU0FBU0MsT0FBTyxVQUFhQyxTQUFTQyxTQUFTRyxHQUN0RXpNLEtBQUswTSxLQUFPMU0sS0FBS2tNLE1BQU1DLFNBQVNDLE9BQU8sVUFBYUMsU0FBU0MsU0FBU0ssRUFJMUUsQ0FFQSxNQUFBaEUsQ0FBT3ZILEVBQU13SCxHQUNMNUksS0FBS2lNLE9BQU9XLFNBQVc1TSxLQUFLdUssWUFDNUJ2SyxLQUFLNk0sY0FFVDdNLEtBQUt1SyxXQUFhdkssS0FBS2lNLE9BQU9XLE9BQ3RDcFAsUUFBUW9CLElBQUksdURBQ0pvQixLQUFLd0ssVUFBVyxHQUNaeEssS0FBS3dNLEtBQUtJLFFBQVU1TSxLQUFLME0sS0FBS0UsVUFBUTVNLEtBQUt3SyxVQUFXLEdBRzFEeEssS0FBS2lKLFFBQVFwRixRQUFRZ0csSUFDakJBLEVBQUtsQixPQUFPQyxLQUdoQjVJLEtBQUtzSyxjQUFjekcsUUFBUWlKLElBQ3ZCLE1BQU1qRCxFQUFPN0osS0FBS2lKLFFBQVFoTixJQUFJNlEsRUFBUUMsVUFDdEMsSUFBSWpELEVBQVksS0FDWkMsR0FBUSxFQUNaLE1BQU1pRCxFQUFZaE4sS0FBSzJLLFdBQVcxTyxJQUFJNlEsRUFBUUMsVUFDOUMsSUFBSUUsR0FBVyxFQUNYSCxFQUFRSSxTQUFTTixRQUNqQjlDLEVBQVksS0FDWm1ELEdBQVcsRUFDWHBELEVBQUsxQixtQkFDRTJFLEVBQVFLLFdBQVdQLFFBQzFCOUMsRUFBWSxPQUNabUQsR0FBVyxFQUNYcEQsRUFBSzFCLG1CQUNFMkUsRUFBUU0sV0FBV1IsUUFDMUI5QyxFQUFZLE9BQ1ptRCxHQUFXLEVBQ1hwRCxFQUFLaEMsT0FBT3dGLE9BQVEsRUFDcEJ4RCxFQUFLMUIsbUJBQ0UyRSxFQUFRUSxZQUFZVixRQUMzQjlDLEVBQVksUUFDWm1ELEdBQVcsRUFDWHBELEVBQUtoQyxPQUFPd0YsT0FBUSxFQUNwQnhELEVBQUsxQixvQkFFTDJCLEVBQVksT0FDWkQsRUFBS3RCLHdCQUVEeUUsR0FBYUEsRUFBVTNFLFdBQ3ZCMkUsRUFBVTdHLFFBS2QyRyxFQUFRUyxRQUFRWCxTQUNYL0MsRUFBS3ZDLGdCQUNOeUMsR0FBUSxFQUNSRixFQUFLdEIsMEJBR1QwRSxHQUFZRCxJQUFjQSxFQUFVM0UsV0FDcEMyRSxFQUFVbkksT0FFZCxJQUFJMkksRUFBYyxJQUFJNUQsRUFBZ0JDLEVBQU1DLEVBQVdDLEdBQ3ZEL0osS0FBS3lLLFVBQVVuQixRQUFRa0UsS0FJcEJ4TixLQUFLOEssV0FBVyxHQUFJOUssS0FBS3lOLElBQUlDLFNBQVMsR0FBUzFOLEtBQUt5TixJQUFJQyxTQUFTLElBQ2pFMU4sS0FBSzhLLFdBQVcsR0FBSTlLLEtBQUsyTixJQUFJRCxTQUFTLEdBQVExTixLQUFLMk4sSUFBSUQsU0FBUyxJQUNoRTFOLEtBQUs4SyxXQUFXLEdBQUk5SyxLQUFLNE4sS0FBS0YsU0FBUyxHQUFTMU4sS0FBSzROLEtBQUtGLFNBQVMsSUFDbkUxTixLQUFLOEssV0FBVyxHQUFJOUssS0FBSzZOLE9BQU9ILFNBQVMsR0FBUzFOLEtBQUs2TixPQUFPSCxTQUFTLElBQ3ZFMU4sS0FBSzhLLFdBQVcsR0FBSTlLLEtBQUs4TixNQUFNSixTQUFTLEdBQVMxTixLQUFLOE4sTUFBTUosU0FBUyxJQUNyRTFOLEtBQUs4SyxXQUFXLEdBQUk5SyxLQUFLK04sS0FBS0wsU0FBUyxHQUFRMU4sS0FBSytOLEtBQUtMLFNBQVMsSUFDbEUxTixLQUFLOEssV0FBVyxHQUFJOUssS0FBS2dPLE1BQU1OLFNBQVMsR0FBUTFOLEtBQUtnTyxNQUFNTixTQUFTLElBQ3BFMU4sS0FBSzhLLFdBQVcsR0FBSTlLLEtBQUtpTyxLQUFLUCxTQUFTLEdBQVExTixLQUFLaU8sS0FBS1AsU0FBUyxJQUNsRTFOLEtBQUs4SyxXQUFXLEdBQUk5SyxLQUFLa08sTUFBTVIsU0FBUyxHQUFRMU4sS0FBS2tPLE1BQU1SLFNBQVMsSUFDcEUxTixLQUFLOEssV0FBVyxJQUFLOUssS0FBS21PLEtBQUtULFNBQVMsR0FBUzFOLEtBQUttTyxLQUFLVCxTQUFTLEdBRS9FLENBRUEsY0FBQWpDLEdBQ0l6TCxLQUFLb08sTUFBUXBPLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssVUFDOUNGLEtBQUtvTyxNQUFNQyxjQUFhLEdBQ3hCck8sS0FBS29PLE1BQU05TixTQUFTLEtBQ3BCTixLQUFLb08sTUFBTS9PLEtBQUsySSxjQUFlLEVBQy9CaEksS0FBS3NPLE1BQVF0TyxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQzlDRixLQUFLc08sTUFBTUQsY0FBYSxHQUN4QnJPLEtBQUtzTyxNQUFNaE8sU0FBUyxLQUNwQk4sS0FBS3NPLE1BQU1qUCxLQUFLMkksY0FBZSxFQUMvQmhJLEtBQUt1TyxXQUFhdk8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxlQUNuREYsS0FBS3VPLFdBQVdGLGNBQWEsR0FDN0JyTyxLQUFLdU8sV0FBV2pPLFNBQVMsSUFDekJOLEtBQUt1TyxXQUFXbFAsS0FBSzJJLGNBQWUsRUFDcENoSSxLQUFLd08sWUFBY3hPLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssZ0JBQ3BERixLQUFLd08sWUFBWUgsY0FBYSxHQUM5QnJPLEtBQUt3TyxZQUFZbE8sU0FBUyxJQUMxQk4sS0FBS3dPLFlBQVluUCxLQUFLMkksY0FBZSxFQUNyQ2hJLEtBQUt5TyxRQUFVek8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxZQUNoREYsS0FBS3lPLFFBQVFKLGNBQWEsR0FDMUJyTyxLQUFLeU8sUUFBUW5PLFNBQVMsSUFDdEJOLEtBQUt5TyxRQUFRcFAsS0FBSzJJLGNBQWUsRUFDakNoSSxLQUFLME8sWUFBYzFPLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssZ0JBQ3BERixLQUFLME8sWUFBWUwsY0FBYSxHQUM5QnJPLEtBQUswTyxZQUFZcE8sU0FBUyxJQUMxQk4sS0FBSzBPLFlBQVlyUCxLQUFLMkksY0FBZSxFQUNyQ2hJLEtBQUsyTyxNQUFRM08sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxVQUM5Q0YsS0FBSzJPLE1BQU1OLGNBQWEsR0FDeEJyTyxLQUFLMk8sTUFBTXJPLFNBQVMsSUFDcEJOLEtBQUsyTyxNQUFNdFAsS0FBSzJJLGNBQWUsRUFDL0JoSSxLQUFLNE8sTUFBUTVPLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssVUFDOUNGLEtBQUs0TyxNQUFNUCxjQUFhLEdBQ3hCck8sS0FBSzRPLE1BQU10TyxTQUFTLElBQ3BCTixLQUFLNE8sTUFBTXZQLEtBQUsySSxjQUFlLEVBQy9CaEksS0FBSzZPLFVBQVk3TyxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLGNBQ2xERixLQUFLNk8sVUFBVVIsY0FBYSxHQUM1QnJPLEtBQUs2TyxVQUFVdk8sU0FBUyxJQUN4Qk4sS0FBSzZPLFVBQVV4UCxLQUFLMkksY0FBZSxFQUNuQ2hJLEtBQUs4TyxPQUFTOU8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxXQUMvQ0YsS0FBSzhPLE9BQU9ULGNBQWEsR0FDekJyTyxLQUFLOE8sT0FBT3hPLFNBQVMsSUFDckJOLEtBQUs4TyxPQUFPelAsS0FBSzJJLGNBQWUsRUFDaENoSSxLQUFLK08sU0FBVy9PLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssYUFDakRGLEtBQUsrTyxTQUFTVixjQUFhLEdBQzNCck8sS0FBSytPLFNBQVN6TyxTQUFTLElBQ3ZCTixLQUFLK08sU0FBUzFQLEtBQUsySSxjQUFlLEVBQ2xDaEksS0FBS2dQLE1BQVFoUCxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQzlDRixLQUFLZ1AsTUFBTVgsY0FBYSxHQUN4QnJPLEtBQUtnUCxNQUFNMU8sU0FBUyxJQUNwQk4sS0FBS2dQLE1BQU0zUCxLQUFLMkksY0FBZSxFQUMvQmhJLEtBQUtpUCxPQUFTalAsS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxXQUMvQ0YsS0FBS2lQLE9BQU9aLGNBQWEsR0FDekJyTyxLQUFLaVAsT0FBTzNPLFNBQVMsSUFDckJOLEtBQUtpUCxPQUFPNVAsS0FBSzJJLGNBQWUsRUFDaENoSSxLQUFLaUYsT0FBU2pGLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxHQUFJLElBQUssV0FDOUNGLEtBQUtpRixPQUFPb0osY0FBYSxHQUN6QnJPLEtBQUtpRixPQUFPM0UsU0FBUyxJQUNyQk4sS0FBS2lGLE9BQU81RixLQUFLMkksY0FBZSxFQUNoQ2hJLEtBQUtrRixPQUFTbEYsS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxXQUMvQ0YsS0FBS2tGLE9BQU9tSixjQUFhLEdBQ3pCck8sS0FBS2tGLE9BQU81RSxTQUFTLElBQ3JCTixLQUFLa0YsT0FBTzdGLEtBQUsySSxjQUFlLEVBR2hDaEksS0FBS2tQLFVBQVlsUCxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLGFBQ2xERixLQUFLa1AsVUFBVWIsY0FBYSxHQUM1QnJPLEtBQUtrUCxVQUFVNU8sU0FBUyxJQUN4Qk4sS0FBS2tQLFVBQVV4QixTQUFTLEdBQ3hCMU4sS0FBS2tQLFVBQVU3UCxLQUFLMkksY0FBZSxFQUNuQ2hJLEtBQUttUCxVQUFZblAsS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxhQUNsREYsS0FBS21QLFVBQVVkLGNBQWEsR0FDNUJyTyxLQUFLbVAsVUFBVTdPLFNBQVMsSUFDeEJOLEtBQUttUCxVQUFVekIsU0FBUyxHQUN4QjFOLEtBQUttUCxVQUFVOVAsS0FBSzJJLGNBQWUsQ0FDdkMsQ0FFQSxxQkFBQTJELEdBRUkzTCxLQUFLb1AsaUJBQW1CcFAsS0FBSzhILFFBQVF6SCxJQUFJZ1AsWUFBWSxJQUFLLElBQUssTUFDL0RyUCxLQUFLb1AsaUJBQWlCbkgsUUFBUSxJQUFNLEtBQ3BDakksS0FBS29QLGlCQUFpQkUsWUFBVyxHQUNqQ3RQLEtBQUtvUCxpQkFBaUIvUCxLQUFLNEksUUFBUSxJQUFNLEtBR3pDakksS0FBS3VQLGVBQWlCdlAsS0FBSzhILFFBQVF6SCxJQUFJd0gsT0FBTyxJQUFLLElBQUssZUFDeEQ3SCxLQUFLdVAsZUFBZWxRLEtBQUttUSxpQkFBZ0IsR0FDekN4UCxLQUFLdVAsZUFBZWxRLEtBQUtnUCxjQUFhLEdBQ3RDck8sS0FBS3VQLGVBQWU3QixTQUFTLEdBQzdCMU4sS0FBS3VQLGVBQWVqUCxTQUFTLEVBQUcsSUFHaENOLEtBQUt5UCxZQUFjelAsS0FBSzhILFFBQVF6SCxJQUFJd0gsT0FBTyxJQUFLLElBQUssZUFDckQ3SCxLQUFLeVAsWUFBWXBRLEtBQUttUSxpQkFBZ0IsR0FDdEN4UCxLQUFLeVAsWUFBWXBRLEtBQUtnUCxjQUFhLEdBQ25Dck8sS0FBS3lQLFlBQVkvQixTQUFTLEdBQzFCMU4sS0FBS3lQLFlBQVlDLFVBQVUsSUFDM0IxUCxLQUFLeVAsWUFBWXBRLEtBQUs2SSxXQUFXLElBQUssR0FDMUMsQ0FFQSxnQkFBQXdELEdBQ0kxTCxLQUFLMlAsWUFBYzNQLEtBQUs4SCxRQUFRekgsSUFBSXVQLGNBRXBDNVAsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUNsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUNsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUdsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUNsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUNsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUdsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUNsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUNsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUNsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxZQUNsQ0gsS0FBSzJQLFlBQVl4UCxPQUFPLElBQUssSUFBSyxXQUV0QyxDQUVBLG9CQUFBMEwsR0FDSTdMLEtBQUtpSixRQUFRcEYsUUFBUWdNLElBa0JqQixJQUFJN0ksRUFoQkpoSCxLQUFLOEgsUUFBUXpILElBQUl5UCxTQUFTRCxFQUFPaEksT0FBUTdILEtBQUt1UCxnQkFDOUN2UCxLQUFLOEgsUUFBUXpILElBQUl5UCxTQUFTRCxFQUFPaEksT0FBUTdILEtBQUsyUCxhQUM5QzNQLEtBQUs4SCxRQUFRekgsSUFBSXlQLFNBQVNELEVBQU9oSSxPQUFRN0gsS0FBS3lQLGFBSTlDelAsS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLNE8sTUFBTyxLQUM1QzVPLEtBQUt5RSxPQUNMekUsS0FBS3lFLE1BQU1JLEtBQUssZUFBZ0IsQ0FBRUMsT0FBUSxLQUU5QzlFLEtBQUs0TyxNQUFNckQsVUFDWC9OLFFBQVFvQixJQUFJLG9CQUNab0IsS0FBSzhLLFdBQVcsSUFBSyxFQUNyQjlLLEtBQUtnUSxLQUFLdEMsU0FBUyxLQUlXMUcsRUFBWCxZQUFwQjZJLEVBQU85QyxTQUE2QixFQUM3QixFQUdWL00sS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLdU8sV0FBWSxLQUNqRHZPLEtBQUt3SyxXQUNMeEssS0FBS3NCLE1BQU0yTyxRQUNYalEsS0FBS3NCLE1BQU00TyxPQUFPLGdCQUFpQixDQUMvQjNKLGNBQWUsWUFDZndJLFNBQVUvTyxLQUFLOEssV0FDZnJHLE1BQU96RSxLQUFLeUUsTUFDWjBMLFFBQVNuSixPQU1yQmhILEtBQUs4SCxRQUFRekgsSUFBSXlQLFNBQ2JELEVBQU9oSSxPQUNQN0gsS0FBS29QLGlCQUNMLEtBRVNTLEVBQU9uSSxXQUNSbUksRUFBT3BILFFBR2YsS0FFSSxNQUFNMkgsRUFBYVAsRUFBT2hJLE9BQU94SSxLQUFLd0osU0FBUzNCLEVBQUksRUFDbkQsT0FBUTJJLEVBQU9uSSxXQUFhMEksR0FFaENwUSxNQUlKQSxLQUFLOEgsUUFBUXpILElBQUkwUCxRQUFRRixFQUFPaEksT0FBUTdILEtBQUt5TyxRQUFTLEtBQ2xELEdBQUksVUFBYXBDLFNBQVNnRSxTQUFTclEsS0FBS3dNLE9BQVMsVUFBYUgsU0FBU2dFLFNBQVNyUSxLQUFLME0sTUFBTyxDQUN4RixJQUFJNEQsRUFBZ0J0USxLQUFLOEssV0FBV3lGLE9BQU9DLElBQWlCLElBQVRBLEdBQ3JCLElBQXpCRixFQUFjaFMsUUFBMkMsSUFBekJnUyxFQUFjRyxPQUMzQ3pRLEtBQUs4SyxXQUFXLElBQU05SyxLQUFLOEssV0FBVyxJQUFNOUssS0FBSzhLLFdBQVcsS0FDNUR0TixRQUFRb0IsSUFBSSxxQ0FDWm9CLEtBQUt5UCxZQUFZaUIsY0FDYjFRLEtBQUt5RSxPQUNMekUsS0FBS3lFLE1BQU1JLEtBQUssVUFBVyxDQUFFQyxPQUFRLEtBRXpDOUUsS0FBS2lKLFFBQVFwRixRQUFRZ00sSUFDakJBLEVBQU92SSxlQUFnQixNQUkvQjlKLFFBQVFvQixJQUFJLDhFQUNSb0IsS0FBS3lFLE9BQ0x6RSxLQUFLeUUsTUFBTUksS0FBSyxZQUFhLENBQUVDLE9BQVEsS0FHekIsSUFERixTQUFZNkwsUUFBUSxFQUFHLEdBQ2xCM1EsS0FBSyxjQUNyQkEsS0FBSyxnQkFJZCxJQUFLLElBQUk0USxFQUFJLEVBQUdBLEVBQUk1USxLQUFLOEssV0FBV3hNLE9BQVMsRUFBR3NTLElBRzVDLE9BRkE1USxLQUFLOEssV0FBVzhGLElBQUssRUFFZEEsR0FDSCxLQUFLLEVBQUc1USxLQUFLeU4sSUFBSUMsU0FBUyxJQUFNLE1BQ2hDLEtBQUssRUFBRzFOLEtBQUsyTixJQUFJRCxTQUFTLElBQU0sTUFDaEMsS0FBSyxFQUFHMU4sS0FBSzROLEtBQUtGLFNBQVMsSUFBTSxNQUNqQyxLQUFLLEVBQUcxTixLQUFLNk4sT0FBT0gsU0FBUyxJQUFNLE1BQ25DLEtBQUssRUFBRzFOLEtBQUs4TixNQUFNSixTQUFTLElBQU0sTUFDbEMsS0FBSyxFQUFHMU4sS0FBSytOLEtBQUtMLFNBQVMsSUFBTSxNQUNqQyxLQUFLLEVBQUcxTixLQUFLZ08sTUFBTU4sU0FBUyxJQUFNLE1BQ2xDLEtBQUssRUFBRzFOLEtBQUtpTyxLQUFLUCxTQUFTLElBQU0sTUFDakMsS0FBSyxFQUFHMU4sS0FBS2tPLE1BQU1SLFNBQVMsSUFBTSxNQUNsQyxLQUFLLEdBQUkxTixLQUFLbU8sS0FBS1QsU0FBUyxJQUd4QyxJQUlKMU4sS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLMk8sTUFBTyxLQUMzQzNPLEtBQUswSyxlQUNGMUssS0FBSzhLLFdBQVcsR0FDaEI5SyxLQUFLNlEsYUFFTHJULFFBQVFvQixJQUFJLDZDQU14Qm9CLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS2tQLFVBQVcsS0FDcERsUCxLQUFLOFEsZ0JBQWdCLEtBRXpCOVEsS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLbVAsVUFBVyxLQUNwRG5QLEtBQUs4USxnQkFBZ0IsS0FLekI5USxLQUFLOEgsUUFBUXpILElBQUkwUCxRQUFRRixFQUFPaEksT0FBUTdILEtBQUtpRixPQUFRLEtBQ2pEakYsS0FBSytRLGdCQUFnQixLQUV6Qi9RLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS2tGLE9BQVEsS0FDakRsRixLQUFLK1EsZ0JBQWdCLEtBS3pCL1EsS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLaUYsT0FBUSxLQUNqRGpGLEtBQUtnUixnQkFBaUIsRUFDdEJoUixLQUFLaVIscUJBRVRqUixLQUFLOEgsUUFBUXpILElBQUkwUCxRQUFRRixFQUFPaEksT0FBUTdILEtBQUtrRixPQUFRLEtBQ2pEbEYsS0FBS2tSLGdCQUFpQixFQUN0QmxSLEtBQUtpUixzQkFJakIsQ0FFQSxvQkFBQW5GLEdBQ0k5TCxLQUFLZ1EsS0FBT2hRLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQVV3TixTQUFTLElBQ3hEMU4sS0FBS3lOLElBQU16TixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxXQUFXd04sU0FBUyxJQUFLcE4sU0FBUyxJQUN0RU4sS0FBSzJOLElBQU0zTixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxhQUFhd04sU0FBUyxJQUMxRDFOLEtBQUs0TixLQUFPNU4sS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssYUFBYXdOLFNBQVMsSUFDM0QxTixLQUFLNk4sT0FBUzdOLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLGNBQWN3TixTQUFTLElBQzlEMU4sS0FBSzhOLE1BQVE5TixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxjQUFjd04sU0FBUyxJQUM3RDFOLEtBQUsrTixLQUFPL04sS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssY0FBY3dOLFNBQVMsSUFDNUQxTixLQUFLZ08sTUFBUWhPLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLGFBQWF3TixTQUFTLElBQzVEMU4sS0FBS2lPLEtBQU9qTyxLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxVQUFVd04sU0FBUyxJQUFLcE4sU0FBUyxJQUN0RU4sS0FBS2tPLE1BQVFsTyxLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxnQkFBZ0J3TixTQUFTLElBQUtwTixTQUFTLElBQzdFTixLQUFLbU8sS0FBT25PLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFdBQVd3TixTQUFTLElBQUtwTixTQUFTLElBQ3ZFTixLQUFLc0wsS0FBT3RMLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLGFBQWF3TixTQUFTLElBQzNEMU4sS0FBS21SLEtBQU9uUixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxhQUFhd04sU0FBUyxHQUMvRCxDQUVBLFVBQUFtRCxHQUNRN1EsS0FBS3lFLFFBQ0x6RSxLQUFLeUUsTUFBTUksS0FBSyxhQUFjLENBQUVDLE9BQVEsS0FDeEM5RSxLQUFLb0IsS0FBS0MsWUFBWSxJQUFNLEtBQ3hCckIsS0FBS3lFLE1BQU1DLFVBQVUsaUJBSTdCbEgsUUFBUW9CLElBQUksaUJBQ1pvQixLQUFLMk8sTUFBTW5HLFdBQVcsaUJBQ3RCeEksS0FBS2tQLFVBQVV4QixTQUFTLEdBQ3hCMU4sS0FBS21QLFVBQVV6QixTQUFTLEdBQ3hCMU4sS0FBSzBLLGNBQWUsRUFDcEIxSyxLQUFLOEssV0FBVyxJQUFLLEVBQ3JCOUssS0FBS2dRLEtBQUt0QyxTQUFTLEdBQ3ZCLENBRUEsZUFBQW9ELENBQWdCTSxHQUNScFIsS0FBSzBLLGVBQ0xsTixRQUFRb0IsSUFBSSxZQUFjd1MsRUFBSSxhQUM5QnBSLEtBQUs4SyxXQUFXLEdBQUtzRyxJQUFLLEVBQ2hCLElBQU5BLEdBQ0FwUixLQUFLa1AsVUFBVTNELFVBQ2Z2TCxLQUFLc0wsS0FBS29DLFNBQVMsS0FFbkIxTixLQUFLbVAsVUFBVTVELFVBQ2Z2TCxLQUFLbVIsS0FBS3pELFNBQVMsSUFFdkIxTixLQUFLaUosUUFBUXBGLFFBQVFnTSxJQUNqQjdQLEtBQUtvQixLQUFLQyxZQUFZLElBQU0sS0FDeEJ3TyxFQUFPdkksZUFBZ0IsRUFFdkJ0SCxLQUFLeVAsWUFBWTRCLFlBQVcsRUFBTyxFQUFHLEdBQUcsR0FBTSxPQU0vRCxDQUVBLGVBQUFOLENBQWdCSyxHQUNScFIsS0FBSzhLLFdBQVcsR0FBS3NHLEtBQ3JCNVQsUUFBUW9CLElBQUksWUFBY3dTLEVBQUksYUFDMUJwUixLQUFLeUUsT0FDTHpFLEtBQUt5RSxNQUFNSSxLQUFLLFVBQVcsQ0FBRUMsT0FBUSxLQUUvQixJQUFOc00sR0FDQXBSLEtBQUtpRixPQUFPdUQsV0FBVyxXQUN2QnhJLEtBQUs4SyxXQUFXLEdBQUtzRyxJQUFLLEVBQzFCcFIsS0FBS3NMLEtBQUtvQyxTQUFTLE1BRW5CMU4sS0FBS2tGLE9BQU9zRCxXQUFXLFdBQ3ZCeEksS0FBSzhLLFdBQVcsR0FBS3NHLElBQUssRUFDMUJwUixLQUFLbVIsS0FBS3pELFNBQVMsS0FHL0IsQ0FFQSxnQkFBQXVELEdBQ29DLFlBQTVCalIsS0FBS2lGLE9BQU9xTSxRQUFRMVYsS0FBaUQsWUFBNUJvRSxLQUFLa0YsT0FBT29NLFFBQVExVixLQUN6RG9FLEtBQUswTSxLQUFLRSxRQUFVNU0sS0FBS3dNLEtBQUtJLFFBQVU1TSxLQUFLZ1IsZ0JBQWtCaFIsS0FBS2tSLGlCQUNwRTFULFFBQVFvQixJQUFJLCtCQUNSb0IsS0FBS3lFLE9BQ0x6RSxLQUFLeUUsTUFBTUksS0FBSyxTQUFVLENBQUVDLE9BQVEsS0FFeEM5RSxLQUFLME8sWUFBWW5ELFVBQ2pCdkwsS0FBS3VSLG1CQUdqQixDQUVBLGdCQUFBQSxHQUNJdlIsS0FBS3dSLFlBQWN4UixLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLE1BQ3BERixLQUFLd1IsWUFBWW5ELGNBQWEsR0FDOUJyTyxLQUFLd1IsWUFBWW5TLEtBQUsySSxjQUFlLEVBQ3JDaEksS0FBS3dSLFlBQVk5RCxTQUFTLEdBQzFCLElBQUkrRCxFQUFjLEVBQUMsR0FBTyxHQUMxQnpSLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVEvUCxLQUFLaUosUUFBUWhOLElBQUksV0FBVzRMLE9BQVE3SCxLQUFLd1IsWUFBYSxLQUMzRXhSLEtBQUtpSixRQUFRaE4sSUFBSSxXQUFXNEwsT0FBTzZJLGFBQVksR0FBTSxHQUNyRGUsRUFBWSxJQUFLLEVBQ2pCelIsS0FBSzBSLGtCQUFrQkQsR0FDdkIsTUFBTUUsRUFBTTNSLEtBQUsySyxXQUFXMU8sSUFBSSxXQUNoQyxHQUFJMFYsRUFDQSxJQUFVQSxFQUFJdEosV0FBV3NKLEVBQUl4TCxNQUFRLENBQUUsTUFBTXhCLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sSUFHOUUzRSxLQUFLOEgsUUFBUXpILElBQUkwUCxRQUFRL1AsS0FBS2lKLFFBQVFoTixJQUFJLFdBQVc0TCxPQUFRN0gsS0FBS3dSLFlBQWEsS0FDM0V4UixLQUFLaUosUUFBUWhOLElBQUksV0FBVzRMLE9BQU82SSxhQUFZLEdBQU0sR0FDckRlLEVBQVksSUFBSyxFQUNqQnpSLEtBQUswUixrQkFBa0JELEdBQ3ZCLE1BQU1HLEVBQU01UixLQUFLMkssV0FBVzFPLElBQUksV0FDaEMsR0FBSTJWLEVBQ0EsSUFBVUEsRUFBSXZKLFdBQVd1SixFQUFJekwsTUFBUSxDQUFFLE1BQU14QixHQUFNbkgsUUFBUW1DLEtBQUtnRixFQUFNLEdBR2xGLENBRUEsaUJBQUErTSxDQUFrQkQsR0FDZCxHQUFJQSxFQUFZLElBQU1BLEVBQVksR0FBSSxDQUVsQ3pSLEtBQUsySyxXQUFXOUcsUUFBUXdILElBQ3BCLElBQVVBLEdBQU1BLEVBQUdoRCxXQUFXZ0QsRUFBR2xGLE1BQVEsQ0FBRSxNQUFNeEIsR0FBTW5ILFFBQVFtQyxLQUFLZ0YsRUFBTSxDQUMxRSxJQUFVMEcsR0FBSUEsRUFBR0UsU0FBVyxDQUFFLE1BQU01RyxHQUFNbkgsUUFBUW1DLEtBQUtnRixFQUFNLElBRWpFM0UsS0FBSzJLLFdBQVdhLFFBRWhCLElBQVV4TCxLQUFLa0wsTUFBUWxMLEtBQUtrTCxJQUFJN0MsV0FBYXJJLEtBQUtrTCxJQUFJaEIsV0FBV2xLLEtBQUtrTCxJQUFJL0UsTUFBUSxDQUFFLE1BQU14QixHQUFNbkgsUUFBUW1DLEtBQUtnRixFQUFNLENBRS9HM0UsS0FBS3lFLE9BQU96RSxLQUFLeUUsTUFBTUMsVUFBVSxRQUNqQzFFLEtBQUt5RSxPQUFPekUsS0FBS3lFLE1BQU1DLFVBQVUsT0FDckMxRSxLQUFLc0IsTUFBTUMsTUFBTSxnQkFBaUIsQ0FBQzVELEtBQU0sU0FDN0MsQ0FDSixDQUVBLFlBQUFpTyxHQUNJLE1BQU1pRyxFQUFXLElBQUk5SyxFQUFLL0csS0FBTSxVQUFXLEdBQUksSUFBSyxhQUM5QzhSLEVBQVksSUFBSS9LLEVBQUsvRyxLQUFNLFVBQVcsSUFBSyxJQUFLLGFBRXREQSxLQUFLaUosUUFBUWtDLElBQUksVUFBVzBHLEdBQzVCN1IsS0FBS2lKLFFBQVFrQyxJQUFJLFVBQVcyRyxHQXNCNUI5UixLQUFLc0ssY0FwQmUsQ0FDaEIsQ0FDSXlDLFNBQVUsVUFDVmdGLE1BQU8sSUFDUEMsUUFBUyxJQUNUQyxRQUFTLElBQ1RDLFNBQVUsSUFDVnpKLEtBQU0sU0FFVixDQUNJc0UsU0FBVSxVQUNWZ0YsTUFBTyxLQUNQQyxRQUFTLE9BQ1RDLFFBQVMsT0FDVEMsU0FBVSxRQUNWekosS0FBTSxVQUttQjBKLElBQUlDLElBQzFCLENBQ0hyRixTQUFVcUYsRUFBT3JGLFNBQ2pCRyxTQUFVbE4sS0FBS2tNLE1BQU1DLFNBQVNDLE9BQU8sVUFBYUMsU0FBU0MsU0FBUzhGLEVBQU9MLFFBQzNFNUUsV0FBWW5OLEtBQUtrTSxNQUFNQyxTQUFTQyxPQUFPLFVBQWFDLFNBQVNDLFNBQVM4RixFQUFPSixVQUM3RTVFLFdBQVlwTixLQUFLa00sTUFBTUMsU0FBU0MsT0FBTyxVQUFhQyxTQUFTQyxTQUFTOEYsRUFBT0gsVUFDN0UzRSxZQUFhdE4sS0FBS2tNLE1BQU1DLFNBQVNDLE9BQU8sVUFBYUMsU0FBU0MsU0FBUzhGLEVBQU9GLFdBQzlFM0UsUUFBU3ZOLEtBQUtrTSxNQUFNQyxTQUFTQyxPQUFPLFVBQWFDLFNBQVNDLFNBQVM4RixFQUFPM0osU0FLdEYsQ0FFQSxPQUFBNEosQ0FBUXJMLEdBQ0poSCxLQUFLSyxJQUFJaVMsVUFBVSxJQUFLLElBQUssSUFBTSxJQUFLLEVBQVUsSUFFbER0UyxLQUFLZ0YsT0FBU2hGLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQ3ZDRixLQUFLZ0YsT0FBTzFFLFNBQVMsS0FDckJOLEtBQUt1UyxNQUFRdlMsS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssU0FDdENGLEtBQUt1UyxNQUFNalMsU0FBUyxJQUVwQk4sS0FBS2lKLFFBQVFwRixRQUFRZ0csSUFDakJBLEVBQUtoQyxPQUFPMkssWUFBWSxFQUFHLEtBRS9CeFMsS0FBSzhILFFBQVFtSSxRQUdUalEsS0FBS2tMLEtBQU9sTCxLQUFLa0wsSUFBSTdDLFdBQ3JCckksS0FBS2tMLElBQUkvRSxPQUdiLE1BQU1zTSxFQUFlLFlBQVB6TCxFQUFtQiw0QkFBOEIsNkJBQy9EaEgsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLbU4sRUFBTyxDQUMxQmpOLFdBQVksZUFDZEQsU0FBVSxPQUNURSxNQUFPLGVBRVJDLFVBQVUsSUFDWkMsVUFBVSxHQUVYLE1BQU0rTSxFQUFVMVMsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLE9BQVEsQ0FDNUNDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBQ1JDLFVBQVUsSUFDUkcsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsSUFBTTJNLEVBQVExTSxTQUFTLENBQUVDLEtBQU0sZUFDakRGLEdBQUcsYUFBYyxJQUFNMk0sRUFBUTFNLFNBQVMsQ0FBRUMsS0FBTSxlQUNoREYsR0FBRyxjQUFlLEtBQ2YvRixLQUFLc0IsTUFBTUMsTUFBTSxjQUU3QixDQUVBLGNBQ0ksTUFBTW9SLEVBQVUzUyxLQUFLaUosUUFBUWhOLElBQUksV0FDakMwVyxFQUFRdkwsT0FDUnBILEtBQUsrTCxXQUFXbkYsUUFBUStMLEVBQVF2TCxLQUFLdEUsWUFDckN0RixRQUFRb0IsSUFBSSwrQ0FDUitULEVBQVF2TCxNQUFRLEdBQUdwSCxLQUFLcVMsUUFBUSxVQUN4QyxDQUVBLGVBQ0ksTUFBTU8sRUFBVTVTLEtBQUtpSixRQUFRaE4sSUFBSSxXQUNqQzJXLEVBQVF4TCxPQUNScEgsS0FBS2dNLFlBQVlwRixRQUFRZ00sRUFBUXhMLEtBQUt0RSxZQUN0Q3RGLFFBQVFvQixJQUFJLDZDQUNSZ1UsRUFBUXhMLE1BQVEsR0FBR3BILEtBQUtxUyxRQUFRLFVBQ3hDLENBRUEsYUFBQWxJLENBQWNELEdBQ1ZsSyxLQUFLa0ssU0FBV0EsRUFDWkEsSUFDQWxLLEtBQUtzQixNQUFNMk8sUUFDWGpRLEtBQUtzQixNQUFNNE8sT0FBTyxhQUFjLENBQUUzSixjQUFlLGVBRWpEdkcsS0FBS2tMLEtBQU9sTCxLQUFLa0wsSUFBSTdDLFdBQ3JCckksS0FBS2tMLElBQUkrRSxPQUdqQixDQUVBLE1BQUE0QyxDQUFPNVAsR0FDSHpGLFFBQVFvQixJQUFJLGdDQUFpQ3FFLEdBQ3pDQSxHQUFRQSxFQUFLOEwsV0FDYi9PLEtBQUs4SyxXQUFhN0gsRUFBSzhMLFVBRTNCL08sS0FBS2tLLFVBQVcsRUFDWmxLLEtBQUtrTCxLQUFPbEwsS0FBS2tMLElBQUloQixVQUNyQmxLLEtBQUtrTCxJQUFJMkgsU0FHYjdTLEtBQUs4SyxXQUFXakgsUUFBUSxDQUFDaVAsRUFBTXBQLEtBQzNCbEcsUUFBUW9CLElBQUksY0FBYzhFLE9BQVdvUCxNQUU3QyxDQUVBLFdBQUFqRyxHQUNJLE1BQU1rRyxHQUFpQi9TLEtBQUtrSyxTQUM1QmxLLEtBQUt5SyxVQUFVbkIsUUFDWCxJQUFJVyxFQUFpQmpLLEtBQU0rUyxHQUVuQyxFQ3p3QkcsTUFBTUMsVUFBbUIsVUFDNUIsV0FBQW5ULEdBQ0lDLE1BQU0sYUFDVixDQUVBLE9BQUFDLEdBQ0lDLEtBQUtDLEtBQUtDLE1BQU0sU0FBVSxpQ0FDMUJGLEtBQUtDLEtBQUtDLE1BQU0sUUFBUyw0QkFDekJGLEtBQUtDLEtBQUtrRSxNQUFNLFFBQVMsb0JBQzdCLENBRUEsTUFBQWhFLENBQU84QyxHQUNIakQsS0FBS0ssSUFBSWlTLFVBQVUsSUFBSyxJQUFLLElBQU0sSUFBSyxFQUFVLElBRWxEdFMsS0FBS2dGLE9BQVNoRixLQUFLSyxJQUFJSCxNQUFNLElBQUksSUFBSyxVQUN0Q0YsS0FBS2dGLE9BQU8xRSxTQUFTLEtBQ3JCTixLQUFLaUYsT0FBU2pGLEtBQUtLLElBQUlILE1BQU0sSUFBSSxJQUFLLFNBQ3RDRixLQUFLaUYsT0FBTzNFLFNBQVMsSUFDckJOLEtBQUtrRixPQUFTbEYsS0FBS0ssSUFBSUgsTUFBTSxJQUFJLElBQUssU0FDdENGLEtBQUtrRixPQUFPNUUsU0FBUyxJQUNyQk4sS0FBS21GLE9BQVNuRixLQUFLSyxJQUFJSCxNQUFNLElBQUksSUFBSyxTQUN0Q0YsS0FBS21GLE9BQU83RSxTQUFTLElBRXJCTixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssZ0JBQWlCLENBQ3JDQyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTSxjQUNQQyxVQUFVLElBRWIsTUFBTXVOLEVBQVlqVCxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssU0FBVSxDQUNoREMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUNaRyxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxLQUNma04sRUFBVWpOLFNBQVMsQ0FBRUMsS0FBTSxjQUMzQmpHLEtBQUt5RSxNQUFNSSxLQUFLLFFBQVMsQ0FBRUMsT0FBUSxPQUVyQ2lCLEdBQUcsYUFBYyxJQUFNa04sRUFBVWpOLFNBQVMsQ0FBRUMsS0FBTSxlQUNsREYsR0FBRyxjQUFlLEtBQ2YvRixLQUFLc0IsTUFBTTZFLE9BQ1huRyxLQUFLc0IsTUFBTXVSLE9BQU81UCxFQUFLc0QsZUFDdkJ2RyxLQUFLc0IsTUFBTXJGLElBQUlnSCxFQUFLc0QsZUFBZXNNLFdBR2xDSCxFQUFVMVMsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLE9BQVEsQ0FDM0NDLFNBQVUsT0FDWEMsV0FBWSxlQUNYQyxNQUFPLGNBQ1JDLFVBQVUsSUFDWkcsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsS0FDaEIyTSxFQUFRMU0sU0FBUyxDQUFFQyxLQUFNLGNBQ3pCakcsS0FBS3lFLE1BQU1JLEtBQUssUUFBUyxDQUFFQyxPQUFRLE9BRXBDaUIsR0FBRyxhQUFjLElBQU0yTSxFQUFRMU0sU0FBUyxDQUFFQyxLQUFNLGVBQ2hERixHQUFHLGNBQWUsS0FFZixJQUNJLEdBQUk5QyxHQUErQixlQUF2QkEsRUFBS3NELGNBQWdDLENBQzdDLE1BQU0yTSxFQUFZbFQsS0FBS3NCLE1BQU1yRixJQUFJLGNBQzdCaVgsR0FBYUEsRUFBVTdILElBQU02SCxFQUFVN0gsR0FBRzhILGFBQWVDLFVBQVVDLE9BQ25FSCxFQUFVN0gsR0FBR2lJLEtBQUt2VyxLQUFLMkIsVUFBVSxDQUFFNlUsS0FBTSx3QkFFekNDLFdBQVcsS0FBUSxJQUFNTixFQUFVN0gsR0FBR29JLE9BQVMsQ0FBRSxNQUFNL1IsR0FBSWxFLFFBQVFtQyxLQUFLK0IsRUFBSSxHQUFLLElBRXpGLENBQ0osQ0FBRSxNQUFNaUQsR0FBT25ILFFBQVFtQyxLQUFLZ0YsRUFBTSxDQUNsQyxJQUFJM0UsS0FBSzRFLEtBQUtILE1BQU1DLFVBQVUsTUFBTyxDQUFDLE1BQU1oRCxHQUFHbEUsUUFBUW1DLEtBQUsrQixFQUFHLENBRS9EMUIsS0FBS3NCLE1BQU1DLE1BQU0sYUFDakJ2QixLQUFLc0IsTUFBTTZFLEtBQUtsRCxFQUFLc0QsZUFDckJ2RyxLQUFLc0IsTUFBTTZFLFNBSVZHLEVBQWF0RyxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssWUFBYSxDQUNwREMsU0FBVSxPQUNYQyxXQUFZLGVBQ1hDLE1BQU8sY0FDUkMsVUFBVSxJQUNaRyxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxLQUNoQk8sRUFBV04sU0FBUyxDQUFFQyxLQUFNLGNBQzVCakcsS0FBS3lFLE1BQU1JLEtBQUssUUFBUyxDQUFFQyxPQUFRLE9BRXBDaUIsR0FBRyxhQUFjLElBQU1PLEVBQVdOLFNBQVMsQ0FBRUMsS0FBTSxlQUNuREYsR0FBRyxjQUFlLEtBRWYvRixLQUFLc0IsTUFBTUMsTUFBTSxlQUFnQixDQUFFZ0YsY0FBZXRELEdBQVFBLEVBQUtzRCxjQUFnQnRELEVBQUtzRCxjQUFnQixlQUU5RyxFQzVGRyxNQUFNbU4sVUFBcUIsVUFDOUIsV0FBQTdULEdBQ0lDLE1BQU0sZUFDVixDQUNBLE9BQUFDLEdBQ0lDLEtBQUtDLEtBQUtDLE1BQU0sU0FBVSxpQ0FDMUJGLEtBQUtDLEtBQUtDLE1BQU0sWUFBYSwyQkFDN0JGLEtBQUtDLEtBQUtDLE1BQU0sUUFBUywyQkFDN0IsQ0FFQSxNQUFBQyxHQUNJSCxLQUFLZ0YsT0FBU2hGLEtBQUtLLElBQUlILE1BQU0sSUFBSSxJQUFLLFVBQ3RDRixLQUFLZ0YsT0FBTzFFLFNBQVMsS0FDckJOLEtBQUtpRixPQUFTakYsS0FBS0ssSUFBSUgsTUFBTSxJQUFJLElBQUssU0FDdENGLEtBQUtpRixPQUFPM0UsU0FBUyxJQUVyQk4sS0FBSzJULFdBQWEzVCxLQUFLSyxJQUFJSCxNQUFNLElBQUksSUFBSyxhQUMxQ0YsS0FBSzJULFdBQVdyVCxTQUFTLEdBRXpCTixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssbUNBQW9DLENBQ3hEQyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNSQyxVQUFVLElBQ1pDLFVBQVUsR0FFWDNGLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyxXQUFZLENBQ2hDQyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNSQyxVQUFVLElBRWIxRixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssd0JBQXlCLENBQzdDQyxTQUFVLE9BQ1ZFLE1BQU8sWUFDUEQsV0FBWSxpQkFDYkUsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLHVCQUF3QixDQUM1Q0MsU0FBVSxPQUNWRSxNQUFPLFlBQ1BELFdBQVksaUJBQ2JFLFVBQVUsSUFFYjFGLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSywyQkFBNEIsQ0FDaERDLFNBQVUsT0FDVkUsTUFBTyxZQUNQRCxXQUFZLGlCQUNiRSxVQUFVLElBRWIxRixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUsseUJBQTBCLENBQzlDQyxTQUFVLE9BQ1ZFLE1BQU8sWUFDUEQsV0FBWSxpQkFDYkUsVUFBVSxJQUViLE1BQU1rTyxFQUFZNVQsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLFNBQVUsQ0FDaERDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBQ1JDLFVBQVUsSUFDWkcsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsSUFBTTZOLEVBQVU1TixTQUFTLENBQUVDLEtBQU0sZUFDbkRGLEdBQUcsYUFBYyxJQUFNNk4sRUFBVTVOLFNBQVMsQ0FBRUMsS0FBTSxlQUNsREYsR0FBRyxjQUFlLEtBQ2YsSUFBVS9GLEtBQUt5RSxPQUFPekUsS0FBS3lFLE1BQU1DLFVBQVUsYUFBZSxDQUFFLE1BQU1DLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sQ0FDM0YzRSxLQUFLc0IsTUFBTUMsTUFBTSxjQUV6QixFQ3BFRyxNQUFNc1MsVUFBc0IsVUFDL0IsV0FBQWhVLEdBQ0lDLE1BQU0sZ0JBQ1YsQ0FDQSxPQUFBQyxHQUNJQyxLQUFLQyxLQUFLQyxNQUFNLFNBQVUsaUNBQzFCRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsMkJBQzdCLENBRUEsTUFBQUMsR0FDSUgsS0FBS2dGLE9BQVNoRixLQUFLSyxJQUFJSCxNQUFNLElBQUksSUFBSyxVQUN0Q0YsS0FBS2dGLE9BQU8xRSxTQUFTLEtBQ3JCTixLQUFLaUYsT0FBU2pGLEtBQUtLLElBQUlILE1BQU0sSUFBSSxJQUFLLFNBQ3RDRixLQUFLaUYsT0FBTzNFLFNBQVMsSUFDckJOLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyxtQ0FBb0MsQ0FDeERDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBQ1JDLFVBQVUsSUFDWkMsVUFBVSxHQUVYM0YsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLFdBQVksQ0FDaENDLFNBQVUsT0FDVEMsV0FBWSxlQUNkQyxNQUFPLGNBQ1BDLFVBQVUsSUFFYjFGLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyw4bkNBQStuQyxDQUNucENDLFNBQVUsT0FFVkUsTUFBTyxjQUNSQyxVQUFVLElBR2IsTUFBTWtPLEVBQVk1VCxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssU0FBVSxDQUNoREMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUNaRyxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxJQUFNNk4sRUFBVTVOLFNBQVMsQ0FBRUMsS0FBTSxlQUNuREYsR0FBRyxhQUFjLElBQU02TixFQUFVNU4sU0FBUyxDQUFFQyxLQUFNLGVBQ2xERixHQUFHLGNBQWUsS0FDZixJQUFVL0YsS0FBS3lFLE9BQU96RSxLQUFLeUUsTUFBTUMsVUFBVSxhQUFlLENBQUUsTUFBTUMsR0FBTW5ILFFBQVFtQyxLQUFLZ0YsRUFBTSxDQUMzRjNFLEtBQUtzQixNQUFNNkUsT0FDWG5HLEtBQUtzQixNQUFNQyxNQUFNLGNBRXpCLEVDNUNHLE1BQU11UyxVQUFzQixVQUUvQixXQUFBalUsR0FDSUMsTUFBTSxnQkFDVixDQUVBLE9BQUFDLEdBQ0lDLEtBQUtDLEtBQUtDLE1BQU0sU0FBVSw2QkFDMUJGLEtBQUtDLEtBQUtDLE1BQU0sbUJBQW9CLGtDQUNwQ0YsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLDRCQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLDZCQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLDRCQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLGtDQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLCtCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLDRCQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDhCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDZCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLDRCQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLDZCQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxPQUFRLHFCQUM1QixDQUVBLElBQUFtSyxHQUNJckssS0FBS2lKLFFBQVUsSUFBSUMsSUFDbkJsSixLQUFLc0ssY0FBZ0IsR0FDckJ0SyxLQUFLK1QsS0FBTyxLQUNaL1QsS0FBS2dVLE9BQVEsRUFFYmhVLEtBQUt1SyxZQUFhLEVBQ2xCdkssS0FBS2lVLE1BQ0xqVSxLQUFLeUssVUFBWSxJQUFJekIsRUFFckJoSixLQUFLa1Usa0JBQW9CLENBQ3JCMUYsYUFBYSxFQUNiTSxRQUFRLEVBQ1JxRixVQUFVLEVBQ1ZDLFNBQVMsRUFDVEMsU0FBUyxFQUNUQyxTQUFTLEVBQ1RDLFNBQVMsRUFDVEMsVUFBVSxFQUNWeEYsT0FBTyxFQUNQeUYsT0FBTyxFQUVmLENBR0EsTUFBQXRVLENBQU84QyxHQUNIakQsS0FBSzZKLEtBQU83SixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxRQUNyQ0YsS0FBSzZKLEtBQUt2SixTQUFTLEtBQ25CTixLQUFLeUwsaUJBQ0x6TCxLQUFLNEwsZUFDTDVMLEtBQUs2TCx1QkFDTDdMLEtBQUtpVSxNQUFRaFIsRUFHYmpELEtBQUtpTSxPQUFTak0sS0FBS2tNLE1BQU1DLFNBQVNDLE9BQU8sVUFBYUMsU0FBU0MsU0FBU0MsS0FDeEV2TSxLQUFLd00sS0FBT3hNLEtBQUtrTSxNQUFNQyxTQUFTQyxPQUFPLFVBQWFDLFNBQVNDLFNBQVNHLEdBQ3RFek0sS0FBSzBNLEtBQU8xTSxLQUFLa00sTUFBTUMsU0FBU0MsT0FBTyxVQUFhQyxTQUFTQyxTQUFTSyxFQUMxRSxDQUVBLE1BQUFoRSxHQUNRM0ksS0FBS2lNLE9BQU9XLFNBQVc1TSxLQUFLdUssYUFDeEJ2SyxLQUFLaVUsTUFBTTVJLElBQU1yTCxLQUFLaVUsTUFBTTVJLEdBQUc4SCxhQUFlQyxVQUFVQyxNQUN4RHJULEtBQUtpVSxNQUFNNUksR0FBR2lJLEtBQUt2VyxLQUFLMkIsVUFBVSxDQUFFNlUsS0FBTSx1QkFBd0J6SSxXQUFZOUssS0FBS2lVLE1BQU1sRixZQUU3Ri9PLEtBQUtzQixNQUFNdVIsT0FBTzdTLEtBQUtpVSxNQUFNMU4sY0FBZSxDQUFFd0ksU0FBVS9PLEtBQUtpVSxNQUFNbEYsV0FDbkUvTyxLQUFLc0IsTUFBTTZFLFFBSWZuRyxLQUFLMFUsTUFBTyxFQUNSMVUsS0FBS3dNLEtBQUtJLFNBQVE1TSxLQUFLZ1UsT0FBUSxHQUMvQmhVLEtBQUswTSxLQUFLRSxTQUFRNU0sS0FBS2dVLE9BQVEsR0FFbkNoVSxLQUFLc0ssY0FBY3pHLFFBQVFpSixJQUN2QixNQUFNNkgsRUFBUzNVLEtBQUtpSixRQUFRaE4sSUFBSTZRLEVBQVFDLFVBQ3hDLElBQUlqRCxFQUFZLEtBRVpBLEVBREFnRCxFQUFRSSxTQUFTTixPQUNMLEtBQ0xFLEVBQVFLLFdBQVdQLE9BQ2QsT0FDTEUsRUFBUU0sV0FBV1IsT0FDZCxPQUNMRSxFQUFRUSxZQUFZVixPQUNmLFFBRUEsT0FFaEIsSUFBSVksRUFBYyxJQUFJNUQsRUFBZ0IrSyxFQUFRN0ssR0FDOUM5SixLQUFLeUssVUFBVW5CLFFBQVFrRSxJQUUvQixDQUVBLGNBQUEvQixHQUNJekwsS0FBS3NPLE1BQVF0TyxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQzlDRixLQUFLc08sTUFBTUQsY0FBYSxHQUN4QnJPLEtBQUtzTyxNQUFNaE8sU0FBUyxLQUNwQk4sS0FBS3NPLE1BQU1qUCxLQUFLMkksY0FBZSxFQUMvQmhJLEtBQUt1TyxXQUFhdk8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxlQUNuREYsS0FBS3VPLFdBQVdGLGNBQWEsR0FDN0JyTyxLQUFLdU8sV0FBV2pPLFNBQVMsS0FDekJOLEtBQUt1TyxXQUFXbFAsS0FBSzJJLGNBQWUsRUFDcENoSSxLQUFLd08sWUFBY3hPLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssb0JBQ3BERixLQUFLd08sWUFBWUgsY0FBYSxHQUM5QnJPLEtBQUt3TyxZQUFZbE8sU0FBUyxLQUMxQk4sS0FBS3dPLFlBQVluUCxLQUFLMkksY0FBZSxFQUNyQ2hJLEtBQUs4TyxPQUFTOU8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxlQUMvQ0YsS0FBSzhPLE9BQU9ULGNBQWEsR0FDekJyTyxLQUFLOE8sT0FBT3hPLFNBQVMsS0FDckJOLEtBQUs4TyxPQUFPelAsS0FBSzJJLGNBQWUsRUFDaENoSSxLQUFLbVUsU0FBV25VLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssY0FDakRGLEtBQUttVSxTQUFTOUYsY0FBYSxHQUMzQnJPLEtBQUttVSxTQUFTN1QsU0FBUyxLQUN2Qk4sS0FBS21VLFNBQVM5VSxLQUFLMkksY0FBZSxFQUNsQ2hJLEtBQUtvVSxRQUFVcFUsS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxhQUNoREYsS0FBS29VLFFBQVEvRixjQUFhLEdBQzFCck8sS0FBS29VLFFBQVE5VCxTQUFTLEtBQ3RCTixLQUFLb1UsUUFBUS9VLEtBQUsySSxjQUFlLEVBQ2pDaEksS0FBS3FVLFFBQVVyVSxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLGFBQ2hERixLQUFLcVUsUUFBUWhHLGNBQWEsR0FDMUJyTyxLQUFLcVUsUUFBUS9ULFNBQVMsS0FDdEJOLEtBQUtxVSxRQUFRaFYsS0FBSzJJLGNBQWUsRUFDakNoSSxLQUFLc1UsUUFBVXRVLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssY0FDaERGLEtBQUtzVSxRQUFRakcsY0FBYSxHQUMxQnJPLEtBQUtzVSxRQUFRaFUsU0FBUyxLQUN0Qk4sS0FBS3NVLFFBQVFqVixLQUFLMkksY0FBZSxFQUNqQ2hJLEtBQUt1VSxRQUFVdlUsS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxhQUNoREYsS0FBS3VVLFFBQVFsRyxjQUFhLEdBQzFCck8sS0FBS3VVLFFBQVFqVSxTQUFTLEtBQ3RCTixLQUFLdVUsUUFBUWxWLEtBQUsySSxjQUFlLEVBQ2pDaEksS0FBS3dVLFNBQVd4VSxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLGNBQ2pERixLQUFLd1UsU0FBU25HLGNBQWEsR0FDM0JyTyxLQUFLd1UsU0FBU2xVLFNBQVMsS0FDdkJOLEtBQUt3VSxTQUFTblYsS0FBSzJJLGNBQWUsRUFDbENoSSxLQUFLZ1AsTUFBUWhQLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssY0FDOUNGLEtBQUtnUCxNQUFNWCxjQUFhLEdBQ3hCck8sS0FBS2dQLE1BQU0xTyxTQUFTLEtBQ3BCTixLQUFLZ1AsTUFBTTNQLEtBQUsySSxjQUFlLEVBQy9CaEksS0FBS3lVLE1BQVF6VSxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxHQUFJLGVBQzdDRixLQUFLeVUsTUFBTXBHLGNBQWEsR0FDeEJyTyxLQUFLeVUsTUFBTW5VLFNBQVMsS0FDcEJOLEtBQUt5VSxNQUFNcFYsS0FBSzJJLGNBQWUsQ0FDbkMsQ0FFQSxvQkFBQTZELEdBQ0k3TCxLQUFLaUosUUFBUXBGLFFBQVFnTSxJQUNqQjdQLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS3dPLFlBQWEsS0FDbER4TyxLQUFLZ1UsUUFDRGhVLEtBQUtpVSxNQUFNeFAsUUFBVXpFLEtBQUtrVSxrQkFBa0IxRixjQUM1Q3hPLEtBQUtpVSxNQUFNeFAsTUFBTUksS0FBSyxnQkFBaUIsQ0FBRUMsT0FBUSxLQUNqRDlFLEtBQUtrVSxrQkFBa0IxRixhQUFjLEdBRXpDeE8sS0FBS3dPLFlBQVlkLFNBQVMsSUFDMUIxTixLQUFLaVUsTUFBTWxGLFNBQVMsSUFBSyxFQUN6Qi9PLEtBQUtnVSxPQUFRLEVBQ2J4VyxRQUFRb0IsSUFBSSw0QkFHcEJvQixLQUFLOEgsUUFBUXpILElBQUkwUCxRQUFRRixFQUFPaEksT0FBUTdILEtBQUs4TyxPQUFRLEtBQzdDOU8sS0FBS2dVLFFBQ0RoVSxLQUFLaVUsTUFBTXhQLFFBQVV6RSxLQUFLa1Usa0JBQWtCcEYsU0FDNUM5TyxLQUFLaVUsTUFBTXhQLE1BQU1JLEtBQUssZ0JBQWlCLENBQUVDLE9BQVEsS0FDakQ5RSxLQUFLa1Usa0JBQWtCcEYsUUFBUyxHQUVwQzlPLEtBQUs4TyxPQUFPcEIsU0FBUyxJQUNyQjFOLEtBQUtpVSxNQUFNbEYsU0FBUyxLQUFNLEVBQzFCL08sS0FBS2dVLE9BQVEsRUFDYnhXLFFBQVFvQixJQUFJLHNCQUdwQm9CLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS21VLFNBQVUsS0FDL0NuVSxLQUFLZ1UsUUFDRGhVLEtBQUtpVSxNQUFNeFAsUUFBVXpFLEtBQUtrVSxrQkFBa0JDLFdBQzVDblUsS0FBS2lVLE1BQU14UCxNQUFNSSxLQUFLLGdCQUFpQixDQUFFQyxPQUFRLEtBQ2pEOUUsS0FBS2tVLGtCQUFrQkMsVUFBVyxHQUV0Q25VLEtBQUttVSxTQUFTekcsU0FBUyxJQUN2QjFOLEtBQUtpVSxNQUFNbEYsU0FBUyxJQUFLLEVBQ3pCL08sS0FBS2dVLE9BQVEsRUFDYnhXLFFBQVFvQixJQUFJLCtCQUdwQm9CLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS29VLFFBQVMsS0FDOUNwVSxLQUFLZ1UsUUFDRGhVLEtBQUtpVSxNQUFNeFAsUUFBVXpFLEtBQUtrVSxrQkFBa0JFLFVBQzVDcFUsS0FBS2lVLE1BQU14UCxNQUFNSSxLQUFLLGdCQUFpQixDQUFFQyxPQUFRLEtBQ2pEOUUsS0FBS2tVLGtCQUFrQkUsU0FBVSxHQUVyQ3BVLEtBQUtvVSxRQUFRMUcsU0FBUyxJQUN0QjFOLEtBQUtpVSxNQUFNbEYsU0FBUyxJQUFLLEVBQ3pCL08sS0FBS2dVLE9BQVEsRUFDYnhXLFFBQVFvQixJQUFJLDhCQUdwQm9CLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS3FVLFFBQVMsS0FDOUNyVSxLQUFLZ1UsUUFDRGhVLEtBQUtpVSxNQUFNeFAsUUFBVXpFLEtBQUtrVSxrQkFBa0JHLFVBQzVDclUsS0FBS2lVLE1BQU14UCxNQUFNSSxLQUFLLGdCQUFpQixDQUFFQyxPQUFRLEtBQ2pEOUUsS0FBS2tVLGtCQUFrQkcsU0FBVSxHQUVyQ3JVLEtBQUtxVSxRQUFRM0csU0FBUyxJQUN0QjFOLEtBQUtpVSxNQUFNbEYsU0FBUyxJQUFLLEVBQ3pCL08sS0FBS2dVLE9BQVEsRUFDYnhXLFFBQVFvQixJQUFJLDZCQUdwQm9CLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS3NVLFFBQVMsS0FDOUN0VSxLQUFLZ1UsUUFDRGhVLEtBQUtpVSxNQUFNeFAsUUFBVXpFLEtBQUtrVSxrQkFBa0JJLFVBQzVDdFUsS0FBS2lVLE1BQU14UCxNQUFNSSxLQUFLLGdCQUFpQixDQUFFQyxPQUFRLEtBQ2pEOUUsS0FBS2tVLGtCQUFrQkksU0FBVSxHQUVyQ3RVLEtBQUtzVSxRQUFRNUcsU0FBUyxJQUN0QjFOLEtBQUtpVSxNQUFNbEYsU0FBUyxJQUFLLEVBQ3pCL08sS0FBS2dVLE9BQVEsRUFDYnhXLFFBQVFvQixJQUFJLDJCQUdwQm9CLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS3VVLFFBQVMsS0FDOUN2VSxLQUFLZ1UsUUFDRGhVLEtBQUtpVSxNQUFNeFAsUUFBVXpFLEtBQUtrVSxrQkFBa0JLLFVBQzVDdlUsS0FBS2lVLE1BQU14UCxNQUFNSSxLQUFLLGdCQUFpQixDQUFFQyxPQUFRLEtBQ2pEOUUsS0FBS2tVLGtCQUFrQkssU0FBVSxHQUVyQ3ZVLEtBQUt1VSxRQUFRN0csU0FBUyxJQUN0QjFOLEtBQUtpVSxNQUFNbEYsU0FBUyxJQUFLLEVBQ3pCL08sS0FBS2dVLE9BQVEsRUFDYnhXLFFBQVFvQixJQUFJLDRCQUdwQm9CLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS3dVLFNBQVUsS0FDL0N4VSxLQUFLZ1UsUUFDRGhVLEtBQUtpVSxNQUFNeFAsUUFBVXpFLEtBQUtrVSxrQkFBa0JNLFdBQzVDeFUsS0FBS2lVLE1BQU14UCxNQUFNSSxLQUFLLGdCQUFpQixDQUFFQyxPQUFRLEtBQ2pEOUUsS0FBS2tVLGtCQUFrQk0sVUFBVyxHQUV0Q3hVLEtBQUt3VSxTQUFTOUcsU0FBUyxJQUN2QjFOLEtBQUtpVSxNQUFNbEYsU0FBUyxJQUFLLEVBQ3pCL08sS0FBS2dVLE9BQVEsRUFDYnhXLFFBQVFvQixJQUFJLDJCQUdwQm9CLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS2dQLE1BQU8sS0FDNUNoUCxLQUFLZ1UsUUFDRGhVLEtBQUtpVSxNQUFNeFAsUUFBVXpFLEtBQUtrVSxrQkFBa0JsRixRQUM1Q2hQLEtBQUtpVSxNQUFNeFAsTUFBTUksS0FBSyxnQkFBaUIsQ0FBRUMsT0FBUSxLQUNqRDlFLEtBQUtrVSxrQkFBa0JsRixPQUFRLEdBRW5DaFAsS0FBS2dQLE1BQU10QixTQUFTLElBQ3BCMU4sS0FBS2lVLE1BQU1sRixTQUFTLElBQUssRUFDekIvTyxLQUFLZ1UsT0FBUSxFQUNieFcsUUFBUW9CLElBQUksc0JBR3BCb0IsS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLeVUsTUFBTyxLQUM1Q3pVLEtBQUtnVSxRQUNEaFUsS0FBS2lVLE1BQU14UCxRQUFVekUsS0FBS2tVLGtCQUFrQk8sUUFDNUN6VSxLQUFLaVUsTUFBTXhQLE1BQU1JLEtBQUssZ0JBQWlCLENBQUVDLE9BQVEsS0FDakQ5RSxLQUFLa1Usa0JBQWtCTyxPQUFRLEdBRW5DelUsS0FBS3lVLE1BQU0vRyxTQUFTLElBQ3BCMU4sS0FBS2lVLE1BQU1sRixTQUFTLElBQUssRUFDekIvTyxLQUFLZ1UsT0FBUSxFQUNieFcsUUFBUW9CLElBQUksd0JBSTVCLENBRUEsWUFBQWdOLEdBRUksTUFBTWlHLEVBQVcsSUFBSTlLLEVBQUsvRyxLQUFNLFVBQVcsR0FBSSxJQUFLLFFBQ3BENlIsRUFBU3ZSLFNBQVMsS0FFbEJOLEtBQUtpSixRQUFRa0MsSUFBSSxVQUFXMEcsR0FhNUI3UixLQUFLc0ssY0FYZSxDQUNoQixDQUNJeUMsU0FBVSxVQUNWZ0YsTUFBTyxLQUNQQyxRQUFTLE9BQ1RDLFFBQVMsT0FDVEMsU0FBVSxVQUtlQyxJQUFJQyxJQUNqQzVVLFFBQVFvQixJQUFJd1QsR0FDTCxDQUNIckYsU0FBVXFGLEVBQU9yRixTQUNqQkcsU0FBVWxOLEtBQUtrTSxNQUFNQyxTQUFTQyxPQUFPLFVBQWFDLFNBQVNDLFNBQVM4RixFQUFPTCxRQUMzRTVFLFdBQVluTixLQUFLa00sTUFBTUMsU0FBU0MsT0FBTyxVQUFhQyxTQUFTQyxTQUFTOEYsRUFBT0osVUFDN0U1RSxXQUFZcE4sS0FBS2tNLE1BQU1DLFNBQVNDLE9BQU8sVUFBYUMsU0FBU0MsU0FBUzhGLEVBQU9ILFVBQzdFM0UsWUFBYXROLEtBQUtrTSxNQUFNQyxTQUFTQyxPQUFPLFVBQWFDLFNBQVNDLFNBQVM4RixFQUFPRixhQUcxRixFQzdTRyxNQUFNMEMsVUFBcUIsVUFDOUIsV0FBQS9VLEdBQ0lDLE1BQU0sZUFDVixDQUVBLE9BQUFDLEdBQ0lDLEtBQUtDLEtBQUtDLE1BQU0sU0FBVSxpQ0FDMUJGLEtBQUtDLEtBQUtDLE1BQU0sWUFBYSwyQkFDN0JGLEtBQUtDLEtBQUtDLE1BQU0sUUFBUywyQkFDN0IsQ0FFQSxNQUFBQyxDQUFPOEMsR0FDSGpELEtBQUtLLElBQUlpUyxVQUFVLElBQUssSUFBSyxJQUFNLElBQUssRUFBVSxJQUVsRHRTLEtBQUtnRixPQUFTaEYsS0FBS0ssSUFBSUgsTUFBTSxJQUFJLElBQUssVUFDdENGLEtBQUtnRixPQUFPMUUsU0FBUyxLQUNyQk4sS0FBS2lGLE9BQVNqRixLQUFLSyxJQUFJSCxNQUFNLElBQUksSUFBSyxTQUN0Q0YsS0FBS2lGLE9BQU8zRSxTQUFTLElBR3JCTixLQUFLMlQsV0FBYTNULEtBQUtLLElBQUlILE1BQU0sSUFBSSxJQUFLLGFBQzFDRixLQUFLMlQsV0FBV3JULFNBQVMsSUFBSyxLQUM5Qk4sS0FBSzZVLFdBQWE3VSxLQUFLSyxJQUFJSCxNQUFNLElBQUksSUFBSyxhQUMxQ0YsS0FBSzZVLFdBQVd2VSxTQUFTLElBQUksS0FDN0JOLEtBQUs4VSxXQUFhOVUsS0FBS0ssSUFBSUgsTUFBTSxJQUFJLElBQUssYUFDMUNGLEtBQUs4VSxXQUFXeFUsU0FBUyxJQUFJLEtBRTdCTixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssbUNBQW9DLENBQ3hEQyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNSQyxVQUFVLElBQ1pDLFVBQVUsR0FFWDNGLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyxZQUFhLENBQ2pDQyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNSQyxVQUFVLElBRWIxRixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssYUFBYyxDQUNsQ0MsU0FBVSxPQUNUQyxXQUFZLGVBQ2RDLE1BQU8sY0FDUEMsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLDhFQUErRSxDQUNuR0MsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLGFBQWMsQ0FDbENDLFNBQVUsT0FDVkUsTUFBTyx1QkFDUEQsV0FBWSxpQkFDYkUsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLHNHQUF1RyxDQUMzSEMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLFVBQVcsQ0FDL0JDLFNBQVUsT0FDVkUsTUFBTyx5QkFDUEQsV0FBWSxpQkFDYkUsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLHNHQUF1RyxDQUMzSEMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUViLE1BQU1rTyxFQUFZNVQsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLFNBQVUsQ0FDaERDLFNBQVUsT0FDVEMsV0FBWSxlQUNkQyxNQUFPLGNBQ1BDLFVBQVUsSUFDWkcsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsSUFBTTZOLEVBQVU1TixTQUFTLENBQUVDLEtBQU0sZUFDbkRGLEdBQUcsYUFBYyxJQUFNNk4sRUFBVTVOLFNBQVMsQ0FBRUMsS0FBTSxlQUNsREYsR0FBRyxjQUFlLEtBQ2YsR0FBMEIsY0FBdkI5QyxFQUFLc0QsY0FBOEIsQ0FDbEMsSUFBVXZHLEtBQUt5RSxPQUFPekUsS0FBS3lFLE1BQU1DLFVBQVUsYUFBZSxDQUFFLE1BQU1DLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sQ0FDM0YzRSxLQUFLc0IsTUFBTTZFLE9BQ1huRyxLQUFLc0IsTUFBTUMsTUFBTSxZQUNyQixNQUNJdkIsS0FBS3NCLE1BQU02RSxPQUNYbkcsS0FBS3NCLE1BQU11UixPQUFPNVAsRUFBS3NELGVBQ3ZCdkcsS0FBS3NCLE1BQU1yRixJQUFJZ0gsRUFBS3NELGVBQWVzTSxVQUcvQyxFQzlGRyxNQUFNa0MsVUFBc0IsVUFDL0IsV0FBQWxWLEdBQ0lDLE1BQU0sZ0JBQ1YsQ0FFQSxPQUFBQyxHQUNJQyxLQUFLQyxLQUFLQyxNQUFNLFNBQVUsaUNBQzFCRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsNEJBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUseUJBQTBCLENBRXhELE1BQUFDLENBQU84QyxHQUVIakQsS0FBS21KLFVBQVluSixLQUFLc0IsTUFBTXJGLElBQWtCLFdBQWRnSCxFQUFLdEYsS0FBb0IsYUFBZSxhQUN4RXFDLEtBQUs2SyxTQUFXNUgsRUFBS3RGLE1BQVEsUUFFN0JxQyxLQUFLZ1YsT0FBU2hWLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFJLElBQUssVUFDOUNGLEtBQUtnVixPQUFPM0csY0FBYSxHQUN6QnJPLEtBQUtnVixPQUFPM1YsS0FBSzJJLGNBQWUsRUFFaENoSSxLQUFLZ0YsT0FBU2hGLEtBQUtLLElBQUlILE1BQU0sSUFBSSxJQUFLLFVBQ3RDRixLQUFLZ0YsT0FBTzFFLFNBQVMsS0FDckJOLEtBQUtpRixPQUFTakYsS0FBS0ssSUFBSUgsTUFBTSxJQUFJLElBQUssU0FDdENGLEtBQUtpRixPQUFPM0UsU0FBUyxLQUNyQk4sS0FBS2lGLE9BQU95SSxTQUFTLElBQ3JCMU4sS0FBS2tGLE9BQVNsRixLQUFLSyxJQUFJSCxNQUFNLElBQUksSUFBSyxTQUN0Q0YsS0FBS2tGLE9BQU81RSxTQUFTLEtBQ3JCTixLQUFLa0YsT0FBT3dJLFNBQVMsSUFFSCxVQUFkekssRUFBS3RGLEtBQWtCcUMsS0FBS2lWLFNBQVcsU0FBWXRFLFFBQVEsRUFBRyxHQUM3RDNRLEtBQUtpVixTQUFXaFMsRUFBS2lTLFNBRUosSUFBbEJsVixLQUFLaVYsVUFDTGpWLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSywyQkFBNEIsQ0FDaERDLFNBQVUsT0FDZEMsV0FBWSxlQUNSQyxNQUFPLGNBQ1JDLFVBQVUsSUFDYjFGLEtBQUtnSCxHQUFLLFdBQ2UsSUFBbEJoSCxLQUFLaVYsV0FDWmpWLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSywyQkFBNEIsQ0FDaERDLFNBQVUsT0FDYkMsV0FBWSxlQUNWQyxNQUFPLGNBQ1BDLFVBQVUsSUFDYjFGLEtBQUtnSCxHQUFLLFdBR2RoSCxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssK0JBQWdDLENBQ3BEQyxTQUFVLE9BQ1RDLFdBQVksZUFDZEMsTUFBTyxjQUNQQyxVQUFVLElBRWIxRixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssdUJBQXdCLENBQzVDQyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNSQyxVQUFVLElBRWIsTUFBTXlQLEVBQU9uVixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssc0JBQXVCLENBQ3hEQyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNSQyxVQUFVLElBQ1pnSSxTQUFTLElBRUowSCxFQUFPcFYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLGtCQUFtQixDQUNwREMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUNaZ0ksU0FBUyxJQUlRLFdBQWR6SyxFQUFLdEYsS0FDZXFDLEtBQUtnSCxLQUFPL0QsRUFBS2tOLFVBRWpDZ0YsRUFBS3pILFNBQVMsR0FDZHlILEVBQUt0UCxlQUFlLENBQUVDLGVBQWUsSUFDckNxUCxFQUFLcFAsR0FBRyxjQUFlLEtBQ25Cb1AsRUFBS25QLFNBQVMsQ0FBRUMsS0FBTSxnQkFFMUJrUCxFQUFLcFAsR0FBRyxhQUFjLElBQU1vUCxFQUFLblAsU0FBUyxDQUFFQyxLQUFNLGVBQ2xEa1AsRUFBS3BQLEdBQUcsY0FBZSxLQUNmOUMsRUFBS29JLElBQU1wSSxFQUFLb0ksR0FBRzhILGFBQWVDLFVBQVVDLE9BQzVDN1YsUUFBUW9CLElBQUksa0JBQ1pxRSxFQUFLb0ksR0FBR2lJLEtBQUt2VyxLQUFLMkIsVUFBVSxDQUFDNlUsS0FBTSxjQUFlOEIsT0FBUSxRQUlsRUQsRUFBSzFILFNBQVMsR0FDZDBILEVBQUt2UCxlQUFlLENBQUVDLGVBQWUsSUFDckNzUCxFQUFLclAsR0FBRyxjQUFlLEtBQ25CcVAsRUFBS3BQLFNBQVMsQ0FBRUMsS0FBTSxnQkFFMUJtUCxFQUFLclAsR0FBRyxhQUFjLElBQU1xUCxFQUFLcFAsU0FBUyxDQUFFQyxLQUFNLGVBQ2xEbVAsRUFBS3JQLEdBQUcsY0FBZSxLQUNHLElBQWxCL0YsS0FBS2lWLFNBQ0RoUyxFQUFLb0ksSUFBTXBJLEVBQUtvSSxHQUFHOEgsYUFBZUMsVUFBVUMsT0FDNUM3VixRQUFRb0IsSUFBSSxrQkFDWnFFLEVBQUtvSSxHQUFHaUksS0FBS3ZXLEtBQUsyQixVQUFVLENBQUM2VSxLQUFNLGNBQWU4QixPQUFRLE1BR3ZDLElBQWxCclYsS0FBS2lWLFVBQ05oUyxFQUFLb0ksSUFBTXBJLEVBQUtvSSxHQUFHOEgsYUFBZUMsVUFBVUMsT0FDNUM3VixRQUFRb0IsSUFBSSxrQkFDWnFFLEVBQUtvSSxHQUFHaUksS0FBS3ZXLEtBQUsyQixVQUFVLENBQUM2VSxLQUFNLGNBQWU4QixPQUFRLFFBS3RFclYsS0FBS2lGLE9BQU95SSxTQUFTLEdBQ3JCMU4sS0FBS2tGLE9BQU93SSxTQUFTLElBRUosVUFBZHpLLEVBQUt0RixPQUNad1gsRUFBS3pILFNBQVMsR0FDYjdILGVBQWUsQ0FBRUMsZUFBZSxJQUNoQ0MsR0FBRyxjQUFlLEtBQ2ZvUCxFQUFLblAsU0FBUyxDQUFFQyxLQUFNLGdCQUV6QkYsR0FBRyxhQUFjLElBQU1vUCxFQUFLblAsU0FBUyxDQUFFQyxLQUFNLGVBQzdDRixHQUFHLGNBQWUsS0FDZi9GLEtBQUtzQixNQUFNQyxNQUFNLGlCQUdyQjZULEVBQUsxSCxTQUFTLEdBQ2I3SCxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxLQUNmcVAsRUFBS3BQLFNBQVMsQ0FBRUMsS0FBTSxnQkFFekJGLEdBQUcsYUFBYyxJQUFNcVAsRUFBS3BQLFNBQVMsQ0FBRUMsS0FBTSxlQUM3Q0YsR0FBRyxjQUFlLEtBQ08sSUFBbEIvRixLQUFLaVYsU0FDTGpWLEtBQUtzQixNQUFNQyxNQUFNLGdCQUVNLElBQWxCdkIsS0FBS2lWLFVBQ1ZqVixLQUFLc0IsTUFBTUMsTUFBTSxrQkFHekJ2QixLQUFLaUYsT0FBT3lJLFNBQVMsR0FDckIxTixLQUFLa0YsT0FBT3dJLFNBQVMsR0FFN0IsRUMvSUcsTUFBTTRILFVBQW9CLFVBQ3pCLFdBQUF6VixHQUNJQyxNQUFNLGNBQ1YsQ0FFSixPQUFBQyxHQUNJQyxLQUFLQyxLQUFLQyxNQUFNLFFBQVMsNEJBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUsMkJBQzFCRixLQUFLQyxLQUFLa0UsTUFBTSxXQUFZLHVCQUNoQyxDQUVBLE1BQUFoRSxHQUVJLE1BQU1vVixFQUFnQnZWLEtBQUtzQixNQUFNckYsSUFBSSxpQkFNckMsR0FMQStELEtBQUttSixVQUFZb00sR0FBZXBNLFVBQ2hDbkosS0FBSzZLLFNBQVcwSyxHQUFlMUssVUFBWSxRQUMzQzdLLEtBQUt3VixhQUFleFYsS0FBS21KLFdBQVd5QixjQUFnQnZOLEtBQUtzRixNQUFRM0MsS0FBS21KLFVBQVV5QixjQUFnQixFQUc1RjVLLEtBQUttSixXQUFhbkosS0FBS21KLFVBQVV5QixjQUFlLENBQ2hELE1BQU02SyxFQUFXelYsS0FBS3dWLGFBRXRCelgsRUFEaUJpQyxLQUFLbUosVUFBVXpNLFVBQVksZUFDaEIrWSxFQUFVelYsS0FBSzZLLFVBQ3RDeEcsS0FBSzFILElBQ0ZhLFFBQVFvQixJQUFJLHlCQUEwQmpDLEtBRXpDNkgsTUFBTWpILEdBQVNDLFFBQVFtQyxLQUFLLHNDQUF1Q3BDLEdBQzVFLENBRUF5QyxLQUFLMFYsT0FBUzFWLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFJLElBQUssVUFDOUNGLEtBQUswVixPQUFPckgsY0FBYSxHQUN6QnJPLEtBQUswVixPQUFPclcsS0FBSzJJLGNBQWUsRUFHNUJoSSxLQUFLeUUsT0FDTHpFLEtBQUt5RSxNQUFNSSxLQUFLLFdBQVksQ0FBRUMsT0FBUSxLQUcxQzlFLEtBQUtpRixPQUFTakYsS0FBS0ssSUFBSUgsTUFBTSxJQUFJLElBQUssU0FDdENGLEtBQUtpRixPQUFPM0UsU0FBUyxLQUlyQk4sS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxHQUFJLDZCQUE4QixDQUNqREMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLCtDQUFnRCxDQUNwRUMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLG9DQUFxQyxDQUN6REMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUVaMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLDRDQUE2QyxDQUNsRUMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLGdCQUFpQixDQUNyQ0MsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUViLE1BQU1pUSxFQUFNM1YsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLDJCQUE0QixDQUM1REMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUNSRyxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxLQUNmNFAsRUFBSTNQLFNBQVMsQ0FBRUMsS0FBTSxjQUNyQmpHLEtBQUt5RSxNQUFNSSxLQUFLLFFBQVMsQ0FBRUMsT0FBUSxPQUV0Q2lCLEdBQUcsYUFBYyxJQUFNNFAsRUFBSTNQLFNBQVMsQ0FBRUMsS0FBTSxlQUM1Q0YsR0FBRyxjQUFlLEtBRVgvRixLQUFLeUUsT0FBT3pFLEtBQUt5RSxNQUFNQyxVQUFVLFlBQ3JDMUUsS0FBS3NCLE1BQU1DLE1BQU0sYUFBYyxDQUMzQjdFLFNBQVVzRCxLQUFLbUosV0FBV3pNLFVBQVksZUFDdEN1QixLQUFNK0IsS0FBSzZLLFNBQ1g0SyxTQUFVelYsS0FBS3dWLGdCQUczQixFQzdGRCxNQUFNSSxVQUFxQixVQUM5QixXQUFBL1YsR0FDSUMsTUFBTSxlQUNWLENBRUEsT0FBQUMsR0FDSUMsS0FBS0MsS0FBS0MsTUFBTSxXQUFZLG1DQUM1QkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDRCQUN6QkYsS0FBS0MsS0FBS2tFLE1BQU0sVUFBVyxzQkFDL0IsQ0FFQSxNQUFBaEUsR0FFSSxNQUFNb1YsRUFBZ0J2VixLQUFLc0IsTUFBTXJGLElBQUksaUJBTXJDLEdBTEErRCxLQUFLbUosVUFBWW9NLEdBQWVwTSxVQUNoQ25KLEtBQUs2SyxTQUFXMEssR0FBZTFLLFVBQVksUUFDM0M3SyxLQUFLd1YsYUFBZXhWLEtBQUttSixXQUFXeUIsY0FBZ0J2TixLQUFLc0YsTUFBUTNDLEtBQUttSixVQUFVeUIsY0FBZ0IsRUFHNUY1SyxLQUFLbUosV0FBYW5KLEtBQUttSixVQUFVeUIsY0FBZSxDQUNoRCxNQUFNNkssRUFBV3pWLEtBQUt3VixhQUV0QnpYLEVBRGlCaUMsS0FBS21KLFVBQVV6TSxVQUFZLGVBQ2hCK1ksRUFBVXpWLEtBQUs2SyxVQUN0Q3hHLEtBQUsxSCxJQUNGYSxRQUFRb0IsSUFBSSx5QkFBMEJqQyxLQUV6QzZILE1BQU1qSCxHQUFTQyxRQUFRbUMsS0FBSyxzQ0FBdUNwQyxHQUM1RSxDQUVBeUMsS0FBSzZWLFNBQVc3VixLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSSxJQUFLLFlBQ2hERixLQUFLNlYsU0FBU3hILGNBQWEsR0FDM0JyTyxLQUFLNlYsU0FBU3hXLEtBQUsySSxjQUFlLEVBRzlCaEksS0FBS3lFLE9BQ0x6RSxLQUFLeUUsTUFBTUksS0FBSyxVQUFXLENBQUVDLE9BQVEsS0FHekM5RSxLQUFLaUYsT0FBU2pGLEtBQUtLLElBQUlILE1BQU0sSUFBSSxJQUFLLFNBQ3RDRixLQUFLaUYsT0FBTzNFLFNBQVMsS0FFckJOLEtBQUtLLElBQUlpRixLQUFLLElBQUssR0FBSSwyQkFBNEIsQ0FDL0NDLFNBQVUsT0FDVEMsV0FBWSxlQUNkQyxNQUFPLGNBQ1BDLFVBQVUsSUFFYjFGLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyw0Q0FBNkMsQ0FDakVDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBQ1JDLFVBQVUsSUFFYjFGLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyxxRUFBc0UsQ0FDMUZDLFNBQVUsT0FDVkUsTUFBTyxZQUNORCxXQUFZLGlCQUNmRSxVQUFVLElBRVoxRixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssd0JBQXlCLENBQzdDQyxTQUFVLE9BQ1ZFLE1BQU8sWUFDUEQsV0FBWSxpQkFDYkUsVUFBVSxJQUViLE1BQU1pUSxFQUFNM1YsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLDJCQUE0QixDQUM1REMsU0FBVSxPQUNWRSxNQUFPLFlBQ1BELFdBQVksaUJBQ2JFLFVBQVUsSUFDUkcsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsS0FDZjRQLEVBQUkzUCxTQUFTLENBQUVDLEtBQU0sY0FDckJqRyxLQUFLeUUsTUFBTUksS0FBSyxRQUFTLENBQUVDLE9BQVEsT0FFdENpQixHQUFHLGFBQWMsSUFBTTRQLEVBQUkzUCxTQUFTLENBQUVDLEtBQU0sZUFDNUNGLEdBQUcsY0FBZSxLQUVYL0YsS0FBS3lFLE9BQU96RSxLQUFLeUUsTUFBTUMsVUFBVSxXQUNyQzFFLEtBQUtzQixNQUFNQyxNQUFNLGFBQWMsQ0FDM0I3RSxTQUFVc0QsS0FBS21KLFdBQVd6TSxVQUFZLGVBQ3RDdUIsS0FBTStCLEtBQUs2SyxTQUNYNEssU0FBVXpWLEtBQUt3VixnQkFJL0IsRUN0RkcsTUFBTU0sVUFBcUIsVUFDOUIsV0FBQWpXLEdBQ0lDLE1BQU0sZUFDVixDQUVBLE9BQUFDLEdBQ0lDLEtBQUtDLEtBQUtDLE1BQU0sUUFBUyw0QkFDekJGLEtBQUtDLEtBQUtDLE1BQU0sV0FBWSxtQ0FDNUJGLEtBQUtDLEtBQUtrRSxNQUFNLFVBQVcsc0JBQy9CLENBRUEsTUFBQWhFLEdBRUksTUFBTW9WLEVBQWdCdlYsS0FBS3NCLE1BQU1yRixJQUFJLGlCQU1yQyxHQUxBK0QsS0FBS21KLFVBQVlvTSxHQUFlcE0sVUFDaENuSixLQUFLNkssU0FBVzBLLEdBQWUxSyxVQUFZLFFBQzNDN0ssS0FBS3dWLGFBQWV4VixLQUFLbUosV0FBV3lCLGNBQWdCdk4sS0FBS3NGLE1BQVEzQyxLQUFLbUosVUFBVXlCLGNBQWdCLEVBRzVGNUssS0FBS21KLFdBQWFuSixLQUFLbUosVUFBVXlCLGNBQWUsQ0FDaEQsTUFBTTZLLEVBQVd6VixLQUFLd1YsYUFFdEJ6WCxFQURpQmlDLEtBQUttSixVQUFVek0sVUFBWSxlQUNoQitZLEVBQVV6VixLQUFLNkssVUFDdEN4RyxLQUFLMUgsSUFDRmEsUUFBUW9CLElBQUkseUJBQTBCakMsS0FFekM2SCxNQUFNakgsR0FBU0MsUUFBUW1DLEtBQUssc0NBQXVDcEMsR0FDNUUsQ0FFQXlDLEtBQUsrVixTQUFXL1YsS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUksSUFBSyxZQUNoREYsS0FBSytWLFNBQVMxSCxjQUFhLEdBQzNCck8sS0FBSytWLFNBQVMxVyxLQUFLMkksY0FBZSxFQUc5QmhJLEtBQUt5RSxPQUNMekUsS0FBS3lFLE1BQU1JLEtBQUssVUFBVyxDQUFFQyxPQUFRLEtBR3pDOUUsS0FBS2lGLE9BQVNqRixLQUFLSyxJQUFJSCxNQUFNLElBQUksSUFBSyxTQUN0Q0YsS0FBS2lGLE9BQU8zRSxTQUFTLEtBRXJCTixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLEdBQUksMkJBQTRCLENBQ25EQyxTQUFVLE9BQ0xDLFdBQVksZUFDbEJDLE1BQU8sY0FDSEMsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLDRDQUE2QyxDQUNqRUMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUViMUYsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLHFFQUFzRSxDQUMxRkMsU0FBVSxPQUNWRSxNQUFPLFlBQ05ELFdBQVksaUJBQ2ZFLFVBQVUsSUFFWjFGLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyx3QkFBeUIsQ0FDN0NDLFNBQVUsT0FDVkUsTUFBTyxZQUNMRCxXQUFZLGlCQUNqQkUsVUFBVSxJQUVYLE1BQU1pUSxFQUFNM1YsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLDJCQUE0QixDQUM1REMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUNaRyxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxLQUNmNFAsRUFBSTNQLFNBQVMsQ0FBRUMsS0FBTSxjQUNyQmpHLEtBQUt5RSxNQUFNSSxLQUFLLFFBQVMsQ0FBRUMsT0FBUSxPQUVyQ2lCLEdBQUcsYUFBYyxJQUFNNFAsRUFBSTNQLFNBQVMsQ0FBRUMsS0FBTSxlQUM1Q0YsR0FBRyxjQUFlLEtBRVovRixLQUFLeUUsT0FBT3pFLEtBQUt5RSxNQUFNQyxVQUFVLFdBQ2pDMUUsS0FBS3NCLE1BQU1DLE1BQU0sYUFBYyxDQUMzQjdFLFNBQVVzRCxLQUFLbUosV0FBV3pNLFVBQVksZUFDdEN1QixLQUFNK0IsS0FBSzZLLFNBQ1g0SyxTQUFVelYsS0FBS3dWLGdCQUcvQixFQ3JGRyxNQUFNUSxVQUFtQixVQUM1QixXQUFBblcsR0FDSUMsTUFBTSxhQUNWLENBRUEsT0FBQUMsR0FDSUMsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDJCQUM3QixDQUVBLE1BQUFDLENBQU84QyxHQUNILE1BQU12RyxFQUFXdUcsR0FBTXZHLFVBQVksVUFDN0J1QixFQUFPZ0YsR0FBTWhGLE1BQVEsUUFDckJnWSxFQUFtQmhULEdBQU13UyxVQUFZLEVBRTNDelYsS0FBS2lGLE9BQVNqRixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxTQUN2Q0YsS0FBS2lGLE9BQU8zRSxTQUFTLElBR3JCTixLQUFLSyxJQUFJaVMsVUFBVSxJQUFLLElBQUssSUFBTSxJQUFLLEdBQVU0RCxVQUFVLEdBQUd4SSxTQUFTLElBR3hFMU4sS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLG9CQUFxQixDQUN6Q0MsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUdiLE1BQU15USxHQUFtQkYsRUFBbUIsS0FBTXBYLFFBQVEsR0FDMURtQixLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssaUJBQWlCNlEsS0FBb0IsQ0FDekQ1USxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxZQUNSQyxVQUFVLEluQjZNZDVILGVBQWdDcEIsRUFBVXVCLEVBQU8sU0FDdEQsR0FBYSxVQUFUQSxFQUNGLE9BQU9SLEVBQWtCZixHQUkzQixJQUNFLE1BQU11QyxRQUFpQkMsTUFBTSxHQUFHckIsZUFBMEJuQixXQUUxRCxJQUFLdUMsRUFBU0ssR0FBSSxDQUNoQixNQUFNL0IsUUFBYzBCLEVBQVNPLE9BRTdCLE9BREFoQyxRQUFRbUMsS0FBSyxtREFBb0RwQyxFQUFNQSxPQUNoRUUsRUFBa0JmLEVBQzNCLENBRUEsTUFBTTBaLFFBQW9CblgsRUFBU08sT0FFbkMsT0FEQWhDLFFBQVFvQixJQUFJLG1CQUFtQmxDLEtBQWEwWixHQUNyQyxJQUNGQSxFQUNIelksS0FBTSxTQUNOMFksT0FBUSxXQUVaLENBQUUsTUFBTzlZLEdBRVAsT0FEQUMsUUFBUW1DLEtBQUssOERBQStEcEMsR0FDckVFLEVBQWtCZixFQUMzQixDQUNGLENtQnBPUTRaLENBQWlCNVosRUFBVXVCLEdBQ3RCb0csS0FBSzFILElBQ0YsTUFBTTRaLEVBQTZDLGlCQUF6QjVaLEVBQU1pQixlQUMxQmpCLEVBQU1pQixnQkFDTGpCLEVBQU1pQixlQUFpQixLQUFNaUIsUUFBUSxHQUFLLElBRWpEbUIsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLGFBQWFpUixJQUFjLENBQy9DaFIsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sWUFDUCtRLFVBQVcsU0FDWjlRLFVBQVUsSUFFYjFGLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyxxQkFBcUIzSSxFQUFNTSxnQkFBaUIsQ0FDaEVzSSxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxZQUNSQyxVQUFVLE1BRWhCbEIsTUFBTWpILEdBQVNDLFFBQVFtQyxLQUFLLG1DQUFvQ3BDLElBR3JFLE1BQU1vWSxFQUFNM1YsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxJQUFLLGlCQUFrQixDQUNsREMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUNSRyxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxLQUNmNFAsRUFBSTNQLFNBQVMsQ0FBRUMsS0FBTSxnQkFFeEJGLEdBQUcsYUFBYyxJQUFNNFAsRUFBSTNQLFNBQVMsQ0FBRUMsS0FBTSxlQUM1Q0YsR0FBRyxjQUFlLEtBQ2YvRixLQUFLc0IsTUFBTUMsTUFBTSxjQUU3QixFQ25FRyxNQUFNa1YsVUFBNEIsVUFDckMsV0FBQTVXLEdBQ0lDLE1BQU0sdUJBQ05FLEtBQUswVyx1QkFBeUIsSUFDbEMsQ0FFQSxPQUFBM1csR0FDSUMsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLGdDQUM5QixDQUlBLElBQUFtSyxDQUFLcEgsR0FFRGpELEtBQUsyVyxjQUFnQjFULEVBQUswVCxhQUM5QixDQUVBLE1BQUF4VyxHQUVJSCxLQUFLSyxJQUFJaVMsVUFBVSxJQUFLLElBQUssSUFBTSxJQUFLLEVBQVUsSUFFbER0UyxLQUFLZ0YsT0FBU2hGLEtBQUtLLElBQUlILE1BQU0sSUFBSSxJQUFLLFVBQ3RDRixLQUFLZ0YsT0FBTzFFLFNBQVMsS0FLckJOLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyxtQkFBb0IsQ0FDeENDLFNBQVUsT0FDVkUsTUFBTyxZQUNQRCxXQUFZLGVBQ1pnUixVQUFXLFNBQ1o5USxVQUFVLElBR2IxRixLQUFLNFcsV0FBYTVXLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSywyQkFBNEIsQ0FDbEVDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBQ1JDLFVBQVUsSUFHYjFGLEtBQUs2VyxhQUFlLEVBQ3BCN1csS0FBSzhXLFlBQWM5VyxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssY0FBZSxDQUN0REMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sWUFDUkMsVUFBVSxJQUdiMUYsS0FBSytXLFNBQVcsRUFDaEIvVyxLQUFLb0IsS0FBSzRWLFNBQVMsQ0FDZkMsTUFBTyxJQUNQelQsU0FBVSxLQUNOeEQsS0FBSytXLFVBQVkvVyxLQUFLK1csU0FBVyxHQUFLLEVBQ3RDLE1BQU1HLEVBQU8sSUFBSWpNLE9BQU9qTCxLQUFLK1csVUFDN0IvVyxLQUFLNFcsV0FBV2hRLFFBQVEsd0JBQXdCc1EsTUFFcERuUyxNQUFNLElBSVYvRSxLQUFLeUcsbUJBQXNCeEQsSUFDbkJBLEVBQUtDLFdBQ0xsRCxLQUFLbVgsaUJBR2J2VixFQUFrQjJCLFlBQVl2RCxLQUFLeUcsb0JBR25DekcsS0FBSzBXLHVCQUF5QjFTLFlBQVksS0FDdENoRSxLQUFLb1gsb0JBQ04sS0FHSHBYLEtBQUtvWCxrQkFDVCxDQUVBLHNCQUFNQSxHQUNGcFgsS0FBSzZXLGVBQ0w3VyxLQUFLOFcsWUFBWWxRLFFBQVEsYUFBYTVHLEtBQUs2VyxzQkFDckNqVixFQUFrQm9CLGlCQUM1QixDQUVBLGFBQUFtVSxHQUVRblgsS0FBSzBXLHdCQUNMelMsY0FBY2pFLEtBQUswVyx3QkFJdkI5VSxFQUFrQjZCLGVBQWV6RCxLQUFLeUcsb0JBR3RDekcsS0FBSzRXLFdBQVdoUSxRQUFRLDJCQUN4QjVHLEtBQUs0VyxXQUFXL1AsU0FBUyxXQUd6QjdHLEtBQUtvQixLQUFLQyxZQUFZLElBQU0sS0FDeEJyQixLQUFLc0IsTUFBTTZFLE9BQ1BuRyxLQUFLMlcsZUFDTDNXLEtBQUtzQixNQUFNdVIsT0FBTzdTLEtBQUsyVyxnQkFHbkMsQ0FFQSxRQUFBN1AsR0FFUTlHLEtBQUswVyx3QkFDTHpTLGNBQWNqRSxLQUFLMFcsd0JBR25CMVcsS0FBS3lHLG9CQUNMN0UsRUFBa0I2QixlQUFlekQsS0FBS3lHLG1CQUU5QyxFQ3JIVyxNQUFNNFEsVUFBcUIsVUFDeEMsV0FBQXhYLEdBQ0VDLE1BQU0sQ0FBRWxFLElBQUssaUJBQ2JvRSxLQUFLcUwsR0FBSyxJQUVaLENBRUEsT0FBQXRMLEdBRU1DLEtBQUtDLEtBQUtDLE1BQU0sU0FBVSw2QkFDMUJGLEtBQUtDLEtBQUtDLE1BQU0sU0FBVSx1QkFJMUJGLEtBQUtDLEtBQUtDLE1BQU0sWUFBYSxnQ0FDN0JGLEtBQUtDLEtBQUtDLE1BQU0sY0FBZSxnQ0FDL0JGLEtBQUtDLEtBQUtDLE1BQU0sY0FBZSxnQ0FDL0JGLEtBQUtDLEtBQUtDLE1BQU0sY0FBZSxnQ0FDL0JGLEtBQUtDLEtBQUtDLE1BQU0sY0FBZSxnQ0FDL0JGLEtBQUtDLEtBQUtDLE1BQU0sY0FBZSxnQ0FDL0JGLEtBQUtDLEtBQUtDLE1BQU0sY0FBZSxnQ0FDL0JGLEtBQUtDLEtBQUtDLE1BQU0sY0FBZSxnQ0FDL0JGLEtBQUtDLEtBQUtDLE1BQU0sa0JBQW1CLGlDQUNuQ0YsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDRCQUN6QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLCtCQVkvQkYsS0FBS0MsS0FBS2tFLE1BQU0sTUFBTyxtQkFHdkJuRSxLQUFLQyxLQUFLa0UsTUFBTSxPQUFRLG1CQUM5QixDQUVBLFVBQUFtVCxHQUNFdFgsS0FBS3VYLFNBQVcsS0FDaEJ2WCxLQUFLd1gsT0FBUyxLQUNkeFgsS0FBS3lYLGFBQWMsRUFHaEJ6WCxLQUFLMFgsY0FBZ0IxWCxLQUFLMFgsYUFBYUMsUUFDeEMzWCxLQUFLMFgsYUFBYTlRLFFBQVEsSUFHekI1RyxLQUFLNFcsWUFBYzVXLEtBQUs0VyxXQUFXZSxRQUNwQzNYLEtBQUs0VyxXQUFXaFEsUUFBUSxJQUd2QjVHLEtBQUs0WCxXQUFhcFgsU0FBU25CLEtBQUt3WSxTQUFTN1gsS0FBSzRYLGFBQy9DNVgsS0FBSzRYLFVBQVU3VyxNQUFRLEdBRTNCLENBRUEsSUFBQXNKLEdBQ0VySyxLQUFLMkssV0FBYSxJQUFJekIsSUFFdEJsSixLQUFLaUosUUFBVSxJQUFJQyxJQUNuQmxKLEtBQUtzSyxjQUFnQixHQUNyQnRLLEtBQUtrSyxVQUFXLEVBQ2hCbEssS0FBS3VLLFlBQWEsRUFDbEJ2SyxLQUFLeUssVUFBWSxJQUFJekIsRUFDckJoSixLQUFLa0wsSUFBTSxLQUVYbEwsS0FBS3VYLFNBQVcsS0FDaEJ2WCxLQUFLd1gsT0FBUyxLQUNkeFgsS0FBS3lYLGFBQWMsQ0FDbkIsQ0FFRixNQUFBdFgsR0FDRUgsS0FBS29JLE1BQU1qSSxPQUFPLENBQ2hCdkUsSUFBSyxrQkFDTG1QLE9BQVEsQ0FDSixDQUFFblAsSUFBSyxhQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZ0JBRVhvUCxVQUFXLEdBQ1hDLFFBQVMsSUFLWGpMLEtBQUsySyxXQUFXUSxJQUFJLFVBQVduTCxLQUFLeUUsTUFBTXBFLElBQUksT0FBUSxDQUFFMEUsTUFBTSxFQUFNRCxPQUFRLE1BQzVFOUUsS0FBSzJLLFdBQVdRLElBQUksVUFBV25MLEtBQUt5RSxNQUFNcEUsSUFBSSxPQUFRLENBQUUwRSxNQUFNLEVBQU1ELE9BQVEsTUFHNUU5RSxLQUFLb0wsT0FBT3JGLEdBQUcsUUFBUyxLQUNwQi9GLEtBQUsySyxXQUFXOUcsUUFBUXdILElBQVEsSUFBVUEsR0FBTUEsRUFBR2hELFdBQVdnRCxFQUFHbEYsTUFBUSxDQUFFLE1BQU14QixHQUFNbkgsUUFBUW1DLEtBQUtnRixFQUFNLElBQ3RHM0UsS0FBS2tMLEtBQU9sTCxLQUFLa0wsSUFBSTdDLFdBQ3JCckksS0FBS2tMLElBQUkrRSxVQUlqQmpRLEtBQUtvTCxPQUFPckYsR0FBRyxTQUFVLEtBRWpCL0YsS0FBS2tMLE1BQVFsTCxLQUFLa0wsSUFBSTdDLFdBQ3RCckksS0FBS2tMLElBQUkySCxXQUlqQjdTLEtBQUtvTCxPQUFPRSxLQUFLLFdBQVksS0FFekJ0TCxLQUFLMkssV0FBVzlHLFFBQVF3SCxJQUNwQixJQUFVQSxHQUFNQSxFQUFHaEQsV0FBV2dELEVBQUdsRixNQUFRLENBQUUsTUFBTXhCLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sQ0FDMUUsSUFBVTBHLEdBQUlBLEVBQUdFLFNBQVcsQ0FBRSxNQUFNNUcsR0FBTW5ILFFBQVFtQyxLQUFLZ0YsRUFBTSxDQUM3RCxJQUNLM0UsS0FBS2tMLE1BQ05sTCxLQUFLa0wsSUFBSS9FLE9BQ1RuRyxLQUFLa0wsSUFBSUssVUFFYixDQUFDLE1BQU81RyxHQUFNbkgsUUFBUW1DLEtBQUtnRixFQUFNLElBRXJDM0UsS0FBSzJLLFdBQVdhLFVBR3BCeEwsS0FBS3lMLGlCQUNMekwsS0FBSzJMLHdCQUNMM0wsS0FBSzRMLGVBQ0w1TCxLQUFLNkwsdUJBR0w3TCxLQUFLNEUsS0FBS0gsTUFBTUMsVUFBVSxjQUMxQjFFLEtBQUtrTCxJQUFNbEwsS0FBS3lFLE1BQU1wRSxJQUFJLE1BQU8sQ0FBRXlFLE9BQVEsR0FBS0MsTUFBTSxJQUN0RC9FLEtBQUtrTCxJQUFJckcsT0FFVDdFLEtBQUtpTSxPQUFTak0sS0FBS2tNLE1BQU1DLFNBQVNDLE9BQU8sVUFBYUMsU0FBU0MsU0FBU0MsS0FJeEV2TSxLQUFLOFgsa0JBQ0x0YSxRQUFRb0IsSUFBSSxVQUFXb0IsS0FBS3VYLFVBQzVCdlgsS0FBSytYLGVBQ1AsQ0FFQSxhQUFBQSxHQVFFLE1BQU1DLEVBQVFoWSxLQUFLaVksUUFBUUMsS0FBS0YsTUFDMUJHLEVBQVNuWSxLQUFLaVksUUFBUUMsS0FBS0MsT0FFakNuWSxLQUFLNk8sVUFBWTdPLEtBQUtLLElBQUlILE1BQU04WCxFQUFRLEVBQUcsSUFBSyxtQkFDaERoWSxLQUFLNk8sVUFBVXZPLFNBQVMsSUFBTSxJQUc5Qk4sS0FBS2dGLE9BQVNoRixLQUFLSyxJQUFJaUYsS0FBSzBTLEVBQVEsRUFBRyxJQUFLLHFCQUFzQixDQUNoRXpTLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLFlBQ05DLFVBQVUsSUFRYjFGLEtBQUswWCxhQUFlMVgsS0FBS0ssSUFBSWlGLEtBQUswUyxFQUFRLEVBQUcsSUFBSyxHQUFJLENBQ3BEelMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sWUFDTkMsVUFBVSxJQUliMUYsS0FBS29ZLGdCQUFrQnBZLEtBQUtLLElBQUlpRixLQUFLMFMsRUFBUSxFQUFHLElBQUssY0FBZSxDQUNsRXpTLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLFlBQ05DLFVBQVUsSUFFYjFGLEtBQUtxWSxlQUFpQnJZLEtBQUtLLElBQUlILE1BQU04WCxFQUFRLEVBQUcsSUFBSyxTQUNyRGhZLEtBQUtxWSxlQUFlL1gsU0FBUyxJQUFNLElBRW5DTixLQUFLc1ksY0FBZ0J0WSxLQUFLSyxJQUFJaUYsS0FBSzBTLEVBQVEsRUFBRyxJQUFLLFFBQVMsQ0FDMUR6UyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNOQyxVQUFVLElBQUtHLGlCQUVsQjdGLEtBQUtzWSxjQUFjdlMsR0FBRyxjQUFlLEtBQ25DL0YsS0FBS3NZLGNBQWN0UyxTQUFTLENBQUVDLEtBQU0sY0FFdENqRyxLQUFLc1ksY0FBY3ZTLEdBQUcsYUFBYyxLQUNsQy9GLEtBQUtzWSxjQUFjdFMsU0FBUyxDQUFFQyxLQUFNLGdCQUV0Q2pHLEtBQUtzWSxjQUFjdlMsR0FBRyxjQUFlLEtBQ25DL0YsS0FBS3NYLGFBQ0x0WCxLQUFLdVksY0FJUHZZLEtBQUt3WSxXQUFheFksS0FBS0ssSUFBSWlGLEtBQUswUyxFQUFRLEVBQUcsSUFBSyx1QkFBd0IsQ0FDdEV6UyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxZQUNOQyxVQUFVLElBR2IxRixLQUFLeVksZ0JBQWtCelksS0FBS0ssSUFBSUgsTUFBTThYLEVBQVEsRUFBRyxJQUFLLFNBQ3REaFksS0FBS3lZLGdCQUFnQm5ZLFNBQVMsSUFBTSxJQUVwQ04sS0FBSzBZLGVBQWlCMVksS0FBS0ssSUFBSWlGLEtBQUswUyxFQUFRLEVBQUcsSUFBSyxRQUFTLENBQzNEelMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDTkMsVUFBVSxJQUFLRyxpQkFFbEI3RixLQUFLMFksZUFBZTNTLEdBQUcsY0FBZSxLQUNwQy9GLEtBQUswWSxlQUFlMVMsU0FBUyxDQUFFQyxLQUFNLGNBR3ZDakcsS0FBSzBZLGVBQWUzUyxHQUFHLGFBQWMsS0FDbkMvRixLQUFLMFksZUFBZTFTLFNBQVMsQ0FBRUMsS0FBTSxnQkFHdkNqRyxLQUFLMFksZUFBZTNTLEdBQUcsY0FBZSxLQUNwQy9GLEtBQUtzWCxhQUNMdFgsS0FBSzJZLGVBVVAzWSxLQUFLNFksYUFBZTVZLEtBQUtLLElBQUlpRixLQUFLMFMsRUFBUSxFQUFHLElBQUsscUJBQXNCLENBQ3RFelMsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sWUFDTkMsVUFBVSxJQUViMUYsS0FBSzZZLGdCQUFnQmIsRUFBTSxFQUFJLEdBQUksS0FFbkNoWSxLQUFLOFksa0JBQW9COVksS0FBS0ssSUFBSUgsTUFBTThYLEVBQVEsRUFBSSxJQUFJLElBQUssU0FDN0RoWSxLQUFLOFksa0JBQWtCeFksU0FBUyxJQUFNLElBRXRDTixLQUFLK1ksaUJBQW1CL1ksS0FBS0ssSUFBSWlGLEtBQUswUyxFQUFRLEVBQUksSUFBSyxJQUFLLFNBQVUsQ0FDcEV6UyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNOQyxVQUFVLElBQUtHLGlCQUVsQjdGLEtBQUsrWSxpQkFBaUJoVCxHQUFHLGNBQWUsS0FDdEMvRixLQUFLK1ksaUJBQWlCL1MsU0FBUyxDQUFFQyxLQUFNLGNBR3pDakcsS0FBSytZLGlCQUFpQmhULEdBQUcsYUFBYyxLQUNyQy9GLEtBQUsrWSxpQkFBaUIvUyxTQUFTLENBQUVDLEtBQU0sZ0JBR3pDakcsS0FBSytZLGlCQUFpQmhULEdBQUcsY0FBZSxLQUV0Qy9GLEtBQUtnWixlQUVQaFosS0FBSzRXLFdBQWE1VyxLQUFLSyxJQUFJaUYsS0FBSzBTLEVBQVEsRUFBR0csRUFBUyxFQUFHLEdBQUksQ0FDekQ1UyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxZQUNOQyxVQUFVLElBRU8xRixLQUFLSyxJQUFJSCxNQUFNOFgsRUFBTSxFQUFHLElBQUssU0FDckMxWCxTQUFTLElBQU0sSUFFM0IsTUFBTTJZLEVBQWVqWixLQUFLSyxJQUFJaUYsS0FBSzBTLEVBQVEsRUFBRyxJQUFLLFNBQVUsQ0FDM0R6UyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUNOQyxVQUFVLElBQUtHLGlCQUVsQm9ULEVBQWFsVCxHQUFHLGNBQWUsS0FDN0JrVCxFQUFhalQsU0FBUyxDQUFFQyxLQUFNLGNBR2hDZ1QsRUFBYWxULEdBQUcsYUFBYyxLQUM1QmtULEVBQWFqVCxTQUFTLENBQUVDLEtBQU0sZ0JBa0JoQ2dULEVBQWFsVCxHQUFHLGNBQWUsS0FDN0IvRixLQUFLOEcsV0FDRjlHLEtBQUtrTCxLQUFPbEwsS0FBS2tMLElBQUk3QyxXQUN0QnJJLEtBQUtrTCxJQUFJL0UsT0FHWG5HLEtBQUtzQixNQUFNQyxNQUFNLGNBRXJCLENBRUEsZUFBQXNYLENBQWdCNVIsRUFBR0MsR0FDakIsTUFBTWdTLEVBQWUxWSxTQUFTMlksY0FBYyxTQUM1Q0QsRUFBYTNGLEtBQU8sT0FDcEIyRixFQUFhbFMsR0FBSyxnQkFDbEJrUyxFQUFhRSxZQUFjLGlCQUMzQkYsRUFBYUcsVUFBWSxFQUN6QkgsRUFBYUksTUFBTUMsUUFBVSx3V0FlM0JMLEVBQWFwWSxpQkFBaUIsUUFBUyxLQUVyQ29ZLEVBQWFuWSxNQUFRbVksRUFBYW5ZLE1BQU15WSxnQkFHMUNOLEVBQWFwWSxpQkFBaUIsV0FBYVksSUFDM0IsVUFBVkEsRUFBRTlGLEtBQ0pvRSxLQUFLZ1osZUFJVHhZLFNBQVNuQixLQUFLb2EsWUFBWVAsR0FHMUIsTUFFTVEsRUFBZ0IsS0FDcEIsTUFBTUMsRUFBTzNaLEtBQUs0RSxLQUFLZ1YsT0FBT0Msd0JBQzlCWCxFQUFhSSxNQUFNUSxLQUFPLEdBQUdsWCxLQUFLbVgsTUFBTUosRUFBS0csS0FBTzdTLEVBQUkrUyxTQUN4RGQsRUFBYUksTUFBTVcsSUFBTSxHQUFHclgsS0FBS21YLE1BQU1KLEVBQUtNLElBQU0vUyxFQUFJZ1QsU0FHeERSLElBQ0FwWCxPQUFPeEIsaUJBQWlCLFNBQVU0WSxHQUNsQ3BYLE9BQU94QixpQkFBaUIsU0FBVTRZLEdBRWxDMVosS0FBS29MLE9BQU9FLEtBQUssV0FBWSxLQUMzQmhKLE9BQU82WCxvQkFBb0IsU0FBVVQsR0FDckNwWCxPQUFPNlgsb0JBQW9CLFNBQVVULEdBQ3JDUixFQUFhL1gsV0FHZm5CLEtBQUs0WCxVQUFZc0IsQ0FDckIsQ0FFQSxtQkFBQWtCLENBQW9CblgsR0FDbEIsT0FBUUEsRUFBS3NRLE1BQ1gsSUFBSyxjQUNIdlQsS0FBSzRXLFdBQVdoUSxRQUFRLHNCQUFzQjNELEVBQUtvWCxjQUNuRHJhLEtBQUs0VyxXQUFXL1AsU0FBUyxXQUN6QixNQUVGLElBQUssV0FFQzVELEVBQUtxWCxPQUNQdGEsS0FBS3VYLFNBQVd0VSxFQUFLcVgsS0FDckJ0YSxLQUFLMFgsYUFBYTlRLFFBQVEsYUFBYTNELEVBQUtxWCxRQUM1Q3RhLEtBQUswWCxhQUFhN1EsU0FBUyxXQUMzQjdHLEtBQUt3WCxPQUFTdlUsRUFBS3VVLE9BQ25CeFgsS0FBSzRXLFdBQVdoUSxRQUFRLGdCQUFnQjNELEVBQUtxWCxRQUM3Q3RhLEtBQUs0VyxXQUFXL1AsU0FBUyxZQUUzQixNQUVGLElBQUssaUJBQ0M1RCxFQUFLSSxTQUNQckQsS0FBS3VYLFNBQVd0VSxFQUFLcVgsS0FDckJ0YSxLQUFLd1gsT0FBU3ZVLEVBQUt1VSxPQUNuQnhYLEtBQUswWCxhQUFhOVEsUUFBUTNELEVBQUtxWCxNQUMvQnRhLEtBQUswWCxhQUFhN1EsU0FBUyxXQUMzQjdHLEtBQUs0VyxXQUFXaFEsUUFBUSxvQkFDeEI1RyxLQUFLNFcsV0FBVy9QLFNBQVMsYUFFekI3RyxLQUFLc1gsYUFDTHRYLEtBQUt1YSxpQkFDTHZhLEtBQUs0VyxXQUFXaFEsUUFBUTNELEVBQUt6QixTQUFXLDhCQUN4Q3hCLEtBQUs0VyxXQUFXL1AsU0FBUyxZQUUzQixNQUVGLElBQUssWUFDTCxJQUFLLFlBRUgsR0FBSTdHLEtBQUt5WCxZQUFhLE9BQ3RCelgsS0FBS3lYLGFBQWMsRUFFZnhVLEVBQUtxWCxPQUNQdGEsS0FBS3VYLFNBQVd0VSxFQUFLcVgsS0FDckJ0YSxLQUFLMFgsYUFBYTlRLFFBQVEsVUFBVTNELEVBQUtxWCxRQUN6Q3RhLEtBQUswWCxhQUFhN1EsU0FBUyxZQUU3QjdHLEtBQUs0VyxXQUFXaFEsUUFBUSx1QkFDeEI1RyxLQUFLNFcsV0FBVy9QLFNBQVMsV0FFekJySixRQUFRb0IsSUFBSSxxQkFBc0JxRSxHQUM5QmpELEtBQUtrTCxNQUNQbEwsS0FBS2tMLElBQUkvRSxPQUNUbkcsS0FBS2tMLElBQUlLLFdBRVgsTUFBTTdPLEVBQVd3RSxlQUFlckUsUUFBUSxvQkFBc0IsVUFDOURtRCxLQUFLc0IsTUFBTUMsTUFBTSxhQUFjLENBQzdCOEosR0FBSXJMLEtBQUtxTCxHQUNUbVAsV0FBWXZYLEVBQUt3WCxLQUNqQmpELE9BQVF2VSxFQUFLdVUsUUFBVXhYLEtBQUt3WCxPQUM1QmtELFlBQWF6WCxFQUFLOFEsS0FDbEJyWCxTQUFVQSxJQUVac0QsS0FBS3FMLEdBQUdzUCxVQUFZLEtBQ3BCLE1BRUYsSUFBSyxRQUNIM2EsS0FBS3NYLGFBQ0h0WCxLQUFLNFcsV0FBV2hRLFFBQVEzRCxFQUFLekIsU0FBVyx1QkFDeEN4QixLQUFLNFcsV0FBVy9QLFNBQVMsV0FDekI3RyxLQUFLdWEsaUJBQ0wsTUFFSixRQUNFL2MsUUFBUW9CLElBQUksd0JBQXlCcUUsRUFBS3NRLE1BRWhELENBRUEsU0FBQWdGLEdBQ0UsR0FBSXZZLEtBQUtxTCxJQUFNckwsS0FBS3FMLEdBQUc4SCxhQUFlQyxVQUFVQyxLQUFNLENBQ3BELEdBQUdyVCxLQUFLdVgsU0FHTixPQUZBdlgsS0FBSzRXLFdBQVdoUSxRQUFRLGdDQUN4QjVHLEtBQUs0VyxXQUFXL1AsU0FBUyxXQUkzQjdHLEtBQUtxTCxHQUFHaUksS0FBS3ZXLEtBQUsyQixVQUFVLENBQUU2VSxLQUFNLGdCQUVwQ3ZULEtBQUs0YSxpQkFFTDVhLEtBQUs0VyxXQUFXaFEsUUFBUSxtQkFDeEI1RyxLQUFLNFcsV0FBVy9QLFNBQVMsVUFDM0IsTUFDRTdHLEtBQUs0VyxXQUFXaFEsUUFBUSxpREFDeEI1RyxLQUFLNFcsV0FBVy9QLFNBQVMsVUFFN0IsQ0FFQSxVQUFBOFIsR0FDTTNZLEtBQUtxTCxJQUFNckwsS0FBS3FMLEdBQUc4SCxhQUFlQyxVQUFVQyxNQUM5Q3JULEtBQUtxTCxHQUFHaUksS0FBS3ZXLEtBQUsyQixVQUFVLENBQUU2VSxLQUFNLGVBRXBDdlQsS0FBSzRhLGlCQUVMNWEsS0FBSzRXLFdBQVdoUSxRQUFRLHVCQUN4QjVHLEtBQUs0VyxXQUFXL1AsU0FBUyxhQUV6QjdHLEtBQUs0VyxXQUFXaFEsUUFBUSxpREFDeEI1RyxLQUFLNFcsV0FBVy9QLFNBQVMsV0FFN0IsQ0FFQSxjQUFBK1QsR0FDRTVhLEtBQUtvWSxnQkFBZ0I5SSxZQUFXLEdBQ2hDdFAsS0FBS3FZLGVBQWUvSSxZQUFXLEdBQy9CdFAsS0FBS3NZLGNBQWNoSixZQUFXLEdBQzlCdFAsS0FBS3NZLGNBQWN1QyxxQkFFbkI3YSxLQUFLd1ksV0FBV2xKLFlBQVcsR0FDM0J0UCxLQUFLeVksZ0JBQWdCbkosWUFBVyxHQUNoQ3RQLEtBQUswWSxlQUFlcEosWUFBVyxHQUMvQnRQLEtBQUswWSxlQUFlbUMscUJBR3BCN2EsS0FBSzRZLGFBQWF0SixZQUFXLEdBQzdCdFAsS0FBSzRYLFVBQVUwQixNQUFNd0IsUUFBVSxPQUMvQjlhLEtBQUs4WSxrQkFBa0J4SixZQUFXLEdBQ2xDdFAsS0FBSytZLGlCQUFpQnpKLFlBQVcsR0FDakN0UCxLQUFLK1ksaUJBQWlCOEIscUJBRW5CN2EsS0FBSzRYLFlBQ041WCxLQUFLNFgsVUFBVTBCLE1BQU13QixRQUFVLE9BRW5DLENBRUEsY0FBQVAsR0FDRXZhLEtBQUtvWSxnQkFBZ0I5SSxZQUFXLEdBQ2hDdFAsS0FBS3FZLGVBQWUvSSxZQUFXLEdBQy9CdFAsS0FBS3NZLGNBQWNoSixZQUFXLEdBQzlCdFAsS0FBS3NZLGNBQWN6UyxpQkFFbkI3RixLQUFLd1ksV0FBV2xKLFlBQVcsR0FDM0J0UCxLQUFLeVksZ0JBQWdCbkosWUFBVyxHQUNoQ3RQLEtBQUswWSxlQUFlcEosWUFBVyxHQUMvQnRQLEtBQUswWSxlQUFlN1MsaUJBRXBCN0YsS0FBSzRZLGFBQWF0SixZQUFXLEdBQzdCdFAsS0FBSzRYLFVBQVUwQixNQUFNd0IsUUFBVSxRQUMvQjlhLEtBQUs4WSxrQkFBa0J4SixZQUFXLEdBQ2xDdFAsS0FBSytZLGlCQUFpQnpKLFlBQVcsR0FDakN0UCxLQUFLK1ksaUJBQWlCbFQsaUJBRW5CN0YsS0FBSzRYLFlBQ041WCxLQUFLNFgsVUFBVTBCLE1BQU13QixRQUFVLFFBRW5DLENBRUEsVUFBQTlCLEdBQ0UsTUFBTXNCLEVBQU90YSxLQUFLNFgsVUFBVTdXLE1BQU1DLE9BQU93WSxjQUN6QyxPQUFJYyxFQU1lLElBQWhCQSxFQUFLaGMsUUFDTjBCLEtBQUs0VyxXQUFXaFEsUUFBUSxtREFDeEI1RyxLQUFLNFcsV0FBVy9QLFNBQVMsaUJBSXZCN0csS0FBS3FMLElBQU1yTCxLQUFLcUwsR0FBRzhILGFBQWVDLFVBQVVDLE1BQzlDclQsS0FBS3FMLEdBQUdpSSxLQUFLdlcsS0FBSzJCLFVBQVUsQ0FBRTZVLEtBQU0sV0FBWStHLEtBQU1BLEtBQ3REdGEsS0FBSzRXLFdBQVdoUSxRQUFRLGtDQUN4QjVHLEtBQUs0VyxXQUFXL1AsU0FBUyxhQUd6QjdHLEtBQUs0VyxXQUFXaFEsUUFBUSxpREFDeEI1RyxLQUFLNFcsV0FBVy9QLFNBQVMsY0FsQnpCN0csS0FBSzRXLFdBQVdoUSxRQUFRLGdEQUN4QjVHLEtBQUs0VyxXQUFXL1AsU0FBUyxXQW1CN0IsQ0FDQSxNQUFBOEIsR0FDRTNJLEtBQUtzSyxjQUFjekcsUUFBUWlKLElBQ3pCLE1BQU1qRCxFQUFPN0osS0FBS2lKLFFBQVFoTixJQUFJNlEsRUFBUUMsVUFDdEMsSUFBSWpELEVBQVksS0FFaEIsTUFBTWtELEVBQVloTixLQUFLMkssV0FBVzFPLElBQUk2USxFQUFRQyxVQUM5QyxJQUFJRSxHQUFXLEVBQ1hILEVBQVFJLFNBQVNOLFFBQ2pCOUMsRUFBWSxLQUNabUQsR0FBVyxFQUNYcEQsRUFBSzFCLG1CQUNFMkUsRUFBUUssV0FBV1AsUUFDMUI5QyxFQUFZLE9BQ1ptRCxHQUFXLEVBQ1hwRCxFQUFLMUIsbUJBQ0UyRSxFQUFRTSxXQUFXUixRQUMxQjlDLEVBQVksT0FDWm1ELEdBQVcsRUFDWHBELEVBQUtoQyxPQUFPd0YsT0FBUSxFQUNwQnhELEVBQUsxQixtQkFDRTJFLEVBQVFRLFlBQVlWLFFBQzNCOUMsRUFBWSxRQUNabUQsR0FBVyxFQUNYcEQsRUFBS2hDLE9BQU93RixPQUFRLEVBQ3BCeEQsRUFBSzFCLG9CQUVMMkIsRUFBWSxPQUNaRCxFQUFLdEIsd0JBRUR5RSxHQUFhQSxFQUFVM0UsV0FDdkIyRSxFQUFVN0csUUFJZDhHLEdBQVlELElBQWNBLEVBQVUzRSxXQUNwQzJFLEVBQVVuSSxPQUVkLElBQUkySSxFQUFjLElBQUk1RCxFQUFnQkMsRUFBTUMsR0FqQ2hDLEdBa0NaOUosS0FBS3lLLFVBQVVuQixRQUFRa0UsSUFHNUIsQ0FHQyxjQUFBL0IsR0FDTXpMLEtBQUtvTyxNQUFRcE8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxVQUM5Q0YsS0FBS29PLE1BQU1DLGNBQWEsR0FDeEJyTyxLQUFLb08sTUFBTTlOLFNBQVMsS0FDcEJOLEtBQUtvTyxNQUFNL08sS0FBSzJJLGNBQWUsRUFDL0JoSSxLQUFLc08sTUFBUXRPLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssVUFDOUNGLEtBQUtzTyxNQUFNRCxjQUFhLEdBQ3hCck8sS0FBS3NPLE1BQU1oTyxTQUFTLEtBQ3BCTixLQUFLc08sTUFBTWpQLEtBQUsySSxjQUFlLEVBQy9CaEksS0FBSzBPLFlBQWMxTyxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLGVBQ3BERixLQUFLME8sWUFBWUwsY0FBYSxHQUM5QnJPLEtBQUswTyxZQUFZcE8sU0FBUyxJQUMxQk4sS0FBSzBPLFlBQVlyUCxLQUFLMkksY0FBZSxDQUN6QyxDQUVBLHFCQUFBMkQsR0FFSTNMLEtBQUtvUCxpQkFBbUJwUCxLQUFLOEgsUUFBUXpILElBQUlnUCxZQUFZLElBQUssSUFBSyxNQUMvRHJQLEtBQUtvUCxpQkFBaUJuSCxRQUFRLElBQU0sS0FDcENqSSxLQUFLb1AsaUJBQWlCRSxZQUFXLEdBQ2pDdFAsS0FBS29QLGlCQUFpQi9QLEtBQUs0SSxRQUFRLElBQU0sSUFFN0MsQ0FFQSxvQkFBQTRELEdBQ0k3TCxLQUFLaUosUUFBUXBGLFFBQVFnTSxJQUdqQjdQLEtBQUs4SCxRQUFRekgsSUFBSXlQLFNBQ2JELEVBQU9oSSxPQUNQN0gsS0FBS29QLG1CQUdqQixDQUVBLFlBQUF4RCxHQUNRLE1BQU1pRyxFQUFXLElBQUk5SyxFQUFLL0csS0FBTSxVQUFXLEdBQUksSUFBSyxhQUdwREEsS0FBS2lKLFFBQVFrQyxJQUFJLFVBQVcwRyxHQXVCNUI3UixLQUFLc0ssY0FwQmUsQ0FDaEIsQ0FDSXlDLFNBQVUsVUFDVmdGLE1BQU8sS0FDUEMsUUFBUyxPQUNUQyxRQUFTLE9BQ1RDLFNBQVUsUUFDVnpKLEtBQU0sVUFhbUIwSixJQUFJQyxJQUMxQixDQUNIckYsU0FBVXFGLEVBQU9yRixTQUNqQkcsU0FBVWxOLEtBQUtrTSxNQUFNQyxTQUFTQyxPQUFPLFVBQWFDLFNBQVNDLFNBQVM4RixFQUFPTCxRQUMzRTVFLFdBQVluTixLQUFLa00sTUFBTUMsU0FBU0MsT0FBTyxVQUFhQyxTQUFTQyxTQUFTOEYsRUFBT0osVUFDN0U1RSxXQUFZcE4sS0FBS2tNLE1BQU1DLFNBQVNDLE9BQU8sVUFBYUMsU0FBU0MsU0FBUzhGLEVBQU9ILFVBQzdFM0UsWUFBYXROLEtBQUtrTSxNQUFNQyxTQUFTQyxPQUFPLFVBQWFDLFNBQVNDLFNBQVM4RixFQUFPRixXQUM5RTNFLFFBQVN2TixLQUFLa00sTUFBTUMsU0FBU0MsT0FBTyxVQUFhQyxTQUFTQyxTQUFTOEYsRUFBTzNKLFNBS3RGLENBRUosYUFBQTBCLENBQWNELEdBQ1ZsSyxLQUFLa0ssU0FBV0EsRUFDWkEsSUFDQWxLLEtBQUtzQixNQUFNMk8sUUFDWGpRLEtBQUtzQixNQUFNNE8sT0FBTyxhQUFjLENBQUUzSixjQUFlLGNBR3pELENBRUEsTUFBQXNNLENBQU81UCxHQUNIekYsUUFBUW9CLElBQUksZ0NBQWlDcUUsR0FDekNBLEdBQVFBLEVBQUs4TCxXQUNiL08sS0FBSzhLLFdBQWE3SCxFQUFLOEwsVUFFM0IvTyxLQUFLa0ssVUFBVyxFQUVoQmxLLEtBQUs4SyxXQUFXakgsUUFBUSxDQUFDaVAsRUFBTXBQLEtBQzNCbEcsUUFBUW9CLElBQUksY0FBYzhFLE9BQVdvUCxNQUU3QyxDQUVBLGVBQUFnRixHQUNBLElBR0s5WCxLQUFLcUwsS0FDSHJMLEtBQUtxTCxHQUFHOEgsYUFBZUMsVUFBVUMsTUFBUXJULEtBQUtxTCxHQUFHOEgsYUFBZUMsVUFBVTJILGFBQzNFdmQsUUFBUW9CLElBQUksNkNBQ1pvQixLQUFLcUwsR0FBRzJQLE9BQVMsS0FDakJoYixLQUFLcUwsR0FBR3NQLFVBQVksS0FDcEIzYSxLQUFLcUwsR0FBRzRQLFFBQVUsS0FDbEJqYixLQUFLcUwsR0FBRzZQLFFBQVUsS0FDbEJsYixLQUFLcUwsR0FBR29JLFNBRVZ6VCxLQUFLcUwsR0FBSyxNQUVaLE1BQU04UCxFQUFRLFFBQVE3WSxPQUFPOFksU0FBU0MsVUFFdENyYixLQUFLcUwsR0FBSyxJQUFJK0gsVUFBVStILEdBRXhCbmIsS0FBS3FMLEdBQUcyUCxPQUFTLEtBQ2Z4ZCxRQUFRb0IsSUFBSSxpQ0FDWm9CLEtBQUs0VyxXQUFXaFEsUUFBUSwwQkFDeEI1RyxLQUFLNFcsV0FBVy9QLFNBQVMsV0FFekI3RyxLQUFLb0IsS0FBS0MsWUFBWSxJQUFLLEtBQ3pCckIsS0FBSzRXLFdBQVdoUSxRQUFRLE9BTzVCNUcsS0FBS3FMLEdBQUdzUCxVQUFhVyxJQUNuQixJQUNFLE1BQU1yWSxFQUFPbEcsS0FBS0MsTUFBTXNlLEVBQU1yWSxNQUM5QmpELEtBQUtvYSxvQkFBb0JuWCxFQUMzQixDQUFFLE1BQU8xRixHQUNQQyxRQUFRRCxNQUFNLGdDQUFpQ0EsRUFDakQsR0FHRnlDLEtBQUtxTCxHQUFHNFAsUUFBVzFkLElBQ2pCQyxRQUFRRCxNQUFNLG1CQUFvQkEsR0FDbEN5QyxLQUFLNFcsV0FBV2hRLFFBQVEscUJBQ3hCNUcsS0FBSzRXLFdBQVcvUCxTQUFTLFlBRzNCN0csS0FBS3FMLEdBQUc2UCxRQUFVLEtBQ2hCMWQsUUFBUW9CLElBQUksK0JBQ1JvQixLQUFLc0IsTUFBTXFGLFNBQVMsa0JBQ3RCM0csS0FBSzRXLFdBQVdoUSxRQUFRLG9CQUN4QjVHLEtBQUs0VyxXQUFXL1AsU0FBUyxZQUcvQixDQUFFLE1BQU90SixHQUNQQyxRQUFRRCxNQUFNLDhCQUErQkEsR0FDN0N5QyxLQUFLNFcsV0FBV2hRLFFBQVEsc0JBQ3hCNUcsS0FBSzRXLFdBQVcvUCxTQUFTLFVBQzNCLENBQ0YsQ0FJQSxVQUFBMFUsR0FDTXZiLEtBQUtxTCxLQUNQckwsS0FBS3FMLEdBQUcyUCxPQUFTLEtBQ2pCaGIsS0FBS3FMLEdBQUdzUCxVQUFZLEtBQ3BCM2EsS0FBS3FMLEdBQUc0UCxRQUFVLEtBQ2xCamIsS0FBS3FMLEdBQUc2UCxRQUFVLEtBQ2ZsYixLQUFLcUwsR0FBRzhILGFBQWVDLFVBQVVDLE9BQ2xDclQsS0FBS3FMLEdBQUdpSSxLQUFLdlcsS0FBSzJCLFVBQVUsQ0FBRTZVLEtBQU0sZ0JBQ3BDdlQsS0FBS3FMLEdBQUdvSSxTQUVWelQsS0FBS3FMLEdBQUssTUFHVHJMLEtBQUs0WCxXQUFhcFgsU0FBU25CLEtBQUt3WSxTQUFTN1gsS0FBSzRYLGFBQy9DNVgsS0FBSzRYLFVBQVV6VyxTQUNmbkIsS0FBSzRYLFVBQVksTUFHbkI1WCxLQUFLc1gsWUFFUCxDQUdBLFFBQUF4USxHQUNFOUcsS0FBS3ViLFlBQ1AsRUNseEJLLE1BQU1DLFVBQW1CLFVBRTVCLFdBQUEzYixHQUNJQyxNQUFNLGFBQ1YsQ0FFQSxPQUFBQyxHQUVJQyxLQUFLQyxLQUFLQyxNQUFNLFNBQVUsNkJBQzFCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUsdUJBQzFCRixLQUFLQyxLQUFLQyxNQUFNLGVBQWdCLDZCQUNoQ0YsS0FBS0MsS0FBS0MsTUFBTSxXQUFZLDhCQUM1QkYsS0FBS0MsS0FBS0MsTUFBTSxlQUFnQiwrQkFDaENGLEtBQUtDLEtBQUtDLE1BQU0sU0FBVSx1QkFDMUJGLEtBQUtDLEtBQUtDLE1BQU0sZ0JBQWlCLDhCQUNqQ0YsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLDRCQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLHVCQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLGdDQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLHdCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDBCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLHVCQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxXQUFZLHlCQUM1QkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLHdCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLDRCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLCtCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDBCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLDRCQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLGtDQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLCtCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLDRCQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDhCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDZCQUc3QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLGdDQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLG9DQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUcvQkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLGlDQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDRCQUd6QkYsS0FBS0MsS0FBS2tFLE1BQU0sTUFBTyxtQkFHdkJuRSxLQUFLQyxLQUFLa0UsTUFBTSxhQUFjLDBCQUM5Qm5FLEtBQUtDLEtBQUtrRSxNQUFNLGdCQUFpQix3QkFDakNuRSxLQUFLQyxLQUFLa0UsTUFBTSxlQUFnQixxQkFDaENuRSxLQUFLQyxLQUFLa0UsTUFBTSxPQUFRLG9CQUN4Qm5FLEtBQUtDLEtBQUtrRSxNQUFNLFlBQWEseUJBQzdCbkUsS0FBS0MsS0FBS2tFLE1BQU0sU0FBVSxzQkFDMUJuRSxLQUFLQyxLQUFLa0UsTUFBTSxVQUFXLHVCQUMzQm5FLEtBQUtDLEtBQUtrRSxNQUFNLFVBQVcsdUJBRzNCbkUsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLGlDQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDJCQUM3QixDQUVBLElBQUFtSyxDQUFLcEgsR0FDRGpELEtBQUtpSixRQUFVLElBQUlDLElBQ25CbEosS0FBS3NLLGNBQWdCLEdBQ3JCdEssS0FBS2tLLFVBQVcsRUFDaEJsSyxLQUFLdUssWUFBYSxFQUNsQnZLLEtBQUt3SyxVQUFXLEVBQ2hCeEssS0FBS3lLLFVBQVksSUFBSXpCLEVBQ3JCaEosS0FBSzBLLGNBQWUsRUFDcEIxSyxLQUFLMkssV0FBYSxJQUFJekIsSUFDdEJsSixLQUFLOEssV0FBYSxFQUFDLEdBQU8sR0FBTyxHQUFPLEdBQU8sR0FBTyxHQUFPLEdBQU8sR0FBTyxHQUFPLEdBQU8sR0FBTyxHQUFPLEdBQ3ZHOUssS0FBS3FMLEdBQUtwSSxFQUFLb0ksR0FDZnJMLEtBQUt3YSxXQUFhdlgsRUFBS3VYLFdBQ3ZCeGEsS0FBS3dYLE9BQVN2VSxFQUFLdVUsT0FDbkJ4WCxLQUFLdEQsU0FBV3VHLEVBQUt2RyxVQUFZLFVBQ2pDc0QsS0FBS3liLFlBQWMsS0FDbkJ6YixLQUFLMGIsYUFBZSxLQUNwQjFiLEtBQUsyYixVQUFXLEVBQ2hCM2IsS0FBSzRiLFdBQVksRUFDakI1YixLQUFLeVIsWUFBYyxFQUFDLEdBQU8sR0FDM0J6UixLQUFLNEssY0FBZ0J2TixLQUFLc0YsTUFDMUIzQyxLQUFLNkssU0FBVyxTQUNoQjdLLEtBQUs2YixlQUFnQixFQUNyQjdiLEtBQUs4YixtQkFBb0IsRUFDekI5YixLQUFLK2IsbUJBQW9CLENBQzdCLENBRUEsTUFBQTViLEdBRUlILEtBQUtvSSxNQUFNakksT0FBTyxDQUNkdkUsSUFBSyxrQkFDTG1QLE9BQVEsQ0FDSixDQUFFblAsSUFBSyxhQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZ0JBRVhvUCxVQUFXLEdBQ1hDLFFBQVMsSUFHYmpMLEtBQUtvSSxNQUFNakksT0FBTyxDQUNkdkUsSUFBSyxrQkFDTG1QLE9BQVEsQ0FDSixDQUFFblAsSUFBSyxhQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZUFDUCxDQUFFQSxJQUFLLGVBQ1AsQ0FBRUEsSUFBSyxlQUNQLENBQUVBLElBQUssZ0JBRVhvUCxVQUFXLEdBQ1hDLFFBQVMsSUFHYmpMLEtBQUtrTCxJQUFNbEwsS0FBS3lFLE1BQU1wRSxJQUFJLE1BQU8sQ0FBRTBFLE1BQU0sRUFBTUQsT0FBUSxLQUNsRDlFLEtBQUtrTCxJQUFJN0MsV0FDVnJJLEtBQUtrTCxJQUFJckcsT0FJYjdFLEtBQUsySyxXQUFXUSxJQUFJLFVBQVduTCxLQUFLeUUsTUFBTXBFLElBQUksT0FBUSxDQUFFMEUsTUFBTSxFQUFNRCxPQUFRLE1BQzVFOUUsS0FBSzJLLFdBQVdRLElBQUksVUFBV25MLEtBQUt5RSxNQUFNcEUsSUFBSSxPQUFRLENBQUUwRSxNQUFNLEVBQU1ELE9BQVEsTUFHNUU5RSxLQUFLb0wsT0FBT3JGLEdBQUcsUUFBUyxLQUNwQi9GLEtBQUsySyxXQUFXOUcsUUFBUXdILElBQVEsSUFBVUEsR0FBTUEsRUFBR2hELFdBQVdnRCxFQUFHbEYsTUFBUSxDQUFFLE1BQU14QixHQUFNbkgsUUFBUW1DLEtBQUtnRixFQUFNLE1BRzlHM0UsS0FBS29MLE9BQU9yRixHQUFHLFNBQVUsUUFJekIvRixLQUFLb0wsT0FBT0UsS0FBSyxXQUFZLEtBRXpCdEwsS0FBSzJLLFdBQVc5RyxRQUFRd0gsSUFDcEIsSUFBVUEsR0FBTUEsRUFBR2hELFdBQVdnRCxFQUFHbEYsTUFBUSxDQUFFLE1BQU14QixHQUFNbkgsUUFBUW1DLEtBQUtnRixFQUFNLENBQzFFLElBQVUwRyxHQUFJQSxFQUFHRSxTQUFXLENBQUUsTUFBTTVHLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sSUFFakUzRSxLQUFLMkssV0FBV2EsUUFFaEIsSUFBVXhMLEtBQUtrTCxNQUFRbEwsS0FBS2tMLElBQUk3QyxXQUFhckksS0FBS2tMLElBQUloQixXQUFXbEssS0FBS2tMLElBQUkvRSxNQUFRLENBQUUsTUFBTXhCLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sSUFLdkgzRSxLQUFLeUwsaUJBQ0x6TCxLQUFLMEwsbUJBQ0wxTCxLQUFLMkwsd0JBQ0wzTCxLQUFLNEwsZUFDTDVMLEtBQUs2TCx1QkFDTDdMLEtBQUs4TCx1QkFHTDlMLEtBQUsrTCxXQUFhL0wsS0FBS0ssSUFBSWlGLEtBQUssR0FBSSxHQUFJLElBQUssQ0FDekNDLFNBQVUsT0FDVkMsV0FBWSxlQUNaQyxNQUFPLGNBR1h6RixLQUFLZ00sWUFBY2hNLEtBQUtLLElBQUlpRixLQUFLLElBQUssR0FBSSxJQUFLLENBQzNDQyxTQUFVLE9BQ1ZDLFdBQVksZUFDWkMsTUFBTyxjQUlYLE1BQU11VyxFQUFzQyxZQUFwQmhjLEtBQUt3YSxXQUEyQiwyQkFBNkIsMkJBQ3JGeGEsS0FBS0ssSUFBSWlGLEtBQUssSUFBSyxHQUFJMFcsRUFBaUIsQ0FDcEN6VyxTQUFVLE9BQ1ZDLFdBQVksaUJBQ2JFLFVBQVUsSUFHVyxZQUFwQjFGLEtBQUt3YSxZQUNMeGEsS0FBS3liLFlBQWN6YixLQUFLaUosUUFBUWhOLElBQUksV0FDcEMrRCxLQUFLMGIsYUFBZTFiLEtBQUtpSixRQUFRaE4sSUFBSSxhQUVyQytELEtBQUt5YixZQUFjemIsS0FBS2lKLFFBQVFoTixJQUFJLFdBQ3BDK0QsS0FBSzBiLGFBQWUxYixLQUFLaUosUUFBUWhOLElBQUksWUFHekMsTUFBTWdnQixFQUFnQi9hLGVBQWVyRSxRQUFRLG9CQUFzQixVQUNuRW1ELEtBQUtpYyxjQUFnQkEsRUFDckJqYyxLQUFLa2MsZUFBaUIsS0FFdEJsYyxLQUFLcUwsR0FBR2lJLEtBQUt2VyxLQUFLMkIsVUFBVSxDQUN4QjZVLEtBQU0sY0FDTjdXLFNBQVV1ZixFQUNWekIsV0FBWXhhLEtBQUt3YSxjQUdyQnhhLEtBQUtvQixLQUFLQyxZQUFZLElBQUssS0FDdkJyQixLQUFLbWMsa0JBSVRuYyxLQUFLb2MsUUFBVXBjLEtBQUtrTSxNQUFNQyxTQUFTa1EsbUJBQ25DcmMsS0FBS3NjLFFBQVV0YyxLQUFLa00sTUFBTUMsU0FBU0MsT0FBTyxVQUFhQyxTQUFTQyxTQUFTaVEsT0FDekV2YyxLQUFLaU0sT0FBU2pNLEtBQUtrTSxNQUFNQyxTQUFTQyxPQUFPLFVBQWFDLFNBQVNDLFNBQVNDLEtBQ3hFdk0sS0FBS3dNLEtBQU94TSxLQUFLa00sTUFBTUMsU0FBU0MsT0FBTyxVQUFhQyxTQUFTQyxTQUFTRyxHQUN0RXpNLEtBQUswTSxLQUFPMU0sS0FBS2tNLE1BQU1DLFNBQVNDLE9BQU8sVUFBYUMsU0FBU0MsU0FBU0ssR0FHdEUzTSxLQUFLd2MseUJBQ1QsQ0FFQSxNQUFBN1QsQ0FBT3ZILEVBQU13SCxHQUNULElBQUs1SSxLQUFLeWIsY0FBZ0J6YixLQUFLMGIsYUFBYyxPQUN6QzFiLEtBQUtpTSxPQUFPVyxTQUFXNU0sS0FBS3VLLFlBQzVCdkssS0FBSzZNLGNBSVQsSUFBSTRQLEVBQVksS0FDWUEsRUFBeEJ6YyxLQUFLb2MsUUFBUU0sR0FBRzlQLE9BQW9CLEtBQy9CNU0sS0FBS29jLFFBQVFPLEtBQUsvUCxPQUFvQixPQUN0QzVNLEtBQUtvYyxRQUFRdEMsS0FBS2xOLE9BQW9CLE9BQ3RDNU0sS0FBS29jLFFBQVFRLE1BQU1oUSxPQUFvQixRQUMvQixPQUVqQjVNLEtBQUt1SyxXQUFhdkssS0FBS2lNLE9BQU9XLE9BQzlCNU0sS0FBS3dLLFVBQVcsRUFDaEJ4SyxLQUFLNGIsV0FBWSxHQUNiNWIsS0FBS3dNLEtBQUtJLFFBQVU1TSxLQUFLME0sS0FBS0UsVUFDOUI1TSxLQUFLd0ssVUFBVyxFQUNoQnhLLEtBQUs2YyxZQUFZLENBQ2J0SixLQUFNLGNBS2R2VCxLQUFLaUosUUFBUXBGLFFBQVFnRyxJQUNqQkEsRUFBS2xCLE9BQU9DLEtBSWhCLElBQUk0RSxFQUFjLElBQUk1RCxFQUFnQjVKLEtBQUt5YixZQUFhZ0IsRUFBV3pjLEtBQUtzYyxRQUFRMVAsUUFDaEY1TSxLQUFLeUssVUFBVW5CLFFBQVFrRSxHQUVSLFNBQVppUCxHQUNDemMsS0FBS3liLFlBQVl0VCxrQkFDRixTQUFac1UsRUFBb0J6YyxLQUFLeWIsWUFBWTVULE9BQU93RixPQUFRLEVBQ25DLFVBQVpvUCxJQUFxQnpjLEtBQUt5YixZQUFZNVQsT0FBT3dGLE9BQVEsSUFFN0RyTixLQUFLeWIsWUFBWWxULHdCQUdyQixNQUFNdVUsRUFBVzljLEtBQUsySyxXQUFXMU8sSUFBSStELEtBQUt3YSxZQUMzQixTQUFaaUMsRUFDSUssSUFBY0EsRUFBVXpVLFdBQ3ZCeVUsRUFBVWpZLE9BR1hpWSxHQUFhQSxFQUFVelUsV0FDdEJ5VSxFQUFVM1csT0FLbEJuRyxLQUFLNmMsWUFBWSxDQUNidEosS0FBTSxhQUNOdE0sRUFBR2pILEtBQUt5YixZQUFZNVQsT0FBT1osRUFDM0JDLEVBQUdsSCxLQUFLeWIsWUFBWTVULE9BQU9YLEVBQzNCNEMsVUFBVzJTLEVBQ1h4UCxTQUF3QixTQUFkd1AsRUFDVnBQLE1BQU9yTixLQUFLeWIsWUFBWTVULE9BQU93RixRQWNuQ3JOLEtBQUtxTCxHQUFHaUksS0FBS3ZXLEtBQUsyQixVQUFVLENBQ3hCNlUsS0FBTSx1QkFDTnpJLFdBQVk5SyxLQUFLOEssY0FJckI5SyxLQUFLK2MsZ0NBR1QsQ0FFQSxjQUFBdFIsR0FDSXpMLEtBQUtvTyxNQUFRcE8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxVQUM5Q0YsS0FBS29PLE1BQU1DLGNBQWEsR0FDeEJyTyxLQUFLb08sTUFBTTlOLFNBQVMsS0FDcEJOLEtBQUtvTyxNQUFNL08sS0FBSzJJLGNBQWUsRUFDL0JoSSxLQUFLc08sTUFBUXRPLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssVUFDOUNGLEtBQUtzTyxNQUFNRCxjQUFhLEdBQ3hCck8sS0FBS3NPLE1BQU1oTyxTQUFTLEtBQ3BCTixLQUFLc08sTUFBTWpQLEtBQUsySSxjQUFlLEVBQy9CaEksS0FBS3VPLFdBQWF2TyxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLGVBQ25ERixLQUFLdU8sV0FBV0YsY0FBYSxHQUM3QnJPLEtBQUt1TyxXQUFXak8sU0FBUyxJQUN6Qk4sS0FBS3VPLFdBQVdsUCxLQUFLMkksY0FBZSxFQUNwQ2hJLEtBQUt3TyxZQUFjeE8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxnQkFDcERGLEtBQUt3TyxZQUFZSCxjQUFhLEdBQzlCck8sS0FBS3dPLFlBQVlsTyxTQUFTLElBQzFCTixLQUFLd08sWUFBWW5QLEtBQUsySSxjQUFlLEVBQ3JDaEksS0FBS3lPLFFBQVV6TyxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLFlBQ2hERixLQUFLeU8sUUFBUUosY0FBYSxHQUMxQnJPLEtBQUt5TyxRQUFRbk8sU0FBUyxJQUN0Qk4sS0FBS3lPLFFBQVFwUCxLQUFLMkksY0FBZSxFQUNqQ2hJLEtBQUswTyxZQUFjMU8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxnQkFDcERGLEtBQUswTyxZQUFZTCxjQUFhLEdBQzlCck8sS0FBSzBPLFlBQVlwTyxTQUFTLElBQzFCTixLQUFLME8sWUFBWXJQLEtBQUsySSxjQUFlLEVBQ3JDaEksS0FBSzJPLE1BQVEzTyxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQzlDRixLQUFLMk8sTUFBTU4sY0FBYSxHQUN4QnJPLEtBQUsyTyxNQUFNck8sU0FBUyxJQUNwQk4sS0FBSzJPLE1BQU10UCxLQUFLMkksY0FBZSxFQUMvQmhJLEtBQUs0TyxNQUFRNU8sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxVQUM5Q0YsS0FBSzRPLE1BQU1QLGNBQWEsR0FDeEJyTyxLQUFLNE8sTUFBTXRPLFNBQVMsSUFDcEJOLEtBQUs0TyxNQUFNdlAsS0FBSzJJLGNBQWUsRUFDL0JoSSxLQUFLNk8sVUFBWTdPLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssY0FDbERGLEtBQUs2TyxVQUFVUixjQUFhLEdBQzVCck8sS0FBSzZPLFVBQVV2TyxTQUFTLElBQ3hCTixLQUFLNk8sVUFBVXhQLEtBQUsySSxjQUFlLEVBQ25DaEksS0FBSzhPLE9BQVM5TyxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLFdBQy9DRixLQUFLOE8sT0FBT1QsY0FBYSxHQUN6QnJPLEtBQUs4TyxPQUFPeE8sU0FBUyxJQUNyQk4sS0FBSzhPLE9BQU96UCxLQUFLMkksY0FBZSxFQUNoQ2hJLEtBQUsrTyxTQUFXL08sS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxhQUNqREYsS0FBSytPLFNBQVNWLGNBQWEsR0FDM0JyTyxLQUFLK08sU0FBU3pPLFNBQVMsSUFDdkJOLEtBQUsrTyxTQUFTMVAsS0FBSzJJLGNBQWUsRUFDbENoSSxLQUFLZ1AsTUFBUWhQLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssVUFDOUNGLEtBQUtnUCxNQUFNWCxjQUFhLEdBQ3hCck8sS0FBS2dQLE1BQU0xTyxTQUFTLElBQ3BCTixLQUFLZ1AsTUFBTTNQLEtBQUsySSxjQUFlLEVBQy9CaEksS0FBS2lQLE9BQVNqUCxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLFdBQy9DRixLQUFLaVAsT0FBT1osY0FBYSxHQUN6QnJPLEtBQUtpUCxPQUFPM08sU0FBUyxJQUNyQk4sS0FBS2lQLE9BQU81UCxLQUFLMkksY0FBZSxFQUNoQ2hJLEtBQUtpRixPQUFTakYsS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLEdBQUksSUFBSyxXQUM5Q0YsS0FBS2lGLE9BQU9vSixjQUFhLEdBQ3pCck8sS0FBS2lGLE9BQU8zRSxTQUFTLElBQ3JCTixLQUFLaUYsT0FBTzVGLEtBQUsySSxjQUFlLEVBQ2hDaEksS0FBS2tGLE9BQVNsRixLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLFdBQy9DRixLQUFLa0YsT0FBT21KLGNBQWEsR0FDekJyTyxLQUFLa0YsT0FBTzVFLFNBQVMsSUFDckJOLEtBQUtrRixPQUFPN0YsS0FBSzJJLGNBQWUsRUFHaENoSSxLQUFLa1AsVUFBWWxQLEtBQUs4SCxRQUFRekgsSUFBSUgsTUFBTSxJQUFLLElBQUssYUFDbERGLEtBQUtrUCxVQUFVYixjQUFhLEdBQzVCck8sS0FBS2tQLFVBQVU1TyxTQUFTLElBQ3hCTixLQUFLa1AsVUFBVXhCLFNBQVMsR0FDeEIxTixLQUFLa1AsVUFBVTdQLEtBQUsySSxjQUFlLEVBQ25DaEksS0FBS21QLFVBQVluUCxLQUFLOEgsUUFBUXpILElBQUlILE1BQU0sSUFBSyxJQUFLLGFBQ2xERixLQUFLbVAsVUFBVWQsY0FBYSxHQUM1QnJPLEtBQUttUCxVQUFVN08sU0FBUyxJQUN4Qk4sS0FBS21QLFVBQVV6QixTQUFTLEdBQ3hCMU4sS0FBS21QLFVBQVU5UCxLQUFLMkksY0FBZSxDQUN2QyxDQUVBLHFCQUFBMkQsR0FFSTNMLEtBQUtvUCxpQkFBbUJwUCxLQUFLOEgsUUFBUXpILElBQUlnUCxZQUFZLElBQUssSUFBSyxNQUMvRHJQLEtBQUtvUCxpQkFBaUJuSCxRQUFRLElBQU0sS0FDcENqSSxLQUFLb1AsaUJBQWlCRSxZQUFXLEdBQ2pDdFAsS0FBS29QLGlCQUFpQi9QLEtBQUs0SSxRQUFRLElBQU0sS0FHekNqSSxLQUFLdVAsZUFBaUJ2UCxLQUFLOEgsUUFBUXpILElBQUl3SCxPQUFPLElBQUssSUFBSyxlQUN4RDdILEtBQUt1UCxlQUFlbFEsS0FBS21RLGlCQUFnQixHQUN6Q3hQLEtBQUt1UCxlQUFlbFEsS0FBS2dQLGNBQWEsR0FDdENyTyxLQUFLdVAsZUFBZTdCLFNBQVMsR0FDN0IxTixLQUFLdVAsZUFBZWpQLFNBQVMsRUFBRyxJQUdoQ04sS0FBS3lQLFlBQWN6UCxLQUFLOEgsUUFBUXpILElBQUl3SCxPQUFPLElBQUssSUFBSyxlQUNyRDdILEtBQUt5UCxZQUFZcFEsS0FBS21RLGlCQUFnQixHQUN0Q3hQLEtBQUt5UCxZQUFZcFEsS0FBS2dQLGNBQWEsR0FDbkNyTyxLQUFLeVAsWUFBWS9CLFNBQVMsR0FDMUIxTixLQUFLeVAsWUFBWUMsVUFBVSxJQUMzQjFQLEtBQUt5UCxZQUFZcFEsS0FBSzZJLFdBQVcsSUFBSyxHQUMxQyxDQUVBLGdCQUFBd0QsR0FDSTFMLEtBQUsyUCxZQUFjM1AsS0FBSzhILFFBQVF6SCxJQUFJdVAsY0FFcEM1UCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBQ2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBQ2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBR2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBQ2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBQ2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBR2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBQ2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBQ2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBQ2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFlBQ2xDSCxLQUFLMlAsWUFBWXhQLE9BQU8sSUFBSyxJQUFLLFdBRXRDLENBRUEsb0JBQUEwTCxHQUNJN0wsS0FBS2lKLFFBQVFwRixRQUFRZ00sSUEyQmpCLElBQUk3SSxFQXpCSmhILEtBQUs4SCxRQUFRekgsSUFBSXlQLFNBQVNELEVBQU9oSSxPQUFRN0gsS0FBS3VQLGdCQUM5Q3ZQLEtBQUs4SCxRQUFRekgsSUFBSXlQLFNBQVNELEVBQU9oSSxPQUFRN0gsS0FBSzJQLGFBQzlDM1AsS0FBSzhILFFBQVF6SCxJQUFJeVAsU0FBU0QsRUFBT2hJLE9BQVE3SCxLQUFLeVAsYUFJOUN6UCxLQUFLOEgsUUFBUXpILElBQUkwUCxRQUFRRixFQUFPaEksT0FBUTdILEtBQUs0TyxNQUFPLEtBQzVDNU8sS0FBSzZiLGdCQUNUN2IsS0FBSzZiLGVBQWdCLEVBRWpCN2IsS0FBS3lFLE9BQ0x6RSxLQUFLeUUsTUFBTUksS0FBSyxlQUFnQixDQUFFQyxPQUFRLEtBRTlDOUUsS0FBSzRPLE1BQU1yRCxVQUNYL04sUUFBUW9CLElBQUksb0JBQ1pvQixLQUFLOEssV0FBVyxJQUFLLEVBQ3JCOUssS0FBS2dRLEtBQUt0QyxTQUFTLEdBR25CMU4sS0FBS3FMLEdBQUdpSSxLQUFLdlcsS0FBSzJCLFVBQVUsQ0FDeEI2VSxLQUFNLHVCQUNOekksV0FBWTlLLEtBQUs4SyxpQkFLUzlELEVBQVgsWUFBcEI2SSxFQUFPOUMsU0FBNkIsRUFDN0IsRUFHVi9NLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS3VPLFdBQVksS0FDakR2TyxLQUFLd0ssV0FFTHhLLEtBQUtzQixNQUFNMk8sUUFDWGpRLEtBQUtzQixNQUFNNE8sT0FBTyxnQkFBaUIsQ0FDL0IzSixjQUFlLGFBQ2Z3SSxTQUFVL08sS0FBSzhLLFdBQ2ZyRyxNQUFPekUsS0FBS3lFLE1BQ1owTCxRQUFTbkosRUFDVHFFLEdBQUtyTCxLQUFLcUwsUUFNdEJyTCxLQUFLOEgsUUFBUXpILElBQUl5UCxTQUNiRCxFQUFPaEksT0FDUDdILEtBQUtvUCxpQkFDTCxLQUVTUyxFQUFPbkksV0FDUm1JLEVBQU9wSCxRQUdmLEtBRUksTUFBTTJILEVBQWFQLEVBQU9oSSxPQUFPeEksS0FBS3dKLFNBQVMzQixFQUFJLEVBQ25ELE9BQVEySSxFQUFPbkksV0FBYTBJLEdBRWhDcFEsTUFJSkEsS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLeU8sUUFBUyxNQUM5QyxVQUFhcEMsU0FBU2dFLFNBQVNyUSxLQUFLd00sT0FBUyxVQUFhSCxTQUFTZ0UsU0FBU3JRLEtBQUswTSxRQUNqRjFNLEtBQUs2YyxZQUFZLENBQ2J0SixLQUFNLGNBQ056SSxXQUFXOUssS0FBSzhLLGVBUTVCOUssS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLMk8sTUFBTyxLQUMzQzNPLEtBQUswSyxlQUNGMUssS0FBSzhLLFdBQVcsR0FDaEI5SyxLQUFLNlEsYUFFTHJULFFBQVFvQixJQUFJLDZDQU14Qm9CLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS2tQLFVBQVcsS0FDcERsUCxLQUFLOFEsZ0JBQWdCLEtBRXpCOVEsS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLbVAsVUFBVyxLQUNwRG5QLEtBQUs4USxnQkFBZ0IsS0FLekI5USxLQUFLOEgsUUFBUXpILElBQUkwUCxRQUFRRixFQUFPaEksT0FBUTdILEtBQUtpRixPQUFRLEtBQ2pEakYsS0FBSytRLGdCQUFnQixLQUV6Qi9RLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVFGLEVBQU9oSSxPQUFRN0gsS0FBS2tGLE9BQVEsS0FDakRsRixLQUFLK1EsZ0JBQWdCLEtBS3pCL1EsS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLaUYsT0FBUSxLQUNqRGpGLEtBQUs2YyxZQUFZLENBQ2J0SixLQUFNLG1CQUNOaEIsTUFBTyxNQUdmdlMsS0FBSzhILFFBQVF6SCxJQUFJMFAsUUFBUUYsRUFBT2hJLE9BQVE3SCxLQUFLa0YsT0FBUSxLQUNqRGxGLEtBQUs2YyxZQUFZLENBQ2J0SixLQUFNLG1CQUNOaEIsTUFBTyxPQUt2QixDQUVBLG9CQUFBekcsR0FDSTlMLEtBQUtnUSxLQUFPaFEsS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssVUFBVXdOLFNBQVMsSUFDeEQxTixLQUFLeU4sSUFBTXpOLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFdBQVd3TixTQUFTLElBQUtwTixTQUFTLElBQ3RFTixLQUFLMk4sSUFBTTNOLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLGFBQWF3TixTQUFTLElBQzFEMU4sS0FBSzROLEtBQU81TixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxhQUFhd04sU0FBUyxJQUMzRDFOLEtBQUs2TixPQUFTN04sS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssY0FBY3dOLFNBQVMsSUFDOUQxTixLQUFLOE4sTUFBUTlOLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLGNBQWN3TixTQUFTLElBQzdEMU4sS0FBSytOLEtBQU8vTixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxjQUFjd04sU0FBUyxJQUM1RDFOLEtBQUtnTyxNQUFRaE8sS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssYUFBYXdOLFNBQVMsSUFDNUQxTixLQUFLaU8sS0FBT2pPLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQVV3TixTQUFTLElBQUtwTixTQUFTLElBQ3RFTixLQUFLa08sTUFBUWxPLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLGdCQUFnQndOLFNBQVMsSUFBS3BOLFNBQVMsSUFDN0VOLEtBQUttTyxLQUFPbk8sS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssV0FBV3dOLFNBQVMsSUFBS3BOLFNBQVMsSUFDdkVOLEtBQUtzTCxLQUFPdEwsS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssYUFBYXdOLFNBQVMsSUFDM0QxTixLQUFLbVIsS0FBT25SLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLGFBQWF3TixTQUFTLEdBQy9ELENBRUEsOEJBQUFxUCxHQUNPL2MsS0FBSzhLLFdBQVcsR0FBSTlLLEtBQUt5TixJQUFJQyxTQUFTLEdBQVMxTixLQUFLeU4sSUFBSUMsU0FBUyxJQUNqRTFOLEtBQUs4SyxXQUFXLEdBQUk5SyxLQUFLMk4sSUFBSUQsU0FBUyxHQUFRMU4sS0FBSzJOLElBQUlELFNBQVMsSUFDaEUxTixLQUFLOEssV0FBVyxHQUFJOUssS0FBSzROLEtBQUtGLFNBQVMsR0FBUzFOLEtBQUs0TixLQUFLRixTQUFTLElBQ25FMU4sS0FBSzhLLFdBQVcsR0FBSTlLLEtBQUs2TixPQUFPSCxTQUFTLEdBQVMxTixLQUFLNk4sT0FBT0gsU0FBUyxJQUN2RTFOLEtBQUs4SyxXQUFXLEdBQUk5SyxLQUFLOE4sTUFBTUosU0FBUyxHQUFTMU4sS0FBSzhOLE1BQU1KLFNBQVMsSUFDckUxTixLQUFLOEssV0FBVyxHQUFJOUssS0FBSytOLEtBQUtMLFNBQVMsR0FBUTFOLEtBQUsrTixLQUFLTCxTQUFTLElBQ2xFMU4sS0FBSzhLLFdBQVcsR0FBSTlLLEtBQUtnTyxNQUFNTixTQUFTLEdBQVExTixLQUFLZ08sTUFBTU4sU0FBUyxJQUNwRTFOLEtBQUs4SyxXQUFXLEdBQUk5SyxLQUFLaU8sS0FBS1AsU0FBUyxHQUFRMU4sS0FBS2lPLEtBQUtQLFNBQVMsSUFDbEUxTixLQUFLOEssV0FBVyxHQUFJOUssS0FBS2tPLE1BQU1SLFNBQVMsR0FBUTFOLEtBQUtrTyxNQUFNUixTQUFTLElBQ3BFMU4sS0FBSzhLLFdBQVcsSUFBSzlLLEtBQUttTyxLQUFLVCxTQUFTLEdBQVMxTixLQUFLbU8sS0FBS1QsU0FBUyxHQUMzRSxDQUVBLFVBQUFtRCxHQUNRN1EsS0FBS3lFLFFBQ0x6RSxLQUFLeUUsTUFBTUksS0FBSyxhQUFjLENBQUVDLE9BQVEsS0FDeEM5RSxLQUFLb0IsS0FBS0MsWUFBWSxJQUFNLEtBQ3hCckIsS0FBS3lFLE1BQU1DLFVBQVUsaUJBSTdCbEgsUUFBUW9CLElBQUksaUJBQ1pvQixLQUFLMk8sTUFBTW5HLFdBQVcsaUJBQ3RCeEksS0FBS2tQLFVBQVV4QixTQUFTLEdBQ3hCMU4sS0FBS21QLFVBQVV6QixTQUFTLEdBQ3hCMU4sS0FBSzBLLGNBQWUsRUFDcEIxSyxLQUFLOEssV0FBVyxJQUFLLEVBQ3JCOUssS0FBS2dRLEtBQUt0QyxTQUFTLEdBQ3ZCLENBRUEsZUFBQW9ELENBQWdCTSxHQUNaLEdBQUlwUixLQUFLMEssYUFBYyxDQUVuQixHQUFVLElBQU4wRyxHQUFXcFIsS0FBSzhiLGtCQUFtQixPQUN2QyxHQUFVLElBQU4xSyxHQUFXcFIsS0FBSytiLGtCQUFtQixPQUU3QixJQUFOM0ssSUFBU3BSLEtBQUs4YixtQkFBb0IsR0FDNUIsSUFBTjFLLElBQVNwUixLQUFLK2IsbUJBQW9CLEdBRXRDdmUsUUFBUW9CLElBQUksWUFBY3dTLEVBQUksYUFDOUJwUixLQUFLOEssV0FBVyxHQUFLc0csSUFBSyxFQUNoQixJQUFOQSxHQUNBcFIsS0FBS2tQLFVBQVUzRCxVQUNmdkwsS0FBS3NMLEtBQUtvQyxTQUFTLEtBRW5CMU4sS0FBS21QLFVBQVU1RCxVQUNmdkwsS0FBS21SLEtBQUt6RCxTQUFTLElBSXZCMU4sS0FBS3FMLEdBQUdpSSxLQUFLdlcsS0FBSzJCLFVBQVUsQ0FDeEI2VSxLQUFNLHVCQUNOekksV0FBWTlLLEtBQUs4SyxjQUdyQjlLLEtBQUs2YyxZQUFZLENBQUN0SixLQUFNLGNBQWV5SixPQUFRLFdBQ25ELENBR0osQ0FFQSxlQUFBak0sQ0FBZ0JLLEdBQ1JwUixLQUFLOEssV0FBVyxHQUFLc0csS0FDckI1VCxRQUFRb0IsSUFBSSxZQUFjd1MsRUFBSSxhQUMxQnBSLEtBQUt5RSxPQUNMekUsS0FBS3lFLE1BQU1JLEtBQUssVUFBVyxDQUFFQyxPQUFRLEtBRS9CLElBQU5zTSxHQUNBcFIsS0FBS2lGLE9BQU91RCxXQUFXLFdBQ3ZCeEksS0FBSzhLLFdBQVcsR0FBS3NHLElBQUssRUFDMUJwUixLQUFLc0wsS0FBS29DLFNBQVMsSUFDbkIxTixLQUFLMmIsVUFBVyxJQUVoQjNiLEtBQUtrRixPQUFPc0QsV0FBVyxXQUN2QnhJLEtBQUs4SyxXQUFXLEdBQUtzRyxJQUFLLEVBQzFCcFIsS0FBS21SLEtBQUt6RCxTQUFTLElBQ25CMU4sS0FBSzJiLFVBQVcsR0FJcEIzYixLQUFLcUwsR0FBR2lJLEtBQUt2VyxLQUFLMkIsVUFBVSxDQUN4QjZVLEtBQU0sdUJBQ056SSxXQUFZOUssS0FBSzhLLGNBRzdCLENBRUEsb0JBQUFtUyxHQUNvQyxZQUE1QmpkLEtBQUtpRixPQUFPcU0sUUFBUTFWLEtBQWlELFlBQTVCb0UsS0FBS2tGLE9BQU9vTSxRQUFRMVYsTUFDeERvRSxLQUFLNGIsV0FBYTViLEtBQUswTSxLQUFLRSxTQUFXNU0sS0FBS3dNLEtBQUtJLFFBQVU1TSxLQUFLZ1IsZ0JBQWtCaFIsS0FBS2tSLGlCQUN4RmxSLEtBQUs2YyxZQUFZLENBQ2J0SixLQUFNLDBCQUVWdlQsS0FBS2lSLG1CQUdqQixDQUVBLGdCQUFBQSxHQUNJelQsUUFBUW9CLElBQUksK0JBQ1JvQixLQUFLeUUsT0FDTHpFLEtBQUt5RSxNQUFNSSxLQUFLLFNBQVUsQ0FBRUMsT0FBUSxLQUV4QzlFLEtBQUswTyxZQUFZbkQsVUFDakJ2TCxLQUFLdVIsa0JBQ1QsQ0FFQSxnQkFBQUEsR0FDSXZSLEtBQUt3UixZQUFjeFIsS0FBSzhILFFBQVF6SCxJQUFJSCxNQUFNLElBQUssSUFBSyxNQUNwREYsS0FBS3dSLFlBQVluRCxjQUFhLEdBQzlCck8sS0FBS3dSLFlBQVluUyxLQUFLMkksY0FBZSxFQUNyQ2hJLEtBQUt3UixZQUFZOUQsU0FBUyxHQUMxQjFOLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVEvUCxLQUFLaUosUUFBUWhOLElBQUksV0FBVzRMLE9BQVE3SCxLQUFLd1IsWUFBYSxLQUMzRXhSLEtBQUs2YyxZQUFZLENBQ2J0SixLQUFNLHVCQUNOMUQsT0FBUSxjQUdoQjdQLEtBQUs4SCxRQUFRekgsSUFBSTBQLFFBQVEvUCxLQUFLaUosUUFBUWhOLElBQUksV0FBVzRMLE9BQVE3SCxLQUFLd1IsWUFBYSxLQUMzRXhSLEtBQUs2YyxZQUFZLENBQ2J0SixLQUFNLHVCQUNOMUQsT0FBUSxhQUdwQixDQUVBLGlCQUFBNkIsQ0FBa0JELEVBQWF5TCxHQUUzQixHQURBMWYsUUFBUW9CLElBQUksZUFBZ0I2UyxHQUN4QkEsRUFBWSxJQUFNQSxFQUFZLEdBQUksQ0FFbEN6UixLQUFLMkssV0FBVzlHLFFBQVF3SCxJQUNwQixJQUFVQSxHQUFNQSxFQUFHaEQsV0FBV2dELEVBQUdsRixNQUFRLENBQUUsTUFBTXhCLEdBQU1uSCxRQUFRbUMsS0FBS2dGLEVBQU0sQ0FDMUUsSUFBVTBHLEdBQUlBLEVBQUdFLFNBQVcsQ0FBRSxNQUFNNUcsR0FBTW5ILFFBQVFtQyxLQUFLZ0YsRUFBTSxJQUVqRTNFLEtBQUsySyxXQUFXYSxRQUVoQixJQUFVeEwsS0FBS2tMLE1BQVFsTCxLQUFLa0wsSUFBSTdDLFdBQWFySSxLQUFLa0wsSUFBSWhCLFdBQVdsSyxLQUFLa0wsSUFBSS9FLE1BQVEsQ0FBRSxNQUFNeEIsR0FBTW5ILFFBQVFtQyxLQUFLZ0YsRUFBTSxDQUUvRzNFLEtBQUt5RSxPQUFPekUsS0FBS3lFLE1BQU1DLFVBQVUsUUFDakMxRSxLQUFLeUUsT0FBT3pFLEtBQUt5RSxNQUFNQyxVQUFVLE9BRXJDMUUsS0FBS3NCLE1BQU1DLE1BQU0sZ0JBQWlCLENBQUMyVCxTQUFVZ0ksRUFBUy9NLFFBQVNuUSxLQUFLd2EsV0FBWW5QLEdBQUlyTCxLQUFLcUwsR0FBSTFOLEtBQUssVUFDdEcsQ0FDSixDQUVBLFlBQUFpTyxHQUNHLE1BQU11UixFQUFPLElBQUlwVyxFQUFLL0csS0FBTSxVQUFZLEdBQUksSUFBSyxhQUMzQ29kLEVBQVMsSUFBSXJXLEVBQUsvRyxLQUFNLFVBQVcsSUFBSyxJQUFLLGFBQ25EQSxLQUFLaUosUUFBUWtDLElBQUksVUFBV2dTLEdBQzVCbmQsS0FBS2lKLFFBQVFrQyxJQUFJLFVBQVdpUyxFQUMvQixDQUVBLE9BQUEvSyxDQUFRckwsR0FDSmhILEtBQUtLLElBQUlpUyxVQUFVLElBQUssSUFBSyxJQUFNLElBQUssRUFBVSxJQUVsRHRTLEtBQUtnRixPQUFTaEYsS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssVUFDdkNGLEtBQUtnRixPQUFPMUUsU0FBUyxLQUNyQk4sS0FBS3VTLE1BQVF2UyxLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxTQUN0Q0YsS0FBS3VTLE1BQU1qUyxTQUFTLElBRXBCTixLQUFLaUosUUFBUXBGLFFBQVFnRyxJQUNqQkEsRUFBS2hDLE9BQU8ySyxZQUFZLEVBQUcsS0FFL0J4UyxLQUFLOEgsUUFBUW1JLFFBR1RqUSxLQUFLa0wsS0FBT2xMLEtBQUtrTCxJQUFJN0MsV0FDckJySSxLQUFLa0wsSUFBSS9FLE9BR2IsTUFBTXNNLEVBQWUsWUFBUHpMLEVBQW1CLDRCQUE4Qiw2QkFDL0RoSCxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUttTixFQUFPLENBQzNCak4sV0FBWSxlQUNaRCxTQUFVLE9BQ1ZFLE1BQU8sZUFFUkMsVUFBVSxJQUNaQyxVQUFVLEdBRVgsTUFBTStNLEVBQVUxUyxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssT0FBUSxDQUM1Q0MsU0FBVSxPQUNWQyxXQUFZLGVBQ1pDLE1BQU8sY0FDUkMsVUFBVSxJQUNSRyxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxJQUFNMk0sRUFBUTFNLFNBQVMsQ0FBRUMsS0FBTSxlQUNqREYsR0FBRyxhQUFjLElBQU0yTSxFQUFRMU0sU0FBUyxDQUFFQyxLQUFNLGVBQ2hERixHQUFHLGNBQWUsS0FDWC9GLEtBQUtxTCxJQUFNckwsS0FBS3FMLEdBQUc4SCxhQUFlQyxVQUFVQyxPQUNoRHJULEtBQUtxTCxHQUFHaUksS0FBS3ZXLEtBQUsyQixVQUFVLENBQUU2VSxLQUFNLHdCQUNoQ0MsV0FBVyxLQUNQeFQsS0FBS3FMLEdBQUdvSSxTQUNULE1BR1h6VCxLQUFLc0IsTUFBTTZFLEtBQUssY0FDaEJuRyxLQUFLc0IsTUFBTTZFLEtBQUssY0FDaEJuRyxLQUFLc0IsTUFBTUMsTUFBTSxjQUV6QixDQUVBLGNBQ0ksTUFBTW9SLEVBQVUzUyxLQUFLaUosUUFBUWhOLElBQUksV0FDakMwVyxFQUFRdkwsT0FDUnBILEtBQUsrTCxXQUFXbkYsUUFBUStMLEVBQVF2TCxLQUFLdEUsWUFDckN0RixRQUFRb0IsSUFBSSxpQ0FHWm9CLEtBQUs2YyxZQUFZLENBQ2J0SixLQUFNLGNBQ04xRCxPQUFRLFVBQ1J6SSxLQUFNdUwsRUFBUXZMLE9BSWR1TCxFQUFRdkwsTUFBUSxHQUFHcEgsS0FBS3FTLFFBQVEsVUFDeEMsQ0FFQSxlQUNJLE1BQU1PLEVBQVU1UyxLQUFLaUosUUFBUWhOLElBQUksV0FDakMyVyxFQUFReEwsT0FDUnBILEtBQUtnTSxZQUFZcEYsUUFBUWdNLEVBQVF4TCxLQUFLdEUsWUFDdEN0RixRQUFRb0IsSUFBSSxpQ0FHWm9CLEtBQUs2YyxZQUFZLENBQ2J0SixLQUFNLGNBQ04xRCxPQUFRLFVBQ1J6SSxLQUFNd0wsRUFBUXhMLE9BSWR3TCxFQUFReEwsTUFBUSxHQUFHcEgsS0FBS3FTLFFBQVEsVUFDeEMsQ0FFQSxhQUFBbEksQ0FBY0QsR0FDVmxLLEtBQUtrSyxTQUFXQSxFQUNaQSxJQUNBbEssS0FBS3NCLE1BQU0yTyxRQUNYalEsS0FBS3NCLE1BQU00TyxPQUFPLGFBQWMsQ0FBRTNKLGNBQWUsZ0JBRWpEdkcsS0FBS2tMLEtBQU9sTCxLQUFLa0wsSUFBSTdDLFdBQ3JCckksS0FBS2tMLElBQUkrRSxPQUdqQixDQUVBLE1BQUE0QyxDQUFPNVAsR0FDQ0EsR0FBUUEsRUFBSzhMLFdBQ2IvTyxLQUFLOEssV0FBYTdILEVBQUs4TCxTQUd2Qi9PLEtBQUtxTCxHQUFHaUksS0FBS3ZXLEtBQUsyQixVQUFVLENBQ3hCNlUsS0FBTSx1QkFDTnpJLFdBQVk5SyxLQUFLOEssZUFHekI5SyxLQUFLa0ssVUFBVyxFQUNabEssS0FBS2tMLEtBQU9sTCxLQUFLa0wsSUFBSWhCLFVBQ3JCbEssS0FBS2tMLElBQUkySCxRQUdqQixDQUVBLFdBQUFoRyxHQUNJLE1BQU1rRyxHQUFpQi9TLEtBQUtrSyxTQUM1QmxLLEtBQUt5SyxVQUFVbkIsUUFDWCxJQUFJVyxFQUFpQmpLLEtBQU0rUyxHQUVuQyxDQUlBLHVCQUFBeUosR0FDSXhjLEtBQUtxTCxHQUFHc1AsVUFBYVcsSUFDakIsSUFDSSxNQUFNclksRUFBT2xHLEtBQUtDLE1BQU1zZSxFQUFNclksTUFDOUJqRCxLQUFLb2Esb0JBQW9CblgsRUFDN0IsQ0FBRSxNQUFPMUYsR0FDTEMsUUFBUUQsTUFBTSxzQ0FBdUNBLEVBQ3pELEdBR0p5QyxLQUFLcUwsR0FBRzZQLFFBQVUsS0FDZDFkLFFBQVFvQixJQUFJLDhCQUNQb0IsS0FBS3FkLFdBQ05yZCxLQUFLc0QsdUJBSWJ0RCxLQUFLcUwsR0FBRzRQLFFBQVcxZCxJQUNmQyxRQUFRRCxNQUFNLHVCQUF3QkEsR0FDakN5QyxLQUFLcWQsV0FDTnJkLEtBQUtzRCxzQkFHakIsQ0FFQSxtQkFBQThXLENBQW9CblgsR0FDaEIsT0FBUUEsRUFBS3NRLE1BQ1QsSUFBSyxZQUNEL1YsUUFBUW9CLElBQUksdUJBQXdCcUUsR0FDWixZQUFwQmpELEtBQUt3YSxZQUNMeGEsS0FBS2ljLGNBQWdCaFosRUFBSzBQLFFBQzFCM1MsS0FBS2tjLGVBQWlCalosRUFBSzJQLFVBRTNCNVMsS0FBS2ljLGNBQWdCaFosRUFBSzJQLFFBQzFCNVMsS0FBS2tjLGVBQWlCalosRUFBSzBQLFNBRS9CLE1BRUosSUFBSyxjQUNEblYsUUFBUW9CLElBQUkscUJBQXNCcUUsR0FDOUJBLEVBQUt1WCxhQUFleGEsS0FBS3dhLGFBQ3pCeGEsS0FBS2tjLGVBQWlCalosRUFBS3ZHLFNBQzNCYyxRQUFRb0IsSUFBSSwrQkFBZ0NvQixLQUFLa2MsaUJBRXJELE1BRUosSUFBSyxvQkFBcUIsQ0FFdEIsR0FBSWpaLEVBQUs0TSxTQUFXN1AsS0FBS3dhLFdBQVksTUFDckMsSUFBS3hhLEtBQUswYixhQUFjLE1BRXhCLE1BQU00QixFQUFhdGQsS0FBSzJLLFdBQVcxTyxJQUFJZ0gsRUFBSzRNLFFBQ3hDNU0sRUFBS2dLLFVBQStCLFNBQW5CaEssRUFBSzZHLFVBQ2xCd1QsSUFBZUEsRUFBV2pWLFdBQzFCaVYsRUFBV3pZLE9BRVJ5WSxHQUFjQSxFQUFXalYsV0FDaENpVixFQUFXblgsT0FHZm5HLEtBQUswYixhQUFhN1QsT0FBT1osRUFBSWhFLEVBQUtnRSxFQUNsQ2pILEtBQUswYixhQUFhN1QsT0FBT1gsRUFBSWpFLEVBQUtpRSxFQUNsQ2xILEtBQUswYixhQUFhN1QsT0FBT3dGLE1BQVFwSyxFQUFLb0ssTUFFbENwSyxFQUFLZ0ssVUFBK0IsU0FBbkJoSyxFQUFLNkcsVUFDdEI5SixLQUFLMGIsYUFBYXZULGtCQUVsQm5JLEtBQUswYixhQUFhblQsd0JBRXRCLEtBQ0osQ0FDQSxJQUFLLFdBQ0R2SSxLQUFLcVMsUUFBUXBQLEVBQUtzYSxVQUNsQixNQUNKLElBQUsscUJBQ0R2ZCxLQUFLc0Qsc0JBQ0wsTUFFSixJQUFLLE9BQ0R0RCxLQUFLLFdBQVdpRCxHQUNoQixNQUVKLElBQUssYUFBYyxDQUVmLE1BQU11YSxFQUFxQnhkLEtBQUs4SyxXQUFXLEdBQ3JDMlMsRUFBdUJ6ZCxLQUFLOEssV0FBVyxJQUN2QzRTLEVBQXVCMWQsS0FBSzhLLFdBQVcsSUFFN0M5SyxLQUFLOEssV0FBYTdILEVBQUs2SCxZQUdsQjBTLEdBQXNCdmEsRUFBSzZILFdBQVcsSUFBTTlLLEtBQUs0TyxRQUNsRHBSLFFBQVFvQixJQUFJLHNDQUNab0IsS0FBSzRPLE1BQU1yRCxZQUlWa1MsR0FBd0J4YSxFQUFLNkgsV0FBVyxLQUFPOUssS0FBS2tQLFlBQ3JEMVIsUUFBUW9CLElBQUksMkNBQ1pvQixLQUFLa1AsVUFBVTNELFVBQ2Z2TCxLQUFLc0wsS0FBS29DLFNBQVMsS0FJbEJnUSxHQUF3QnphLEVBQUs2SCxXQUFXLEtBQU85SyxLQUFLbVAsWUFDckQzUixRQUFRb0IsSUFBSSwyQ0FDWm9CLEtBQUttUCxVQUFVNUQsVUFDZnZMLEtBQUttUixLQUFLekQsU0FBUyxJQUluQitQLElBQXlCeGEsRUFBSzZILFdBQVcsTUFDekN0TixRQUFRb0IsSUFBSSwyQ0FDUm9CLEtBQUtpRixRQUFRakYsS0FBS2lGLE9BQU91RCxXQUFXLFdBQ3BDeEksS0FBS3NMLE1BQU10TCxLQUFLc0wsS0FBS29DLFNBQVMsS0FJbENnUSxJQUF5QnphLEVBQUs2SCxXQUFXLE1BQ3pDdE4sUUFBUW9CLElBQUksMkNBQ1JvQixLQUFLa0YsUUFBUWxGLEtBQUtrRixPQUFPc0QsV0FBVyxXQUNwQ3hJLEtBQUttUixNQUFNblIsS0FBS21SLEtBQUt6RCxTQUFTLEtBR3RDMU4sS0FBSytjLGlDQUNMdmYsUUFBUW9CLElBQUksMkNBQTRDb0IsS0FBSzhLLFlBQzdELEtBQ0osQ0FDQSxJQUFLLFVBQ2MsSUFBWDdILEVBQUswYSxFQUFTM2QsS0FBS2dSLGdCQUFpQixFQUNwQixJQUFYL04sRUFBSzBhLElBQVMzZCxLQUFLa1IsZ0JBQWlCLEdBQzdDbFIsS0FBS2lkLHVCQUNMLE1BRUosSUFBSyxlQUNEamQsS0FBS2lSLG1CQUNMLE1BRUosSUFBSyxZQUNEalIsS0FBSzRiLFVBQVkzWSxFQUFLMmEsTUFDdEIsTUFFSixJQUFLLGNBQ0Q1ZCxLQUFLNmQsY0FBYzVhLEdBQ25CLE1BRUosSUFBSyxPQUNrQixZQUFoQkEsRUFBSytaLFFBQ0poZCxLQUFLaUosUUFBUXBGLFFBQVFnTSxJQUNqQjdQLEtBQUtvQixLQUFLQyxZQUFZLElBQU0sS0FDeEJ3TyxFQUFPdkksZUFBZ0IsRUFFdkJ0SCxLQUFLeVAsWUFBWTRCLFlBQVcsRUFBTyxFQUFHLEdBQUcsR0FBTSxPQUkzRCxNQUVKLElBQUssY0FDRHJSLEtBQUs4ZCxrQkFBa0I3YSxHQUN2QixNQUVKLElBQUssUUFDRHpGLFFBQVFvQixJQUFJLFNBQ1EsSUFBaEJxRSxFQUFLb1MsT0FBY3JWLEtBQUtzQixNQUFNQyxNQUFNLGdCQUNmLElBQWhCMEIsRUFBS29TLE9BQWNyVixLQUFLc0IsTUFBTUMsTUFBTSxnQkFDeEN2QixLQUFLc0IsTUFBTUMsTUFBTSxlQUN0QnZCLEtBQUtzQixNQUFNNkUsS0FBSyxpQkFDaEIsTUFFSixRQUNJM0ksUUFBUW9CLElBQUksaUNBQWtDcUUsR0FFMUQsQ0FFQSxtQkFBQUssR0FDSXRELEtBQUtxZCxXQUFZLEVBRWpCcmQsS0FBS3liLFlBQVk1VCxPQUFPMkssWUFBWSxFQUFHLEdBQ3ZDeFMsS0FBSzBiLGFBQWE3VCxPQUFPMkssWUFBWSxFQUFHLEdBQ3hDeFMsS0FBSzhILFFBQVFtSSxRQUVialEsS0FBS0ssSUFBSWlTLFVBQVUsSUFBSyxJQUFLLElBQU0sSUFBSyxFQUFVLElBRWxEdFMsS0FBS2dGLE9BQVNoRixLQUFLSyxJQUFJSCxNQUFNLElBQUksSUFBSyxVQUN0Q0YsS0FBS2dGLE9BQU8xRSxTQUFTLEdBQUssS0FFMUJOLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSyx3QkFBeUIsQ0FDN0NFLFdBQVksZUFDWkQsU0FBVSxPQUNWRSxNQUFPLGNBQ1JDLFVBQVUsSUFFYjFGLEtBQUtLLElBQUlpRixLQUFLLElBQUssSUFBSywyQkFBNEIsQ0FDaERFLFdBQVksZUFDWkQsU0FBVSxPQUNWRSxNQUFPLGNBQ1JDLFVBQVUsSUFFYjFGLEtBQUsrZCxrQkFDVCxDQUVBLFdBQVc5YSxHQUNQLE1BQU00RyxFQUFPN0osS0FBS2lKLFFBQVFoTixJQUFJZ0gsRUFBSzRNLFFBQzlCaEcsSUFFTEEsRUFBS3pDLEtBQU9uRSxFQUFLbUUsS0FFRyxZQUFoQm5FLEVBQUs0TSxPQUNMN1AsS0FBSytMLFdBQVduRixRQUFRM0QsRUFBS21FLEtBQUt0RSxZQUVsQzlDLEtBQUtnTSxZQUFZcEYsUUFBUTNELEVBQUttRSxLQUFLdEUsWUFHbkMrRyxFQUFLekMsTUFBUSxHQUNicEgsS0FBS3FTLFFBQVFwUCxFQUFLNE0sUUFFMUIsQ0FFQSxhQUFBZ08sQ0FBYzVhLEdBRVYsSUFBSyxJQUFJMk4sRUFBSSxFQUFHQSxFQUFJNVEsS0FBSzhLLFdBQVd4TSxPQUFTLEVBQUdzUyxJQUM1QzVRLEtBQUs4SyxXQUFXOEYsSUFBSyxFQUd6QjVRLEtBQUt5TixJQUFJQyxTQUFTLElBQ2xCMU4sS0FBSzJOLElBQUlELFNBQVMsSUFDbEIxTixLQUFLNE4sS0FBS0YsU0FBUyxJQUNuQjFOLEtBQUs2TixPQUFPSCxTQUFTLElBQ3JCMU4sS0FBSzhOLE1BQU1KLFNBQVMsSUFDcEIxTixLQUFLK04sS0FBS0wsU0FBUyxJQUNuQjFOLEtBQUtnTyxNQUFNTixTQUFTLElBQ3BCMU4sS0FBS2lPLEtBQUtQLFNBQVMsSUFDbkIxTixLQUFLa08sTUFBTVIsU0FBUyxJQUNwQjFOLEtBQUttTyxLQUFLVCxTQUFTLElBRWZ6SyxFQUFLK2EsT0FDTHhnQixRQUFRb0IsSUFBSSxxQ0FDWm9CLEtBQUt5UCxZQUFZaUIsY0FDYjFRLEtBQUt5RSxPQUNMekUsS0FBS3lFLE1BQU1JLEtBQUssVUFBVyxDQUFFQyxPQUFRLEtBRXpDOUUsS0FBS2lKLFFBQVFwRixRQUFRZ00sSUFDakJBLEVBQU92SSxlQUFnQixNQUczQjlKLFFBQVFvQixJQUFJLDhFQUNSb0IsS0FBS3lFLE9BQ0x6RSxLQUFLeUUsTUFBTUksS0FBSyxZQUFhLENBQUVDLE9BQVEsS0FHaEIsSUFBdkI3QixFQUFLLGNBQ0xqRCxLQUFLLGNBRUxBLEtBQUssZUFHakIsQ0FFQSxpQkFBQThkLENBQWtCN2EsR0FDZCxJQUFJZ2IsRUFZSixHQVhxQixZQUFqQmhiLEVBQUtrTixTQUNMblEsS0FBS2lKLFFBQVFoTixJQUFJLFdBQVc0TCxPQUFPNkksYUFBWSxHQUFNLEdBQ3JEMVEsS0FBS3lSLFlBQVksSUFBSyxFQUN0QndNLEVBQVFqZSxLQUFLMkssV0FBVzFPLElBQUksYUFHNUIrRCxLQUFLaUosUUFBUWhOLElBQUksV0FBVzRMLE9BQU82SSxhQUFZLEdBQU0sR0FDckQxUSxLQUFLeVIsWUFBWSxJQUFLLEVBQ3RCd00sRUFBUWplLEtBQUsySyxXQUFXMU8sSUFBSSxZQUc1QmdpQixFQUNBLElBQVVBLEVBQU01VixXQUFXNFYsRUFBTTlYLE1BQVEsQ0FBRSxNQUFNeEIsR0FBTW5ILFFBQVFtQyxLQUFLZ0YsRUFBTSxDQUc5RTNFLEtBQUswUixrQkFBa0IxUixLQUFLeVIsWUFBYXhPLEVBQUtpYSxRQUNsRCxDQUVBLGdCQUFBYSxHQUNJL2QsS0FBS3VTLE1BQVF2UyxLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxTQUN0Q0YsS0FBS3VTLE1BQU1qUyxTQUFTLElBQU0sSUFFMUIsTUFBTW9TLEVBQVUxUyxLQUFLSyxJQUFJaUYsS0FBSyxJQUFLLElBQUssaUJBQWtCLENBQ3RERSxXQUFZLGVBQ1pELFNBQVUsT0FDVkUsTUFBTyxZQUNSQyxVQUFVLElBQ1pHLGVBQWUsQ0FBRUMsZUFBZSxJQUNoQ0MsR0FBRyxjQUFlLElBQU0yTSxFQUFRN0wsU0FBUyxZQUN6Q2QsR0FBRyxhQUFjLElBQU0yTSxFQUFRN0wsU0FBUyxZQUN4Q2QsR0FBRyxjQUFlLEtBQ1gvRixLQUFLcUwsSUFBTXJMLEtBQUtxTCxHQUFHOEgsYUFBZUMsVUFBVUMsT0FFNUNyVCxLQUFLcUwsR0FBR2lJLEtBQUt2VyxLQUFLMkIsVUFBVSxDQUFFNlUsS0FBTSx3QkFDcEMvVixRQUFRb0IsSUFBSSxrQ0FDUjRVLFdBQVcsS0FDUHhULEtBQUtxTCxHQUFHb0ksUUFDUmpXLFFBQVFvQixJQUFJLGdDQUNiLE1BR1hvQixLQUFLc0IsTUFBTTZFLEtBQUssY0FDaEJuRyxLQUFLc0IsTUFBTTZFLEtBQUssY0FDaEJuRyxLQUFLc0IsTUFBTUMsTUFBTSxjQUV6QixDQUVBLFdBQUFzYixDQUFZcmIsR0FDSnhCLEtBQUtxTCxJQUFNckwsS0FBS3FMLEdBQUc4SCxhQUFlQyxVQUFVQyxNQUM1Q3JULEtBQUtxTCxHQUFHaUksS0FBS3ZXLEtBQUsyQixVQUFVOEMsR0FFcEMsQ0FFQSxhQUFBMmEsR0FDSSxHQUFJbmMsS0FBS3liLFlBQWEsQ0FDbEIsTUFBTXlDLEVBQW9CbGUsS0FBS0ssSUFBSWlGLEtBQy9CdEYsS0FBS3liLFlBQVk1VCxPQUFPWixFQUN4QmpILEtBQUt5YixZQUFZNVQsT0FBT1gsRUFBSSxJQUM1QmxILEtBQUtpYyxjQUNMLENBQ0kxVyxTQUFVLE9BQ1ZDLFdBQVksUUFDWkMsTUFBTyxVQUNQK1EsVUFBVyxTQUVqQjlRLFVBQVUsSUFDWndZLEVBQWtCaEksU0FBUyxLQUMzQmxXLEtBQUtvQixLQUFLQyxZQUFZLElBQU0sS0FDeEI2YyxFQUFrQjNTLFdBRTFCLENBRUEsR0FBSXZMLEtBQUswYixhQUFjLENBQ25CLE1BQU1RLEVBQWlCbGMsS0FBS2tjLGdCQUFrQixXQUN4Q2lDLEVBQXFCbmUsS0FBS0ssSUFBSWlGLEtBQ2hDdEYsS0FBSzBiLGFBQWE3VCxPQUFPWixFQUN6QmpILEtBQUswYixhQUFhN1QsT0FBT1gsRUFBSSxJQUM3QmdWLEVBQ0EsQ0FDSTNXLFNBQVUsT0FDVkMsV0FBWSxRQUNaQyxNQUFPLFVBQ1ArUSxVQUFXLFNBRWpCOVEsVUFBVSxJQUNaeVksRUFBbUJqSSxTQUFTLEtBQzVCbFcsS0FBS29CLEtBQUtDLFlBQVksSUFBTSxLQUN4QjhjLEVBQW1CNVMsV0FFM0IsQ0FDSixDQUVBLFFBQUF6RSxHQUNROUcsS0FBS3FMLElBQU1yTCxLQUFLcUwsR0FBRzhILGFBQWVDLFVBQVVDLE1BQzVDclQsS0FBS3FMLEdBQUdvSSxPQUVoQixFQ2pxQ0osTUFBTXJCLEVBQVMsQ0FDWG1CLEtBQU0sU0FDTnlFLE1BQU8sSUFDUEcsT0FBUSxJQUNSaUcsT0FBUSxpQkFDUnRXLFFBQVMsQ0FDTHVXLFFBQVMsU0FDVEMsT0FBUSxDQUNKQyxRQUFTLENBQUVyWCxFQUFHLEtBQ2RzWCxPQUFPLElBR2ZDLElBQUssQ0FDREMsaUJBQWlCLEdBRXJCcGQsTUFBTyxDQUFFMUIsRUFBWXNFLEVBQVdzWCxFQUFZcFIsRUFBVzBKLEVBQWdCZCxFQUFZVSxFQUFjRyxFQUFlZSxFQUFjRyxFQUFlTyxFQUFhTSxFQUFjRSxFQUFjRSxFQUFZUyxFQUFxQlksR0FDdk5zSCxnQkFBaUIsYUFHUixJQUFJLFVBQVl2TSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NlcnZpY2VzL2dhbWVTdGF0c1NlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2FwaS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0xvZ2luU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvTWVudVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9lbnRpdGllcy9NYWdvLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2NvbW1hbmQvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2NvbW1hbmQvUGF1c2VHYW1lQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9IaXN0b3JpYVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvTGlicmVyaWFTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0NvbnRyb2xTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0RlY2lzaW9uU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9GaW5hbEJTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0ZpbmFsTTFTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0ZpbmFsTTJTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL1N0YXRzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvU2FsYURlRXNwZXJhLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZVNjZW5lTy5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCIvKipcclxuICogU2VydmljaW8gZGUgZXN0YWTDrXN0aWNhcyBkZSBwYXJ0aWRhc1xyXG4gKiBHZXN0aW9uYSBlc3RhZMOtc3RpY2FzIHRhbnRvIGxvY2FsZXMgKGxvY2FsU3RvcmFnZSkgY29tbyBlbiBsw61uZWEgKHNlcnZpZG9yKVxyXG4gKi9cclxuXHJcbmNvbnN0IFNUT1JBR0VfS0VZID0gJ2p1ZWdvX21hZ29zX3N0YXRzJztcclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGVsIG9iamV0byBkZSBlc3RhZMOtc3RpY2FzIGRlbCB1c3VhcmlvIGRlc2RlIGxvY2FsU3RvcmFnZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBOb21icmUgZGVsIHVzdWFyaW9cclxuICogQHJldHVybnMge09iamVjdH0gRXN0YWTDrXN0aWNhcyBkZWwgdXN1YXJpb1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TG9jYWxTdGF0cyh1c2VybmFtZSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdGF0cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgIGNvbnN0IGFsbFN0YXRzID0gc3RhdHMgPyBKU09OLnBhcnNlKHN0YXRzKSA6IHt9O1xyXG4gICAgXHJcbiAgICBpZiAoIWFsbFN0YXRzW3VzZXJuYW1lXSkge1xyXG4gICAgICBhbGxTdGF0c1t1c2VybmFtZV0gPSB7XHJcbiAgICAgICAgdG90YWxQYXJ0aWRhczogMCxcclxuICAgICAgICB0aWVtcG9Ub3RhbDogMCxcclxuICAgICAgICBwYXJ0aWRhczogW10sXHJcbiAgICAgICAgdWx0aW1hQWN0dWFsaXphY2lvbjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBhbGxTdGF0c1t1c2VybmFtZV07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgZXN0YWTDrXN0aWNhcyBsb2NhbGVzOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvdGFsUGFydGlkYXM6IDAsXHJcbiAgICAgIHRpZW1wb1RvdGFsOiAwLFxyXG4gICAgICBwYXJ0aWRhczogW10sXHJcbiAgICAgIHVsdGltYUFjdHVhbGl6YWNpb246IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHdWFyZGEgbGFzIGVzdGFkw61zdGljYXMgZGUgdW4gdXN1YXJpbyBlbiBsb2NhbFN0b3JhZ2VcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlbCB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0cyAtIE9iamV0byBkZSBlc3RhZMOtc3RpY2FzXHJcbiAqL1xyXG5mdW5jdGlvbiBzYXZlTG9jYWxTdGF0cyh1c2VybmFtZSwgc3RhdHMpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYWxsU3RhdHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSk7XHJcbiAgICBjb25zdCBwYXJzZWRTdGF0cyA9IGFsbFN0YXRzID8gSlNPTi5wYXJzZShhbGxTdGF0cykgOiB7fTtcclxuICAgIFxyXG4gICAgcGFyc2VkU3RhdHNbdXNlcm5hbWVdID0ge1xyXG4gICAgICAuLi5zdGF0cyxcclxuICAgICAgdWx0aW1hQWN0dWFsaXphY2lvbjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkocGFyc2VkU3RhdHMpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgZ3VhcmRhciBlc3RhZMOtc3RpY2FzIGxvY2FsZXM6JywgZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdHJhIHVuYSBwYXJ0aWRhIGxvY2FsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIE5vbWJyZSBkZWwgdXN1YXJpb1xyXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25NcyAtIER1cmFjacOzbiBkZSBsYSBwYXJ0aWRhIGVuIG1pbGlzZWd1bmRvc1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBFc3RhZMOtc3RpY2FzIGFjdHVhbGl6YWRhc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZExvY2FsR2FtZVNlc3Npb24odXNlcm5hbWUsIGR1cmF0aW9uTXMpIHtcclxuICBpZiAoIXVzZXJuYW1lIHx8IHR5cGVvZiBkdXJhdGlvbk1zICE9PSAnbnVtYmVyJyB8fCBkdXJhdGlvbk1zIDwgMCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdEYXRvcyBpbnbDoWxpZG9zIHBhcmEgcmVnaXN0cmFyIGxhIHBhcnRpZGEnKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHN0YXRzID0gZ2V0TG9jYWxTdGF0cyh1c2VybmFtZSk7XHJcbiAgc3RhdHMudG90YWxQYXJ0aWRhcysrO1xyXG4gIHN0YXRzLnRpZW1wb1RvdGFsICs9IGR1cmF0aW9uTXM7XHJcbiAgc3RhdHMucGFydGlkYXMucHVzaCh7XHJcbiAgICBkdXJhY2lvbjogZHVyYXRpb25NcyxcclxuICAgIGZlY2hhOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICB9KTtcclxuXHJcbiAgLy8gTWFudGVuZXIgc29sbyBsYXMgw7psdGltYXMgNTAgcGFydGlkYXNcclxuICBpZiAoc3RhdHMucGFydGlkYXMubGVuZ3RoID4gNTApIHtcclxuICAgIHN0YXRzLnBhcnRpZGFzID0gc3RhdHMucGFydGlkYXMuc2xpY2UoLTUwKTtcclxuICB9XHJcblxyXG4gIHNhdmVMb2NhbFN0YXRzKHVzZXJuYW1lLCBzdGF0cyk7XHJcblxyXG4gIGNvbnNvbGUubG9nKGDwn46uIFBBUlRJREEgTE9DQUw6ICR7dXNlcm5hbWV9IC0gRHVyYWNpw7NuOiAkeyhkdXJhdGlvbk1zIC8gMTAwMCkudG9GaXhlZCgyKX1zYCk7XHJcbiAgY29uc29sZS5sb2coYCAgIFByb21lZGlvOiAkeyhzdGF0cy50aWVtcG9Ub3RhbCAvIHN0YXRzLnRvdGFsUGFydGlkYXMgLyAxMDAwKS50b0ZpeGVkKDIpfXNgKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHVzZXJuYW1lLFxyXG4gICAgbW9kbzogJ2xvY2FsJyxcclxuICAgIHBhcnRpZGFzSnVnYWRhczogc3RhdHMudG90YWxQYXJ0aWRhcyxcclxuICAgIHRpZW1wb1Byb21lZGlvOiBzdGF0cy50aWVtcG9Ub3RhbCAvIHN0YXRzLnRvdGFsUGFydGlkYXMsXHJcbiAgICB1bHRpbWFQYXJ0aWRhOiBkdXJhdGlvbk1zXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgbGFzIGVzdGFkw61zdGljYXMgbG9jYWxlcyBkZSB1biB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIE5vbWJyZSBkZWwgdXN1YXJpb1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBFc3RhZMOtc3RpY2FzIGRlbCB1c3VhcmlvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxHYW1lU3RhdHModXNlcm5hbWUpIHtcclxuICBpZiAoIXVzZXJuYW1lKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIG5vbWJyZSBkZSB1c3VhcmlvIGVzIG9ibGlnYXRvcmlvJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzdGF0cyA9IGdldExvY2FsU3RhdHModXNlcm5hbWUpO1xyXG4gIFxyXG4gIHJldHVybiB7XHJcbiAgICB1c2VybmFtZSxcclxuICAgIG1vZG86ICdsb2NhbCcsXHJcbiAgICB0b3RhbFBhcnRpZGFzOiBzdGF0cy50b3RhbFBhcnRpZGFzLFxyXG4gICAgdGllbXBvUHJvbWVkaW86IHN0YXRzLnRvdGFsUGFydGlkYXMgPiAwID8gc3RhdHMudGllbXBvVG90YWwgLyBzdGF0cy50b3RhbFBhcnRpZGFzIDogMCxcclxuICAgIHRpZW1wb1RvdGFsOiBzdGF0cy50aWVtcG9Ub3RhbCxcclxuICAgIHBhcnRpZGFzOiBzdGF0cy5wYXJ0aWRhcyxcclxuICAgIHVsdGltYUFjdHVhbGl6YWNpb246IHN0YXRzLnVsdGltYUFjdHVhbGl6YWNpb25cclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBlbCByYW5raW5nIGxvY2FsIGRlIGp1Z2Fkb3Jlc1xyXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgLSBOw7ptZXJvIG3DoXhpbW8gZGUganVnYWRvcmVzXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgZGUganVnYWRvcmVzIG9yZGVuYWRvcyBwb3IgdGllbXBvIHByb21lZGlvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxHYW1lU3RhdHNSYW5raW5nKGxpbWl0ID0gMTApIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYWxsU3RhdHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSk7XHJcbiAgICBjb25zdCBzdGF0cyA9IGFsbFN0YXRzID8gSlNPTi5wYXJzZShhbGxTdGF0cykgOiB7fTtcclxuXHJcbiAgICBjb25zdCByYW5raW5nID0gT2JqZWN0LmVudHJpZXMoc3RhdHMpXHJcbiAgICAgIC5tYXAoKFt1c2VybmFtZSwgdXNlclN0YXRzXSkgPT4gKHtcclxuICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICB0b3RhbFBhcnRpZGFzOiB1c2VyU3RhdHMudG90YWxQYXJ0aWRhcyxcclxuICAgICAgICB0aWVtcG9Qcm9tZWRpbzogdXNlclN0YXRzLnRvdGFsUGFydGlkYXMgPiAwID8gdXNlclN0YXRzLnRpZW1wb1RvdGFsIC8gdXNlclN0YXRzLnRvdGFsUGFydGlkYXMgOiAwLFxyXG4gICAgICAgIHRpZW1wb1RvdGFsOiB1c2VyU3RhdHMudGllbXBvVG90YWxcclxuICAgICAgfSkpXHJcbiAgICAgIC5maWx0ZXIodXNlciA9PiB1c2VyLnRvdGFsUGFydGlkYXMgPiAwKVxyXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS50aWVtcG9Qcm9tZWRpbyAtIGIudGllbXBvUHJvbWVkaW8pXHJcbiAgICAgIC5zbGljZSgwLCBsaW1pdCk7XHJcblxyXG4gICAgcmV0dXJuIHJhbmtpbmc7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgcmFua2luZyBsb2NhbDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRWxpbWluYSBsYXMgZXN0YWTDrXN0aWNhcyBkZSB1biB1c3VhcmlvIChsaW1waWV6YSlcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlbCB1c3VhcmlvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJVc2VyTG9jYWxTdGF0cyh1c2VybmFtZSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhbGxTdGF0cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgIGNvbnN0IHN0YXRzID0gYWxsU3RhdHMgPyBKU09OLnBhcnNlKGFsbFN0YXRzKSA6IHt9O1xyXG4gICAgXHJcbiAgICBkZWxldGUgc3RhdHNbdXNlcm5hbWVdO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHN0YXRzKSk7XHJcbiAgICBjb25zb2xlLmxvZyhgRXN0YWTDrXN0aWNhcyBsb2NhbGVzIGRlICR7dXNlcm5hbWV9IGVsaW1pbmFkYXNgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgZWxpbWluYXIgZXN0YWTDrXN0aWNhcyBsb2NhbGVzOicsIGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMaW1waWEgdG9kYXMgbGFzIGVzdGFkw61zdGljYXNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckFsbExvY2FsU3RhdHMoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgIGNvbnNvbGUubG9nKCdUb2RhcyBsYXMgZXN0YWTDrXN0aWNhcyBsb2NhbGVzIGhhbiBzaWRvIGVsaW1pbmFkYXMnKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgbGltcGlhciBlc3RhZMOtc3RpY2FzOicsIGVycm9yKTtcclxuICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIEFQSSBDbGllbnQgcGFyYSBjb211bmljYWNpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBFc3RlIGFyY2hpdm8gY29udGllbmUgZnVuY2lvbmVzIHBhcmEgcmVhbGl6YXIgcGV0aWNpb25lcyBIVFRQIGFsIHNlcnZpZG9yXHJcbiAqXHJcbiAqIElNUE9SVEFOVEU6IExhcyBmdW5jaW9uZXMgZXN0w6FuIGRlZmluaWRhcyBwZXJvIE5PIGltcGxlbWVudGFkYXMuXHJcbiAqIERlYmVzIGltcGxlbWVudGFyIGNhZGEgZnVuY2nDs24gdXNhbmRvIGZldGNoKCkgbyBsYSBsaWJyZXLDrWEgcXVlIHByZWZpZXJhcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBcclxuICByZWNvcmRMb2NhbEdhbWVTZXNzaW9uLCBcclxuICBnZXRMb2NhbEdhbWVTdGF0cywgXHJcbiAgZ2V0TG9jYWxHYW1lU3RhdHNSYW5raW5nIFxyXG59IGZyb20gJy4vc2VydmljZXMvZ2FtZVN0YXRzU2VydmljZS5qcyc7XHJcblxyXG5jb25zdCBBUElfQkFTRV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IFVTVUFSSU9TID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogUmVnaXN0cmEgdW4gbnVldm8gdXN1YXJpbyBlbiBlbCBzaXN0ZW1hXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSB1c2VyRGF0YSAtIERhdG9zIGRlbCB1c3VhcmlvIHsgbmFtZSwgYXZhdGFyLCBsZXZlbH1cclxuICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gLSBVc3VhcmlvIGNyZWFkb1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyVXNlcih1c2VyRGF0YSkge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnNgLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKVxyXG4gIH0pO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAvLyBsZXQgZXJyb3JUeHQ7XHJcblxyXG4gICAgLy8gdHJ5e1xyXG4gICAgLy8gY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAvLyBlcnJvclR4dCA9IChlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgcmVnaXN0cmFyIHVzdWFyaW8nKTt9XHJcbiAgICAvLyBjYXRjaHtcclxuICAgIC8vICAgZXJyb3JUeHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcbiAgICAvLyB9IFxyXG5cclxuICAgIC8vIHRocm93IG5ldyBFcnJvciggZXJyb3JUeHQpO1xyXG5cclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCByZWdpc3RyYXIgdXN1YXJpbycpO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJVc3VhcmlvIGNyZWFkbyBjb3JyZWN0YW1lbnRlLlwiKTsgXHJcbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgdW4gdXN1YXJpbyBwb3Igc3UgSURcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIElEIGRlbCB1c3VhcmlvXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IC0gVXN1YXJpbyBlbmNvbnRyYWRvXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlcih1c2VySWQpIHtcclxuICAvLyBSZXRvcm5hcjogdXN1YXJpbyBvIGxhbnphciBlcnJvciBzaSBubyBleGlzdGVcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzLyR7dXNlcklkfWApO1xyXG4gIC8vbm8gaGFjZSBmYWx0YSBlc3BlY2lmaWNhciBlbCBtZXRvZG8gcG9yIHF1ZSBHRVQgZXMgZWwgbcOpdG9kbyBwb3IgZGVmZWN0b1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgb2J0ZW5lciB1c3VhcmlvJyk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcIlVzdWFyaW8gb2J0ZW5pZG8gY29ycmVjdGFtZW50ZS5cIik7IFxyXG4gIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7IFxyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSB0b2RvcyBsb3MgdXN1YXJpb3NcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSAtIEFycmF5IGRlIHVzdWFyaW9zXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsVXNlcnMoKSB7XHJcbiAgLy8gUmV0b3JuYXI6IGFycmF5IGRlIHVzdWFyaW9zXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vyc2ApO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgb2J0ZW5lciBsb3MgdXN1YXJpb3MnKTtcclxuICB9XHJcbiAgY29uc29sZS5sb2coXCJVc3VhcmlvcyBvYnRlbmlkb3MgY29ycmVjdGFtZW50ZS5cIik7IFxyXG4gIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7IFxyXG59XHJcblxyXG4vKipcclxuICogQWN0dWFsaXphIHVuIGNhbXBvIGVzcGVjw61maWNvIGRlIHVuIHVzdWFyaW9cclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIElEIGRlbCB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSB1cGRhdGVzIC0gT2JqZXRvIGNvbiBsb3MgY2FtcG9zIGEgYWN0dWFsaXphclxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIFVzdWFyaW8gYWN0dWFsaXphZG9cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyKHVzZXJJZCwgdXBkYXRlcykge1xyXG4gIC8vIEJvZHk6IHVwZGF0ZXMgKEpTT04pXHJcbiAgLy8gUmV0b3JuYXI6IHVzdWFyaW8gYWN0dWFsaXphZG9cclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzLyR7dXNlcklkfWAsIHtcclxuICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH0sXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVzKVxyXG4gIH0pO1xyXG5cclxuICBcclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgYWN0dWFsaXphciBjYW1wbyBkZWwgdXN1YXJpbycpO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJVc3VhcmlvIGFjdHVhbGl6YWRvIGNvcnJlY3RhbWVudGUuXCIpOyBcclxuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG59XHJcblxyXG4vKipcclxuICogRWxpbWluYSB1biB1c3VhcmlvIGRlbCBzaXN0ZW1hXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBJRCBkZWwgdXN1YXJpb1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVVc2VyKHVzZXJJZCkge1xyXG4gIC8vIFJldG9ybmFyOiBjb25maXJtYWNpw7NuIG8gbGFuemFyIGVycm9yXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vycy8ke3VzZXJJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURSdcclxuICB9KTtcclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgZWxpbWluYXIgdXN1YXJpbycpO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZyhcIlVzdWFyaW8gZWxpbWluYWRvIGNvcnJlY3RhbWVudGUuXCIpOyBcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWxpemEgbG9naW4gZGUgdW4gdXN1YXJpb1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBOb21icmUgZGUgdXN1YXJpb1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIFVzdWFyaW8gbG9nZWFkb1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ2luVXNlcih1c2VybmFtZSkge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnMvbG9naW5gLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSlcclxuICB9KTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIGluaWNpYXIgc2VzacOzbicpO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJMb2dpbiBleGl0b3NvLlwiKTtcclxuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhbGl6YSBsb2dvdXQgZGUgdW4gdXN1YXJpb1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBOb21icmUgZGUgdXN1YXJpb1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIENvbmZpcm1hY2nDs24gZGUgbG9nb3V0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9nb3V0VXNlcih1c2VybmFtZSkge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnMvbG9nb3V0YCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH0sXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pXHJcbiAgfSk7XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBjZXJyYXIgc2VzacOzbicpO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJMb2dvdXQgZXhpdG9zby5cIik7XHJcbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgbGEgbGlzdGEgZGUgdXN1YXJpb3MgYWN0dWFsbWVudGUgbG9nZWFkb3NcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSAtIEFycmF5IGRlIHVzdWFyaW9zIGxvZ2VhZG9zXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TG9nZ2VkSW5Vc2VycygpIHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzL2xvZ2dlZC1pbmApO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgb2J0ZW5lciB1c3VhcmlvcyBsb2dlYWRvcycpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdHJhIHVuYSBwYXJ0aWRhIChsb2NhbCB1IG9ubGluZSlcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlbCB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbk1zIC0gRHVyYWNpw7NuIGRlIGxhIHBhcnRpZGEgZW4gbWlsaXNlZ3VuZG9zXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gJ2xvY2FsJyBvICdvbmxpbmUnXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IC0gRXN0YWTDrXN0aWNhcyBhY3R1YWxpemFkYXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWNvcmRHYW1lU2Vzc2lvbih1c2VybmFtZSwgZHVyYXRpb25NcywgbW9kZSA9ICdsb2NhbCcpIHtcclxuICAvLyBTaWVtcHJlIGd1YXJkYXIgbG9jYWxtZW50ZVxyXG4gIGNvbnN0IGxvY2FsUmVzdWx0ID0gcmVjb3JkTG9jYWxHYW1lU2Vzc2lvbih1c2VybmFtZSwgZHVyYXRpb25Ncyk7XHJcblxyXG4gIC8vIFNpIGVzIG9ubGluZSwgZW52aWFyIHRhbWJpw6luIGFsIHNlcnZpZG9yXHJcbiAgaWYgKG1vZGUgPT09ICdvbmxpbmUnKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzLyR7dXNlcm5hbWV9L2dhbWUtc2Vzc2lvbmAsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGR1cmF0aW9uTXMgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdBZHZlcnRlbmNpYTogTm8gc2UgcHVkbyBndWFyZGFyIGVuIHNlcnZpZG9yOicsIGVycm9yLmVycm9yKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBzZXJ2ZXJSZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFBhcnRpZGEgcmVnaXN0cmFkYSBlbiBzZXJ2aWRvcjogJHt1c2VybmFtZX1gKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4ubG9jYWxSZXN1bHQsXHJcbiAgICAgICAgICBtb2RvOiAnb25saW5lJyxcclxuICAgICAgICAgIHNpbmNyb25pemFkb1NlcnZpZG9yOiB0cnVlLFxyXG4gICAgICAgICAgZGF0b3NTZXJ2aWRvcjogc2VydmVyUmVzdWx0XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdFcnJvciBhbCBjb25lY3RhciBjb24gc2Vydmlkb3IsIGd1YXJkYW5kbyBzb2xvIGxvY2FsbWVudGU6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGxvY2FsUmVzdWx0O1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBsYXMgZXN0YWTDrXN0aWNhcyBkZSB1biB1c3VhcmlvIChsb2NhbCB1IG9ubGluZSlcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlbCB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gJ2xvY2FsJyBvICdvbmxpbmUnXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IC0gRXN0YWTDrXN0aWNhcyBkZWwgdXN1YXJpb1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJHYW1lU3RhdHModXNlcm5hbWUsIG1vZGUgPSAnbG9jYWwnKSB7XHJcbiAgaWYgKG1vZGUgPT09ICdsb2NhbCcpIHtcclxuICAgIHJldHVybiBnZXRMb2NhbEdhbWVTdGF0cyh1c2VybmFtZSk7XHJcbiAgfVxyXG5cclxuICAvLyBNb2RvIG9ubGluZVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzLyR7dXNlcm5hbWV9L3N0YXRzYCk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgY29uc29sZS53YXJuKCdObyBoYXkgZXN0YWTDrXN0aWNhcyBlbiBzZXJ2aWRvciwgdXNhbmRvIGxvY2FsZXM6JywgZXJyb3IuZXJyb3IpO1xyXG4gICAgICByZXR1cm4gZ2V0TG9jYWxHYW1lU3RhdHModXNlcm5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNlcnZlclN0YXRzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgY29uc29sZS5sb2coYEVzdGFkw61zdGljYXMgZGUgJHt1c2VybmFtZX06YCwgc2VydmVyU3RhdHMpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4uc2VydmVyU3RhdHMsXHJcbiAgICAgIG1vZG86ICdvbmxpbmUnLFxyXG4gICAgICBmdWVudGU6ICdzZXJ2aWRvcidcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUud2FybignRXJyb3IgYWwgb2J0ZW5lciBlc3RhZMOtc3RpY2FzIGRlbCBzZXJ2aWRvciwgdXNhbmRvIGxvY2FsZXM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGdldExvY2FsR2FtZVN0YXRzKHVzZXJuYW1lKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGVsIHJhbmtpbmcgZGUganVnYWRvcmVzIChsb2NhbCB1IG9ubGluZSlcclxuICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0IC0gTsO6bWVybyBtw6F4aW1vIGRlIGp1Z2Fkb3JlcyAoZGVmYXVsdDogMTApXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gJ2xvY2FsJyBvICdvbmxpbmUnXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gLSBBcnJheSBkZSBqdWdhZG9yZXMgb3JkZW5hZG9zIHBvciB0aWVtcG8gcHJvbWVkaW9cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHYW1lU3RhdHNSYW5raW5nKGxpbWl0ID0gMTAsIG1vZGUgPSAnbG9jYWwnKSB7XHJcbiAgaWYgKG1vZGUgPT09ICdsb2NhbCcpIHtcclxuICAgIHJldHVybiBnZXRMb2NhbEdhbWVTdGF0c1JhbmtpbmcobGltaXQpO1xyXG4gIH1cclxuXHJcbiAgLy8gTW9kbyBvbmxpbmVcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vycy9zdGF0cy9yYW5raW5nP2xpbWl0PSR7bGltaXR9YCk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgY29uc29sZS53YXJuKCdObyBoYXkgcmFua2luZyBlbiBzZXJ2aWRvciwgdXNhbmRvIGxvY2FsOicsIGVycm9yLmVycm9yKTtcclxuICAgICAgcmV0dXJuIGdldExvY2FsR2FtZVN0YXRzUmFua2luZyhsaW1pdCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2VydmVyUmFua2luZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKCdSYW5raW5nIGRlIGp1Z2Fkb3JlczonLCBzZXJ2ZXJSYW5raW5nKTtcclxuICAgIHJldHVybiBzZXJ2ZXJSYW5raW5nO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGFsIG9idGVuZXIgcmFua2luZyBkZWwgc2Vydmlkb3IsIHVzYW5kbyBsb2NhbDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZ2V0TG9jYWxHYW1lU3RhdHNSYW5raW5nKGxpbWl0KTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IE1FTlNBSkVTID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogRW52w61hIHVuIG1lbnNhamUgYWwgY2hhdFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlck1lc3NhZ2UgLSBDb250ZW5pZG8gZGVsIG1lbnNhamVcclxuICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gLSBNZW5zYWplIGNyZWFkb1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKHVzZXJNZXNzYWdlKSB7XHJcbiAgLy8gQm9keToge2VtYWlsOiB1c2VyRW1haWwsIG1lc3NhZ2U6IG1lc3NhZ2V9XHJcbiAgLy8gRWwgc2Vydmlkb3IgZGViZSB2ZXJpZmljYXIgcXVlIGVsIGVtYWlsIGV4aXN0ZVxyXG4gIC8vIFJldG9ybmFyOiBtZW5zYWplIGNyZWFkbyBjb24gdGltZXN0YW1wXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS9tZXNzYWdlc2AsIHtcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBtZXNzYWdlOiB1c2VyTWVzc2FnZVxyXG4gICAgfSlcclxuICB9KTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIGVudmlhciBtZW5zYWplJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBuZXdNZXNzYWdlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gIGNvbnNvbGUubG9nKCdNZW5zYWplIGNyZWFkbzonLCBuZXdNZXNzYWdlKTtcclxuICByZXR1cm4gbmV3TWVzc2FnZTsgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGxvcyDDumx0aW1vcyBtZW5zYWplcyBkZWwgY2hhdFxyXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgLSBOw7ptZXJvIG3DoXhpbW8gZGUgbWVuc2FqZXMgYSBvYnRlbmVyIChkZWZhdWx0OiA1MClcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSAtIEFycmF5IGRlIG1lbnNhamVzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TWVzc2FnZXMobGltaXQgPSA1MCkge1xyXG4gIC8vIFJldG9ybmFyOiBhcnJheSBkZSBtZW5zYWplcyBvcmRlbmFkb3MgcG9yICAgXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS9tZXNzYWdlcz9saW1pdD0ke2xpbWl0fWApO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgb2J0ZW5lciBsb3Mgw7psdGltb3MgbWVuc2FqZXMnKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG1lbnNhamVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gIGNvbnNvbGUubG9nKCdNZW5zYWplcyBvYnRlbmlkb3M6JywgbWVuc2FqZXMpO1xyXG4gIHJldHVybiBtZW5zYWplczsgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIG1lbnNhamVzIGRlc2RlIHVuIHRpbWVzdGFtcCBlc3BlY8OtZmljbyAocGFyYSBwb2xsaW5nKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2luY2UgLSBUaW1lc3RhbXAgSVNPIGRlc2RlIGVsIGN1YWwgb2J0ZW5lciBtZW5zYWplc1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IC0gQXJyYXkgZGUgbWVuc2FqZXMgbnVldm9zXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TWVzc2FnZXNTaW5jZShzaW5jZSkge1xyXG4gIC8vIMOadGlsIHBhcmEgaW1wbGVtZW50YXIgcG9sbGluZyB5IG9idGVuZXIgc29sbyBtZW5zYWplcyBudWV2b3NcclxuICAvLyBSZXRvcm5hcjogYXJyYXkgZGUgbWVuc2FqZXMgbnVldm9zXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS9tZXNzYWdlcz9zaW5jZT0ke3NpbmNlfWApO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgb2J0ZW5lciBsb3Mgw7psdGltb3MgbWVuc2FqZXMnKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG1lbnNhamVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gIGNvbnNvbGUubG9nKCdNZW5zYWplcyBvYnRlbmlkb3M6JywgbWVuc2FqZXMpO1xyXG4gIHJldHVybiBtZW5zYWplcztcclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGxvZ2luVXNlciB9IGZyb20gJy4uL2FwaS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9naW5TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTG9naW5TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb00nLCAnL2ltYWdlbmVzL2xvZ29TaW5Gb25kby5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5mb25kbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzUwLCAnZm9uZG9NJylcclxuICAgICAgICB0aGlzLmZvbmRvLnNldFNjYWxlKDAuOCk7XHJcbiAgICAgICAgLy8gdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MWExYTFhKTtcclxuXHJcbiAgICAgICAgY29uc3QgbG9naW5Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luLWZvcm0nKTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZCcpO1xyXG4gICAgICAgIGNvbnN0IGxvZ2luQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luQnV0dG9uJyk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2dpblNjZW5lIGluaWNpYWRhJyk7XHJcblxyXG4gICAgICAgIGlmIChsb2dpbkZvcm0pIHtcclxuICAgICAgICAgICAgbG9naW5Gb3JtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGxvZ2luQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIGxvZ2luQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB1c2VybmFtZUlucHV0LnZhbHVlLnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodXNlcm5hbWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1BvciBmYXZvciBpbmdyZXNhIHVuIHVzdWFyaW8nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBMb2dpbiBlbiBlbCBzZXJ2aWRvclxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGxvZ2luVXNlcih1c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvZ2luIGV4aXRvc286JywgdXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEd1YXJkYXIgdXN1YXJpbyBlbiBzZXNzaW9uU3RvcmFnZVxyXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRVc2VybmFtZScsIHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBPY3VsdGFyIGZvcm11bGFyaW8geSBsaW1waWFyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2luRm9ybSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dpbkZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lSW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZElucHV0LnZhbHVlID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElyIGFsIG1lbsO6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gbG9naW46JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yOiAnICsgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHVzZXJuYW1lSW5wdXQpIHtcclxuICAgICAgICAgICAgdXNlcm5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dpbkJ1dHRvbi5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxyXG4gKi9cclxuaW1wb3J0IHsgbG9nb3V0VXNlciB9IGZyb20gJy4uL2FwaS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gUmVhbGl6YXIgbG9nb3V0IGFsIGNlcnJhciBsYSB2ZW50YW5hXHJcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VybmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VybmFtZScpO1xyXG4gICAgICBpZiAoY3VycmVudFVzZXJuYW1lKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGF3YWl0IGxvZ291dFVzZXIoY3VycmVudFVzZXJuYW1lKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2dvdXQgYXV0b23DoXRpY28gYWwgY2VycmFyIGxhIHZlbnRhbmEnKTtcclxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2N1cnJlbnRVc2VybmFtZScpO1xyXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnY3VycmVudFVzZXInKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gbG9nb3V0IGF1dG9tw6F0aWNvOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zdG9wUG9sbGluZygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxyXG4gICAqL1xyXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXHJcbiAgICovXHJcbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG5cclxuICAgIC8vIExsYW1hciBpbm1lZGlhdGFtZW50ZSBjb24gZWwgZXN0YWRvIGFjdHVhbFxyXG4gICAgY2FsbGJhY2soeyBjb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWQsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcclxuICAgKi9cclxuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHt0cnl7XHJcbiAgICAgIGxpc3RlbmVyKGRhdGEpO1xyXG4gICAgfWNhdGNoKGUpe1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiBMaXN0ZW5lcjonLGUpO1xyXG4gICAgfX0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2J0ZW5lciBlbCBlc3RhZG8gYWN0dWFsIGRlIGNvbmV4acOzblxyXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICovXHJcbiAgZ2V0U3RhdHVzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWQsXHJcbiAgICAgIGNvbm5lY3RlZENvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50LFxyXG4gICAgICBsYXN0Q2hlY2tUaW1lOiB0aGlzLmxhc3RDaGVja1RpbWUsXHJcbiAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY28gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgc3RhcnRQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICByZXR1cm47IC8vIFlhIGVzdMOhIGNvcnJpZW5kb1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbXByb2JhciBpbm1lZGlhdGFtZW50ZVxyXG4gICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuXHJcbiAgICAvLyBMdWVnbyBjb21wcm9iYXIgY2FkYSBYIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7IFxyXG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAqL1xyXG4gIHN0b3BQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTScsICcvaW1hZ2VuZXMvbG9nb1NpbkZvbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdob3ZlcicsICcvc291bmRzL2hvdmVyLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnbXVzaWNhTWVudScsICcvc291bmRzL23DunNpY2FfTVByaW5jaXBhbC5tcDMnKTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9udCA9IG5ldyBGb250RmFjZSgnVGFnZXNzY2hyaWZ0JywgJ3VybCgvZnVlbnRlcy9UYWdlc3NjaHJpZnQudHRmKScpO1xyXG4gICAgICAgIGZvbnQubG9hZCgpLnRoZW4oZnVuY3Rpb24gKGxvYWRlZEZvbnQpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZvbnQpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGZvbnQ6JywgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBFbnN1cmUgbm8gZHVwbGljYXRlIG1lbnUgbXVzaWMgcGxheXMgKHN0b3AgZXhpc3RpbmcgdGhlbiBwbGF5KVxyXG4gICAgICAgIHRyeSB7IGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgdGhpcy5nYW1lLnNvdW5kLnBsYXkoJ211c2ljYU1lbnUnLCB7IHZvbHVtZTogMC43LCBsb29wOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmZvbmRvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAzNTAsICdmb25kb00nKVxyXG4gICAgICAgIHRoaXMuZm9uZG8uc2V0U2NhbGUoMC44KTtcclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMTIwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDM1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYm90b24zID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjMuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmJvdG9uNCA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b240LnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjUgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDUwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uNS5zZXRTY2FsZSgwLjEpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMjAsICdFbCBFbmlnbWEgZGUgbGFcXG5Ub3JyZSBFbmNhbnRhZGEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiVGFnZXNzY2hyaWZ0XCIsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtOCk7IFxyXG5cclxuICAgICAgICBjb25zdCBsb2NhbEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCAzMDAsICdMb2NhbCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGxvY2FsQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlbmVyIG3DunNpY2EgZGUgbWVuw7ogYW50ZXMgZGUgY2FtYmlhciBkZSBlc2NlbmFcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzUwLCAnT25saW5lJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25saW5lQnRuLnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDBmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gb25saW5lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCBhc3luYygpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2FsYURlRXNwZXJhJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgY3JlZGl0b3NCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDAwLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNyZWRpdG9zQnRuLnNldFN0eWxlKHsgZmlsbDogJyNmZjkxMDBmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY3JlZGl0b3NCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBoaXN0b3JpYUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICdIaXN0b3JpYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBoaXN0b3JpYUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMzhmZmZmZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGhpc3RvcmlhQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0hpc3RvcmlhU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTAwLCAnQ29udHJvbGVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xCdG4uc2V0U3R5bGUoeyBmaWxsOiAnI2ZmMGRmZmMxJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjb250cm9sQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NvbnRyb2xTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ01lbnVTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgY29uZXhpw7NuIGFsIHNlcnZpZG9yXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCA1NDAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4geyBcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKSB7XHJcbiAgICAgICAgLy8gU29sbyBhY3R1YWxpemFyIHNpIGVsIHRleHRvIGV4aXN0ZSAobGEgZXNjZW5hIGVzdMOhIGNyZWFkYSlcclxuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGlvblRleHQgfHwgIXRoaXMuc2NlbmUgfHwgIXRoaXMuc2NlbmUuaXNBY3RpdmUoJ01lbnVTY2VuZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KGBTZXJ2aWRvcjogJHtkYXRhLmNvdW50fSB1c3VhcmlvKHMpIGNvbmVjdGFkbyhzKWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KCdTZXJ2aWRvcjogRGVzY29uZWN0YWRvJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgTWFnb3tcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgaWRTcHJpdGUpe1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy52aWRhID0gMzsgXHJcbiAgICAgICAgdGhpcy5pZGxlID0gaWRTcHJpdGU7XHJcbiAgICAgICAgdGhpcy5lc3RhZG9fbm9ybWFsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5iYXNlV2lkaHQgPSAyMDtcclxuICAgICAgICB0aGlzLmJhc2VIZWlnaHQgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAzMDA7XHJcblxyXG4gICAgICAgIC8vIFNhbHRvXHJcbiAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmp1bXBWZWxvY2l0eSA9IDA7XHJcbiAgICAgICAgdGhpcy5ncm91bmRZID0geTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCBpZFNwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC4zNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7IFxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldFNpemUoMTI1LDE3NSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRPZmZzZXQoODgwLDc1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgYW5kYXJfYW5pbWFjaW9uKCl7XHJcbiAgICAgICAgaWYoIXRoaXMuc3ByaXRlIHx8ICF0aGlzLnNwcml0ZS5hbmltcykgcmV0dXJuOyAvLyBQcm90ZWdlciBzaSBlbCBzcHJpdGUgbyBhbmltcyBubyBleGlzdGVuXHJcbiAgICAgICAgaWYoIXRoaXMuc3ByaXRlLmFuaW1zLmlzUGxheWluZyl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaWRsZSA9PT0gJ2lkbGVfQXp1bCcpe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zY2VuZSAmJiB0aGlzLnNjZW5lLmFuaW1zICYmIHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKFwiYW5kYXJfbWFnb19BenVsXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KFwiYW5kYXJfbWFnb19BenVsXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaWRsZSA9PT0gJ2lkbGVfUm9qbycpe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zY2VuZSAmJiB0aGlzLnNjZW5lLmFuaW1zICYmIHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKFwiYW5kYXJfbWFnb19Sb2pvXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KFwiYW5kYXJfbWFnb19Sb2pvXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFuZGFyX2FuaW1hY2lvbl9wYXJhcigpe1xyXG4gICAgICAgIGlmKCF0aGlzLnNwcml0ZSB8fCAhdGhpcy5zcHJpdGUuYW5pbXMpIHJldHVybjsgLy8gUHJvdGVnZXIgc2kgZWwgc3ByaXRlIG8gYW5pbXMgbm8gZXhpc3RlblxyXG4gICAgICAgIGlmKHRoaXMuc3ByaXRlLmFuaW1zLmlzUGxheWluZyl7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGV4dHVyZSh0aGlzLmlkbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBqdW1wKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0p1bXBpbmcgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZID0gdGhpcy5zcHJpdGUueTsgLy8gZXN0YWJsZWNlciBsYSBhbHR1cmEgYSBsYSBxdWUgdGllbmUgcXVlIHZvbHZlciBjb21vIGxhIGFjdHVhbCBcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKC0xMDAwMDApOyAvLyBWZWxvY2lkYWQgaW5pY2lhbCBkZSBzYWx0b1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IHRydWU7IC8vIGFjdGl2YXIgZ3JhdmVkYWQgZW4gbG9zIHNhbHRvc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZGVsdGEpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nICkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBsYW5kZWQgKGJhY2sgdG8gZ3JvdW5kIGxldmVsIG9yIGJlbG93KVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zcHJpdGUueSA+PSB0aGlzLmdyb3VuZFkgJiYgdGhpcy5zcHJpdGUuYm9keS52ZWxvY2l0eS55ID49IDApIHsgLy8gQ29tcHJvYmFyIHNpIHRpZW5lIHF1ZSB2b2x2ZXIgYSBhcmVhIGRlIHN1ZWxvXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS55ID0gdGhpcy5ncm91bmRZOyAvLyBpciBhIGxhIHBvc2ljacOzbiBlbiBsYSBxdWUgY29tZW56w7MgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyAvLyBkZXNhY3RpdmFyIGdyYXZlZGFkIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTsgLy8geWEgbm8gZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZXN0YWRvX25vcm1hbCA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMzUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0U2NhbGUoc2NhbGUpe1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKHNjYWxlKTtcclxuICAgIH1cclxuIFxyXG4gICAgc2V0UG9zaXRpb24oeCwgeSl7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvcntcclxuY29uc3RydWN0b3IoKXtcclxuICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTsgXHJcbiAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbn1cclxuXHJcbnNldFBsYXllcnMocGxheWVycyl7XHJcbiAgICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG59XHJcblxyXG5zZXRHYW1lU2NlbmUoZ2FtZVNjZW5lKXtcclxuICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG59XHJcblxyXG5wcm9jZXNzKGNvbW1hbmQpe1xyXG4gICAgY29tbWFuZC5leGVjdXRlKCk7IFxyXG59XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcbiAgICBleGVjdXRlKCl7fVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpe31cclxuXHJcbiAgICBnZXRQbGF5ZXIoKXt9XHJcbiAgICBcclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi9Db21tYW5kXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTW92ZU1hZ29Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihtYWdvLCBkaXJlY3Rpb24sIHNhbHRvKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubWFnbyA9IG1hZ287XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247IFxyXG4gICAgICAgIHRoaXMuc2FsdG8gPSBzYWx0bzsgXHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uID09PSAndXAnKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMubWFnby5iYXNlU3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmRpcmVjdGlvbiA9PT0gJ2Rvd24nKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVkoK3RoaXMubWFnby5iYXNlU3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmRpcmVjdGlvbiA9PT0gJ2xlZnQnKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVgoLXRoaXMubWFnby5iYXNlU3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jyl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlYKCt0aGlzLm1hZ28uYmFzZVNwZWVkKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7IFxyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WCgwKTsgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuc2FsdG8pe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5tYWdvLmJhc2VTcGVlZCozLjUgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0NvbW1hbmR9IGZyb20gXCIuL0NvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZUdhbWVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTY2VuZSwgaXNQYXVzZWQpe1xyXG4gICAgICAgIHN1cGVyKCk7IFxyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCl7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUuc2V0UGF1c2VTdGF0ZSh0aGlzLmlzUGF1c2VkKTsgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1hZ28gfSBmcm9tICcuLi9lbnRpdGllcy9NYWdvJ1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZU1hZ29Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBQYXVzZUdhbWVDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9QYXVzZUdhbWVDb21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIEVzY2VtbmFyaW8geSBvYmpldG9zIFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyZWRSJywgJy9pbWFnZW5lcy9wYXJlZFlUZWNoby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3N1ZWxvUicsICcvaW1hZ2VuZXMvc3VlbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib2xhQ3Jpc3RhbFInLCAnL2ltYWdlbmVzL2JvbGFDcmlzdGFsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FsZGVyb1InLCAnL2ltYWdlbmVzL2NhbGRlcm9Db2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbXBvRnVlcnphUicsICcvaW1hZ2VuZXMvY2FtcG9kZWZ1ZXJ6YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvZnJlUicsICcvaW1hZ2VuZXMvY29mcmUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb2ZyZUFiaWVydG9SJywgJy9pbWFnZW5lcy9jb2ZyZUFiaWVydG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlcmlhUicsICcvaW1hZ2VuZXMvZXN0YW50ZXJpYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xsYXZlUicsICcvaW1hZ2VuZXMvbGxhdmUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJnYW1pbm9SJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9Db2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYW50YVInLCAnL2ltYWdlbmVzL3BsYW50YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzUicsICcvaW1hZ2VuZXMvcG9jaW9uZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxhc1InLCAnL2ltYWdlbmVzL3ZlbGFzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0YW50ZVInLCAnL2ltYWdlbmVzL2VzdGFudGUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsaWJyb3NSJywgJy9pbWFnZW5lcy9saWJyb3MucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZSJywgJy9pbWFnZW5lcy9ib3RvblZhY2lvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DUicsICcvaW1hZ2VuZXMvYm90b25Db21wbGV0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdHJlbGxhUicsICcvaW1hZ2VuZXMvZXN0cmVsbGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0F6JywgJy9pbWFnZW5lcy9wb2Npb25BenVsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBbScsICcvaW1hZ2VuZXMvcG9jaW9uZXNBbWFyaWxsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTicsICcvaW1hZ2VuZXMvcG9jaW9uTmFyYW5qYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzUm8nLCAnL2ltYWdlbmVzL3BvY2lvblJvc2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc00nLCAnL2ltYWdlbmVzL3BvY2lvbk1vcmFkYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzVicsICcvaW1hZ2VuZXMvcG9jaW9uVmVyZGUucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfQXp1bCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNScsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzgucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfOCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlX1Jvam8nLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18yJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzQnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb181JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzcnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb184JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzgucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEludGVyZmF6IE11ZXJ0ZVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQkdNXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdiZ20nLCAnL3NvdW5kcy9iZ20ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb3MgZGUgZWZlY3Rvc1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYWJyaXJDb2ZyZScsICcvc291bmRzL2NoZXN0X29wZW4ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdyZWNvZ2VyUG9jaW9uJywgJy9zb3VuZHMvYm90ZWxsYXMubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdyZWNvZ2VyTGxhdmUnLCAnL3NvdW5kcy9sbGF2ZS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGsnLCAnL3NvdW5kcy93YWxrLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZXhwbG9zaW9uJywgJy9zb3VuZHMvZXhwbG9zaW9uLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncHVlcnRhJywgJy9zb3VuZHMvcHVlcnRhLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygndHJpZ2dlcicsICcvc291bmRzL3RyaWdnZXIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwZXF1ZcOxbycsICcvc291bmRzL3BlcXVlw7FvLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzID0gbmV3IE1hcCgpOyAvLyBNYXAgcGFyYSBndWFyZGFyIGVsIHNvbmlkbyBkZSBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLmdhbWVTdGFydFRpbWUgPSBEYXRlLm5vdygpOyAvLyBSYXN0cmVhciBpbmljaW8gZGUgcGFydGlkYVxyXG4gICAgICAgIHRoaXMuZ2FtZU1vZGUgPSAnbG9jYWwnOyAvLyBNb2RvIGxvY2FsXHJcbiAgICAgICAgdGhpcy51c2VybmFtZSA9ICdKdWdhZG9yTG9jYWwnOyAvLyBVc3VhcmlvIHBvciBkZWZlY3RvIHBhcmEgbG9jYWxcclxuXHJcbiAgICAgICAgLy8gQXJyYXkgZGUgYm9vbGVhbm9zIHF1ZSByZXByZXNlbnRhIHF1ZSBvYmpldG9zIGhhbiByZWNvZ2lkbyBlbnRyZSBhbWJvcyBqdWdhZG9yZXNcclxuICAgICAgICAvLyBMb3Mgb2JqZXRvcyBzb246IDAtbGxhdmUsIDEtbGlicm9zLCAyLSBwb2Npb24gbW9yYWRhLCAzLSBwb2Npb24gdmVyZGUsIDQtIHBvY2lvbiByb3NhLCA1LSBwb2Npb24gYXp1bCwgNi0gcG9jaW9uIGFtYXJpbGxhLCA3LSBwb2Npb24gbmFyYW5qYSwgOC0gdmVsYXMsIDktIGJvbGEgZGUgY3Jpc3RhbCwgMTAtIHBsYW50YSwgMTEtIGVzdHJlbGxhIDEsIDEyLSBlc3RyZWxsYSAyXHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnYW5kYXJfbWFnb19BenVsJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2lkbGVfQXp1bCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzInIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8zJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzUnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF82JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzgnIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2FuZGFyX21hZ29fUm9qbycsXHJcbiAgICAgICAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdpZGxlX1Jvam8nIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb18yJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fMycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb181JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzcnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb184JyB9XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5iZ20gPSB0aGlzLnNvdW5kLmFkZCgnYmdtJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBpZiAoIXRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhciB1biBzb25pZG8gZGUgcGFzb3MgcGFyYSBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIxJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zIH0pKTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIyJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zIH0pKTtcclxuXHJcbiAgICAgICAgLy8gUGFyYXIgcGFzb3MgY3VhbmRvIGxhIGVzY2VuYSBzZSBwYXVzZSAoZWouIFBhdXNlU2NlbmUpIHkgbGltcGlhciBzb25pZG9zIGFsIHNodXRkb3duXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3BhdXNlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7IHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfSB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBBbCByZXN1bWUgbm8gc2UgcmVwcm9kdWNlIGF1dG9tw6F0aWNhbWVudGU6IGVsIHVwZGF0ZSgpIHJlYW51ZGFyw6EgcGFzb3Mgc2kgc2UgcHVsc2EgbW92ZXJcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBuYWRhIGVzcGVjaWFsOiB1cGRhdGUoKSB2b2x2ZXLDoSBhIHJlcHJvZHVjaXIgY3VhbmRvIGRldGVjdGUgbW92aW1pZW50b1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFzZWd1cmFyIGxpbXBpZXphIGN1YW5kbyBsYSBlc2NlbmEgc2UgY2llcnJlIGRlZmluaXRpdmFtZW50ZVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBwYXJhciB5IGRlc3RydWlyIHNvbmlkb3MgZGUgcGFzb3NcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MpIHdzLmRlc3Ryb3koKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIC8vIHBhcmFyIEJHTVxyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5iZ20gJiYgKHRoaXMuYmdtLmlzUGxheWluZyB8fCB0aGlzLmJnbS5pc1BhdXNlZCkpIHRoaXMuYmdtLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWFyRXNjZW5hcmlvKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhclBsYXRhZm9ybWFzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhckJhcnJlcmFJbnZpc2libGUoKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMuZXN0YWJsZWNlckNvbGlzaW9uZXMoKTtcclxuICAgICAgICB0aGlzLmludmVudGFyaW9FblBhbnRhbGxhKCk7IFxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5oZWFsdGhMZWZ0ID0gdGhpcy5hZGQudGV4dCg1MCwgMzAsICczJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwZmYnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaGVhbHRoUmlnaHQgPSB0aGlzLmFkZC50ZXh0KDkwMCwgMzAsICczJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwZmYnXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIHRoaXMubGtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5MKTtcclxuICAgICAgICB0aGlzLnFrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuUSk7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHRpbWUsIGRlbHRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gdGhpcy5lc2NLZXkuaXNEb3duO1xyXG5jb25zb2xlLmxvZyhcIkhvbGFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYVwiKTtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7IC8vdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSBzaSBubyBoYSBoYWJpZG8gb3ZlcmxhcFxyXG4gICAgICAgIGlmICh0aGlzLmxrZXkuaXNEb3duIHx8IHRoaXMucWtleS5pc0Rvd24pIHRoaXMubFB1bHNhZGEgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBDb21wcm9iYXIgc2kgYWxndW5vIGRlIGxvcyBqdWdhZG9yZXMgZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChtYWdvID0+IHtcclxuICAgICAgICAgICAgbWFnby51cGRhdGUoZGVsdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWFnbyA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgc2FsdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3Qgd2Fsa1NvdW5kID0gdGhpcy53YWxrU291bmRzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgICAgICAgbGV0IGlzTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLnVwS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5kb3duS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgICAgICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLnNwcml0ZS5mbGlwWCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnc3RvcCc7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbl9wYXJhcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh3YWxrU291bmQgJiYgd2Fsa1NvdW5kLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhbGtTb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNhbHRvIHNvbG8gc2kgZXN0YSBwZXF1ZcOxb1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5qdW1wT2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYWdvLmVzdGFkb19ub3JtYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzYWx0byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb25fcGFyYXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNNb3ZpbmcgJiYgd2Fsa1NvdW5kICYmICF3YWxrU291bmQuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB3YWxrU291bmQucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlTWFnb0NvbW1hbmQobWFnbywgZGlyZWN0aW9uLCBzYWx0byk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9hY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzFdKSB0aGlzLnVuby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLnVuby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzJdKSB0aGlzLmRvcy5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuZG9zLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bM10pIHRoaXMudHJlcy5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLnRyZXMuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s0XSkgdGhpcy5jdWF0cm8uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5jdWF0cm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s1XSkgdGhpcy5jaW5jby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmNpbmNvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNl0pIHRoaXMuc2Vpcy5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuc2Vpcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzddKSB0aGlzLnNpZXRlLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5zaWV0ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzhdKSB0aGlzLm9jaG8uc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s5XSkgdGhpcy5udWV2ZS5zZXRBbHBoYSgxKTtlbHNlIHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1sxMF0pIHRoaXMuZGllei5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyRXNjZW5hcmlvKCkge1xyXG4gICAgICAgIHRoaXMuc3VlbG8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDcyLCAnc3VlbG9SJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnN1ZWxvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wYXJlZCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCAyMDUsICdwYXJlZFInKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE2NSwgMzAwLCAnZXN0YW50ZXJpYVInKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE4NSwgMzAzLCAnYm9sYUNyaXN0YWxSJyk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDMwLCAnY2FsZGVyb1InKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDk0MCwgMzEwLCAnY2FtcG9GdWVyemFSJyk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvZnJlID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDUsIDI4MywgJ2NvZnJlUicpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNvZnJlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sbGF2ZSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTcwLCAxNjAsICdsbGF2ZVInKTtcclxuICAgICAgICB0aGlzLmxsYXZlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxsYXZlLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg3ODAsIDE4MCwgJ3BlcmdhbWlub1InKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxhbnRhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNzAsIDM2NSwgJ3BsYW50YVInKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBsYW50YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE2OSwgMjYyLCAncG9jaW9uZXNSJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZlbGFzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNDAsIDMwOCwgJ3ZlbGFzUicpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnZlbGFzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saWJyb3MgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE1MCwgMjIwLCAnbGlicm9zUicpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwLCAzNTAsICdib3RvblZSJyk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvdG9uMiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNzgwLCAzNTAsICdib3RvblZSJyk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gZXN0cmVsbGFzIGRlIGRlbnRybyBkZWwgY29mcmVcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDUwLCAyODMsICdlc3RyZWxsYVInKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDU2MCwgMjgzLCAnZXN0cmVsbGFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyQmFycmVyYUludmlzaWJsZSgpIHtcclxuICAgICAgICAvLyBDcmVhciB1bmEgYmFycmVyYSBpbnZpc2libGUgcXVlIGV2aXRhIHF1ZSBzdWJhIGhhY2lhIGFycmliYSAocGVybyBwdWVkYSBhbmRhciBsaWJyZW1lbnRlIHBvciBlbCBzdWVsbylcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0ltYWdlKDUwMCwgMTA1LCBudWxsKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0U2l6ZSgxMDAwLCA1MDApOyBcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLmJvZHkuc2V0U2l6ZSgxMDAwLCA1MDApO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjb2xsaWRlciBpbnZpc2libGUgcGFyYSBxdWUgcHVlZGEgdXNhciBsYSBiYWxkYSBzdXBlcmlvciBkZSBsYSBlc3RhbnRlcsOtwq1hIGNvbW8gcGxhdGFmb3JtYVxyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxNjUsIDE5NSwgJ3doaXRlX3BpeGVsJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5zZXRTY2FsZSg0LCAwLjUpO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjb2xsaWRlciBpbnZpc2libGUgcGFyYSBldml0YXIgcXVlIGF0cmF2aWVzZSBlbCBjYWxkZXJvXHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDUwMCwgNDAwLCAnd2hpdGVfcGl4ZWwnKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLnNldENpcmNsZSg4NSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldE9mZnNldCgtNzAsIC01NSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJQbGF0YWZvcm1hcygpIHtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG4gICAgICAgIC8vIENlbnRyb1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDQ0NiwgMzE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg1MTAsIDMxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNTcwLCAzMTUsICdlc3RhbnRlUicpO1xyXG5cclxuICAgICAgICAvLyBJenF1aWVyZGFcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg2NTAsIDM1MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNjUwLCAyMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDcwMCwgMzkwLCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICAgICAgLy8gRGVyZWNoYVxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDQ0NiwgMjUwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzNjAsIDIzNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMjk1LCAyMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDMwMCwgMzkwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzODAsIDM1MCwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVzdGFibGVjZXJDb2xpc2lvbmVzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIC8vIENvbGlzaW9uZXMgZGVsIGp1Z2Fkb3IgY29uIGVsIGVzY2VuYXJpb1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0YW50ZXJpYUNvbGwpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMucGxhdGFmb3JtYXMpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuY2FsZGVyb0NvbGwpO1xyXG4gICAgICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5jb2ZyZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDb25zZWd1aXIgbGEgbGxhdmVcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMubGxhdmUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdyZWNvZ2VyTGxhdmUnLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sbGF2ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxsYXZlIGNvbnNlZ3VpZGFcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBsbGF2ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDEpOyBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaWQ7IFxyXG4gICAgICAgICAgICBpZihwbGF5ZXIucGxheWVySWQgPT09ICdwbGF5ZXIxJykgaWQgPSAxO1xyXG4gICAgICAgICAgICBlbHNlIGlkID0gMjtcclxuXHJcbiAgICAgICAgICAgIC8vIEFicmlyIGxhIGxpYnJlcsOtwq1hXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxQdWxzYWRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdMaWJyZXJpYVNjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9jaW9uZXM6IHRoaXMuaW52ZW50YXJpbyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291bmQ6IHRoaXMuc291bmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1Z2Fkb3I6IGlkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQmFycmVyYSBpbnZpc2libGUgcGFyYSBwZXJtaXRpciBhcmVhIGRlIHN1ZWxvIGRvbmRlIHNlIGRlc3BsYWNlbiBsaWJyZW1lbnRlLCB5IGFyZWEgZGUgc2FsdG8gcGFyYSBzdWJpciBwb3IgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsIGNvbGlzaW9uYXIgY29uIGxhIGJhcnJlcmEgaW52aXNpYmxlIG1pZW50cmFzIGVsIGp1Z2Fkb3IgdmEgaGFjaWEgYXJyaWJhLCBzYWx0YVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxheWVyLmlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuanVtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBjYWxsYmFjayAtIG9ubHkgY29sbGlkZSB3aGVuIG1vdmluZyB1cCBhbmQgbm90IGp1bXBpbmdcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc01vdmluZ1VwID0gcGxheWVyLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnkgPCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhcGxheWVyLmlzSnVtcGluZyAmJiBpc01vdmluZ1VwO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWFyIHBvY2lvbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBzaSBzZSB0aWVuZW4gbGFzIHBvY2lvbmVzIG5lY2VzYXJpYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY2FsZGVybywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmxrZXkpIHx8IFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLnFrZXkpKSB7IC8vIENvbXByb2JhciBxdWUgc2UgaGEgcHVsc2FkbyBsYSB0ZWNsYSBMIG8gUSBwYXJhIGNyZWFyIGxhIHBvY2lvbiAoc2kgc2UgbWFudGllbmUgcHVsc2FkYSBsYSB0ZWNsYSBubyBlbnRyYXLDoSB2YXJpYXMgdmVjZXMgYSBsYSBmdW5jacOzbilcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbVJlY29naWRvcyA9IHRoaXMuaW52ZW50YXJpby5maWx0ZXIoZWxlbSA9PiBlbGVtID09PSB0cnVlKTsgLy8gY3JlYXIgdW4gc2VndW5kbyBhcnJheSBjb24gdW5pY2FtZW50ZSBsb3MgZWxlbWVudG9zIHJlY29naWRvc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoZWxlbVJlY29naWRvcy5sZW5ndGggPT09IDMpIHx8IChlbGVtUmVjb2dpZG9zLmxlbmdodCA9PT0gNCkpIHsgLy8gcHJpbWVybyBjb21wcm9iYXIgcXVlIHNlIGhhbiByZWNvZ2lkbyAzIGVsZW1lbnRvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzNdICYmIHRoaXMuaW52ZW50YXJpb1s1XSAmJiB0aGlzLmludmVudGFyaW9bN10pIHsgLy8gY29tcHJvYmFyIHF1ZSBlc29zIGVsZW1lbnRvcyByZWNvZ2lkb3Mgc29uIGxhcyBwb2Npb25lcyB2ZXJkZSwgYXp1bCB5IG5hcmFuamEgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW8gY3JlYWRhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5kaXNhYmxlQm9keSgpOyAvLyBkZXNhY3RpdmFyIGVsIGNvbGxpZGVyIGRlbCBjYWxkZXJvIHBhcmEgbWllbnRyYXMgZXN0w6luIHBlcXVlw7FvcyBwdWVkYW4gYXRyYXZlc2FybG8gKGNhdXNhYmEgYnVnczogbGV2aXRhYmEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncGVxdWXDsW8nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZXN0YWRvX25vcm1hbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIHRpZW5lcyBsYXMgcG9jaW9uZXMgbmVjZXNhcmlhcyBwYXJhIGNyZWFyIGxhIHBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2V4cGxvc2lvbicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsZWF0b3JpbyA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgMik7IC8vIGdlbmVyYXIgdW4gbsO6bWVybyBhbGVhdG9yaW8gZW50cmUgMSB5IDIgcGFyYSBlbGVnaXIgcXVlIGp1Z2Fkb3IgcmVjaWJlIGRhw7FvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGVhdG9yaW8gPT09IDEpIHRoaXMuZGHDsW9KdWdMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5kYcOxb0p1Z1JpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyB2b2x2ZXIgYSBwb25lciBhIGZhbHNlIHRvZG9zIGxvcyBlbGVtZW50b3MgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuaW52ZW50YXJpby5sZW5ndGggLSAyOyBpKyspIHsgLy8gc2Ugc2FsdGEgbGEgbGxhdmUgeSBsYXMgZXN0cmVsbGFzIHBvcnF1ZSBubyBzZSB1dGlsaXphbiBwYXJhIGNyZWFyIGxhIHBvY2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9baV0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTogdGhpcy51bm8uc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHRoaXMuZG9zLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiB0aGlzLnRyZXMuc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHRoaXMuY3VhdHJvLnNldEFscGhhKDAuMik7IGJyZWFrOyAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHRoaXMuY2luY28uc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHRoaXMuc2Vpcy5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzogdGhpcy5zaWV0ZS5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODogdGhpcy5vY2hvLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiB0aGlzLm51ZXZlLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDogdGhpcy5kaWV6LnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFicmlyIGVsIGNvZnJlIHNpIHNlIHRpZW5lIGxhIGxsYXZlXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmNvZnJlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29mcmVBYmllcnRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1swXSkgeyAvLyBjb21wcm9iYXIgcXVlIHRpZW5lIGxhIGxsYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDb2ZyZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmVjZXNpdGFzIGxhIGxsYXZlIHBhcmEgYWJyaXIgZWwgY29mcmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlY29nZXIgZXN0cmVsbGFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdHJlbGxhMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvZ2VyRXN0cmVsbGEoMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RyZWxsYTIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb2dlckVzdHJlbGxhKDIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL2NvbG9jYXIgZXN0cmVsbGFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvY2FyRXN0cmVsbGEoMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb2NhckVzdHJlbGxhKDIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBwdWxzYXIgYm90b25lcyBwYXJhIGRlc2FjdGl2YXIgZWwgY2FtcG8gZGUgZnVlcnphXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjFBY3RpdmFkbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjJBY3RpdmFkbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gTG9zIG9iamV0b3Mgc29uOiAwLWxsYXZlLCAxLWxpYnJvcywgMi0gcG9jaW9uIG1vcmFkYSwgMy0gcG9jaW9uIHZlcmRlLCA0LSBwb2Npb24gcm9zYSwgNS0gcG9jaW9uIGF6dWwsIDYtIHBvY2lvbiBhbWFyaWxsYSwgNy0gcG9jaW9uIG5hcmFuamEsIDgtIHZlbGFzLCA5LSBib2xhIGRlIGNyaXN0YWwsIDEwLSBwbGFudGEsIDExLSBlc3RyZWxsYSAxLCAxMi0gZXN0cmVsbGEgMlxyXG4gICAgaW52ZW50YXJpb0VuUGFudGFsbGEoKSB7IC8vQ29tbyBzZSBhY2FiYSBkZSBjcmVhciwgdG9kYXbDrWEgbm8gc2UgaGFicsOhIHJlY29naWRvIG5pbmfDum4gZWxlbWVudG9cclxuICAgICAgICB0aGlzLmNlcm8gPSB0aGlzLmFkZC5pbWFnZSgyMDAsIDUyMCwgJ2xsYXZlUicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy51bm8gPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDUyMCwgJ2xpYnJvc1InKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5kb3MgPSB0aGlzLmFkZC5pbWFnZSgzMDAsIDUyMCwgJ3BvY2lvbmVzTScpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy50cmVzID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCA1MjAsICdwb2Npb25lc1YnKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuY3VhdHJvID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA1MjAsICdwb2Npb25lc1JvJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmNpbmNvID0gdGhpcy5hZGQuaW1hZ2UoNDUwLCA1MjAsICdwb2Npb25lc0F6Jykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnNlaXMgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDUyMCwgJ3BvY2lvbmVzQW0nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2lldGUgPSB0aGlzLmFkZC5pbWFnZSg1NTAsIDUyMCwgJ3BvY2lvbmVzTicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5vY2hvID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA1MjAsICd2ZWxhc1InKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5udWV2ZSA9IHRoaXMuYWRkLmltYWdlKDY1MCwgNTIwLCAnYm9sYUNyaXN0YWxSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZGlleiA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTIwLCAncGxhbnRhUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLm9uY2UgPSB0aGlzLmFkZC5pbWFnZSg3NTAsIDUyMCwgJ2VzdHJlbGxhUicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5kb2NlID0gdGhpcy5hZGQuaW1hZ2UoODAwLCA1MjAsICdlc3RyZWxsYVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFicmlyQ29mcmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdhYnJpckNvZnJlJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdhYnJpckNvZnJlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb2ZyZSBhYmllcnRvXCIpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0VGV4dHVyZSgnY29mcmVBYmllcnRvUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEFscGhhKDEuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICB0aGlzLmNvZnJlQWJpZXJ0byA9IHRydWU7IC8vIHBhcmEgcXVlIHNvbG8gc2UgYWJyYSB1bmEgdmV6XHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzBdID0gZmFsc2U7IC8vIHF1aXRhciBsYSBsbGF2ZSBkZWwgaW52ZW50YXJpbyBhbCBhYnJpciBlbCBjb2ZyZVxyXG4gICAgICAgIHRoaXMuY2Vyby5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgIH1cclxuXHJcbiAgICByZWNvZ2VyRXN0cmVsbGEobikge1xyXG4gICAgICAgIGlmICh0aGlzLmNvZnJlQWJpZXJ0bykgeyAvLyBzb2xvIHNlIHB1ZWRlIHJlY29nZXIgc2kgZWwgY29mcmUgZXN0w6EgYWJpZXJ0byAocG9ycXVlIHNpbm8gZXN0w6FuIG9jdWx0YXMpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgcmVjb2dpZGFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1sxMCArIG5dID0gdHJ1ZTsgLy8gbWFyY2FyIGVuIGVsIGludmVudGFyaW8gcXVlIHNlIGhhIGNvbnNlZ3VpZG8gbGEgZXN0cmVsbGEgKDExIHkgMTIgZW4gZWwgYXJyYXkpXHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2Uuc2V0QWxwaGEoMS4wKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH0gZWxzZXsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMS4wKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmVzdGFkb19ub3JtYWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgLy8gdm9sdmVyIGEgYWN0aXZhciBlbCBjb2xsaWRlciBkZWwgY2FsZGVyb1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuZW5hYmxlQm9keShmYWxzZSwgMCwgMCwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY29sb2NhckVzdHJlbGxhKG4pIHtcclxuICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzEwICsgbl0pIHsgLy8gY29tcHJvYmFyIHF1ZSBzZSB0aWVuZSBsYSBlc3RyZWxsYSBjb3JyZXNwb25kaWVudGVcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RyZWxsYSBcIiArIG4gKyBcIiBjb2xvY2FkYVwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgndHJpZ2dlcicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG4gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24xLnNldFRleHR1cmUoJ2JvdG9uQ1InKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1sxMCArIG5dID0gZmFsc2U7IC8vIHF1aXRhciBsYSBlc3RyZWxsYSBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWJyaXJDYW1wb0Z1ZXJ6YSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ib3RvbjEudGV4dHVyZS5rZXkgPT09ICdib3RvbkNSJyAmJiB0aGlzLmJvdG9uMi50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InKSB7IC8vY29tcHJvYmFyIHF1ZSBhbWJvcyBib3RvbmVzIHRpZW5lbiBsYSBlc3RyZWxsYSBjb2xvY2FkYVxyXG4gICAgICAgICAgICBpZiAodGhpcy5xa2V5LmlzRG93biAmJiB0aGlzLmxrZXkuaXNEb3duICYmIHRoaXMuYm90b24xQWN0aXZhZG8gJiYgdGhpcy5ib3RvbjJBY3RpdmFkbykgeyAvLyBjb21wcm9iYXIgcXVlIGFtYm9zIGp1Z2Fkb3JlcyBlc3TDoW4gcHVsc2FuZG8gc3UgdGVjbGEgY29ycmVzcG9uZGllbnRlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbXBvIGRlIGZ1ZXJ6YSBkZXNhY3RpdmFkb1wiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdwdWVydGEnLCB7IHZvbHVtZTogMC43IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWFyUHVlcnRhRmluYWwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhclB1ZXJ0YUZpbmFsKCkge1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDk0MCwgMzcwLCBudWxsKTtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7IFxyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuc2V0QWxwaGEoMC4wKTsgXHJcbiAgICAgICAgbGV0IGRlc2FjdGl2YWRvID0gW2ZhbHNlLCBmYWxzZV07IC8vIGFycmF5IHBhcmEgY29udHJvbGFyIHF1ZSBhbWJvcyBqdWdhZG9yZXMgaGFuIGxsZWdhZG8gYSBsYSBwdWVydGEgZmluYWxcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZSwgdGhpcy5wdWVydGFGaW5hbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICBkZXNhY3RpdmFkb1swXSA9IHRydWU7IC8vIGVsIHBlcnNvbmFqZSB5YSBoYSBlbnRyYWRvIHBvciBsYSBwdWVydGEgeSBoYSBkZXNhcGFyZWNpZG9cclxuICAgICAgICAgICAgdGhpcy5lbnRyYXJQdWVydGFGaW5hbChkZXNhY3RpdmFkbyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdzMSA9IHRoaXMud2Fsa1NvdW5kcy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICAgICAgaWYgKHdzMSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzMS5pc1BsYXlpbmcpIHdzMS5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLCB0aGlzLnB1ZXJ0YUZpbmFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGRlc2FjdGl2YWRvWzFdID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5lbnRyYXJQdWVydGFGaW5hbChkZXNhY3RpdmFkbyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdzMiA9IHRoaXMud2Fsa1NvdW5kcy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICAgICAgaWYgKHdzMikge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzMi5pc1BsYXlpbmcpIHdzMi5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyAgXHJcbiAgICB9ICAgICAgIFxyXG5cclxuICAgIGVudHJhclB1ZXJ0YUZpbmFsKGRlc2FjdGl2YWRvKSB7XHJcbiAgICAgICAgaWYgKGRlc2FjdGl2YWRvWzBdICYmIGRlc2FjdGl2YWRvWzFdKSB7IC8vY2FtYmlhciBkZSBlc2NlbmEgc29sbyBzaSBhbWJvcyBqdWdhZG9yZXMgaGFuIGxsZWdhZG8gYSBsYSBwdWVydGEgZmluYWxcclxuICAgICAgICAgICAgLy8gUGFyYXIgeSBkZXN0cnVpciBzb25pZG9zIGRlIHBhc29zXHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzKSB3cy5kZXN0cm95KCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAvLyBQYXJhciBCR01cclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuYmdtICYmICh0aGlzLmJnbS5pc1BsYXlpbmcgfHwgdGhpcy5iZ20uaXNQYXVzZWQpKSB0aGlzLmJnbS5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgLy8gRmFsbGJhY2s6IHBhcmFyIGN1YWxxdWllciBpbnN0YW5jaWEgcG9yIGNsYXZlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnd2FsaycpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2JnbScpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdEZWNpc2lvblNjZW5lJywge21vZG86ICdsb2NhbCd9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCBsZWZ0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIxJywgNTAsIDQwMCwgJ2lkbGVfQXp1bCcpO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIyJywgOTUwLCA0MDAsICdpZGxlX1Jvam8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIGxlZnRNYWdvKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgcmlnaHRNYWdvKTtcclxuXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIGp1bXA6ICdTUEFDRSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ0RPV04nLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wOiAnRU5URVInXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIC8vdGhpcy5pbnRwdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnOyBcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgZG93bktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5kb3duS2V5XSksXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgICAgICBqdW1wT2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmp1bXBdKSxcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKGlkKSB7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMjQwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0NTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3Rvbi5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChtYWdvID0+IHtcclxuICAgICAgICAgICAgbWFnby5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgbGEgbcODwrpzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0ZXh0byA9IGlkID09PSAncGxheWVyMScgPyAnRWwganVnYWRvciAxXFxuICBoYSBtdWVydG8nIDogJyBFbCBqdWdhZG9yIDJcXG4gIGhhIG11ZXJ0byc7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgdGV4dG8sIHtcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnICNmZjAwMDBmZicsXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC01KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICdNZW7DuicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAyZmY4OWZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRhw7FvSnVnTGVmdCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIxID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIHBsYXllcjEudmlkYS0tO1xyXG4gICAgICAgIHRoaXMuaGVhbHRoTGVmdC5zZXRUZXh0KHBsYXllcjEudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRWwganVnYWRvciBkZSBsYSBpenF1aWVyZGEgaGEgcmVjaWJpZG8gZGHDsW8nKTtcclxuICAgICAgICBpZiAocGxheWVyMS52aWRhIDw9IDApIHRoaXMuZW5kR2FtZSgncGxheWVyMScpO1xyXG4gICAgfVxyXG5cclxuICAgIGRhw7FvSnVnUmlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICBwbGF5ZXIyLnZpZGEtLTtcclxuICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0LnNldFRleHQocGxheWVyMi52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbCBqdWdhZG9yIGRlIGxhIGRlcmVjaGEgaGEgcmVjaWJpZG8gZGHDsW8nKTtcclxuICAgICAgICBpZiAocGxheWVyMi52aWRhIDw9IDApIHRoaXMuZW5kR2FtZSgncGxheWVyMicpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBhdXNlU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZShkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bWluZyBHYW1lU2NlbmUgd2l0aCBkYXRhOlwiLCBkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnBvY2lvbmVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IGRhdGEucG9jaW9uZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmludmVudGFyaW8uZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYEludmVudGFyaW9bJHtpbmRleH1dOiAke2l0ZW19YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgIG5ldyBQYXVzZUdhbWVDb21tYW5kKHRoaXMsIG5ld1BhdXNlU3RhdGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5le1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnaG92ZXInLCAnL3NvdW5kcy9ob3Zlci5tcDMnKTtcclxuICAgIH0gICBcclxuXHJcbiAgICBjcmVhdGUoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwyMDAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDM1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpOyAgICAgICAgXHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNDAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjMgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNDUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24zLnNldFNjYWxlKDAuMSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsICdKdWVnbyBQYXVzYWRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzYwcHgnLCBcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOicjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCAzNTAsICdWb2x2ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgcmVzdW1lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMGZmODhmZicgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHJlc3VtZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXQoZGF0YS5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTsgXHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQwMCwgJ01lbsO6Jywge1xyXG4gICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNjgzOWIzZmYnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAvLyBTaSB2ZW5pbW9zIGRlIGxhIGVzY2VuYSBvbmxpbmUsIGF2aXNhciBhbCBzZXJ2aWRvciBwYXJhIG5vdGlmaWNhciBkZXNjb25leGnDs25cclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLm9yaWdpbmFsU2NlbmUgPT09ICdHYW1lU2NlbmVPJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ1NjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ0dhbWVTY2VuZU8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnU2NlbmUgJiYgb3JpZ1NjZW5lLndzICYmIG9yaWdTY2VuZS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdTY2VuZS53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ3BsYXllckRpc2Nvbm5lY3RlZCcgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENlcnJhciBsYSBjb25leGnDs24gZGVzcHXDqXMgZGUgdW4gYnJldmUgcmV0cmFzbyBwYXJhIGFzZWd1cmFyIGVudsOtb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0cnkgeyBvcmlnU2NlbmUud3MuY2xvc2UoKTsgfSBjYXRjaChlKXsgY29uc29sZS53YXJuKGUpOyB9IH0sIDUwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgdHJ5e3RoaXMuZ2FtZS5zb3VuZC5zdG9wQnlLZXkoJ2JnbScpO31jYXRjaChlKXtjb25zb2xlLndhcm4oZSk7fVxyXG5cclxuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgXHJcbiAgICAgICAgIGNvbnN0IGNvbnRyb2xCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnQ29udHJvbGVzJywge1xyXG4gICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgY29udHJvbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBlZWZmZmYnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY29udHJvbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAvLyBQYXNhciBsYSBlc2NlbmEgb3JpZ2luYWwgcGFyYSBxdWUgQ29udHJvbGVzIHB1ZWRhIHZvbHZlciBjb3JyZWN0YW1lbnRlIChHYW1lU2NlbmUgbyBHYW1lU2NlbmVPKVxyXG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NvbnRyb2xTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogZGF0YSAmJiBkYXRhLm9yaWdpbmFsU2NlbmUgPyBkYXRhLm9yaWdpbmFsU2NlbmUgOiAnR2FtZVNjZW5lJyB9KTsgXHJcbiAgICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJnYW1pbm8nLCAnL2ltYWdlbmVzL3BlcmdhbWluby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUzMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLnBlcmdhbWlubzEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsMzgwLCAncGVyZ2FtaW5vJylcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzEuc2V0U2NhbGUoMik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMjAsICdFbCBFbmlnbWEgZGUgbGFcXG5Ub3JyZSBFbmNhbnRhZGEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtOCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNDUsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNhN2E3YTdmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDMxMCwgJ1BhdWxhIE9ydGl6IEZlcm7DoW5kZXonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzkxZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDM1NSwgJ0RhbmllbCBDb3JiYWNobyBBbmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmYxMzJmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA0MDAsICdBbGVqYW5kcm8gSGVybsOhbmRleiBSdWl6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNkN2FjZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICfDgW5nZWwgQmVybcO6ZGV6IEZhcmnDsWFzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmNlYWRmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG4gICAgICAgIGNvbnN0IFJldHVybkJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MzAsICdWb2x2ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBmZjg4ZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhpc3RvcmlhU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0hpc3RvcmlhU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTMwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEyMCwgJ0VsIEVuaWdtYSBkZSBsYVxcblRvcnJlIEVuY2FudGFkYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1NnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzA3MDcwN2ZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC04KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI0MCwgJ0hpc3RvcmlhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzUwcHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3ZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzODAsICdEZXNwdcOpcyBkZSBhw7FvcyBkZSBlbnRyZW5hbWllbnRvLCBwb3IgZmluIGhhIGxsZWdhZG8gZWwgbW9tZW50byBlbiBlbCBxdWUgbmFxdWVsbG9zIG1hZ29zIHBvclxcbmZpbiBpYmFuIGEgY29uc2VndWlyIHNlciBtYWdvcyBkZSB2ZXJkYWQuIExsZXZhYmFuIG11Y2hvIHRpZW1wbyBwcmVwYXLDoW5kb3NlIHkgZXN0dWRpYW5kbyBwYXJhXFxuZXN0ZSBtb21lbnRvLCB5IHBvciBmaW4gdmFuIGEgcmVjaWJpciBhcXVlbCBlbGl4aXIgZGVzZWFkbyBwb3IgdG9kbyBtYWdvLFxcbuKAnGVsIGVsaXhpciBkZSBsYSB2aWRhIGV0ZXJuYeKAnS5cXG5cXG5TaW4gZW1iYXJnbywgbm8gc2Vyw6Egc2VuY2lsbG8sIGHDum4gZGViZXLDoW4gZGVtb3N0cmFyIHBvciDDumx0aW1hIHZleiBxdWUgZXN0w6FuIGhlY2hvcyBwYXJhIG9idGVuZXJcXG5lc3RhIGdyYW4gdmlydHVkLiBMYSB0cmFkaWNpw7NuIGN1ZW50YSBxdWUgcGFyYSBjb25zZWd1aXIgc2VyIHVuIHZlcmRhZGVybyBtYWdvIHNlcsOhIG5lY2VzYXJpb1xcbmNvbnNlZ3VpciBwb3IgZWxsb3MgbWlzbW9zIGVzdGUgZWxpeGlyIGFkZW50csOhbmRvc2UgZW4gbGEgVG9ycmUgRW5jYW50YWRhLCBkZW1vc3RyYW5kbyBxdWUgc29uXFxubWVyZWNlZG9yZXMgZGVsIHTDrXR1bG8gZGUgbWFnbyBldGVybm8geSBxdWUgcG9zZWVuIGxhcyBoYWJpbGlkYWRlcyBuZWNlc2FyaWFzLiBMYSBtw6FzIGltcG9ydGFudGUsXFxubGEgY29sYWJvcmFjacOzbiwgcHVlc3RvIHF1ZSBwb3IgdW5vIHNvbG8gbm8gc2llbXByZSBzZSBwdWVkZSBsbGVnYXIgYWwgbHVnYXIgZGVzZWFkby4gXFxuXFxuUG9yIGVzdGUgbW90aXZvLCBsb3MgasOzdmVuZXMgYXByZW5kaWNlcyBxdWUgZGVzZWVuIGFzY2VuZGVyLCBzZSBhZGVudHJhcsOhbiBlbiBhcXVlbGxhIHZpZWphIHRvcnJlLFxcbiB5IGF0cmF2ZXNhcsOhbiwgdW5hIGEgdW5hLCBzdXMgc2FsYXMgaGFzdGEgbGxlZ2FyIGFycmliYSBkZWwgdG9kbywgZMOzbmRlIHNlIGVuY3VlbnRyYSBlbCBlbGl4aXJcXG5xdWUgdGFudG8gZGVzZWFuLiBFbiBjYWRhIHNhbGEgc2UgZW5jb250cmFyw6FuIGNvbiBudW1lcm9zb3Mgb2JzdMOhY3Vsb3MgcXVlIGRlYmVyw6FuIHNvYnJlcGFzYXIgXFxuZGVtb3N0cmFuZG8gc3VzIGhhYmlsaWRhZGVzIG9idGVuaWRhcyBkdXJhbnRlIHRvZG9zIGVzdG9zIGHDsW9zIGRlIGVzZnVlcnpvLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgLy9mb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG5cclxuICAgICAgICBjb25zdCBSZXR1cm5CdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTMwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmY4OGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1hZ28gfSBmcm9tICcuLi9lbnRpdGllcy9NYWdvJ1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZU1hZ29Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpYnJlcmlhU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMaWJyZXJpYVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhcmVkUicsICcvaW1hZ2VuZXMvcGFyZWRZVGVjaG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib2xhQ3Jpc3RhbENvbG9yJywgJy9pbWFnZW5lcy9ib2xhQ3Jpc3RhbENvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0YW50ZXJpYVInLCAnL2ltYWdlbmVzL2VzdGFudGVyaWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGFudGFDb2xvcicsICcvaW1hZ2VuZXMvcGxhbnRhQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0F6JywgJy9pbWFnZW5lcy9wb2Npb25BenVsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBbScsICcvaW1hZ2VuZXMvcG9jaW9uZXNBbWFyaWxsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTicsICcvaW1hZ2VuZXMvcG9jaW9uTmFyYW5qYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzUm8nLCAnL2ltYWdlbmVzL3BvY2lvblJvc2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc00nLCAnL2ltYWdlbmVzL3BvY2lvbk1vcmFkYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzVicsICcvaW1hZ2VuZXMvcG9jaW9uVmVyZGUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxhc0NvbG9yJywgJy9pbWFnZW5lcy92ZWxhc0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGlicm9zQ29sb3InLCAnL2ltYWdlbmVzL2xpYnJvc0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZScsICcvaW1hZ2VuZXMvbWFuby5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAvL3RoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRhdG9zO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcyA9IHtcclxuICAgICAgICAgICAgYm9sYUNyaXN0YWw6IGZhbHNlLFxyXG4gICAgICAgICAgICBwbGFudGE6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25BbTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvbk46IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25NOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uUjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvblY6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25BejogZmFsc2UsXHJcbiAgICAgICAgICAgIHZlbGFzOiBmYWxzZSxcclxuICAgICAgICAgICAgbGlicm86IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICB0aGlzLm1hZ28gPSB0aGlzLmFkZC5pbWFnZSgxMDAsIDEwMCwgXCJpZGxlXCIpO1xyXG4gICAgICAgIHRoaXMubWFnby5zZXRTY2FsZSgxLjkpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJFc2NlbmFyaW8oKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMuZXN0YWJsZWNlckNvbGlzaW9uZXMoKTtcclxuICAgICAgICB0aGlzLmRhdG9zID0gZGF0YTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICB0aGlzLmxrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuTCk7XHJcbiAgICAgICAgdGhpcy5xa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlEpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duICYmICF0aGlzLmVzY1dhc0Rvd24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Mud3MgJiYgdGhpcy5kYXRvcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRvcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2FjdHVhbGl6YXJJbnZlbnRhcmlvJywgaW52ZW50YXJpbzogdGhpcy5kYXRvcy5wb2Npb25lc30pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSh0aGlzLmRhdG9zLm9yaWdpbmFsU2NlbmUsIHsgcG9jaW9uZXM6IHRoaXMuZGF0b3MucG9jaW9uZXMgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNjZW5lLmdldCh0aGlzLmRhdG9zLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpOyBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYWJpciA9IGZhbHNlOyAvL3ZvbHZlciBhIHBvbmVyIGEgZmFsc2Ugc2kgbm8gaGEgaGFiaWRvIG92ZXJsYXBcclxuICAgICAgICBpZiAodGhpcy5sa2V5LmlzRG93bikgdGhpcy5hYnJpciA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMucWtleS5pc0Rvd24pIHRoaXMuYWJyaXIgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGFkZGxlID0gdGhpcy5wbGF5ZXJzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLnVwS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmRvd25LZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlTWFnb0NvbW1hbmQocGFkZGxlLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckVzY2VuYXJpbygpIHtcclxuICAgICAgICB0aGlzLnBhcmVkID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDIwNSwgJ3BhcmVkUicpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBhcmVkLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NDAsIDI3MCwgJ2VzdGFudGVyaWFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0ODUsIDI4MCwgJ2JvbGFDcmlzdGFsQ29sb3InKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxhbnRhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NDAsIDQ1MCwgJ3BsYW50YUNvbG9yJyk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbkFtID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MzAsIDE2NSwgJ3BvY2lvbmVzQW0nKTtcclxuICAgICAgICB0aGlzLnBvY2lvbkFtLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbkFtLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25BbS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTk1LCAxNzUsICdwb2Npb25lc04nKTtcclxuICAgICAgICB0aGlzLnBvY2lvbk4uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTi5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMjgwLCAxNjUsICdwb2Npb25lc00nKTtcclxuICAgICAgICB0aGlzLnBvY2lvbk0uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTS5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uUiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDA1LCAxNjUsICdwb2Npb25lc1JvJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25SLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvblIuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvblIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvblYgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDM0NSwgMTc1LCAncG9jaW9uZXNWJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25WLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvblYuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvblYuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbkF6ID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NzAsIDE3MCwgJ3BvY2lvbmVzQXonKTtcclxuICAgICAgICB0aGlzLnBvY2lvbkF6LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbkF6LnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25Bei5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmVsYXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDM1MCwgMjkwLCAndmVsYXNDb2xvcicpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnZlbGFzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saWJybyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMzcwLCAzMywgJ2xpYnJvc0NvbG9yJyk7XHJcbiAgICAgICAgdGhpcy5saWJyby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWJyby5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMubGlicm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBlc3RhYmxlY2VyQ29saXNpb25lcygpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib2xhQ3Jpc3RhbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5ib2xhQ3Jpc3RhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLmJvbGFDcmlzdGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbOV0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIGJvbGEgZGUgY3Jpc3RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJPTEEgQ1JJU1RBTCBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBsYW50YSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wbGFudGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wbGFudGEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYW50YS5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbMTBdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwbGFudGFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTEFOVEEgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25BbSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25BbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbkFtID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25BbS5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbNl0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiBhbWFyaWxsYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBBTUFSSUxMQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvbk4sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbk4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbk4uc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzddID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gbmFyYW5qYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBOQVJBTkpBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uTSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25NKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uTSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uTS5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbMl0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiBtb3JhZGFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gTU9SQURBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uUiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25SKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uUiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uUi5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbNF0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiByb3NhXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIFJPU0EgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25WLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvblYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25WID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25WLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1szXSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIHZlcmRlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIFZFUkRFIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uQXosICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uQXopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25BeiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uQXouc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzVdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gYXp1bFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBBWlVMIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMudmVsYXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMudmVsYXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy52ZWxhcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVsYXMuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzhdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYXMgdmVsYXNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJWRUxBUyBSRUNPR0lEQVNcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5saWJybywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5saWJybykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLmxpYnJvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saWJyby5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbMV0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxvcyBsaWJyb3NcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMSUJST1MgUkVDT0dJRE9TXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxlZnRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjEnLCA1MCwgMzAwLCAnaWRsZScpO1xyXG4gICAgICAgIGxlZnRNYWdvLnNldFNjYWxlKDAuMDgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBsZWZ0TWFnbyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIC8vdGhpcy5pbnRwdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnOyBcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY29uZmlnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgZG93bktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5kb3duS2V5XSksXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250cm9sU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NvbnRyb2xTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlubycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpOyBcclxuICAgIH0gIFxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUzMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIC8vIHRoaXMuYm90b24yID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDQwMCwgJ2JvdG9uJylcclxuICAgICAgICAvLyB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMSA9IHRoaXMuYWRkLmltYWdlKDIyMCwzODAsICdwZXJnYW1pbm8nKVxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMS5zZXRTY2FsZSgxLjMsIDEuOCk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8yID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDM4MCwgJ3BlcmdhbWlubycpXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8yLnNldFNjYWxlKDEuMywxLjgpOyAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8zID0gdGhpcy5hZGQuaW1hZ2UoNzgwLDM4MCwgJ3BlcmdhbWlubycpXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8zLnNldFNjYWxlKDEuMywxLjgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTIwLCAnRWwgRW5pZ21hIGRlIGxhXFxuVG9ycmUgRW5jYW50YWRhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzU2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjQwLCAnQ29udHJvbGVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ1cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3ZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjIwLCAzMTAsICdKdWdhZG9yIDE6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgY29sb3I6ICcjOWJlM2ZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIzMCwgNDAwLCAnVy1BcnJpYmFcXG4gQS1JenF1aWVyZGFcXG4gUy1BYmFqb1xcbiBELURlcmVjaGFcXG4gU1BBQ0UtU2FsdGFyXFxuIFEtSW50ZXJhY3R1YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzMTAsICdKdWdhZG9yIDI6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCA5OSwgOTksIDEpJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTIwLCA0MDAsICdGbGVjaGFzLUFycmliYVxcbiBGbGVjaGFzLUl6cXVpZXJkYVxcbiBGbGVjaGFzLUFiYWpvXFxuIEZsZWNoYXMtRGVyZWNoYVxcbiBFTlRFUi1TYWx0YXJcXG4gTC1JbnRlcmFjdHVhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg3NTAsIDMxMCwgJ09ubGluZTonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAncmdiYSgxNDEsIDExNiwgMjU1LCAxKScsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDgwMCwgNDAwLCAnRmxlY2hhcy1BcnJpYmFcXG4gRmxlY2hhcy1JenF1aWVyZGFcXG4gRmxlY2hhcy1BYmFqb1xcbiBGbGVjaGFzLURlcmVjaGFcXG4gU1BBQ0UtU2FsdGFyXFxuIEwtSW50ZXJhY3R1YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IFJldHVybkJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MzAsICdWb2x2ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzRweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBmZjg4ZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGRhdGEub3JpZ2luYWxTY2VuZSA9PT0gJ01lbnVTY2VuZScpe1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldChkYXRhLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IHJlY29yZEdhbWVTZXNzaW9uIH0gZnJvbSAnLi4vYXBpLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEZWNpc2lvblNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdEZWNpc2lvblNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb0QnLCAnL2ltYWdlbmVzL2VsZWNjaW9uLmpwZycpO30gICBcclxuXHJcbiAgICBjcmVhdGUoZGF0YSl7XHJcbiAgICAgICAgLy8gT2J0ZW5lciByZWZlcmVuY2lhIGEgbGEgZXNjZW5hIGRlIGp1ZWdvIHkgZ3VhcmRhciB0aWVtcG9cclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KGRhdGEubW9kbyA9PT0gJ29ubGluZScgPyAnR2FtZVNjZW5lTycgOiAnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lTW9kZSA9IGRhdGEubW9kbyB8fCAnbG9jYWwnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZm9uZG9EID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsMzAwLCAnZm9uZG9EJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb0Quc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9ELmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSgyODAsNDIwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMTUpOyAgIFxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldEFscGhhKDAuNSk7ICAgICBcclxuICAgICAgICB0aGlzLmJvdG9uMiA9IHRoaXMuYWRkLmltYWdlKDczMCw0MjAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC4xNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0QWxwaGEoMC41KTsgXHJcblxyXG4gICAgICAgIGlmIChkYXRhLm1vZG8gPT09ICdsb2NhbCcpIHRoaXMuc2VsZWN0b3IgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsIDIpO1xyXG4gICAgICAgIGVsc2UgdGhpcy5zZWxlY3RvciA9IGRhdGEuZWxlY2Npb247XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdG9yID09PSAxKXtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ0VsIGp1Z2Fkb3IgMSBoYSByZWNvZ2lkbycsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgdGhpcy5pZCA9ICdwbGF5ZXIxJzsgXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdG9yID09PSAyKXtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ0VsIGp1Z2Fkb3IgMiBoYSByZWNvZ2lkbycsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgdGhpcy5pZCA9ICdwbGF5ZXIyJztcclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnZWwgRWxpeGlyIGRlIGxhIFZpZGEgRXRlcm5hLCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDMyMCwgJ2Fob3JhIGRlYmVyw6EgZWxlZ2lyOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuMSA9IHRoaXMuYWRkLnRleHQoMjgwLCA0MjAsICdDb21wYXJ0aXIgZWwgZWxpeGlyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFscGhhKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0bjIgPSB0aGlzLmFkZC50ZXh0KDczMCwgNDIwLCAnQmViZXIgZWwgZWxpeGlyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFscGhhKDAuNSk7XHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBpZiAoZGF0YS5tb2RvID09PSAnb25saW5lJyl7XHJcbiAgICAgICAgICAgIGNvbnN0IHB1ZWRlRWxlZ2lyID0gdGhpcy5pZCA9PT0gZGF0YS5qdWdhZG9yOyBcclxuICAgICAgICAgICAgaWYocHVlZGVFbGVnaXIpe1xyXG4gICAgICAgICAgICAgICAgYnRuMS5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgICAgICAgICBidG4xLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgIGJ0bjEub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bjEuc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnRuMS5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bjEuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgICAgIGJ0bjEub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLndzICYmIGRhdGEud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbnZpYW5kbyBmaW5hbFwiKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7dHlwZTogJ2VzY2VuYUZpbmFsJywgZXNjZW5hOiAzfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGJ0bjIuc2V0QWxwaGEoMSlcclxuICAgICAgICAgICAgICAgIGJ0bjIuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICBidG4yLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidG4yLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJ0bjIub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4yLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpO1xyXG4gICAgICAgICAgICAgICAgYnRuMi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IgPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS53cyAmJiBkYXRhLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVidmlhbmRvIGZpbmFsXCIpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7dHlwZTogJ2VzY2VuYUZpbmFsJywgZXNjZW5hOiAxfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0b3IgPT09IDIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS53cyAmJiBkYXRhLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVudmlhbmRvIGZpbmFsXCIpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7dHlwZTogJ2VzY2VuYUZpbmFsJywgZXNjZW5hOiAyfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjEuc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMi5zZXRBbHBoYSgxKTsgIFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5tb2RvID09PSAnbG9jYWwnKXtcclxuICAgICAgICAgICAgYnRuMS5zZXRBbHBoYSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidG4xLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bjEuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0ZpbmFsQlNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYnRuMi5zZXRBbHBoYSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidG4yLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bjIuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9yID09PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0xU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0b3IgPT09IDIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0ZpbmFsTTJTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5ib3RvbjEuc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90b24yLnNldEFscGhhKDEpOyBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgcmVjb3JkR2FtZVNlc3Npb24gfSBmcm9tICcuLi9hcGkuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpbmFsQlNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoJ0ZpbmFsQlNjZW5lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvQycsICcvaW1hZ2VuZXMvY29tcGFydGlyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygndmljdG9yaWEnLCAnL3NvdW5kcy92aWN0b3JpYS5tcDMnKTtcclxuICAgIH0gICBcclxuXHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBPYnRlbmVyIGRhdG9zIGRlIGxhIHBhcnRpZGEgZGVzZGUgRGVjaXNpb25TY2VuZVxyXG4gICAgICAgIGNvbnN0IGRlY2lzaW9uU2NlbmUgPSB0aGlzLnNjZW5lLmdldCgnRGVjaXNpb25TY2VuZScpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZGVjaXNpb25TY2VuZT8uZ2FtZVNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ2FtZU1vZGUgPSBkZWNpc2lvblNjZW5lPy5nYW1lTW9kZSB8fCAnbG9jYWwnO1xyXG4gICAgICAgIHRoaXMuZ2FtZUR1cmF0aW9uID0gdGhpcy5nYW1lU2NlbmU/LmdhbWVTdGFydFRpbWUgPyBEYXRlLm5vdygpIC0gdGhpcy5nYW1lU2NlbmUuZ2FtZVN0YXJ0VGltZSA6IDA7XHJcblxyXG4gICAgICAgIC8vIFJlZ2lzdHJhciBsYSBwYXJ0aWRhIHNpIGhheSBpbmZvcm1hY2nDs24gZGlzcG9uaWJsZVxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTY2VuZSAmJiB0aGlzLmdhbWVTY2VuZS5nYW1lU3RhcnRUaW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5nYW1lRHVyYXRpb247XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdGhpcy5nYW1lU2NlbmUudXNlcm5hbWUgfHwgJ0p1Z2Fkb3JMb2NhbCc7XHJcbiAgICAgICAgICAgIHJlY29yZEdhbWVTZXNzaW9uKHVzZXJuYW1lLCBkdXJhdGlvbiwgdGhpcy5nYW1lTW9kZSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHN0YXRzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiiBQYXJ0aWRhIHJlZ2lzdHJhZGE6Jywgc3RhdHMpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLndhcm4oJ+KaoO+4jyBObyBzZSBwdWRvIHJlZ2lzdHJhciBsYSBwYXJ0aWRhOicsIGVycm9yKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmZvbmRvQyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvQycpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9DLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmZvbmRvQy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIG3DunNpY2EgZGUgdmljdG9yaWFcclxuICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3ZpY3RvcmlhJywgeyB2b2x1bWU6IDAuNyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDUwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEzKTsgICAgICAgIFxyXG5cclxuXHJcbiAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgNTAsICdMb3MganVnYWRvcmVzIGhhbiBkZWNpZGlkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ2NvbXBhcnRpciBlbCBFbGl4aXIgZGUgbGEgVmlkYSBFdGVybmEsIGFob3JhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnYW1ib3Mgdml2aXLDoW4gaGFzdGEgbGEgZXRlcm5pZGFkLCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsICd5IHBvZHLDoW4gYWRxdWlyaXIgdG9kb3MgbG9zIGNvbm9jaW1pZW50b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNTAsICdleGlzdGVudGVzLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTAwLCAnVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIERldGVuZXIgbcO6c2ljYSBkZSB2aWN0b3JpYSBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCd2aWN0b3JpYScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU3RhdHNTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5nYW1lU2NlbmU/LnVzZXJuYW1lIHx8ICdKdWdhZG9yTG9jYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMuZ2FtZU1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZ2FtZUR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IHJlY29yZEdhbWVTZXNzaW9uIH0gZnJvbSAnLi4vYXBpLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaW5hbE0xU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0ZpbmFsTTFTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb18xTScsICcvaW1hZ2VuZXMvdHJhaWNpb25fcmFuYVJvamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2RlcnJvdGEnLCAnL3NvdW5kcy9kZXJyb3RhLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIE9idGVuZXIgZGF0b3MgZGUgbGEgcGFydGlkYSBkZXNkZSBEZWNpc2lvblNjZW5lXHJcbiAgICAgICAgY29uc3QgZGVjaXNpb25TY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdEZWNpc2lvblNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBkZWNpc2lvblNjZW5lPy5nYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5nYW1lTW9kZSA9IGRlY2lzaW9uU2NlbmU/LmdhbWVNb2RlIHx8ICdsb2NhbCc7XHJcbiAgICAgICAgdGhpcy5nYW1lRHVyYXRpb24gPSB0aGlzLmdhbWVTY2VuZT8uZ2FtZVN0YXJ0VGltZSA/IERhdGUubm93KCkgLSB0aGlzLmdhbWVTY2VuZS5nYW1lU3RhcnRUaW1lIDogMDtcclxuXHJcbiAgICAgICAgLy8gUmVnaXN0cmFyIGxhIHBhcnRpZGEgc2kgaGF5IGluZm9ybWFjacOzbiBkaXNwb25pYmxlXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVNjZW5lICYmIHRoaXMuZ2FtZVNjZW5lLmdhbWVTdGFydFRpbWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmdhbWVEdXJhdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLmdhbWVTY2VuZS51c2VybmFtZSB8fCAnSnVnYWRvckxvY2FsJztcclxuICAgICAgICAgICAgcmVjb3JkR2FtZVNlc3Npb24odXNlcm5hbWUsIGR1cmF0aW9uLCB0aGlzLmdhbWVNb2RlKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc3RhdHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBhcnRpZGEgcmVnaXN0cmFkYTonLCBzdGF0cyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUud2Fybign4pqg77iPIE5vIHNlIHB1ZG8gcmVnaXN0cmFyIGxhIHBhcnRpZGE6JywgZXJyb3IpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZm9uZG9fMU0gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwzMDAsICdmb25kb18xTScpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9fMU0uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9fMU0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBtw7pzaWNhIGRlIGRlcnJvdGFcclxuICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2RlcnJvdGEnLCB7IHZvbHVtZTogMC43IH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMTMpOyAgIFxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgNTAsICdFbCBqdWdhZG9yIDEgaGEgZGVjaWRpZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdubyBjb21wYXJ0aXIgZWwgRWxpeGlyIGRlIGxhIFZpZGEgRXRlcm5hLCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE1MCwgJ2Fob3JhIGRlYmUgZW5mcmVudGFyIGxhcyBjb25zZWN1ZW5jaWFzIGRlIHN1IGVsZWNjacOzbiB5IHZpdmlyIHNvbG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNzUsICdoYXN0YSBsYSBldGVybmlkYWQuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsICdWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIGRlcnJvdGEgYW50ZXMgZGUgY2FtYmlhciBkZSBlc2NlbmFcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnZGVycm90YScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU3RhdHNTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5nYW1lU2NlbmU/LnVzZXJuYW1lIHx8ICdKdWdhZG9yTG9jYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMuZ2FtZU1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZ2FtZUR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IHJlY29yZEdhbWVTZXNzaW9uIH0gZnJvbSAnLi4vYXBpLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaW5hbE0yU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0ZpbmFsTTJTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvXzJNJywgJy9pbWFnZW5lcy90cmFpY2lvbl9yYW5hQXp1bC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2RlcnJvdGEnLCAnL3NvdW5kcy9kZXJyb3RhLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIE9idGVuZXIgZGF0b3MgZGUgbGEgcGFydGlkYSBkZXNkZSBEZWNpc2lvblNjZW5lXHJcbiAgICAgICAgY29uc3QgZGVjaXNpb25TY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdEZWNpc2lvblNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBkZWNpc2lvblNjZW5lPy5nYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5nYW1lTW9kZSA9IGRlY2lzaW9uU2NlbmU/LmdhbWVNb2RlIHx8ICdsb2NhbCc7XHJcbiAgICAgICAgdGhpcy5nYW1lRHVyYXRpb24gPSB0aGlzLmdhbWVTY2VuZT8uZ2FtZVN0YXJ0VGltZSA/IERhdGUubm93KCkgLSB0aGlzLmdhbWVTY2VuZS5nYW1lU3RhcnRUaW1lIDogMDtcclxuXHJcbiAgICAgICAgLy8gUmVnaXN0cmFyIGxhIHBhcnRpZGEgc2kgaGF5IGluZm9ybWFjacOzbiBkaXNwb25pYmxlXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVNjZW5lICYmIHRoaXMuZ2FtZVNjZW5lLmdhbWVTdGFydFRpbWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmdhbWVEdXJhdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLmdhbWVTY2VuZS51c2VybmFtZSB8fCAnSnVnYWRvckxvY2FsJztcclxuICAgICAgICAgICAgcmVjb3JkR2FtZVNlc3Npb24odXNlcm5hbWUsIGR1cmF0aW9uLCB0aGlzLmdhbWVNb2RlKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc3RhdHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBhcnRpZGEgcmVnaXN0cmFkYTonLCBzdGF0cyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUud2Fybign4pqg77iPIE5vIHNlIHB1ZG8gcmVnaXN0cmFyIGxhIHBhcnRpZGE6JywgZXJyb3IpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZm9uZG9fMk0gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwzMDAsICdmb25kb18yTScpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9fMk0uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9fMk0uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBtw7pzaWNhIGRlIGRlcnJvdGFcclxuICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2RlcnJvdGEnLCB7IHZvbHVtZTogMC43IH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMTMpOyAgIFxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgNTAsICdFbCBqdWdhZG9yIDIgaGEgZGVjaWRpZG8nLCB7XHJcbiAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTAwLCAnbm8gY29tcGFydGlyIGVsIEVsaXhpciBkZSBsYSBWaWRhIEV0ZXJuYSwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNTAsICdhaG9yYSBkZWJlIGVuZnJlbnRhciBsYXMgY29uc2VjdWVuY2lhcyBkZSBzdSBlbGVjY2nDs24geSB2aXZpciBzb2xvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTc1LCAnaGFzdGEgbGEgZXRlcm5pZGFkLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTAwLCAnVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIERldGVuZXIgbcO6c2ljYSBkZSBkZXJyb3RhIGFudGVzIGRlIGNhbWJpYXIgZGUgZXNjZW5hXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnZGVycm90YScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU3RhdHNTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5nYW1lU2NlbmU/LnVzZXJuYW1lIHx8ICdKdWdhZG9yTG9jYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMuZ2FtZU1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZ2FtZUR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBnZXRVc2VyR2FtZVN0YXRzIH0gZnJvbSAnLi4vYXBpLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGF0c1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTdGF0c1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBkYXRhPy51c2VybmFtZSB8fCAnSnVnYWRvcic7XHJcbiAgICAgICAgY29uc3QgbW9kZSA9IGRhdGE/Lm1vZGUgfHwgJ2xvY2FsJztcclxuICAgICAgICBjb25zdCBsYXN0R2FtZUR1cmF0aW9uID0gZGF0YT8uZHVyYXRpb24gfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCkuc2V0RGVwdGgoLTEpLnNldEFscGhhKDAuNyk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTAwLCAnVElFTVBPIERFIFBBUlRJREEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLCBcclxuICAgICAgICAgICAgY29sb3I6ICcjNGJmZmFiZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyDDmmx0aW1hIHBhcnRpZGFcclxuICAgICAgICBjb25zdCBsYXN0R2FtZVNlY29uZHMgPSAobGFzdEdhbWVEdXJhdGlvbiAvIDEwMDApLnRvRml4ZWQoMik7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgYEVzdGEgcGFydGlkYTogJHtsYXN0R2FtZVNlY29uZHN9c2AsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhciBwcm9tZWRpb1xyXG4gICAgICAgIGdldFVzZXJHYW1lU3RhdHModXNlcm5hbWUsIG1vZGUpXHJcbiAgICAgICAgICAgIC50aGVuKHN0YXRzID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF2Z1NlY29uZHMgPSB0eXBlb2Ygc3RhdHMudGllbXBvUHJvbWVkaW8gPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICAgICAgPyBzdGF0cy50aWVtcG9Qcm9tZWRpb1xyXG4gICAgICAgICAgICAgICAgICAgIDogKHN0YXRzLnRpZW1wb1Byb21lZGlvIC8gMTAwMCkudG9GaXhlZCgyKSArICdzJztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI4MCwgYFByb21lZGlvOiAke2F2Z1NlY29uZHN9YCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjNGJmZmFiZmYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDMzMCwgYFBhcnRpZGFzIGp1Z2FkYXM6ICR7c3RhdHMudG90YWxQYXJ0aWRhc31gLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLndhcm4oJ0Vycm9yIGFsIGNhcmdhciB0aWVtcG8gcHJvbWVkaW86JywgZXJyb3IpKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICdWb2x2ZXIgYWwgbWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuLyoqXHJcbiAqIEVzY2VuYSBxdWUgc2UgbXVlc3RyYSBjdWFuZG8gc2UgcGllcmRlIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogUGF1c2EgZWwgcmVzdG8gZGUgZXNjZW5hcyB5IGNvbXBydWViYSBjb250aW51YW1lbnRlIGhhc3RhIHF1ZSBzZSByZXN0YWJsZXpjYVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25Mb3N0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgIH0gIFxyXG5cclxuICAgICBcclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhLnByZXZpb3VzU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDE4MCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxODAsICdDT05FWEnDk04gUEVSRElEQScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjYzkwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzMjAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGFkb3IgZGUgaW50ZW50b3MgXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzkwLCAnSW50ZW50b3M6IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJlY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cclxuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dC5zZXRUZXh0KGBJbnRlbnRvczogJHt0aGlzLmF0dGVtcHRDb3VudH1gKTtcclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlY29ubmVjdGVkKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgaW50ZXJ2YWxcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhQ29uZXhpw7NuIHJlc3RhYmxlY2lkYSEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGFudGVyaW9yXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIiBpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgTWFnbyB9IGZyb20gJy4uL2VudGl0aWVzL01hZ28nXHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlTWFnb0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL01vdmVNYWdvQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTYWxhRGVFc3BlcmEgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoeyBrZXk6ICdTYWxhRGVFc3BlcmEnIH0pO1xyXG4gICAgdGhpcy53cyA9IG51bGw7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHByZWxvYWQoKSB7XHJcbiAgICAvL0VzY2VuYXJpb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyZWRSJywgJy9pbWFnZW5lcy9wYXJlZFlUZWNoby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3N1ZWxvUicsICcvaW1hZ2VuZXMvc3VlbG8ucG5nJyk7XHJcblxyXG4gICAgXHJcbiAgICAvLyBQZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlX0F6dWwnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzInLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzMnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzQnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzUnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzYnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzcnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb184LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzgnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vVGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbXBvRnVlcnphJywgJy9pbWFnZW5lcy9jYW1wb2RlZnVlcnphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfUm9qbycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzInLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18zJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzUnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb182JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzgnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fOC5wbmcnKTtcclxuXHJcbiAgICAvLyBCR01cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2JnbScsICcvc291bmRzL2JnbS5tcDMnKTtcclxuXHJcbiAgICAvLyBFZmVjdG9zIGRlIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2FsaycsICcvc291bmRzL3dhbGsubXAzJyk7XHJcbiAgfVxyXG5cclxuICByZXNldFN0YXRlKCkge1xyXG4gICAgdGhpcy5yb29tQ29kZSA9IG51bGw7XHJcbiAgICB0aGlzLnJvb21JZCA9IG51bGw7XHJcbiAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2U7XHJcbiAgICBcclxuXHJcbiAgICBpZih0aGlzLnJvb21Db2RlVGV4dCAmJiB0aGlzLnJvb21Db2RlVGV4dC5hY3RpdmUpe1xyXG4gICAgICB0aGlzLnJvb21Db2RlVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLnN0YXR1c1RleHQgJiYgdGhpcy5zdGF0dXNUZXh0LmFjdGl2ZSl7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLmNvZGVJbnB1dCAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuY29kZUlucHV0KSl7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0KCl7XHJcbiAgICB0aGlzLndhbGtTb3VuZHMgPSBuZXcgTWFwKCk7IC8vIE1hcCBwYXJhIGd1YXJkYXIgZWwgc29uaWRvIGRlIGNhZGEganVnYWRvclxyXG5cclxuICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTsgLy8gTWFwIHBhcmEgZ3VhcmRhciBsb3MganVnYWRvcmVzIGVuIGxhIGVzY2VuYVxyXG4gICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgIHRoaXMuYmdtID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLnJvb21Db2RlID0gbnVsbDtcclxuICAgIHRoaXMucm9vbUlkID0gbnVsbDtcclxuICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgY3JlYXRlKCl7XHJcbiAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgIGtleTogJ2FuZGFyX21hZ29fQXp1bCcsXHJcbiAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgeyBrZXk6ICdpZGxlX0F6dWwnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8yJyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMycgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzQnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF81JyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNicgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzcnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF84JyB9XHJcbiAgICAgIF0sXHJcbiAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgIHJlcGVhdDogLTFcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyBDcmVhciB1biBzb25pZG8gZGUgcGFzb3MgcGFyYSBjYWRhIGp1Z2Fkb3JcclxuICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjEnLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG4gICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMicsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcblxyXG4gICAgLy8gUGFyYXIgcGFzb3MgY3VhbmRvIGxhIGVzY2VuYSBzZSBwYXVzZSAoZWouIFBhdXNlU2NlbmUpIHkgbGltcGlhciBzb25pZG9zIGFsIHNodXRkb3duXHJcbiAgICB0aGlzLmV2ZW50cy5vbigncGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4geyB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH0gfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8gQWwgcmVzdW1lIG5vIHNlIHJlcHJvZHVjZSBhdXRvbcOhdGljYW1lbnRlOiBlbCB1cGRhdGUoKSByZWFudWRhcsOhIHBhc29zIHNpIHNlIHB1bHNhIG1vdmVyXHJcbiAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgIC8vIG5hZGEgZXNwZWNpYWw6IHVwZGF0ZSgpIHZvbHZlcsOhIGEgcmVwcm9kdWNpciBjdWFuZG8gZGV0ZWN0ZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmICF0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBBc2VndXJhciBsaW1waWV6YSBjdWFuZG8gbGEgZXNjZW5hIHNlIGNpZXJyZSBkZWZpbml0aXZhbWVudGVcclxuICAgIHRoaXMuZXZlbnRzLm9uY2UoJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIC8vIHBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICBpZih0aGlzLmJnbSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnbS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Y2F0Y2ggKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLmNsZWFyKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmNyZWFyRXNjZW5hcmlvKCk7XHJcbiAgICB0aGlzLmNyZWFyQmFycmVyYUludmlzaWJsZSgpO1xyXG4gICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgIHRoaXMuZXN0YWJsZWNlckNvbGlzaW9uZXMoKTtcclxuXHJcbiAgICAvLyBTdG9wIG1lbnUgbXVzaWMgYW5kIHBsYXkgYmFja2dyb3VuZCBtdXNpY1xyXG4gICAgdGhpcy5nYW1lLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpO1xyXG4gICAgdGhpcy5iZ20gPSB0aGlzLnNvdW5kLmFkZCgnYmdtJywgeyB2b2x1bWU6IDAuNywgbG9vcDogdHJ1ZSB9KTtcclxuICAgIHRoaXMuYmdtLnBsYXkoKTtcclxuXHJcbiAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlclxyXG4gICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcclxuICAgIGNvbnNvbGUubG9nKFwiY29kaWdvOlwiLCB0aGlzLnJvb21Db2RlKTtcclxuICAgIHRoaXMuY3JlYXJJbnRlcmZheigpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXJJbnRlcmZheigpe1xyXG4gICAgLy8gQXF1w60gcHVlZGVzIGNyZWFyIGxvcyBlbGVtZW50b3MgZGUgbGEgaW50ZXJmYXogZGUgdXN1YXJpbyBuZWNlc2FyaW9zXHJcblxyXG4gICAgLyp0aGlzLmFkZC50ZXh0KDUwMCwgMzUwLCAnRXNwZXJhbmRvIGEgb3Ryb3MganVnYWRvcmVzLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTsqL1xyXG5cclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgdGhpcy5wZXJnYW1pbm8gPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIDEwMCwgJ3BlcmdhbWlub1RpdHVsbycpXHJcbiAgICB0aGlzLnBlcmdhbWluby5zZXRTY2FsZSgwLjI1LCAwLjIwKTtcclxuXHJcbiAgICAvLyBUaXRsZVxyXG4gICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTAwLCAnT25saW5lIE11bHRpcGxheWVyJywge1xyXG4gICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gdGhpcy50aXR1bG9Ub3JyZSA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxNDAsICdUdSB0b3JyZTogJywge1xyXG4gICAgLy8gICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgLy8gICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgIC8vICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgLy8gfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgdGhpcy5yb29tQ29kZVRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTUwLCAnJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vID09PT09PT09PT09PSBDUkVBUiBTQUxBIFBSSVZBREEgPT09PT09PT09PT09XHJcblxyXG4gICAgdGhpcy50aXR1bG9DcmVhclNhbGEgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMzAwLCAnQ3JlYXIgdG9ycmUnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICB0aGlzLmJvdG9uQ3JlYXJTYWxhID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCAzNDAsICdib3RvbicpO1xyXG4gICAgdGhpcy5ib3RvbkNyZWFyU2FsYS5zZXRTY2FsZSgwLjA1LCAwLjEpO1xyXG5cclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAzNDAsICdDcmVhcicsIHtcclxuICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLmNyZWFyU2FsYVRleHQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0U3R5bGUoeyBmaWxsOiAnI2ZmMDAwMCcgfSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdGhpcy5jcmVhclNhbGFUZXh0LnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLmNyZWFyU2FsYSgpfSk7XHJcblxyXG4gICAgLy8gPT09PT09PT09PT09IFVOSVJURSBBIExBIENPTEEgKFNBTEEgQUxFQVRPUklBKSA9PT09PT09PT09PT1cclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvbGEgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMjAwLCAnw5puZXRlIGEgdW5hIHRvcnJlLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy9ib3RvbiB1bmlyc2UgYSBsYSBjb2xhXHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29sYSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMjQwLCAnYm90b24nKTtcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhLnNldFNjYWxlKDAuMDUsIDAuMSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAyNDAsICdUb3JyZScsIHtcclxuICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudW5pcnNlQ29sYVRleHQuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnJlc2V0U3RhdGUoKTtcclxuICAgICAgdGhpcy51bmlyc2VDb2xhKCl9KTtcclxuXHJcbiAgICAvKnRoaXMuZXN0YWRvQ29sYVRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiAtIDUwLCAnQ29uZWN0YW5kbyBhbCBzZXJ2aWRvci4uLicsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpOyovXHJcblxyXG4gICAgLy8gPT09PT09PT09PT09IFVOSVJURSBBIFVOQSBTQUxBIChDw5NESUdPKSA9PT09PT09PT09PT0gXHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2RpZ28gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNDAwLCAnTyDDum5ldGUgY29uIGPDs2RpZ28nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZUNvZGVJbnB1dCh3aWR0aC8yIC0gODAsIDQ0MCk7XHJcblxyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnbyA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiArIDExMCw0NDAsICdib3RvbicpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnby5zZXRTY2FsZSgwLjA1LCAwLjEpO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyICsgMTEwLCA0NDAsICdVbmlyc2UnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pOyBcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAvL3RoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnVuaXJzZVNhbGEoKX0pO1xyXG5cclxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyLCAnJywge1xyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmYwMDAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgIFxyXG4gICAgY29uc3QgYm90b25Wb2x2ZXIgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aC8yLCA1MjAsICdib3RvbicpO1xyXG4gICAgYm90b25Wb2x2ZXIuc2V0U2NhbGUoMC4wNSwgMC4xKTtcclxuXHJcbiAgICBjb25zdCB2b2x2ZXJCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTIwLCAnVm9sdmVyJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgIHZvbHZlckJ1dHRvbi5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdm9sdmVyQnV0dG9uLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB2b2x2ZXJCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4geyB7XHJcbiAgICAvLyAgIGlmKCF0aGlzLnRpdHVsb0NvbGEudmlzaWJsZSl7XHJcbiAgICAvLyAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAvLyAgICAgdGhpcy5tb3N0cmFyQm90b25lcygpO1xyXG4gICAgLy8gICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgIC8vICAgfSBlbHNlIHtcclxuICAgICAgICBcclxuICAgIC8vICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAvLyAgIGlmKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZyl7XHJcbiAgICAvLyAgICAgdGhpcy5iZ20uc3RvcCgpO1xyXG4gICAgLy8gICB9IFxyXG4gICAgLy8gICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTt9XHJcblxyXG4gICAgLy8gfX0pO1xyXG5cclxuICAgIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2h1dGRvd24oKTtcclxuICAgICAgaWYodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKXtcclxuICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgIH1cclxuICAgICAgLy90aGlzLnJlc2V0U3RhdGUoKTtcclxuICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUNvZGVJbnB1dCh4LCB5KSB7XHJcbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgaW5wdXRFbGVtZW50LnR5cGUgPSAndGV4dCc7XHJcbiAgICBpbnB1dEVsZW1lbnQuaWQgPSAncm9vbUNvZGVJbnB1dCc7XHJcbiAgICBpbnB1dEVsZW1lbnQucGxhY2Vob2xkZXIgPSAnQ8OzZGlnbyBkZSBzYWxhJztcclxuICAgIGlucHV0RWxlbWVudC5tYXhMZW5ndGggPSA2O1xyXG4gICAgaW5wdXRFbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgd2lkdGg6IDIwMHB4O1xyXG4gICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBmb250LWZhbWlseTogVGFnZXNzY2hyaWZ0LCBhcmlhbDtcclxuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgICAgYm9yZGVyOiAzcHggc29saWQgI2ZmZmZmZjtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjIyMjtcclxuICAgICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgei1pbmRleDogOTk5OTtgO1xyXG5cclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIC8vIFVzZSB0aGUgZWxlbWVudCByZWZlcmVuY2UgZGlyZWN0bHkgdG8gYXZvaWQgdHlwaW5nIGlzc3VlcyBvbiBFdmVudFRhcmdldFxyXG4gICAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IGlucHV0RWxlbWVudC52YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICB0aGlzLnVuaXJzZVNhbGEoKTtcclxuICAgICAgICB9IFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXRFbGVtZW50KTtcclxuXHJcbiAgICAgIC8vIFBvc2l0aW9uIHJlbGF0aXZlIHRvIGNhbnZhcyB0byBhdm9pZCBwYWdlIG9mZnNldHNcclxuICAgICAgY29uc3QgaW5wdXRXaWR0aCA9IDIwMDtcclxuICAgICAgY29uc3QgaW5wdXRIZWlnaHQgPSA0MDtcclxuICAgICAgY29uc3QgcG9zaXRpb25JbnB1dCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5nYW1lLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuc3R5bGUubGVmdCA9IGAke01hdGgucm91bmQocmVjdC5sZWZ0ICsgeCAtIGlucHV0V2lkdGggLyAyKX1weGA7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnN0eWxlLnRvcCA9IGAke01hdGgucm91bmQocmVjdC50b3AgKyB5IC0gaW5wdXRIZWlnaHQgLyAyKX1weGA7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBwb3NpdGlvbklucHV0KCk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBwb3NpdGlvbklucHV0KTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHBvc2l0aW9uSW5wdXQpO1xyXG5cclxuICAgICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBwb3NpdGlvbklucHV0KTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5jb2RlSW5wdXQgPSBpbnB1dEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3F1ZXVlU3RhdHVzJzpcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSnVnYWRvcmVzIGVuIGNvbGE6ICR7ZGF0YS5wb3NpdGlvbn0vMmApO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAncm9vbUluZm8nOlxyXG4gICAgICAgIC8vIFNob3cgcm9vbSBjb2RlIHRvIHRoZSBjcmVhdG9yXHJcbiAgICAgICAgaWYgKGRhdGEuY29kZSkge1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZSA9IGRhdGEuY29kZTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoYFR1IHRvcnJlOiAke2RhdGEuY29kZX1gKTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldENvbG9yKCcjZmZmZmZmJyk7XHJcbiAgICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoYFNhbGEgY3JlYWRhOiAke2RhdGEuY29kZX1gKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2pvaW5Sb29tUmVzdWx0JzpcclxuICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlID0gZGF0YS5jb2RlO1xyXG4gICAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoZGF0YS5jb2RlKTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldENvbG9yKCcjZmZmZmZmJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnVW5pZG8gYSBsYSBzYWxhLicpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgdGhpcy5tb3N0cmFyQm90b25lcygpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoZGF0YS5tZXNzYWdlIHx8ICdObyBzZSBwdWRvIHVuaXIgYSBsYSBzYWxhLicpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnc3RhcnRHYW1lJzpcclxuICAgICAgY2FzZSAnZ2FtZVN0YXJ0JzpcclxuICAgICAgICAvLyBQcmV2ZW5pciBldmVudG9zIGR1cGxpY2Fkb3NcclxuICAgICAgICBpZiAodGhpcy5nYW1lU3RhcnRlZCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChkYXRhLmNvZGUpIHtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGUgPSBkYXRhLmNvZGU7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlVGV4dC5zZXRUZXh0KGBUb3JyZTogJHtkYXRhLmNvZGV9YCk7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlVGV4dC5zZXRDb2xvcignI2ZmZmZmZicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFQYXJ0aWRhIGluaWNpYW5kbyEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1BhcnRpZGEgaW5pY2lhbmRvIScsIGRhdGEpO1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSl7XHJcbiAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgICB0aGlzLmJnbS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXJuYW1lJykgfHwgJ0p1Z2Fkb3InO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZU8nLCB7XHJcbiAgICAgICAgICB3czogdGhpcy53cyxcclxuICAgICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcclxuICAgICAgICAgIHJvb21JZDogZGF0YS5yb29tSWQgfHwgdGhpcy5yb29tSWQsXHJcbiAgICAgICAgICBpbml0aWFsQmFsbDogZGF0YS5iYWxsLFxyXG4gICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBudWxsO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZXJyb3InOlxyXG4gICAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoZGF0YS5tZXNzYWdlIHx8ICdFcnJvciBkZWwgc2Vydmlkb3IuJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgIHRoaXMubW9zdHJhckJvdG9uZXMoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNyZWFyU2FsYSgpe1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICBpZih0aGlzLnJvb21Db2RlKXtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnWWEgaGFzIGNyZWFkbyB1bmEgc2FsYS4nKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdjcmVhdGVSb29tJyB9KSk7XHJcblxyXG4gICAgICB0aGlzLm9jdWx0YXJCb3RvbmVzKCk7XHJcblxyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ3JlYW5kbyBzYWxhLi4uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ05vIGNvbmVjdGFkbyBhbCBzZXJ2aWRvci4gRXJyb3IgZGUgY29uZXh0acOzbi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1bmlyc2VDb2xhKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblF1ZXVlJyB9KSk7XHJcblxyXG4gICAgICB0aGlzLm9jdWx0YXJCb3RvbmVzKCk7XHJcblxyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQnVzY2FuZG8gcGFydGlkYS4uLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZmZmMDAnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdObyBjb25lY3RhZG8gYWwgc2Vydmlkb3IuIEVycm9yIGRlIGNvbmV4dGnDs24uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb2N1bHRhckJvdG9uZXMoKSB7XHJcbiAgICB0aGlzLnRpdHVsb0NyZWFyU2FsYS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuYm90b25DcmVhclNhbGEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLmNyZWFyU2FsYVRleHQuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2xhLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvbGEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuXHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2RpZ28uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLmNvZGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnby5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBpZih0aGlzLmNvZGVJbnB1dCl7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtb3N0cmFyQm90b25lcygpIHtcclxuICAgIHRoaXMudGl0dWxvQ3JlYXJTYWxhLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLmJvdG9uQ3JlYXJTYWxhLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMudGl0dWxvQ29sYS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvbGEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvZGlnby5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy5jb2RlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIGlmKHRoaXMuY29kZUlucHV0KXtcclxuICAgICAgdGhpcy5jb2RlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1bmlyc2VTYWxhKCkge1xyXG4gICAgY29uc3QgY29kZSA9IHRoaXMuY29kZUlucHV0LnZhbHVlLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgaWYoIWNvZGUpe1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnUG9yIGZhdm9yLCBpbnRyb2R1Y2UgdW4gY8OzZGlnbyBkZSBzYWxhLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGNvZGUubGVuZ3RoICE9PSA2KXtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0VsIGPDs2RpZ28gZGUgc2FsYSBkZWJlIHRlbmVyIDYgY2FyYWN0ZXJlcy4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUm9vbScsIGNvZGU6IGNvZGUgfSkpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnSW50ZW50YW5kbyB1bmlyc2UgYSBsYSBzYWxhLi4uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdObyBjb25lY3RhZG8gYWwgc2Vydmlkb3IuIEVycm9yIGRlIGNvbmV4dGnDs24uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfVxyXG4gIH1cclxuICB1cGRhdGUoKXtcclxuICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICBjb25zdCBtYWdvID0gdGhpcy5wbGF5ZXJzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgIGxldCBzYWx0byA9IGZhbHNlO1xyXG4gICAgICBjb25zdCB3YWxrU291bmQgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICBsZXQgaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgaWYgKG1hcHBpbmcudXBLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmRvd25LZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XHJcbiAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICdzdG9wJztcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcblxyXG4gICAgICAgICAgaWYgKHdhbGtTb3VuZCAmJiB3YWxrU291bmQuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgd2Fsa1NvdW5kLnN0b3AoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzTW92aW5nICYmIHdhbGtTb3VuZCAmJiAhd2Fsa1NvdW5kLmlzUGxheWluZykge1xyXG4gICAgICAgICAgd2Fsa1NvdW5kLnBsYXkoKTtcclxuICAgICAgfVxyXG4gICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZU1hZ29Db21tYW5kKG1hZ28sIGRpcmVjdGlvbiwgc2FsdG8pO1xyXG4gICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuICAgIH0pO1xyXG5cclxuIH1cclxuXHJcblxyXG4gIGNyZWFyRXNjZW5hcmlvKCkge1xyXG4gICAgICAgIHRoaXMuc3VlbG8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDcyLCAnc3VlbG9SJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnN1ZWxvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wYXJlZCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCAyMDUsICdwYXJlZFInKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDMxMCwgJ2NhbXBvRnVlcnphJyk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckJhcnJlcmFJbnZpc2libGUoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXIgdW5hIGJhcnJlcmEgaW52aXNpYmxlIHF1ZSBldml0YSBxdWUgc3ViYSBoYWNpYSBhcnJpYmEgKHBlcm8gcHVlZGEgYW5kYXIgbGlicmVtZW50ZSBwb3IgZWwgc3VlbG8pXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSg1MDAsIDEwNSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFNpemUoMTAwMCwgNTAwKTsgXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5ib2R5LnNldFNpemUoMTAwMCwgNTAwKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXN0YWJsZWNlckNvbGlzaW9uZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIEJhcnJlcmEgaW52aXNpYmxlIHBhcmEgcGVybWl0aXIgYXJlYSBkZSBzdWVsbyBkb25kZSBzZSBkZXNwbGFjZW4gbGlicmVtZW50ZSwgeSBhcmVhIGRlIHNhbHRvIHBhcmEgc3ViaXIgcG9yIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgICAgICAvLyBCYXJyZXJhIGludmlzaWJsZSBwYXJhIHBlcm1pdGlyIGFyZWEgZGUgc3VlbG8gZG9uZGUgc2UgZGVzcGxhY2VuIGxpYnJlbWVudGUsIHkgYXJlYSBkZSBzYWx0byBwYXJhIHN1YmlyIHBvciBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZnRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjEnLCA1MCwgNDAwLCAnaWRsZV9BenVsJyk7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHJpZ2h0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIyJywgOTUwLCA0MDAsICdpZGxlX0F6dWwnKTtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbGVmdE1hZ28pO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgcmlnaHRNYWdvKTtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvd25LZXk6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnTEVGVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICAgICAganVtcDogJ1NQQUNFJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZG93bktleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGp1bXA6ICdFTlRFUidcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vdGhpcy5pbnRwdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnOyBcclxuICAgICAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gSW5wdXRDb25maWcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKSxcclxuICAgICAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1bXBPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuanVtcF0pLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICBzZXRQYXVzZVN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VtaW5nIEdhbWVTY2VuZSB3aXRoIGRhdGE6XCIsIGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEucG9jaW9uZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gZGF0YS5wb2Npb25lcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmludmVudGFyaW8uZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYEludmVudGFyaW9bJHtpbmRleH1dOiAke2l0ZW19YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyIChzYW1lIGhvc3QgYXMgd2ViIHNlcnZlcilcclxuXHJcbiAgICAgIGlmKHRoaXMud3Mpe1xyXG4gICAgICAgIGlmKHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gfHwgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORyl7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGFscmVhZHkgY29ubmVjdGVkIG9yIGNvbm5lY3RpbmcnKTtcclxuICAgICAgICAgIHRoaXMud3Mub25vcGVuID0gbnVsbDtcclxuICAgICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gbnVsbDtcclxuICAgICAgICAgIHRoaXMud3Mub25lcnJvciA9IG51bGw7XHJcbiAgICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSBudWxsO1xyXG4gICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndzID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9L3dzYDtcclxuXHJcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlcicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25lY3RhZG8gYWwgc2Vydmlkb3IuJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSm9pbiBtYXRjaG1ha2luZyBxdWV1ZVxyXG4gICAgICAgIC8vdGhpcy4uc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGVycm9yIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnU2FsYURlRXNwZXJhJykpIHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGxvc3QhJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdGYWlsZWQgdG8gY29ubmVjdCEnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGxlYXZlUXVldWUoKSB7XHJcbiAgICBpZiAodGhpcy53cyl7XHJcbiAgICAgIHRoaXMud3Mub25vcGVuID0gbnVsbDtcclxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBudWxsO1xyXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSBudWxsO1xyXG4gICAgICBpZih0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKXtcclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLndzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLmNvZGVJbnB1dCAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuY29kZUlucHV0KSl7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0LnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLmNvZGVJbnB1dCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICBcclxuICB9XHJcblxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxuXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1hZ28gfSBmcm9tICcuLi9lbnRpdGllcy9NYWdvJ1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZU1hZ29Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBQYXVzZUdhbWVDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9QYXVzZUdhbWVDb21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmVPIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lTycpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gRXNjZW1uYXJpbyB5IG9iamV0b3MgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJlZFInLCAnL2ltYWdlbmVzL3BhcmVkWVRlY2hvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VlbG9SJywgJy9pbWFnZW5lcy9zdWVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvbGFDcmlzdGFsUicsICcvaW1hZ2VuZXMvYm9sYUNyaXN0YWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYWxkZXJvUicsICcvaW1hZ2VuZXMvY2FsZGVyb0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FtcG9GdWVyemFSJywgJy9pbWFnZW5lcy9jYW1wb2RlZnVlcnphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29mcmVSJywgJy9pbWFnZW5lcy9jb2ZyZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvZnJlQWJpZXJ0b1InLCAnL2ltYWdlbmVzL2NvZnJlQWJpZXJ0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVyaWFSJywgJy9pbWFnZW5lcy9lc3RhbnRlcmlhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGxhdmVSJywgJy9pbWFnZW5lcy9sbGF2ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlub1InLCAnL2ltYWdlbmVzL3BlcmdhbWlub0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhbnRhUicsICcvaW1hZ2VuZXMvcGxhbnRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSJywgJy9pbWFnZW5lcy9wb2Npb25lcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZlbGFzUicsICcvaW1hZ2VuZXMvdmVsYXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlUicsICcvaW1hZ2VuZXMvZXN0YW50ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xpYnJvc1InLCAnL2ltYWdlbmVzL2xpYnJvcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVlInLCAnL2ltYWdlbmVzL2JvdG9uVmFjaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNSJywgJy9pbWFnZW5lcy9ib3RvbkNvbXBsZXRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0cmVsbGFSJywgJy9pbWFnZW5lcy9lc3RyZWxsYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQXonLCAnL2ltYWdlbmVzL3BvY2lvbkF6dWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0FtJywgJy9pbWFnZW5lcy9wb2Npb25lc0FtYXJpbGxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNOJywgJy9pbWFnZW5lcy9wb2Npb25OYXJhbmphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSbycsICcvaW1hZ2VuZXMvcG9jaW9uUm9zYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTScsICcvaW1hZ2VuZXMvcG9jaW9uTW9yYWRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNWJywgJy9pbWFnZW5lcy9wb2Npb25WZXJkZS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9BenVsJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8yJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8zJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF80JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF81JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF82JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF83JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fOC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF84JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfUm9qbycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzInLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18zJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzUnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb182JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzgnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fOC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZXJmYXogTXVlcnRlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCR01cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2JnbScsICcvc291bmRzL2JnbS5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvcyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdhYnJpckNvZnJlJywgJy9zb3VuZHMvY2hlc3Rfb3Blbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJQb2Npb24nLCAnL3NvdW5kcy9ib3RlbGxhcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJMbGF2ZScsICcvc291bmRzL2xsYXZlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2FsaycsICcvc291bmRzL3dhbGsubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdleHBsb3Npb24nLCAnL3NvdW5kcy9leHBsb3Npb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwdWVydGEnLCAnL3NvdW5kcy9wdWVydGEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd0cmlnZ2VyJywgJy9zb3VuZHMvdHJpZ2dlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3BlcXVlw7FvJywgJy9zb3VuZHMvcGVxdWXDsW8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIEludGVyZmF6XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTsgXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3M7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gZGF0YS5wbGF5ZXJSb2xlO1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IGRhdGEudXNlcm5hbWUgfHwgJ0p1Z2Fkb3InO1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sT3BvbmVudGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRlc2FjdGl2YWRvID0gW2ZhbHNlLCBmYWxzZV07XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhcnRUaW1lID0gRGF0ZS5ub3coKTsgLy8gUmFzdHJlYXIgaW5pY2lvIGRlIHBhcnRpZGFcclxuICAgICAgICB0aGlzLmdhbWVNb2RlID0gJ29ubGluZSc7IC8vIE1vZG8gb25saW5lXHJcbiAgICAgICAgdGhpcy5sbGF2ZVJlY29naWRhID0gZmFsc2U7IC8vIEZsYWcgcGFyYSBldml0YXIgcXVlIHNlIHJlY29qYSBsYSBsbGF2ZSBtw7psdGlwbGVzIHZlY2VzXHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTFSZWNvZ2lkYSA9IGZhbHNlOyAvLyBGbGFnIHBhcmEgZXN0cmVsbGEgMVxyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyUmVjb2dpZGEgPSBmYWxzZTsgLy8gRmxhZyBwYXJhIGVzdHJlbGxhIDJcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnYW5kYXJfbWFnb19BenVsJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2lkbGVfQXp1bCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzInIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8zJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzUnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF82JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzgnIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2FuZGFyX21hZ29fUm9qbycsXHJcbiAgICAgICAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdpZGxlX1Jvam8nIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb18yJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fMycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb181JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzcnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb184JyB9XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5iZ20gPSB0aGlzLnNvdW5kLmFkZCgnYmdtJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBpZiAoIXRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhciB1biBzb25pZG8gZGUgcGFzb3MgcGFyYSBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIxJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zIH0pKTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIyJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zIH0pKTtcclxuXHJcbiAgICAgICAgLy8gUGFyYXIgcGFzb3MgY3VhbmRvIGxhIGVzY2VuYSBzZSBwYXVzZSAoZWouIFBhdXNlU2NlbmUpIHkgbGltcGlhciBzb25pZG9zIGFsIHNodXRkb3duXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3BhdXNlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7IHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfSB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBBbCByZXN1bWUgbm8gc2UgcmVwcm9kdWNlIGF1dG9tw6F0aWNhbWVudGU6IGVsIHVwZGF0ZSgpIHJlYW51ZGFyw6EgcGFzb3Mgc2kgc2UgcHVsc2EgbW92ZXJcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBuYWRhIGVzcGVjaWFsOiB1cGRhdGUoKSB2b2x2ZXLDoSBhIHJlcHJvZHVjaXIgY3VhbmRvIGRldGVjdGUgbW92aW1pZW50b1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFzZWd1cmFyIGxpbXBpZXphIGN1YW5kbyBsYSBlc2NlbmEgc2UgY2llcnJlIGRlZmluaXRpdmFtZW50ZVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBwYXJhciB5IGRlc3RydWlyIHNvbmlkb3MgZGUgcGFzb3NcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MpIHdzLmRlc3Ryb3koKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIC8vIHBhcmFyIEJHTVxyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5iZ20gJiYgKHRoaXMuYmdtLmlzUGxheWluZyB8fCB0aGlzLmJnbS5pc1BhdXNlZCkpIHRoaXMuYmdtLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgZXNjZW5hcmlvXHJcbiAgICAgICAgdGhpcy5jcmVhckVzY2VuYXJpbygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJQbGF0YWZvcm1hcygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXJCYXJyZXJhSW52aXNpYmxlKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgICAgICB0aGlzLmVzdGFibGVjZXJDb2xpc2lvbmVzKCk7XHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvRW5QYW50YWxsYSgpOyBcclxuXHJcbiAgICAgICAgLy9Nb3N0cmFyIHZpZGFzXHJcbiAgICAgICAgdGhpcy5oZWFsdGhMZWZ0ID0gdGhpcy5hZGQudGV4dCg1MCwgMzAsICczJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwZmYnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaGVhbHRoUmlnaHQgPSB0aGlzLmFkZC50ZXh0KDkwMCwgMzAsICczJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwZmYnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE1vc3RhciBxdWUganVnYWRvciBlcyBjYWRhIHVub1xyXG4gICAgICAgIGNvbnN0IGxvY2FsUGxheWVyVGV4dCA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ0VyZXMgZWwgSnVnYWRvciAxIChBenVsKScgOiAnRXJlcyBlbCBKdWdhZG9yIDIgKFJvam8pJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgNDAsIGxvY2FsUGxheWVyVGV4dCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTsgIFxyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbG9jYWxVc2VybmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VybmFtZScpIHx8ICdKdWdhZG9yJztcclxuICAgICAgICB0aGlzLmxvY2FsVXNlcm5hbWUgPSBsb2NhbFVzZXJuYW1lO1xyXG4gICAgICAgIHRoaXMucmVtb3RlVXNlcm5hbWUgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICB0eXBlOiAnc2V0VXNlcm5hbWUnLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogbG9jYWxVc2VybmFtZSxcclxuICAgICAgICAgICAgcGxheWVyUm9sZTogdGhpcy5wbGF5ZXJSb2xlXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1VzZXJuYW1lcygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJbnB1dHNcclxuICAgICAgICB0aGlzLmN1cnNvcnMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcclxuICAgICAgICB0aGlzLmp1bXBLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuU1BBQ0UpO1xyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICAgICAgdGhpcy5sa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkwpO1xyXG4gICAgICAgIHRoaXMucWtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5RKTtcclxuICAgIFxyXG4gICAgICAgIC8vIFdlYlNvY2tldCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHRpbWUsIGRlbHRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxvY2FsUGxheWVyIHx8ICF0aGlzLnJlbW90ZVBsYXllcikgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZXRlY3RhciBkaXJlY2Npw7NuIGRlIG1vdmltaWVudG8gbG9jYWxcclxuICAgICAgICBsZXQgZGlyZWNjaW9uID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLnVwLmlzRG93bikgZGlyZWNjaW9uID0gJ3VwJztcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvcnMuZG93bi5pc0Rvd24pIGRpcmVjY2lvbiA9ICdkb3duJztcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvcnMubGVmdC5pc0Rvd24pIGRpcmVjY2lvbiA9ICdsZWZ0JztcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvcnMucmlnaHQuaXNEb3duKSBkaXJlY2Npb24gPSAncmlnaHQnO1xyXG4gICAgICAgIGVsc2UgZGlyZWNjaW9uID0gJ3N0b3AnO1xyXG5cclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSB0aGlzLmVzY0tleS5pc0Rvd247XHJcbiAgICAgICAgdGhpcy5sUHVsc2FkYSA9IGZhbHNlOyAvL3ZvbHZlciBhIHBvbmVyIGEgZmFsc2Ugc2kgbm8gaGEgaGFiaWRvIG92ZXJsYXBcclxuICAgICAgICB0aGlzLmxPcG9uZW50ZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmxrZXkuaXNEb3duIHx8IHRoaXMucWtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5sUHVsc2FkYSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2xQdWxzYWRhJyAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29tcHJvYmFyIHNpIGFsZ3VubyBkZSBsb3MganVnYWRvcmVzIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gobWFnbyA9PiB7XHJcbiAgICAgICAgICAgIG1hZ28udXBkYXRlKGRlbHRhKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRWplY3V0YXIgY29tYW5kbyBkZSBtb3ZpbWllbnRvIGxvY2FsXHJcbiAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVNYWdvQ29tbWFuZCh0aGlzLmxvY2FsUGxheWVyLCBkaXJlY2Npb24sIHRoaXMuanVtcEtleS5pc0Rvd24pO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG5cclxuICAgICAgICBpZihkaXJlY2Npb24hPT0nc3RvcCcpe1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICBpZihkaXJlY2Npb249PT0nbGVmdCcpIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGVsc2UgaWYoZGlyZWNjaW9uPT09XCJyaWdodFwiKSB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsb2NhbFdhbGs9IHRoaXMud2Fsa1NvdW5kcy5nZXQodGhpcy5wbGF5ZXJSb2xlKTtcclxuICAgICAgICBpZihkaXJlY2Npb24hPT0nc3RvcCcpe1xyXG4gICAgICAgICAgICBpZihsb2NhbFdhbGsgJiYgIWxvY2FsV2Fsay5pc1BsYXlpbmcpe1xyXG4gICAgICAgICAgICAgICAgbG9jYWxXYWxrLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmKGxvY2FsV2FsayAmJiBsb2NhbFdhbGsuaXNQbGF5aW5nKXtcclxuICAgICAgICAgICAgICAgIGxvY2FsV2Fsay5zdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVudmlhciBwb3NpY2nDs24gZGVsIGp1Z2Fkb3IgbG9jYWwgYWwgc2Vydmlkb3JcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ3BsYXllck1vdmUnLFxyXG4gICAgICAgICAgICB4OiB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS55LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjY2lvbixcclxuICAgICAgICAgICAgaXNNb3Zpbmc6IGRpcmVjY2lvbiAhPT0gJ3N0b3AnLFxyXG4gICAgICAgICAgICBmbGlwWDogdGhpcy5sb2NhbFBsYXllci5zcHJpdGUuZmxpcFggXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGF2aXNhciBhbCBvdHJvIGp1Z2Fkb3Igc2kgaGEgaGFiaWRvIGNhbWJpb3MgZW4gZWwgaW52ZW50YXJpbyBlbiBsYSBlc2NlbmEgZGUgbGEgbGlicmVyw61hXHJcbiAgICAgICAgLy8gaWYodGhpcy52aXNpdExpYnJlcmlhKXtcclxuICAgICAgICAvLyAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgLy8gICAgICAgICB0eXBlOiAnYWN0dWFsaXphckludmVudGFyaW8nLFxyXG4gICAgICAgIC8vICAgICAgICAgaW52ZW50YXJpbzogdGhpcy5pbnZlbnRhcmlvXHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vICAgICB0aGlzLnZpc2l0TGlicmVyaWEgPSBmYWxzZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAvLyBTaW5jcm9uaXphciBjYW1iaW8gZGUgaW52ZW50YXJpbyBjb24gZWwgb3RybyBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgdHlwZTogJ2FjdHVhbGl6YXJJbnZlbnRhcmlvJyxcclxuICAgICAgICAgICAgaW52ZW50YXJpbzogdGhpcy5pbnZlbnRhcmlvXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYWN0dWFsaXphckludmVudGFyaW9FblBhbnRhbGxhKCk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckVzY2VuYXJpbygpIHtcclxuICAgICAgICB0aGlzLnN1ZWxvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQ3MiwgJ3N1ZWxvUicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGFyZWQgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgMjA1LCAncGFyZWRSJyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnBhcmVkLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNjUsIDMwMCwgJ2VzdGFudGVyaWFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxODUsIDMwMywgJ2JvbGFDcmlzdGFsUicpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQzMCwgJ2NhbGRlcm9SJyk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDMxMCwgJ2NhbXBvRnVlcnphUicpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb2ZyZSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTA1LCAyODMsICdjb2ZyZVInKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGxhdmUgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE3MCwgMTYwLCAnbGxhdmVSJyk7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBlcmdhbWlubyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNzgwLCAxODAsICdwZXJnYW1pbm9SJyk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYW50YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTcwLCAzNjUsICdwbGFudGFSJyk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNjksIDI2MiwgJ3BvY2lvbmVzUicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy52ZWxhcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTQwLCAzMDgsICd2ZWxhc1InKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnZlbGFzLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGlicm9zID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNTAsIDIyMCwgJ2xpYnJvc1InKTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWJyb3Muc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MCwgMzUwLCAnYm90b25WUicpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDc4MCwgMzUwLCAnYm90b25WUicpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGVzdHJlbGxhcyBkZSBkZW50cm8gZGVsIGNvZnJlXHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ1MCwgMjgzLCAnZXN0cmVsbGFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1NjAsIDI4MywgJ2VzdHJlbGxhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhckJhcnJlcmFJbnZpc2libGUoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXIgdW5hIGJhcnJlcmEgaW52aXNpYmxlIHF1ZSBldml0YSBxdWUgc3ViYSBoYWNpYSBhcnJpYmEgKHBlcm8gcHVlZGEgYW5kYXIgbGlicmVtZW50ZSBwb3IgZWwgc3VlbG8pXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSg1MDAsIDEwNSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFNpemUoMTAwMCwgNTAwKTsgXHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5ib2R5LnNldFNpemUoMTAwMCwgNTAwKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgY29sbGlkZXIgaW52aXNpYmxlIHBhcmEgcXVlIHB1ZWRhIHVzYXIgbGEgYmFsZGEgc3VwZXJpb3IgZGUgbGEgZXN0YW50ZXLDrcKtYSBjb21vIHBsYXRhZm9ybWFcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTY1LCAxOTUsICd3aGl0ZV9waXhlbCcpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuc2V0U2NhbGUoNCwgMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgY29sbGlkZXIgaW52aXNpYmxlIHBhcmEgZXZpdGFyIHF1ZSBhdHJhdmllc2UgZWwgY2FsZGVyb1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg1MDAsIDQwMCwgJ3doaXRlX3BpeGVsJyk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5zZXRDaXJjbGUoODUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRPZmZzZXQoLTcwLCAtNTUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyUGxhdGFmb3JtYXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoKTtcclxuICAgICAgICAvLyBDZW50cm9cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg0NDYsIDMxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNTEwLCAzMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDU3MCwgMzE1LCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICAgICAgLy8gSXpxdWllcmRhXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNjUwLCAzNTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDY1MCwgMjE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg3MDAsIDM5MCwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgICAgIC8vIERlcmVjaGFcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg0NDYsIDI1MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzYwLCAyMzUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDI5NSwgMjE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzMDAsIDM5MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzgwLCAzNTAsICdlc3RhbnRlUicpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBlc3RhYmxlY2VyQ29saXNpb25lcygpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyBDb2xpc2lvbmVzIGRlbCBqdWdhZG9yIGNvbiBlbCBlc2NlbmFyaW9cclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWFDb2xsKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLnBsYXRhZm9ybWFzKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmNhbGRlcm9Db2xsKTtcclxuICAgICAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29uc2VndWlyIGxhIGxsYXZlXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmxsYXZlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sbGF2ZVJlY29naWRhKSByZXR1cm47IC8vIEV2aXRhciBxdWUgc2UgZWplY3V0ZSBtw7psdGlwbGVzIHZlY2VzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxsYXZlUmVjb2dpZGEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncmVjb2dlckxsYXZlJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubGxhdmUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMbGF2ZSBjb25zZWd1aWRhXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzBdID0gdHJ1ZTsgLy8gbWFyY2FyIGVuIGVsIGludmVudGFyaW8gcXVlIHNlIGhhIGNvbnNlZ3VpZG8gbGEgbGxhdmVcclxuICAgICAgICAgICAgICAgIHRoaXMuY2Vyby5zZXRBbHBoYSgxKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gU2luY3Jvbml6YXIgY2FtYmlvIGRlIGludmVudGFyaW8gY29uIGVsIG90cm8ganVnYWRvclxyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYWN0dWFsaXphckludmVudGFyaW8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGludmVudGFyaW86IHRoaXMuaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZDsgXHJcbiAgICAgICAgICAgIGlmKHBsYXllci5wbGF5ZXJJZCA9PT0gJ3BsYXllcjEnKSBpZCA9IDE7XHJcbiAgICAgICAgICAgIGVsc2UgaWQgPSAyO1xyXG5cclxuICAgICAgICAgICAgLy8gQWJyaXIgbGEgbGlicmVyw63CrWFcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0YW50ZXJpYSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubFB1bHNhZGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnZpc2l0TGlicmVyaWEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnTGlicmVyaWFTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZU8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2Npb25lczogdGhpcy5pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VuZDogdGhpcy5zb3VuZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAganVnYWRvcjogaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdzIDogdGhpcy53c1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEJhcnJlcmEgaW52aXNpYmxlIHBhcmEgcGVybWl0aXIgYXJlYSBkZSBzdWVsbyBkb25kZSBzZSBkZXNwbGFjZW4gbGlicmVtZW50ZSwgeSBhcmVhIGRlIHNhbHRvIHBhcmEgc3ViaXIgcG9yIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKFxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZSxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbCBjb2xpc2lvbmFyIGNvbiBsYSBiYXJyZXJhIGludmlzaWJsZSBtaWVudHJhcyBlbCBqdWdhZG9yIHZhIGhhY2lhIGFycmliYSwgc2FsdGFcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsYXllci5pc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmp1bXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgY2FsbGJhY2sgLSBvbmx5IGNvbGxpZGUgd2hlbiBtb3ZpbmcgdXAgYW5kIG5vdCBqdW1waW5nXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNb3ZpbmdVcCA9IHBsYXllci5zcHJpdGUuYm9keS52ZWxvY2l0eS55IDwgMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXBsYXllci5pc0p1bXBpbmcgJiYgaXNNb3ZpbmdVcDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhciBwb2Npb24gZGUgZGlzbWludWlyIHRhbWHDsW8gc2kgc2UgdGllbmVuIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmNhbGRlcm8sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5sa2V5KSB8fCBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5xa2V5KSkgeyAvLyBDb21wcm9iYXIgcXVlIHNlIGhhIHB1bHNhZG8gbGEgdGVjbGEgTCBvIFEgcGFyYSBjcmVhciBsYSBwb2Npb24gKHNpIHNlIG1hbnRpZW5lIHB1bHNhZGEgbGEgdGVjbGEgbm8gZW50cmFyw6EgdmFyaWFzIHZlY2VzIGEgbGEgZnVuY2nDs24pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd1c2FyQ2FsZGVybycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmVudGFyaW86dGhpcy5pbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIC8vIEFicmlyIGVsIGNvZnJlIHNpIHNlIHRpZW5lIGxhIGxsYXZlXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmNvZnJlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29mcmVBYmllcnRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1swXSkgeyAvLyBjb21wcm9iYXIgcXVlIHRpZW5lIGxhIGxsYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDb2ZyZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmVjZXNpdGFzIGxhIGxsYXZlIHBhcmEgYWJyaXIgZWwgY29mcmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlY29nZXIgZXN0cmVsbGFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdHJlbGxhMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvZ2VyRXN0cmVsbGEoMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RyZWxsYTIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb2dlckVzdHJlbGxhKDIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL2NvbG9jYXIgZXN0cmVsbGFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvY2FyRXN0cmVsbGEoMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb2NhckVzdHJlbGxhKDIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBwdWxzYXIgYm90b25lcyBwYXJhIGRlc2FjdGl2YXIgZWwgY2FtcG8gZGUgZnVlcnphXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JvdG9uQ2FtcG9GdWVyemEnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdG9uOiAxXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JvdG9uQ2FtcG9GdWVyemEnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdG9uOiAyXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gTG9zIG9iamV0b3Mgc29uOiAwLWxsYXZlLCAxLWxpYnJvcywgMi0gcG9jaW9uIG1vcmFkYSwgMy0gcG9jaW9uIHZlcmRlLCA0LSBwb2Npb24gcm9zYSwgNS0gcG9jaW9uIGF6dWwsIDYtIHBvY2lvbiBhbWFyaWxsYSwgNy0gcG9jaW9uIG5hcmFuamEsIDgtIHZlbGFzLCA5LSBib2xhIGRlIGNyaXN0YWwsIDEwLSBwbGFudGEsIDExLSBlc3RyZWxsYSAxLCAxMi0gZXN0cmVsbGEgMlxyXG4gICAgaW52ZW50YXJpb0VuUGFudGFsbGEoKSB7IC8vQ29tbyBzZSBhY2FiYSBkZSBjcmVhciwgdG9kYXbDrWEgbm8gc2UgaGFicsOhIHJlY29naWRvIG5pbmfDum4gZWxlbWVudG9cclxuICAgICAgICB0aGlzLmNlcm8gPSB0aGlzLmFkZC5pbWFnZSgyMDAsIDUyMCwgJ2xsYXZlUicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy51bm8gPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDUyMCwgJ2xpYnJvc1InKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5kb3MgPSB0aGlzLmFkZC5pbWFnZSgzMDAsIDUyMCwgJ3BvY2lvbmVzTScpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy50cmVzID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCA1MjAsICdwb2Npb25lc1YnKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuY3VhdHJvID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA1MjAsICdwb2Npb25lc1JvJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmNpbmNvID0gdGhpcy5hZGQuaW1hZ2UoNDUwLCA1MjAsICdwb2Npb25lc0F6Jykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnNlaXMgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDUyMCwgJ3BvY2lvbmVzQW0nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2lldGUgPSB0aGlzLmFkZC5pbWFnZSg1NTAsIDUyMCwgJ3BvY2lvbmVzTicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5vY2hvID0gdGhpcy5hZGQuaW1hZ2UoNjAwLCA1MjAsICd2ZWxhc1InKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5udWV2ZSA9IHRoaXMuYWRkLmltYWdlKDY1MCwgNTIwLCAnYm9sYUNyaXN0YWxSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZGlleiA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTIwLCAncGxhbnRhUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLm9uY2UgPSB0aGlzLmFkZC5pbWFnZSg3NTAsIDUyMCwgJ2VzdHJlbGxhUicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5kb2NlID0gdGhpcy5hZGQuaW1hZ2UoODAwLCA1MjAsICdlc3RyZWxsYVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFjdHVhbGl6YXJJbnZlbnRhcmlvRW5QYW50YWxsYSgpIHsgICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1sxXSkgdGhpcy51bm8uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy51bm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzJdKSB0aGlzLmRvcy5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuZG9zLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1szXSkgdGhpcy50cmVzLnNldEFscGhhKDEpOyBlbHNlIHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNF0pIHRoaXMuY3VhdHJvLnNldEFscGhhKDEpOyBlbHNlIHRoaXMuY3VhdHJvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s1XSkgdGhpcy5jaW5jby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmNpbmNvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s2XSkgdGhpcy5zZWlzLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5zZWlzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s3XSkgdGhpcy5zaWV0ZS5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuc2lldGUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzhdKSB0aGlzLm9jaG8uc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzldKSB0aGlzLm51ZXZlLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5udWV2ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMTBdKSB0aGlzLmRpZXouc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5kaWV6LnNldEFscGhhKDAuMik7IFxyXG4gICAgfVxyXG5cclxuICAgIGFicmlyQ29mcmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdhYnJpckNvZnJlJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdhYnJpckNvZnJlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb2ZyZSBhYmllcnRvXCIpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0VGV4dHVyZSgnY29mcmVBYmllcnRvUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEFscGhhKDEuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICB0aGlzLmNvZnJlQWJpZXJ0byA9IHRydWU7IC8vIHBhcmEgcXVlIHNvbG8gc2UgYWJyYSB1bmEgdmV6XHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzBdID0gZmFsc2U7IC8vIHF1aXRhciBsYSBsbGF2ZSBkZWwgaW52ZW50YXJpbyBhbCBhYnJpciBlbCBjb2ZyZVxyXG4gICAgICAgIHRoaXMuY2Vyby5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgIH1cclxuXHJcbiAgICByZWNvZ2VyRXN0cmVsbGEobikge1xyXG4gICAgICAgIGlmICh0aGlzLmNvZnJlQWJpZXJ0bykgeyAvLyBzb2xvIHNlIHB1ZWRlIHJlY29nZXIgc2kgZWwgY29mcmUgZXN0w6EgYWJpZXJ0byAocG9ycXVlIHNpbm8gZXN0w6FuIG9jdWx0YXMpXHJcbiAgICAgICAgICAgIC8vIEZsYWcgcGFyYSBldml0YXIgZWplY3VjacOzbiBtw7psdGlwbGVcclxuICAgICAgICAgICAgaWYgKG4gPT09IDEgJiYgdGhpcy5lc3RyZWxsYTFSZWNvZ2lkYSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAobiA9PT0gMiAmJiB0aGlzLmVzdHJlbGxhMlJlY29naWRhKSByZXR1cm47XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSkgdGhpcy5lc3RyZWxsYTFSZWNvZ2lkYSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChuID09PSAyKSB0aGlzLmVzdHJlbGxhMlJlY29naWRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgcmVjb2dpZGFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1sxMCArIG5dID0gdHJ1ZTsgLy8gbWFyY2FyIGVuIGVsIGludmVudGFyaW8gcXVlIHNlIGhhIGNvbnNlZ3VpZG8gbGEgZXN0cmVsbGEgKDExIHkgMTIgZW4gZWwgYXJyYXkpXHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2Uuc2V0QWxwaGEoMS4wKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH0gZWxzZXsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMS4wKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEVudmlhciBhY3R1YWxpemFjacOzbiBkZWwgaW52ZW50YXJpbyBhbCBvdHJvIGp1Z2Fkb3JcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdhY3R1YWxpemFySW52ZW50YXJpbycsXHJcbiAgICAgICAgICAgICAgICBpbnZlbnRhcmlvOiB0aGlzLmludmVudGFyaW9cclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7dHlwZTogJ2NhbWJpYXJTaXplJywgZXN0YWRvOiAncGVxdWXDsW8nfSk7IFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvbG9jYXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1sxMCArIG5dKSB7IC8vIGNvbXByb2JhciBxdWUgc2UgdGllbmUgbGEgZXN0cmVsbGEgY29ycmVzcG9uZGllbnRlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgY29sb2NhZGFcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3RyaWdnZXInLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMS5zZXRUZXh0dXJlKCdib3RvbkNSJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgZXN0cmVsbGEgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRW52aWFyIGFjdHVhbGl6YWNpw7NuIGRlbCBpbnZlbnRhcmlvIGFsIG90cm8ganVnYWRvclxyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2FjdHVhbGl6YXJJbnZlbnRhcmlvJyxcclxuICAgICAgICAgICAgICAgIGludmVudGFyaW86IHRoaXMuaW52ZW50YXJpb1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXByb2JhckNhbXBvRnVlcnphKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmJvdG9uMS50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InICYmIHRoaXMuYm90b24yLnRleHR1cmUua2V5ID09PSAnYm90b25DUicpIHsgLy9jb21wcm9iYXIgcXVlIGFtYm9zIGJvdG9uZXMgdGllbmVuIGxhIGVzdHJlbGxhIGNvbG9jYWRhXHJcbiAgICAgICAgICAgIGlmICgodGhpcy5sT3BvbmVudGUgfHwgdGhpcy5xa2V5LmlzRG93bikgJiYgdGhpcy5sa2V5LmlzRG93biAmJiB0aGlzLmJvdG9uMUFjdGl2YWRvICYmIHRoaXMuYm90b24yQWN0aXZhZG8pIHsgLy8gY29tcHJvYmFyIHF1ZSBhbWJvcyBqdWdhZG9yZXMgZXN0w6FuIHB1bHNhbmRvIGxhIEwgKHBlcm1pdGlyIHRhbWJpZW4gbGEgcSBwb3Igc2kgZXN0w6EganVnYW5kbyBlbiBhbWJhcyB2ZW50YW5hcylcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZXNhY3RpdmFyQ2FtcG9GdWVyemEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFicmlyQ2FtcG9GdWVyemEoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDYW1wbyBkZSBmdWVyemEgZGVzYWN0aXZhZG9cIik7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdwdWVydGEnLCB7IHZvbHVtZTogMC43IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmNyZWFyUHVlcnRhRmluYWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhclB1ZXJ0YUZpbmFsKCkge1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDk0MCwgMzcwLCBudWxsKTtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7IFxyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuc2V0QWxwaGEoMC4wKTsgXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUsIHRoaXMucHVlcnRhRmluYWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnanVnYWRvckVuUHVlcnRhRmluYWwnLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLCB0aGlzLnB1ZXJ0YUZpbmFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2p1Z2Fkb3JFblB1ZXJ0YUZpbmFsJyxcclxuICAgICAgICAgICAgICAgIHBsYXllcjogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTsgIFxyXG4gICAgfSAgICAgICBcclxuXHJcbiAgICBlbnRyYXJQdWVydGFGaW5hbChkZXNhY3RpdmFkbywgZ2FuYWRvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGVzYWN0aXZhZG86XCIsIGRlc2FjdGl2YWRvKTsgXHJcbiAgICAgICAgaWYgKGRlc2FjdGl2YWRvWzBdICYmIGRlc2FjdGl2YWRvWzFdKSB7IC8vY2FtYmlhciBkZSBlc2NlbmEgc29sbyBzaSBhbWJvcyBqdWdhZG9yZXMgaGFuIGxsZWdhZG8gYSBsYSBwdWVydGEgZmluYWxcclxuICAgICAgICAgICAgLy8gUGFyYXIgeSBkZXN0cnVpciBzb25pZG9zIGRlIHBhc29zXHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzKSB3cy5kZXN0cm95KCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAvLyBQYXJhciBCR01cclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuYmdtICYmICh0aGlzLmJnbS5pc1BsYXlpbmcgfHwgdGhpcy5iZ20uaXNQYXVzZWQpKSB0aGlzLmJnbS5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgLy8gRmFsbGJhY2s6IHBhcmFyIGN1YWxxdWllciBpbnN0YW5jaWEgcG9yIGNsYXZlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnd2FsaycpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2JnbScpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRGVjaXNpb25TY2VuZScsIHtlbGVjY2lvbjogZ2FuYWRvciwganVnYWRvcjogdGhpcy5wbGF5ZXJSb2xlLCB3czogdGhpcy53cywgbW9kbzonb25saW5lJ30pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgY29uc3QgbWFnbzEgPW5ldyBNYWdvKHRoaXMsICdwbGF5ZXIxJywgIDUwLCA0MDAsICdpZGxlX0F6dWwnKTtcclxuICAgICAgIGNvbnN0IG1hZ28yID0gIG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIyJywgOTUwLCA0MDAsICdpZGxlX1Jvam8nKTtcclxuICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBtYWdvMSk7XHJcbiAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgbWFnbzIpO1xyXG4gICAgfVxyXG5cclxuICAgIGVuZEdhbWUoaWQpIHtcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAyNDAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uLnNldFNjYWxlKDAuMSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKG1hZ28gPT4ge1xyXG4gICAgICAgICAgICBtYWdvLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgLy8gRGV0ZW5lciBsYSBtdXNpY2EgZGUgZm9uZG9cclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRvID0gaWQgPT09ICdwbGF5ZXIxJyA/ICdFbCBqdWdhZG9yIDFcXG4gIGhhIG11ZXJ0bycgOiAnIEVsIGp1Z2Fkb3IgMlxcbiAgaGEgbXVlcnRvJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjUwLCB0ZXh0bywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcgI2ZmMDAwMGZmJyxcclxuXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTUpOyBcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICdNZW7DuicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAyZmY4OWZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ3BsYXllckRpc2Nvbm5lY3RlZCcgfSkgKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7IC8vIGNlcnJhciBsYSBjb25leGnDs24gZGVzcHXDqXMgZGUgdW4gYnJldmUgcmV0cmFzb1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKFwiR2FtZVNjZW5lT1wiKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKFwiUGF1c2VTY2VuZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRhw7FvSnVnTGVmdCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIxID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIHBsYXllcjEudmlkYS0tO1xyXG4gICAgICAgIHRoaXMuaGVhbHRoTGVmdC5zZXRUZXh0KHBsYXllcjEudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRWwganVnYWRvciAxIGhhIHJlY2liaWRvIGRhw7FvJyk7XHJcblxyXG4gICAgICAgIC8vIEF2aXNhciBhbCBzZXJ2aWRvciBcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ2Rhw7FvSnVnYWRvcicsXHJcbiAgICAgICAgICAgIHBsYXllcjogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICB2aWRhOiBwbGF5ZXIxLnZpZGFcclxuICAgICAgICB9KTsgXHJcblxyXG4gICAgICAgIC8vIGNvbXByb2JhciBzaSBoYSBtdWVydG9cclxuICAgICAgICBpZiAocGxheWVyMS52aWRhIDw9IDApIHRoaXMuZW5kR2FtZSgncGxheWVyMScpO1xyXG4gICAgfVxyXG5cclxuICAgIGRhw7FvSnVnUmlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICBwbGF5ZXIyLnZpZGEtLTtcclxuICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0LnNldFRleHQocGxheWVyMi52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbCBqdWdhZG9yIDIgaGEgcmVjaWJpZG8gZGHDsW8nKTtcclxuXHJcbiAgICAgICAgLy8gQXZpc2FyIGFsIHNlcnZpZG9yIFxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAnZGHDsW9KdWdhZG9yJyxcclxuICAgICAgICAgICAgcGxheWVyOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgIHZpZGE6IHBsYXllcjIudmlkYVxyXG4gICAgICAgIH0pOyBcclxuXHJcbiAgICAgICAgLy8gY29tcHJvYmFyIHNpIGhhIG11ZXJ0byAgICAgICAgXHJcbiAgICAgICAgaWYgKHBsYXllcjIudmlkYSA8PSAwKSB0aGlzLmVuZEdhbWUoJ3BsYXllcjInKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZVN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lTycgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKGRhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnBvY2lvbmVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IGRhdGEucG9jaW9uZXM7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTaW5jcm9uaXphciBjYW1iaW9zIGRlbCBpbnZlbnRhcmlvIGNvbiBlbCBvdHJvIGp1Z2Fkb3JcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdhY3R1YWxpemFySW52ZW50YXJpbycsXHJcbiAgICAgICAgICAgICAgICBpbnZlbnRhcmlvOiB0aGlzLmludmVudGFyaW9cclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgIG5ldyBQYXVzZUdhbWVDb21tYW5kKHRoaXMsIG5ld1BhdXNlU3RhdGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gV0VCU09DS0VUU1xyXG4gICAgc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgcGFyc2VhciBtZW5zYWplIFdlYnNvY2tldDonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25leGnDs24gV2ViU29ja2V0IGNlcnJhZGEnKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGUgV2ViU29ja2V0IDonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nYW1lRW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICd1c2VybmFtZXMnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY2liaWRvcyB1c2VybmFtZXM6JywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2FsVXNlcm5hbWUgPSBkYXRhLnBsYXllcjE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVVc2VybmFtZSA9IGRhdGEucGxheWVyMjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFVzZXJuYW1lID0gZGF0YS5wbGF5ZXIyO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlVXNlcm5hbWUgPSBkYXRhLnBsYXllcjE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3NldFVzZXJuYW1lJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNpYmlkbyB1c2VybmFtZTonLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnBsYXllclJvbGUgIT09IHRoaXMucGxheWVyUm9sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlVXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VybmFtZSByZW1vdG8gYWN0dWFsaXphZG86JywgdGhpcy5yZW1vdGVVc2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ21vdmltaWVudG9KdWdhZG9yJzoge1xyXG4gICAgICAgICAgICAgICAgLy8gSWdub3JhciBtZW5zYWplcyBxdWUgcmVmbGVqYW4gZWwgcHJvcGlvIG1vdmltaWVudG8gbG9jYWxcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnBsYXllciA9PT0gdGhpcy5wbGF5ZXJSb2xlKSBicmVhaztcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yZW1vdGVQbGF5ZXIpIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVdhbGsgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KGRhdGEucGxheWVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlzTW92aW5nICYmIGRhdGEuZGlyZWN0aW9uICE9PSAnc3RvcCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3RlV2FsayAmJiAhcmVtb3RlV2Fsay5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlV2Fsay5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZW1vdGVXYWxrICYmIHJlbW90ZVdhbGsuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlV2Fsay5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zcHJpdGUueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS5mbGlwWCA9IGRhdGEuZmxpcFg7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlzTW92aW5nICYmIGRhdGEuZGlyZWN0aW9uICE9PSAnc3RvcCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdnYW1lT3Zlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEdhbWUoZGF0YS53aW5uZXJJZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAgICAgIFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNhc2UgJ2Rhw7FvJzogXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURhw7FvKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdJbnZlbnRhcmlvJzoge1xyXG4gICAgICAgICAgICAgICAgLy8gY2FtYmlvcyBkZSBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsbGF2ZUFudGVzUmVjb2dpZGEgPSB0aGlzLmludmVudGFyaW9bMF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlc3RyZWxsYTFBbnRlc1RlbmlkYSA9IHRoaXMuaW52ZW50YXJpb1sxMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlc3RyZWxsYTJBbnRlc1RlbmlkYSA9IHRoaXMuaW52ZW50YXJpb1sxMl07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IGRhdGEuaW52ZW50YXJpbztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gU2kgbGEgbGxhdmUgZnVlIHJlY29naWRhLCBkZXN0cnVpcmxhIGVuIGVsIGNsaWVudGUgcmVtb3RvXHJcbiAgICAgICAgICAgICAgICBpZiAoIWxsYXZlQW50ZXNSZWNvZ2lkYSAmJiBkYXRhLmludmVudGFyaW9bMF0gJiYgdGhpcy5sbGF2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGxhdmUgcmVjb2dpZGEgcG9yIGVsIG90cm8ganVnYWRvclwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxsYXZlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gU2kgbGEgZXN0cmVsbGEgMSBmdWUgcmVjb2dpZGFcclxuICAgICAgICAgICAgICAgIGlmICghZXN0cmVsbGExQW50ZXNUZW5pZGEgJiYgZGF0YS5pbnZlbnRhcmlvWzExXSAmJiB0aGlzLmVzdHJlbGxhMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgMSByZWNvZ2lkYSBwb3IgZWwgb3RybyBqdWdhZG9yXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGExLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uY2Uuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gU2kgbGEgZXN0cmVsbGEgMiBmdWUgcmVjb2dpZGEgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWVzdHJlbGxhMkFudGVzVGVuaWRhICYmIGRhdGEuaW52ZW50YXJpb1sxMl0gJiYgdGhpcy5lc3RyZWxsYTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdHJlbGxhIDIgcmVjb2dpZGEgcG9yIGVsIG90cm8ganVnYWRvclwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2NlLnNldEFscGhhKDEuMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFNpIGxhIGVzdHJlbGxhIDEgZnVlIGNvbG9jYWRhXHJcbiAgICAgICAgICAgICAgICBpZiAoZXN0cmVsbGExQW50ZXNUZW5pZGEgJiYgIWRhdGEuaW52ZW50YXJpb1sxMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdHJlbGxhIDEgY29sb2NhZGEgcG9yIGVsIG90cm8ganVnYWRvclwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3RvbjEpIHRoaXMuYm90b24xLnNldFRleHR1cmUoJ2JvdG9uQ1InKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbmNlKSB0aGlzLm9uY2Uuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gU2kgbGEgZXN0cmVsbGEgMiBmdWUgY29sb2NhZGFcclxuICAgICAgICAgICAgICAgIGlmIChlc3RyZWxsYTJBbnRlc1RlbmlkYSAmJiAhZGF0YS5pbnZlbnRhcmlvWzEyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgMiBjb2xvY2FkYSBwb3IgZWwgb3RybyBqdWdhZG9yXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdG9uMikgdGhpcy5ib3RvbjIuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvY2UpIHRoaXMuZG9jZS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdHVhbGl6YXJJbnZlbnRhcmlvRW5QYW50YWxsYSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnZlbnRhcmlvIGFjdHVhbGl6YWRvIGRlc2RlIGVsIHNlcnZpZG9yXCIsIHRoaXMuaW52ZW50YXJpbyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdib3RvbkNGJzpcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmIgPT09IDEpIHRoaXMuYm90b24xQWN0aXZhZG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5iID09PSAyKSB0aGlzLmJvdG9uMkFjdGl2YWRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tcHJvYmFyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZGVzYWN0aXZhckNGJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdsT3BvbmVudGUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sT3BvbmVudGUgPSBkYXRhLnZhbG9yO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG5cclxuICAgICAgICAgICAgY2FzZSAndXNhckNhbGRlcm8nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDYWxkZXJvKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdzaXplJzogICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5lc3RhZG8gPT09ICdwZXF1ZcOxbycpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZXN0YWRvX25vcm1hbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZvbHZlciBhIGFjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuZW5hYmxlQm9keShmYWxzZSwgMCwgMCwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG5cclxuICAgICAgICAgICAgY2FzZSAncHVlcnRhRmluYWwnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQdWVydGFGaW5hbChkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZmluYWwnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaW5hbFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmVzY2VuYSA9PT0gMSkgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLmVzY2VuYSA9PT0gMikgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMlNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuc2NlbmUuc3RhcnQoJ0ZpbmFsQlNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0RlY2lzaW9uU2NlbmUnKTsgXHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01lbnNhamUgV2ViU29ja2V0IGRlc2Nvbm9jaWRvOicsIGRhdGEpO1xyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vdGhpcy5iYWxsLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwyMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMywgMC4yNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsICdGYWxsbyBwb3IgZGVzY29uZXhpw7NuJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNTAsICdMYSBwYXJ0aWRhIGhhIGZpbmFsaXphZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGHDsW8oZGF0YSl7XHJcbiAgICAgICAgY29uc3QgbWFnbyA9IHRoaXMucGxheWVycy5nZXQoZGF0YS5wbGF5ZXIpO1xyXG4gICAgICAgIGlmICghbWFnbykgcmV0dXJuO1xyXG5cclxuICAgICAgICBtYWdvLnZpZGEgPSBkYXRhLnZpZGE7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnBsYXllciA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoTGVmdC5zZXRUZXh0KGRhdGEudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0LnNldFRleHQoZGF0YS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1hZ28udmlkYSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLnBsYXllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNhbGRlcm8oZGF0YSkge1xyXG4gICAgICAgIC8vIHZvbHZlciBhIHBvbmVyIGEgZmFsc2UgdG9kb3MgbG9zIGVsZW1lbnRvcyBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5pbnZlbnRhcmlvLmxlbmd0aCAtIDI7IGkrKykgeyAvLyBzZSBzYWx0YSBsYSBsbGF2ZSB5IGxhcyBlc3RyZWxsYXMgcG9ycXVlIG5vIHNlIHV0aWxpemFuIHBhcmEgY3JlYXIgbGEgcG9jaW9uXHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1tpXSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMudW5vLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMuZG9zLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICB0aGlzLmN1YXRyby5zZXRBbHBoYSgwLjIpOyAgXHJcbiAgICAgICAgdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2Vpcy5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2lldGUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5vY2hvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5kaWV6LnNldEFscGhhKDAuMik7IFxyXG5cclxuICAgICAgICBpZiAoZGF0YS5leGl0bykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW8gY3JlYWRhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmRpc2FibGVCb2R5KCk7IC8vIGRlc2FjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm8gcGFyYSBtaWVudHJhcyBlc3TDqW4gcGVxdWXDsW9zIHB1ZWRhbiBhdHJhdmVzYXJsbyBcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncGVxdWXDsW8nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZXN0YWRvX25vcm1hbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIHRpZW5lcyBsYXMgcG9jaW9uZXMgbmVjZXNhcmlhcyBwYXJhIGNyZWFyIGxhIHBvY2nDs24gZGUgZGlzbWludWlyIHRhbWHDsW9cIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2V4cGxvc2lvbicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmp1Z2Fkb3JEYcOxYWRvID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhw7FvSnVnTGVmdCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYcOxb0p1Z1JpZ2h0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIGhhbmRsZVB1ZXJ0YUZpbmFsKGRhdGEpIHtcclxuICAgICAgICBsZXQgd2Fsa1M7XHJcbiAgICAgICAgaWYgKGRhdGEuanVnYWRvciA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzYWN0aXZhZG9bMF0gPSB0cnVlOyAvLyBlbCBwZXJzb25hamUgeWEgaGEgZW50cmFkbyBwb3IgbGEgcHVlcnRhIHkgaGEgZGVzYXBhcmVjaWRvXHJcbiAgICAgICAgICAgIHdhbGtTID0gdGhpcy53YWxrU291bmRzLmdldCgncGxheWVyMScpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2FjdGl2YWRvWzFdID0gdHJ1ZTsgLy8gZWwgcGVyc29uYWplIHlhIGhhIGVudHJhZG8gcG9yIGxhIHB1ZXJ0YSB5IGhhIGRlc2FwYXJlY2lkb1xyXG4gICAgICAgICAgICB3YWxrUyA9IHRoaXMud2Fsa1NvdW5kcy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3YWxrUykge1xyXG4gICAgICAgICAgICB0cnkgeyBpZiAod2Fsa1MuaXNQbGF5aW5nKSB3YWxrUy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZW50cmFyUHVlcnRhRmluYWwodGhpcy5kZXNhY3RpdmFkbywgZGF0YS5nYW5hZG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuYm90b24gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDQwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uLnNldFNjYWxlKDAuMTUsIDAuMSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDAwLCAnVm9sdmVyIGFsIE1lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2NjY2NjYycpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNmZmZmZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ3BsYXllckRpc2Nvbm5lY3RlZCcgfSkgKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2VycmFuZG8gY29uZXhpw7NuIFdlYlNvY2tldC4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbmV4acOzbiBXZWJTb2NrZXQgY2VycmFkYS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTsgLy8gY2VycmFyIGxhIGNvbmV4acOzbiBkZXNwdcOpcyBkZSB1biBicmV2ZSByZXRyYXNvXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoXCJHYW1lU2NlbmVPXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoXCJQYXVzZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93VXNlcm5hbWVzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxvY2FsUGxheWVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVXNlcm5hbWVUZXh0ID0gdGhpcy5hZGQudGV4dChcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLngsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS55IC0gMTAwLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyMwMGZmMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIGxvY2FsVXNlcm5hbWVUZXh0LnNldERlcHRoKDEwMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFVzZXJuYW1lVGV4dC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVtb3RlUGxheWVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW90ZVVzZXJuYW1lID0gdGhpcy5yZW1vdGVVc2VybmFtZSB8fCAnT3BvbmVudGUnO1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdGVVc2VybmFtZVRleHQgPSB0aGlzLmFkZC50ZXh0KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLngsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zcHJpdGUueSAtIDEwMCxcclxuICAgICAgICAgICAgICAgIHJlbW90ZVVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyMwMGZmMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIHJlbW90ZVVzZXJuYW1lVGV4dC5zZXREZXB0aCgxMDApO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMzAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVtb3RlVXNlcm5hbWVUZXh0LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTG9naW5TY2VuZSB9IGZyb20gJy4vc2NlbmVzL0xvZ2luU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdHNTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEhpc3RvcmlhU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9IaXN0b3JpYVNjZW5lLmpzJztcclxuaW1wb3J0IHsgTGlicmVyaWFTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0xpYnJlcmlhU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb250cm9sU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db250cm9sU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBEZWNpc2lvblNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRGVjaXNpb25TY2VuZS5qcyc7XHJcbmltcG9ydCB7IEZpbmFsQlNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRmluYWxCU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBGaW5hbE0xU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9GaW5hbE0xU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBGaW5hbE0yU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9GaW5hbE0yU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBTdGF0c1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvU3RhdHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzJztcclxuaW1wb3J0IFNhbGFEZUVzcGVyYSBmcm9tICcuL3NjZW5lcy9TYWxhRGVFc3BlcmEuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmVPIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lTy5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiAxMDAwLFxyXG4gICAgaGVpZ2h0OiA1NjAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeTogMjAwMDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRvbToge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbIExvZ2luU2NlbmUsIE1lbnVTY2VuZSwgR2FtZVNjZW5lTywgR2FtZVNjZW5lLCBMaWJyZXJpYVNjZW5lLCAgUGF1c2VTY2VuZSwgQ3JlZGl0c1NjZW5lLCBIaXN0b3JpYVNjZW5lLCBDb250cm9sU2NlbmUsIERlY2lzaW9uU2NlbmUsIEZpbmFsQlNjZW5lLCBGaW5hbE0xU2NlbmUsIEZpbmFsTTJTY2VuZSwgU3RhdHNTY2VuZSwgQ29ubmVjdGlvbkxvc3RTY2VuZSwgU2FsYURlRXNwZXJhIF0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDdkZGZmZmYnLFxyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUGhhc2VyIiwiU1RPUkFHRV9LRVkiLCJnZXRMb2NhbFN0YXRzIiwidXNlcm5hbWUiLCJzdGF0cyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJhbGxTdGF0cyIsIkpTT04iLCJwYXJzZSIsInRvdGFsUGFydGlkYXMiLCJ0aWVtcG9Ub3RhbCIsInBhcnRpZGFzIiwidWx0aW1hQWN0dWFsaXphY2lvbiIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImVycm9yIiwiY29uc29sZSIsImdldExvY2FsR2FtZVN0YXRzIiwiRXJyb3IiLCJtb2RvIiwidGllbXBvUHJvbWVkaW8iLCJBUElfQkFTRV9VUkwiLCJhc3luYyIsInJlY29yZEdhbWVTZXNzaW9uIiwiZHVyYXRpb25NcyIsIm1vZGUiLCJsb2NhbFJlc3VsdCIsInB1c2giLCJkdXJhY2lvbiIsImZlY2hhIiwibGVuZ3RoIiwic2xpY2UiLCJwYXJzZWRTdGF0cyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzYXZlTG9jYWxTdGF0cyIsImxvZyIsInRvRml4ZWQiLCJwYXJ0aWRhc0p1Z2FkYXMiLCJ1bHRpbWFQYXJ0aWRhIiwicmVjb3JkTG9jYWxHYW1lU2Vzc2lvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIm9rIiwic2VydmVyUmVzdWx0IiwianNvbiIsInNpbmNyb25pemFkb1NlcnZpZG9yIiwiZGF0b3NTZXJ2aWRvciIsIndhcm4iLCJMb2dpblNjZW5lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwiZm9uZG8iLCJhZGQiLCJzZXRTY2FsZSIsImxvZ2luRm9ybSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ1c2VybmFtZUlucHV0IiwicGFzc3dvcmRJbnB1dCIsImxvZ2luQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwidHJpbSIsImxvZ2luVXNlciIsInNlc3Npb25TdG9yYWdlIiwicmVtb3ZlIiwidGltZSIsImRlbGF5ZWRDYWxsIiwic2NlbmUiLCJzdGFydCIsIm1lc3NhZ2UiLCJhbGVydCIsImUiLCJjbGljayIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwid2luZG93IiwiY3VycmVudFVzZXJuYW1lIiwibG9nb3V0VXNlciIsInJlbW92ZUl0ZW0iLCJzdG9wUG9sbGluZyIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsImRhdGEiLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInJlbW92ZUxpc3RlbmVyIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwiZ2V0U3RhdHVzIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiTWVudVNjZW5lIiwiYXVkaW8iLCJGb250RmFjZSIsInRoZW4iLCJsb2FkZWRGb250IiwiZm9udHMiLCJjYXRjaCIsInNvdW5kIiwic3RvcEJ5S2V5IiwiZXJyIiwiZ2FtZSIsInBsYXkiLCJ2b2x1bWUiLCJsb29wIiwidGl0dWxvIiwiYm90b24xIiwiYm90b24yIiwiYm90b24zIiwiYm90b240IiwiYm90b241IiwidGV4dCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImNvbG9yIiwic2V0T3JpZ2luIiwic2V0QW5nbGUiLCJsb2NhbEJ0biIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsIm9uIiwic2V0U3R5bGUiLCJmaWxsIiwib25saW5lQnRuIiwic3RvcCIsImNyZWRpdG9zQnRuIiwiaGlzdG9yaWFCdG4iLCJjb250cm9sQnRuIiwib3JpZ2luYWxTY2VuZSIsImNvbm5lY3Rpb25UZXh0IiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJpc0FjdGl2ZSIsInNldFRleHQiLCJzZXRDb2xvciIsInNodXRkb3duIiwiTWFnbyIsImlkIiwieCIsInkiLCJpZFNwcml0ZSIsInZpZGEiLCJpZGxlIiwiZXN0YWRvX25vcm1hbCIsImJhc2VXaWRodCIsImJhc2VIZWlnaHQiLCJiYXNlU3BlZWQiLCJpc0p1bXBpbmciLCJqdW1wVmVsb2NpdHkiLCJncm91bmRZIiwic3ByaXRlIiwicGh5c2ljcyIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsImFsbG93R3Jhdml0eSIsInNldFNpemUiLCJzZXRPZmZzZXQiLCJhbmRhcl9hbmltYWNpb24iLCJhbmltcyIsImlzUGxheWluZyIsImV4aXN0cyIsImFuZGFyX2FuaW1hY2lvbl9wYXJhciIsInNldFRleHR1cmUiLCJqdW1wIiwic2V0VmVsb2NpdHlZIiwidXBkYXRlIiwiZGVsdGEiLCJ2ZWxvY2l0eSIsInNjYWxlIiwic2V0UG9zaXRpb24iLCJDb21tYW5kUHJvY2Vzc29yIiwicGxheWVycyIsIk1hcCIsImdhbWVTY2VuZSIsInNldFBsYXllcnMiLCJzZXRHYW1lU2NlbmUiLCJwcm9jZXNzIiwiY29tbWFuZCIsImV4ZWN1dGUiLCJDb21tYW5kIiwic2VyaWFsaXplIiwiZ2V0UGxheWVyIiwiTW92ZU1hZ29Db21tYW5kIiwibWFnbyIsImRpcmVjdGlvbiIsInNhbHRvIiwic2V0VmVsb2NpdHlYIiwiUGF1c2VHYW1lQ29tbWFuZCIsImlzUGF1c2VkIiwic2V0UGF1c2VTdGF0ZSIsIkdhbWVTY2VuZSIsImluaXQiLCJpbnB1dE1hcHBpbmdzIiwiZXNjV2FzRG93biIsImxQdWxzYWRhIiwicHJvY2Vzc29yIiwiY29mcmVBYmllcnRvIiwid2Fsa1NvdW5kcyIsImdhbWVTdGFydFRpbWUiLCJnYW1lTW9kZSIsImludmVudGFyaW8iLCJmcmFtZXMiLCJmcmFtZVJhdGUiLCJyZXBlYXQiLCJiZ20iLCJzZXQiLCJldmVudHMiLCJ3cyIsIm9uY2UiLCJkZXN0cm95IiwiY2xlYXIiLCJjcmVhckVzY2VuYXJpbyIsImNyZWFyUGxhdGFmb3JtYXMiLCJjcmVhckJhcnJlcmFJbnZpc2libGUiLCJzZXRVcFBsYXllcnMiLCJlc3RhYmxlY2VyQ29saXNpb25lcyIsImludmVudGFyaW9FblBhbnRhbGxhIiwiaGVhbHRoTGVmdCIsImhlYWx0aFJpZ2h0IiwiZXNjS2V5IiwiaW5wdXQiLCJrZXlib2FyZCIsImFkZEtleSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJFU0MiLCJsa2V5IiwiTCIsInFrZXkiLCJRIiwiaXNEb3duIiwidG9nZ2xlUGF1c2UiLCJtYXBwaW5nIiwicGxheWVySWQiLCJ3YWxrU291bmQiLCJpc01vdmluZyIsInVwS2V5T2JqIiwiZG93bktleU9iaiIsImxlZnRLZXlPYmoiLCJmbGlwWCIsInJpZ2h0S2V5T2JqIiwianVtcE9iaiIsIm1vdmVDb21tYW5kIiwidW5vIiwic2V0QWxwaGEiLCJkb3MiLCJ0cmVzIiwiY3VhdHJvIiwiY2luY28iLCJzZWlzIiwic2lldGUiLCJvY2hvIiwibnVldmUiLCJkaWV6Iiwic3VlbG8iLCJzZXRJbW1vdmFibGUiLCJwYXJlZCIsImVzdGFudGVyaWEiLCJib2xhQ3Jpc3RhbCIsImNhbGRlcm8iLCJjYW1wb0Z1ZXJ6YSIsImNvZnJlIiwibGxhdmUiLCJwZXJnYW1pbm8iLCJwbGFudGEiLCJwb2Npb25lcyIsInZlbGFzIiwibGlicm9zIiwiZXN0cmVsbGExIiwiZXN0cmVsbGEyIiwiYmFycmVyYUludmlzaWJsZSIsInN0YXRpY0ltYWdlIiwic2V0VmlzaWJsZSIsImVzdGFudGVyaWFDb2xsIiwic2V0QWxsb3dHcmF2aXR5IiwiY2FsZGVyb0NvbGwiLCJzZXRDaXJjbGUiLCJwbGF0YWZvcm1hcyIsInN0YXRpY0dyb3VwIiwicGxheWVyIiwiY29sbGlkZXIiLCJvdmVybGFwIiwiY2VybyIsInBhdXNlIiwibGF1bmNoIiwianVnYWRvciIsImlzTW92aW5nVXAiLCJKdXN0RG93biIsImVsZW1SZWNvZ2lkb3MiLCJmaWx0ZXIiLCJlbGVtIiwibGVuZ2h0IiwiZGlzYWJsZUJvZHkiLCJCZXR3ZWVuIiwiaSIsImFicmlyQ29mcmUiLCJyZWNvZ2VyRXN0cmVsbGEiLCJjb2xvY2FyRXN0cmVsbGEiLCJib3RvbjFBY3RpdmFkbyIsImFicmlyQ2FtcG9GdWVyemEiLCJib3RvbjJBY3RpdmFkbyIsImRvY2UiLCJuIiwiZW5hYmxlQm9keSIsInRleHR1cmUiLCJjcmVhclB1ZXJ0YUZpbmFsIiwicHVlcnRhRmluYWwiLCJkZXNhY3RpdmFkbyIsImVudHJhclB1ZXJ0YUZpbmFsIiwid3MxIiwid3MyIiwibGVmdE1hZ28iLCJyaWdodE1hZ28iLCJ1cEtleSIsImRvd25LZXkiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJtYXAiLCJjb25maWciLCJlbmRHYW1lIiwicmVjdGFuZ2xlIiwiYm90b24iLCJzZXRWZWxvY2l0eSIsInRleHRvIiwibWVudUJ0biIsInBsYXllcjEiLCJwbGF5ZXIyIiwicmVzdW1lIiwiaXRlbSIsIm5ld1BhdXNlU3RhdGUiLCJQYXVzZVNjZW5lIiwicmVzdW1lQnRuIiwib3JpZ1NjZW5lIiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJzZW5kIiwidHlwZSIsInNldFRpbWVvdXQiLCJjbG9zZSIsIkNyZWRpdHNTY2VuZSIsInBlcmdhbWlubzEiLCJSZXR1cm5CdG4iLCJIaXN0b3JpYVNjZW5lIiwiTGlicmVyaWFTY2VuZSIsImJhbGwiLCJhYnJpciIsImRhdG9zIiwicG9jaW9uZXNSZWNvZ2lkYXMiLCJwb2Npb25BbSIsInBvY2lvbk4iLCJwb2Npb25NIiwicG9jaW9uUiIsInBvY2lvblYiLCJwb2Npb25BeiIsImxpYnJvIiwiYWJpciIsInBhZGRsZSIsIkNvbnRyb2xTY2VuZSIsInBlcmdhbWlubzIiLCJwZXJnYW1pbm8zIiwiRGVjaXNpb25TY2VuZSIsImZvbmRvRCIsInNlbGVjdG9yIiwiZWxlY2Npb24iLCJidG4xIiwiYnRuMiIsImVzY2VuYSIsIkZpbmFsQlNjZW5lIiwiZGVjaXNpb25TY2VuZSIsImdhbWVEdXJhdGlvbiIsImR1cmF0aW9uIiwiZm9uZG9DIiwiYnRuIiwiRmluYWxNMVNjZW5lIiwiZm9uZG9fMU0iLCJGaW5hbE0yU2NlbmUiLCJmb25kb18yTSIsIlN0YXRzU2NlbmUiLCJsYXN0R2FtZUR1cmF0aW9uIiwic2V0RGVwdGgiLCJsYXN0R2FtZVNlY29uZHMiLCJzZXJ2ZXJTdGF0cyIsImZ1ZW50ZSIsImdldFVzZXJHYW1lU3RhdHMiLCJhdmdTZWNvbmRzIiwiZm9udFN0eWxlIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJwcmV2aW91c1NjZW5lIiwic3RhdHVzVGV4dCIsImF0dGVtcHRDb3VudCIsImF0dGVtcHRUZXh0IiwiZG90Q291bnQiLCJhZGRFdmVudCIsImRlbGF5IiwiZG90cyIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0IiwiU2FsYURlRXNwZXJhIiwicmVzZXRTdGF0ZSIsInJvb21Db2RlIiwicm9vbUlkIiwiZ2FtZVN0YXJ0ZWQiLCJyb29tQ29kZVRleHQiLCJhY3RpdmUiLCJjb2RlSW5wdXQiLCJjb250YWlucyIsImNvbm5lY3RUb1NlcnZlciIsImNyZWFySW50ZXJmYXoiLCJ3aWR0aCIsImNhbWVyYXMiLCJtYWluIiwiaGVpZ2h0IiwidGl0dWxvQ3JlYXJTYWxhIiwiYm90b25DcmVhclNhbGEiLCJjcmVhclNhbGFUZXh0IiwiY3JlYXJTYWxhIiwidGl0dWxvQ29sYSIsImJvdG9uVW5pcnNlQ29sYSIsInVuaXJzZUNvbGFUZXh0IiwidW5pcnNlQ29sYSIsInRpdHVsb0NvZGlnbyIsImNyZWF0ZUNvZGVJbnB1dCIsImJvdG9uVW5pcnNlQ29kaWdvIiwidW5pcnNlQ29kaWdvVGV4dCIsInVuaXJzZVNhbGEiLCJ2b2x2ZXJCdXR0b24iLCJpbnB1dEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGxhY2Vob2xkZXIiLCJtYXhMZW5ndGgiLCJzdHlsZSIsImNzc1RleHQiLCJ0b1VwcGVyQ2FzZSIsImFwcGVuZENoaWxkIiwicG9zaXRpb25JbnB1dCIsInJlY3QiLCJjYW52YXMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0Iiwicm91bmQiLCJpbnB1dFdpZHRoIiwidG9wIiwiaW5wdXRIZWlnaHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlU2VydmVyTWVzc2FnZSIsInBvc2l0aW9uIiwiY29kZSIsIm1vc3RyYXJCb3RvbmVzIiwicGxheWVyUm9sZSIsInJvbGUiLCJpbml0aWFsQmFsbCIsIm9ubWVzc2FnZSIsIm9jdWx0YXJCb3RvbmVzIiwiZGlzYWJsZUludGVyYWN0aXZlIiwiZGlzcGxheSIsIkNPTk5FQ1RJTkciLCJvbm9wZW4iLCJvbmVycm9yIiwib25jbG9zZSIsIndzVXJsIiwibG9jYXRpb24iLCJob3N0IiwiZXZlbnQiLCJsZWF2ZVF1ZXVlIiwiR2FtZVNjZW5lTyIsImxvY2FsUGxheWVyIiwicmVtb3RlUGxheWVyIiwiZXN0cmVsbGEiLCJsT3BvbmVudGUiLCJsbGF2ZVJlY29naWRhIiwiZXN0cmVsbGExUmVjb2dpZGEiLCJlc3RyZWxsYTJSZWNvZ2lkYSIsImxvY2FsUGxheWVyVGV4dCIsImxvY2FsVXNlcm5hbWUiLCJyZW1vdGVVc2VybmFtZSIsInNob3dVc2VybmFtZXMiLCJjdXJzb3JzIiwiY3JlYXRlQ3Vyc29yS2V5cyIsImp1bXBLZXkiLCJTUEFDRSIsInNldHVwV2ViU29ja2V0TGlzdGVuZXJzIiwiZGlyZWNjaW9uIiwidXAiLCJkb3duIiwicmlnaHQiLCJzZW5kTWVzc2FnZSIsImxvY2FsV2FsayIsImFjdHVhbGl6YXJJbnZlbnRhcmlvRW5QYW50YWxsYSIsImVzdGFkbyIsImNvbXByb2JhckNhbXBvRnVlcnphIiwiZ2FuYWRvciIsIm1hZ28xIiwibWFnbzIiLCJnYW1lRW5kZWQiLCJyZW1vdGVXYWxrIiwid2lubmVySWQiLCJsbGF2ZUFudGVzUmVjb2dpZGEiLCJlc3RyZWxsYTFBbnRlc1RlbmlkYSIsImVzdHJlbGxhMkFudGVzVGVuaWRhIiwiYiIsInZhbG9yIiwiaGFuZGxlQ2FsZGVybyIsImhhbmRsZVB1ZXJ0YUZpbmFsIiwiY3JlYXRlTWVudUJ1dHRvbiIsImV4aXRvIiwid2Fsa1MiLCJsb2NhbFVzZXJuYW1lVGV4dCIsInJlbW90ZVVzZXJuYW1lVGV4dCIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJkb20iLCJjcmVhdGVDb250YWluZXIiLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9