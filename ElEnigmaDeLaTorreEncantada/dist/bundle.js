(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);const i="juego_magos_stats";function a(e){try{const t=localStorage.getItem(i),s=t?JSON.parse(t):{};return s[e]||(s[e]={totalPartidas:0,tiempoTotal:0,partidas:[],ultimaActualizacion:(new Date).toISOString()}),s[e]}catch(e){return console.error("Error al obtener estad√≠sticas locales:",e),{totalPartidas:0,tiempoTotal:0,partidas:[],ultimaActualizacion:(new Date).toISOString()}}}function o(e){if(!e)throw new Error("El nombre de usuario es obligatorio");const t=a(e);return{username:e,modo:"local",totalPartidas:t.totalPartidas,tiempoPromedio:t.totalPartidas>0?t.tiempoTotal/t.totalPartidas:0,tiempoTotal:t.tiempoTotal,partidas:t.partidas,ultimaActualizacion:t.ultimaActualizacion}}const n="http://localhost:3000";async function r(e,t,s="local"){const o=function(e,t){if(!e||"number"!=typeof t||t<0)throw new Error("Datos inv√°lidos para registrar la partida");const s=a(e);return s.totalPartidas++,s.tiempoTotal+=t,s.partidas.push({duracion:t,fecha:(new Date).toISOString()}),s.partidas.length>50&&(s.partidas=s.partidas.slice(-50)),function(e,t){try{const s=localStorage.getItem(i),a=s?JSON.parse(s):{};a[e]={...t,ultimaActualizacion:(new Date).toISOString()},localStorage.setItem(i,JSON.stringify(a))}catch(e){console.error("Error al guardar estad√≠sticas locales:",e)}}(e,s),console.log(`üéÆ PARTIDA LOCAL: ${e} - Duraci√≥n: ${(t/1e3).toFixed(2)}s`),console.log(`   Promedio: ${(s.tiempoTotal/s.totalPartidas/1e3).toFixed(2)}s`),{username:e,modo:"local",partidasJugadas:s.totalPartidas,tiempoPromedio:s.tiempoTotal/s.totalPartidas,ultimaPartida:t}}(e,t);if("online"===s)try{const s=await fetch(`${n}/api/users/${e}/game-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({durationMs:t})});if(s.ok){const t=await s.json();return console.log(`Partida registrada en servidor: ${e}`),{...o,modo:"online",sincronizadoServidor:!0,datosServidor:t}}{const e=await s.json();console.warn("Advertencia: No se pudo guardar en servidor:",e.error)}}catch(e){console.warn("Error al conectar con servidor, guardando solo localmente:",e)}return o}class l extends s().Scene{constructor(){super("LoginScene")}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png")}create(){this.fondo=this.add.image(500,350,"fondoM"),this.fondo.setScale(.8);const e=document.getElementById("login-form"),t=document.getElementById("username"),s=document.getElementById("password"),i=document.getElementById("loginButton");console.log("LoginScene iniciada"),e&&e.classList.add("active"),i&&i.addEventListener("click",async()=>{const i=t.value.trim();if(""!==i)try{await async function(e){const t=await fetch(`${n}/api/users/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Error al iniciar sesi√≥n")}return console.log("Login exitoso."),await t.json()}(i),console.log("Login exitoso:",i),sessionStorage.setItem("currentUsername",i),e&&e.classList.remove("active"),t.value="",s.value="",this.time.delayedCall(500,()=>{this.scene.start("MenuScene")})}catch(e){console.error("Error en login:",e.message),alert("Error: "+e.message)}else alert("Por favor ingresa un usuario")}),t&&t.addEventListener("keypress",e=>{"Enter"===e.key&&i.click()})}}const h=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling(),window.addEventListener("beforeunload",async()=>{const e=sessionStorage.getItem("currentUsername");if(e)try{await async function(e){const t=await fetch(`${n}/api/users/logout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Error al cerrar sesi√≥n")}return console.log("Logout exitoso."),await t.json()}(e),console.log("Logout autom√°tico al cerrar la ventana"),sessionStorage.removeItem("currentUsername"),sessionStorage.removeItem("currentUser")}catch(e){console.error("Error en logout autom√°tico:",e)}this.stopPolling()})}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e),e({connected:this.isConnected,count:this.connectedCount})}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>{try{t(e)}catch(e){console.error("Error en Listener:",e)}})}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime,sessionId:this.sessionId}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class d extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3"),this.load.audio("musicaMenu","/sounds/m√∫sica_MPrincipal.mp3"),new FontFace("Tagesschrift","url(/fuentes/Tagesschrift.ttf)").load().then(function(e){document.fonts.add(e)}).catch(function(e){console.error("Error loading font:",e)})}create(){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.game.sound.play("musicaMenu",{volume:.7,loop:!0}),this.fondo=this.add.image(500,350,"fondoM"),this.fondo.setScale(.8),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,300,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,350,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,400,"boton"),this.boton3.setScale(.1),this.boton4=this.add.image(500,450,"boton"),this.boton4.setScale(.1),this.boton5=this.add.image(500,500,"boton"),this.boton5.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8);const e=this.add.text(500,300,"Local",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("musicaMenu"),this.scene.start("GameScene")}),t=this.add.text(500,350,"Online",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#ff0000ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",async()=>{this.scene.stop(),this.scene.start("SalaDeEspera")}),s=this.add.text(500,400,"Cr√©ditos",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#ff9100ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("CreditsScene")}),i=this.add.text(500,450,"Historia",{fontSize:"24px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#38ffffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("HistoriaScene")}),a=this.add.text(500,500,"Controles",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{a.setStyle({fill:"#ff0dffc1"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>a.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("ControlScene",{originalScene:"MenuScene"})});this.connectionText=this.add.text(500,540,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00",fontFamily:"Tagesschrift"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},h.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&h.removeListener(this.connectionListener)}}class c{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.vida=3,this.idle=a,this.estado_normal=!0,this.baseWidht=20,this.baseHeight=100,this.baseSpeed=300,this.isJumping=!1,this.jumpVelocity=0,this.groundY=i,this.sprite=this.scene.physics.add.sprite(s,i,a),this.sprite.setScale(.35),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setSize(125,175),this.sprite.body.setOffset(880,750)}andar_animacion(){this.sprite&&this.sprite.anims&&(this.sprite.anims.isPlaying||("idle_Azul"===this.idle?this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Azul")&&this.sprite.play("andar_mago_Azul"):"idle_Rojo"===this.idle&&this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Rojo")&&this.sprite.play("andar_mago_Rojo")))}andar_animacion_parar(){this.sprite&&this.sprite.anims&&this.sprite.anims.isPlaying&&(this.sprite.anims.stop(),this.sprite.setTexture(this.idle))}jump(){this.isJumping||(this.isJumping=!0,this.groundY=this.sprite.y,this.sprite.setVelocityY(-1e5),this.sprite.body.allowGravity=!0)}update(e){this.isJumping&&this.sprite.y>=this.groundY&&this.sprite.body.velocity.y>=0&&(this.sprite.y=this.groundY,this.sprite.setVelocityY(0),this.sprite.body.allowGravity=!1,this.isJumping=!1),!1===this.estado_normal?this.sprite.setScale(.1):this.sprite.setScale(.35)}setScale(e){this.sprite.setScale(e)}setPosition(e,t){this.sprite.setPosition(e,t)}}class p{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class g{execute(){}serialize(){}getPlayer(){}}class m extends g{constructor(e,t,s){super(),this.mago=e,this.direction=t,this.salto=s}execute(){"up"===this.direction?this.mago.sprite.setVelocityY(-this.mago.baseSpeed):"down"===this.direction?this.mago.sprite.setVelocityY(+this.mago.baseSpeed):"left"===this.direction?this.mago.sprite.setVelocityX(-this.mago.baseSpeed):"right"===this.direction?this.mago.sprite.setVelocityX(+this.mago.baseSpeed):(this.mago.sprite.setVelocityY(0),this.mago.sprite.setVelocityX(0)),this.salto&&this.mago.sprite.setVelocityY(3.5*-this.mago.baseSpeed)}}class u extends g{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class f extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("peque√±o","/sounds/peque√±o.mp3")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new p,this.cofreAbierto=!1,this.walkSounds=new Map,this.gameStartTime=Date.now(),this.gameMode="local",this.username="JugadorLocal",this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(e,t){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.escWasDown=this.escKey.isDown,console.log("Holaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.lPulsada=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0),this.players.forEach(e=>{e.update(t)}),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null,i=!1;const a=this.walkSounds.get(e.playerId);let o=!1;e.upKeyObj.isDown?(s="up",o=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",o=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",o=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",o=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),a&&a.isPlaying&&a.stop()),e.jumpObj.isDown&&(t.estado_normal||(i=!0,t.andar_animacion_parar())),o&&a&&!a.isPlaying&&a.play();let n=new m(t,s,i);this.processor.process(n)}),this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1)}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameScene",pociones:this.inventario,sound:this.sound,jugador:t}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{if(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey)){let e=this.inventario.filter(e=>!0===e);3===e.length||4===e.lenght?this.inventario[3]&&this.inventario[5]&&this.inventario[7]&&(console.log("Poci√≥n de disminuir tama√±o creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("peque√±o",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poci√≥n de disminuir tama√±o"),this.sound&&this.sound.play("explosion",{volume:.5}),1===s().Math.Between(1,2)?this.da√±oJugLeft():this.da√±oJugRight());for(let e=1;e<this.inventario.length-2;e++)switch(this.inventario[e]=!1,e){case 1:this.uno.setAlpha(.2);break;case 2:this.dos.setAlpha(.2);break;case 3:this.tres.setAlpha(.2);break;case 4:this.cuatro.setAlpha(.2);break;case 5:this.cinco.setAlpha(.2);break;case 6:this.seis.setAlpha(.2);break;case 7:this.siete.setAlpha(.2);break;case 8:this.ocho.setAlpha(.2);break;case 9:this.nueve.setAlpha(.2);break;case 10:this.diez.setAlpha(.2)}}}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.boton1Activado=!0,this.abrirCampoFuerza()}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.boton2Activado=!0,this.abrirCampoFuerza()})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){this.cofreAbierto&&(console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})}))}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2)):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2)))}abrirCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&this.qkey.isDown&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal())}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0);let e=[!1,!1];this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.players.get("player1").sprite.disableBody(!0,!0),e[0]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player1");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.players.get("player2").sprite.disableBody(!0,!0),e[1]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player2");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}})}entrarPuertaFinal(e){if(e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{modo:"local"})}}setUpPlayers(){const e=new c(this,"player1",50,400,"idle_Azul"),t=new c(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",leftKey:"A",rightKey:"D",jump:"SPACE"},{playerId:"player2",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"ENTER"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Men√∫",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}da√±oJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador de la izquierda ha recibido da√±o"),e.vida<=0&&this.endGame("player1")}da√±oJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador de la derecha ha recibido da√±o"),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume(),this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}togglePause(){const e=!this.isPaused;this.processor.process(new u(this,e))}}class y extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,200,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,350,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,400,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,450,"boton"),this.boton3.setScale(.1),this.add.text(500,200,"Juego Pausado",{fontSize:"60px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5);const t=this.add.text(500,350,"Volver",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#00ff88ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),s=this.add.text(500,400,"Men√∫",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#6839b3ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{if(e&&"GameSceneO"===e.originalScene){const e=this.scene.get("GameSceneO");e&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(e.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{try{e.ws.close()}catch(e){console.warn(e)}},50))}}catch(e){console.warn(e)}try{this.game.sound.stopByKey("bgm")}catch(e){console.warn(e)}this.scene.start("MenuScene"),this.scene.stop(e.originalScene),this.scene.stop()}),i=this.add.text(500,450,"Controles",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#00eeffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("ControlScene",{originalScene:e&&e.originalScene?e.originalScene:"GameScene"})})}}class b extends s().Scene{constructor(){super("CreditsScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(500,380,"pergamino"),this.pergamino1.setScale(2),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,245,"Cr√©ditos",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,310,"Paula Ortiz Fern√°ndez",{fontSize:"24px",color:"#91ffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,355,"Daniel Corbacho Anes",{fontSize:"24px",color:"#fff132ff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,400,"Alejandro Hern√°ndez Ruiz",{fontSize:"24px",color:"#d7acffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,450,"√Ångel Berm√∫dez Fari√±as",{fontSize:"24px",color:"#ffceadff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.start("MenuScene")})}}class v extends s().Scene{constructor(){super("HistoriaScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#070707ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Historia",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,380,"Despu√©s de a√±os de entrenamiento, por fin ha llegado el momento en el que naquellos magos por\nfin iban a conseguir ser magos de verdad. Llevaban mucho tiempo prepar√°ndose y estudiando para\neste momento, y por fin van a recibir aquel elixir deseado por todo mago,\n‚Äúel elixir de la vida eterna‚Äù.\n\nSin embargo, no ser√° sencillo, a√∫n deber√°n demostrar por √∫ltima vez que est√°n hechos para obtener\nesta gran virtud. La tradici√≥n cuenta que para conseguir ser un verdadero mago ser√° necesario\nconseguir por ellos mismos este elixir adentr√°ndose en la Torre Encantada, demostrando que son\nmerecedores del t√≠tulo de mago eterno y que poseen las habilidades necesarias. La m√°s importante,\nla colaboraci√≥n, puesto que por uno solo no siempre se puede llegar al lugar deseado. \n\nPor este motivo, los j√≥venes aprendices que deseen ascender, se adentrar√°n en aquella vieja torre,\n y atravesar√°n, una a una, sus salas hasta llegar arriba del todo, d√≥nde se encuentra el elixir\nque tanto desean. En cada sala se encontrar√°n con numerosos obst√°culos que deber√°n sobrepasar \ndemostrando sus habilidades obtenidas durante todos estos a√±os de esfuerzo.",{fontSize:"16px",color:"#ffffffff"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")})}}class S extends s().Scene{constructor(){super("LibreriaScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("bolaCristalColor","/imagenes/bolaCristalColor.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("plantaColor","/imagenes/plantaColor.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("velasColor","/imagenes/velasColor.png"),this.load.image("librosColor","/imagenes/librosColor.png"),this.load.image("idle","/imagenes/mano.png")}init(){this.players=new Map,this.inputMappings=[],this.ball=null,this.abrir=!1,this.escWasDown=!1,this.datos,this.processor=new p,this.pocionesRecogidas={bolaCristal:!1,planta:!1,pocionAm:!1,pocionN:!1,pocionM:!1,pocionR:!1,pocionV:!1,pocionAz:!1,velas:!1,libro:!1}}create(e){this.mago=this.add.image(100,100,"idle"),this.mago.setScale(1.9),this.crearEscenario(),this.setUpPlayers(),this.establecerColisiones(),this.datos=e,this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(){this.escKey.isDown&&!this.escWasDown&&(this.datos.ws&&this.datos.ws.readyState===WebSocket.OPEN&&this.datos.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.datos.pociones})),this.scene.resume(this.datos.originalScene,{pociones:this.datos.pociones}),this.scene.stop()),this.abir=!1,this.lkey.isDown&&(this.abrir=!0),this.qkey.isDown&&(this.abrir=!0),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new m(t,s);this.processor.process(i)})}crearEscenario(){this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(1.7),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(440,270,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(1.7),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(485,280,"bolaCristalColor"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(1.7),this.bolaCristal.body.allowGravity=!1,this.planta=this.physics.add.image(440,450,"plantaColor"),this.planta.setImmovable(!0),this.planta.setScale(1.7),this.planta.body.allowGravity=!1,this.pocionAm=this.physics.add.image(530,165,"pocionesAm"),this.pocionAm.setImmovable(!0),this.pocionAm.setScale(1.7),this.pocionAm.body.allowGravity=!1,this.pocionN=this.physics.add.image(595,175,"pocionesN"),this.pocionN.setImmovable(!0),this.pocionN.setScale(1.7),this.pocionN.body.allowGravity=!1,this.pocionM=this.physics.add.image(280,165,"pocionesM"),this.pocionM.setImmovable(!0),this.pocionM.setScale(1.7),this.pocionM.body.allowGravity=!1,this.pocionR=this.physics.add.image(405,165,"pocionesRo"),this.pocionR.setImmovable(!0),this.pocionR.setScale(1.7),this.pocionR.body.allowGravity=!1,this.pocionV=this.physics.add.image(345,175,"pocionesV"),this.pocionV.setImmovable(!0),this.pocionV.setScale(1.7),this.pocionV.body.allowGravity=!1,this.pocionAz=this.physics.add.image(470,170,"pocionesAz"),this.pocionAz.setImmovable(!0),this.pocionAz.setScale(1.7),this.pocionAz.body.allowGravity=!1,this.velas=this.physics.add.image(350,290,"velasColor"),this.velas.setImmovable(!0),this.velas.setScale(1.7),this.velas.body.allowGravity=!1,this.libro=this.physics.add.image(370,33,"librosColor"),this.libro.setImmovable(!0),this.libro.setScale(1.7),this.libro.body.allowGravity=!1}establecerColisiones(){this.players.forEach(e=>{this.physics.add.overlap(e.sprite,this.bolaCristal,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.bolaCristal&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.bolaCristal=!0),this.bolaCristal.setAlpha(.5),this.datos.pociones[9]=!0,this.abrir=!1,console.log("BOLA CRISTAL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.planta,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.planta&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.planta=!0),this.planta.setAlpha(.5),this.datos.pociones[10]=!0,this.abrir=!1,console.log("PLANTA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAm,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAm&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAm=!0),this.pocionAm.setAlpha(.5),this.datos.pociones[6]=!0,this.abrir=!1,console.log("POCION AMARILLA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionN,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionN&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionN=!0),this.pocionN.setAlpha(.5),this.datos.pociones[7]=!0,this.abrir=!1,console.log("POCION NARANJA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionM,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionM&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionM=!0),this.pocionM.setAlpha(.5),this.datos.pociones[2]=!0,this.abrir=!1,console.log("POCION MORADA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionR,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionR&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionR=!0),this.pocionR.setAlpha(.5),this.datos.pociones[4]=!0,this.abrir=!1,console.log("POCION ROSA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionV,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionV&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionV=!0),this.pocionV.setAlpha(.5),this.datos.pociones[3]=!0,this.abrir=!1,console.log("POCION VERDE RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAz,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAz&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAz=!0),this.pocionAz.setAlpha(.5),this.datos.pociones[5]=!0,this.abrir=!1,console.log("POCION AZUL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.velas,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.velas&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.velas=!0),this.velas.setAlpha(.5),this.datos.pociones[8]=!0,this.abrir=!1,console.log("VELAS RECOGIDAS"))}),this.physics.add.overlap(e.sprite,this.libro,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.libro&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.libro=!0),this.libro.setAlpha(.5),this.datos.pociones[1]=!0,this.abrir=!1,console.log("LIBROS RECOGIDOS"))})})}setUpPlayers(){const e=new c(this,"player1",50,300,"idle");e.setScale(.08),this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT"}].map(e=>(console.log(e),{playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey])}))}}class w extends s().Scene{constructor(){super("ControlScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(220,380,"pergamino"),this.pergamino1.setScale(1.3,1.8),this.pergamino2=this.add.image(500,380,"pergamino"),this.pergamino2.setScale(1.3,1.8),this.pergamino3=this.add.image(780,380,"pergamino"),this.pergamino3.setScale(1.3,1.8),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Controles",{fontSize:"45px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(220,310,"Jugador 1:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#9be3ffff"}).setOrigin(.5),this.add.text(230,400,"W-Arriba\n A-Izquierda\n S-Abajo\n D-Derecha\n SPACE-Saltar\n Q-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,310,"Jugador 2:",{fontSize:"32px",color:"rgba(255, 99, 99, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(520,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n ENTER-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(750,310,"Online:",{fontSize:"32px",color:"rgba(141, 116, 255, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(800,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n SPACE-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{if("MenuScene"===e.originalScene){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")}else this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()})}}class x extends s().Scene{constructor(){super("DecisionScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoD","/imagenes/eleccion.jpg")}create(e){this.gameScene=this.scene.get("online"===e.modo?"GameSceneO":"GameScene"),this.gameMode=e.modo||"local",this.fondoD=this.physics.add.image(500,300,"fondoD"),this.fondoD.setImmovable(!0),this.fondoD.body.allowGravity=!1,this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.26),this.boton1=this.add.image(280,420,"boton"),this.boton1.setScale(.15),this.boton1.setAlpha(.5),this.boton2=this.add.image(730,420,"boton"),this.boton2.setScale(.15),this.boton2.setAlpha(.5),"local"===e.modo?this.selector=s().Math.Between(1,2):this.selector=e.eleccion,1===this.selector?(this.add.text(500,100,"El jugador 1 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player1"):2===this.selector&&(this.add.text(500,100,"El jugador 2 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player2"),this.add.text(500,150,"el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.add.text(500,320,"ahora deber√° elegir:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(280,420,"Compartir el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5),i=this.add.text(730,420,"Beber el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5);"online"===e.modo?this.id===e.jugador&&(t.setAlpha(1),t.setInteractive({useHandCursor:!0}),t.on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}),t.on("pointerout",()=>t.setStyle({fill:"#000000ff"})),t.on("pointerdown",()=>{e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:3})))}),i.setAlpha(1),i.setInteractive({useHandCursor:!0}),i.on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}),i.on("pointerout",()=>i.setStyle({fill:"#000000ff"})),i.on("pointerdown",()=>{1===this.selector?e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("ebviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:1}))):2===this.selector&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:2})))}),this.boton1.setAlpha(1),this.boton2.setAlpha(1)):"local"===e.modo&&(t.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("FinalBScene")}),i.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{1===this.selector?this.scene.start("FinalM1Scene"):2===this.selector&&this.scene.start("FinalM2Scene")}),this.boton1.setAlpha(1),this.boton2.setAlpha(1))}}class C extends s().Scene{constructor(){super("FinalBScene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoC","/imagenes/compartir.png"),this.load.audio("victoria","/sounds/victoria.mp3")}create(){const e=this.scene.get("DecisionScene");if(this.gameScene=e?.gameScene,this.gameMode=e?.gameMode||"local",this.gameDuration=this.gameScene?.gameStartTime?Date.now()-this.gameScene.gameStartTime:0,this.gameScene&&this.gameScene.gameStartTime){const e=this.gameDuration;r(this.gameScene.username||"JugadorLocal",e,this.gameMode).then(e=>{console.log("üìä Partida registrada:",e)}).catch(e=>console.warn("‚ö†Ô∏è No se pudo registrar la partida:",e))}this.fondoC=this.physics.add.image(500,300,"fondoC"),this.fondoC.setImmovable(!0),this.fondoC.body.allowGravity=!1,this.sound&&this.sound.play("victoria",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"Los jugadores han decidido",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"compartir el Elixir de la Vida Eterna, ahora",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ambos vivir√°n hasta la eternidad,",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,200,"y podr√°n adquirir todos los conocimientos",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,250,"existentes...",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(500,500,"Volver al men√∫ principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("victoria"),this.scene.start("StatsScene",{username:this.gameScene?.username||"JugadorLocal",mode:this.gameMode,duration:this.gameDuration})})}}class A extends s().Scene{constructor(){super("FinalM1Scene")}preload(){this.load.image("fondo_1M","/imagenes/traicion_ranaRoja.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){const e=this.scene.get("DecisionScene");if(this.gameScene=e?.gameScene,this.gameMode=e?.gameMode||"local",this.gameDuration=this.gameScene?.gameStartTime?Date.now()-this.gameScene.gameStartTime:0,this.gameScene&&this.gameScene.gameStartTime){const e=this.gameDuration;r(this.gameScene.username||"JugadorLocal",e,this.gameMode).then(e=>{console.log("üìä Partida registrada:",e)}).catch(e=>console.warn("‚ö†Ô∏è No se pudo registrar la partida:",e))}this.fondo_1M=this.physics.add.image(500,300,"fondo_1M"),this.fondo_1M.setImmovable(!0),this.fondo_1M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 1 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elecci√≥n y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const t=this.add.text(500,500,"Volver al men√∫ principal",{fontSize:"16px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("StatsScene",{username:this.gameScene?.username||"JugadorLocal",mode:this.gameMode,duration:this.gameDuration})})}}class T extends s().Scene{constructor(){super("FinalM2Scene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondo_2M","/imagenes/traicion_ranaAzul.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){const e=this.scene.get("DecisionScene");if(this.gameScene=e?.gameScene,this.gameMode=e?.gameMode||"local",this.gameDuration=this.gameScene?.gameStartTime?Date.now()-this.gameScene.gameStartTime:0,this.gameScene&&this.gameScene.gameStartTime){const e=this.gameDuration;r(this.gameScene.username||"JugadorLocal",e,this.gameMode).then(e=>{console.log("üìä Partida registrada:",e)}).catch(e=>console.warn("‚ö†Ô∏è No se pudo registrar la partida:",e))}this.fondo_2M=this.physics.add.image(500,300,"fondo_2M"),this.fondo_2M.setImmovable(!0),this.fondo_2M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 2 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elecci√≥n y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const t=this.add.text(500,500,"Volver al men√∫ principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("StatsScene",{username:this.gameScene?.username||"JugadorLocal",mode:this.gameMode,duration:this.gameDuration})})}}class R extends s().Scene{constructor(){super("StatsScene")}preload(){this.load.image("boton","/imagenes/botonTexto.png")}create(e){const t=e?.username||"Jugador",s=e?.mode||"local",i=e?.duration||0;this.boton1=this.add.image(500,450,"boton"),this.boton1.setScale(.1),this.add.rectangle(500,280,1e3,560,0).setDepth(-1).setAlpha(.7),this.add.text(500,100,"TIEMPO DE PARTIDA",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#4bffabff"}).setOrigin(.5);const a=(i/1e3).toFixed(2);this.add.text(500,200,`Esta partida: ${a}s`,{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),async function(e,t="local"){if("local"===t)return o(e);try{const t=await fetch(`${n}/api/users/${e}/stats`);if(!t.ok){const s=await t.json();return console.warn("No hay estad√≠sticas en servidor, usando locales:",s.error),o(e)}const s=await t.json();return console.log(`Estad√≠sticas de ${e}:`,s),{...s,modo:"online",fuente:"servidor"}}catch(t){return console.warn("Error al obtener estad√≠sticas del servidor, usando locales:",t),o(e)}}(t,s).then(e=>{const t="string"==typeof e.tiempoPromedio?e.tiempoPromedio:(e.tiempoPromedio/1e3).toFixed(2)+"s";this.add.text(500,280,`Promedio: ${t}`,{fontSize:"24px",fontFamily:"Tagesschrift",color:"#4bffabff",fontStyle:"bold"}).setOrigin(.5),this.add.text(500,330,`Partidas jugadas: ${e.totalPartidas}`,{fontSize:"18px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5)}).catch(e=>console.warn("Error al cargar tiempo promedio:",e));const r=this.add.text(500,450,"Volver al men√∫",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{r.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>r.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}}class I extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png")}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,180,"titulo"),this.titulo.setScale(.25),this.add.text(500,180,"CONEXI√ìN PERDIDA",{fontSize:"48px",color:"#c90000ff",fontFamily:"Tagesschrift",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(500,320,"Intentando reconectar...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(500,390,"Intentos: 0",{fontSize:"18px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},h.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await h.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),h.removeListener(this.connectionListener),this.statusText.setText("¬°Conexi√≥n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&h.removeListener(this.connectionListener)}}class z extends s().Scene{constructor(){super({key:"SalaDeEspera"}),this.ws=null}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("pergaminoTitulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("campoFuerza","/imagenes/campodefuerza.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("walk","/sounds/walk.mp3")}resetState(){this.roomCode=null,this.roomId=null,this.gameStarted=!1,this.roomCodeText&&this.roomCodeText.active&&this.roomCodeText.setText(""),this.statusText&&this.statusText.active&&this.statusText.setText(""),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.value="")}init(){this.walkSounds=new Map,this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.processor=new p,this.bgm=null,this.roomCode=null,this.roomId=null,this.gameStarted=!1}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}}),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}),this.events.on("resume",()=>{this.bgm&&!this.bgm.isPlaying&&this.bgm.resume()}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}try{this.bgm&&(this.bgm.stop(),this.bgm.destroy())}catch(e){console.warn(e)}}),this.walkSounds.clear()}),this.crearEscenario(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.game.sound.stopByKey("musicaMenu"),this.bgm=this.sound.add("bgm",{volume:.7,loop:!0}),this.bgm.play(),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.connectToServer(),console.log("codigo:",this.roomCode),this.crearInterfaz()}crearInterfaz(){const e=this.cameras.main.width,t=this.cameras.main.height;this.pergamino=this.add.image(e/2,100,"pergaminoTitulo"),this.pergamino.setScale(.25,.2),this.titulo=this.add.text(e/2,100,"Online Multiplayer",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.roomCodeText=this.add.text(e/2,150,"",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.tituloCrearSala=this.add.text(e/2,300,"Crear torre",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonCrearSala=this.add.image(e/2,340,"boton"),this.botonCrearSala.setScale(.05,.1),this.crearSalaText=this.add.text(e/2,340,"Crear",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.crearSalaText.on("pointerover",()=>{this.crearSalaText.setStyle({fill:"#ff0000"})}),this.crearSalaText.on("pointerout",()=>{this.crearSalaText.setStyle({fill:"#000000ff"})}),this.crearSalaText.on("pointerdown",()=>{this.resetState(),this.crearSala()}),this.tituloCola=this.add.text(e/2,200,"√önete a una torre...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonUnirseCola=this.add.image(e/2,240,"boton"),this.botonUnirseCola.setScale(.05,.1),this.unirseColaText=this.add.text(e/2,240,"Torre",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseColaText.on("pointerover",()=>{this.unirseColaText.setStyle({fill:"#ff0000"})}),this.unirseColaText.on("pointerout",()=>{this.unirseColaText.setStyle({fill:"#000000ff"})}),this.unirseColaText.on("pointerdown",()=>{this.resetState(),this.unirseCola()}),this.tituloCodigo=this.add.text(e/2,400,"O √∫nete con c√≥digo",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.createCodeInput(e/2-80,440),this.botonUnirseCodigo=this.add.image(e/2+110,440,"boton"),this.botonUnirseCodigo.setScale(.05,.1),this.unirseCodigoText=this.add.text(e/2+110,440,"Unirse",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseCodigoText.on("pointerover",()=>{this.unirseCodigoText.setStyle({fill:"#ff0000"})}),this.unirseCodigoText.on("pointerout",()=>{this.unirseCodigoText.setStyle({fill:"#000000ff"})}),this.unirseCodigoText.on("pointerdown",()=>{this.unirseSala()}),this.statusText=this.add.text(e/2,t/2,"",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ff0000"}).setOrigin(.5),this.add.image(e/2,520,"boton").setScale(.05,.1);const s=this.add.text(e/2,520,"Volver",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setStyle({fill:"#ff0000"})}),s.on("pointerout",()=>{s.setStyle({fill:"#000000ff"})}),s.on("pointerdown",()=>{this.shutdown(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop(),this.scene.start("MenuScene")})}createCodeInput(e,t){const s=document.createElement("input");s.type="text",s.id="roomCodeInput",s.placeholder="C√≥digo de sala",s.maxLength=6,s.style.cssText="\n      position: absolute;\n      width: 200px;\n      height: 40px;\n      font-size: 24px;\n      text-align: center;\n      font-family: Tagesschrift, arial;\n      text-transform: uppercase;\n      border: 3px solid #ffffff;\n      background-color: #222222;\n      color: #ffffff;\n      border-radius: 5px;\n      outline: none;\n      z-index: 9999;",s.addEventListener("input",()=>{s.value=s.value.toUpperCase()}),s.addEventListener("keypress",e=>{"Enter"===e.key&&this.unirseSala()}),document.body.appendChild(s);const i=()=>{const i=this.game.canvas.getBoundingClientRect();s.style.left=`${Math.round(i.left+e-100)}px`,s.style.top=`${Math.round(i.top+t-20)}px`};i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),this.events.once("shutdown",()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i),s.remove()}),this.codeInput=s}handleServerMessage(e){switch(e.type){case"queueStatus":this.statusText.setText(`Jugadores en cola: ${e.position}/2`),this.statusText.setColor("#ffff00");break;case"roomInfo":e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Tu torre: ${e.code}`),this.roomCodeText.setColor("#ffffff"),this.roomId=e.roomId,this.statusText.setText(`Sala creada: ${e.code}`),this.statusText.setColor("#00ff00"));break;case"joinRoomResult":e.success?(this.roomCode=e.code,this.roomId=e.roomId,this.roomCodeText.setText(e.code),this.roomCodeText.setColor("#ffffff"),this.statusText.setText("Unido a la sala."),this.statusText.setColor("#00ff00")):(this.resetState(),this.mostrarBotones(),this.statusText.setText(e.message||"No se pudo unir a la sala."),this.statusText.setColor("#ff0000"));break;case"startGame":case"gameStart":if(this.gameStarted)return;this.gameStarted=!0,e.code&&(this.roomCode=e.code,this.roomCodeText.setText(`Torre: ${e.code}`),this.roomCodeText.setColor("#ffffff")),this.statusText.setText("¬°Partida iniciando!"),this.statusText.setColor("#00ff00"),console.log("Partida iniciando!",e),this.bgm&&(this.bgm.stop(),this.bgm.destroy());const t=sessionStorage.getItem("currentUsername")||"Jugador";this.scene.start("GameSceneO",{ws:this.ws,playerRole:e.role,roomId:e.roomId||this.roomId,initialBall:e.ball,username:t}),this.ws.onmessage=null;break;case"error":this.resetState(),this.statusText.setText(e.message||"Error del servidor."),this.statusText.setColor("#ff0000"),this.mostrarBotones();break;default:console.log("Unknown message type:",e.type)}}crearSala(){if(this.ws&&this.ws.readyState===WebSocket.OPEN){if(this.roomCode)return this.statusText.setText("Ya has creado una sala."),void this.statusText.setColor("#ff0000");this.ws.send(JSON.stringify({type:"createRoom"})),this.ocultarBotones(),this.statusText.setText("Creando sala..."),this.statusText.setColor("#ffff00")}else this.statusText.setText("No conectado al servidor. Error de conexti√≥n."),this.statusText.setColor("#ff0000")}unirseCola(){this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinQueue"})),this.ocultarBotones(),this.statusText.setText("Buscando partida..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conexti√≥n."),this.statusText.setColor("#ff0000"))}ocultarBotones(){this.tituloCrearSala.setVisible(!1),this.botonCrearSala.setVisible(!1),this.crearSalaText.setVisible(!1),this.crearSalaText.disableInteractive(),this.tituloCola.setVisible(!1),this.botonUnirseCola.setVisible(!1),this.unirseColaText.setVisible(!1),this.unirseColaText.disableInteractive(),this.tituloCodigo.setVisible(!1),this.codeInput.style.display="none",this.botonUnirseCodigo.setVisible(!1),this.unirseCodigoText.setVisible(!1),this.unirseCodigoText.disableInteractive(),this.codeInput&&(this.codeInput.style.display="none")}mostrarBotones(){this.tituloCrearSala.setVisible(!0),this.botonCrearSala.setVisible(!0),this.crearSalaText.setVisible(!0),this.crearSalaText.setInteractive(),this.tituloCola.setVisible(!0),this.botonUnirseCola.setVisible(!0),this.unirseColaText.setVisible(!0),this.unirseColaText.setInteractive(),this.tituloCodigo.setVisible(!0),this.codeInput.style.display="block",this.botonUnirseCodigo.setVisible(!0),this.unirseCodigoText.setVisible(!0),this.unirseCodigoText.setInteractive(),this.codeInput&&(this.codeInput.style.display="block")}unirseSala(){const e=this.codeInput.value.trim().toUpperCase();return e?6!==e.length?(this.statusText.setText("El c√≥digo de sala debe tener 6 caracteres."),void this.statusText.setColor("#ff0000")):void(this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinRoom",code:e})),this.statusText.setText("Intentando unirse a la sala..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conexti√≥n."),this.statusText.setColor("#ff0000"))):(this.statusText.setText("Por favor, introduce un c√≥digo de sala."),void this.statusText.setColor("#ff0000"))}update(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;const i=this.walkSounds.get(e.playerId);let a=!1;e.upKeyObj.isDown?(s="up",a=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",a=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",a=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",a=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),i&&i.isPlaying&&i.stop()),a&&i&&!i.isPlaying&&i.play();let o=new m(t,s,!1);this.processor.process(o)})}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerza"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500)}establecerColisiones(){this.players.forEach(e=>{this.physics.add.collider(e.sprite,this.barreraInvisible)})}setUpPlayers(){const e=new c(this,"player1",50,400,"idle_Azul");this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"SPACE"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"}))}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}connectToServer(){try{this.ws&&(this.ws.readyState!==WebSocket.OPEN&&this.ws.readyState!==WebSocket.CONNECTING||(console.log("WebSocket already connected or connecting"),this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.close()),this.ws=null);const e=`ws://${window.location.host}/ws`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Conectado al servidor."),this.statusText.setColor("#00ff00"),this.time.delayedCall(500,()=>{this.statusText.setText("")})},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("SalaDeEspera")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}leaveQueue(){this.ws&&(this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close()),this.ws=null),this.codeInput&&document.body.contains(this.codeInput)&&(this.codeInput.remove(),this.codeInput=null),this.resetState()}shutdown(){this.leaveQueue()}}class _ extends s().Scene{constructor(){super("GameSceneO")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("peque√±o","/sounds/peque√±o.mp3"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}init(e){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new p,this.cofreAbierto=!1,this.walkSounds=new Map,this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.username=e.username||"Jugador",this.localPlayer=null,this.remotePlayer=null,this.estrella=!1,this.lOponente=!1,this.desactivado=[!1,!1],this.gameStartTime=Date.now(),this.gameMode="online",this.llaveRecogida=!1,this.estrella1Recogida=!1,this.estrella2Recogida=!1}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"});const e="player1"===this.playerRole?"Eres el Jugador 1 (Azul)":"Eres el Jugador 2 (Rojo)";this.add.text(500,40,e,{fontSize:"24px",fontFamily:"Tagesschrift"}).setOrigin(.5),"player1"===this.playerRole?(this.localPlayer=this.players.get("player1"),this.remotePlayer=this.players.get("player2")):(this.localPlayer=this.players.get("player2"),this.remotePlayer=this.players.get("player1"));const t=sessionStorage.getItem("currentUsername")||"Jugador";this.localUsername=t,this.remoteUsername=null,this.ws.send(JSON.stringify({type:"setUsername",username:t,playerRole:this.playerRole})),this.time.delayedCall(500,()=>{this.showUsernames()}),this.cursors=this.input.keyboard.createCursorKeys(),this.jumpKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.SPACE),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q),this.setupWebSocketListeners()}update(e,t){if(!this.localPlayer||!this.remotePlayer)return;this.escKey.isDown&&!this.escWasDown&&this.togglePause();let s=null;s=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":this.cursors.left.isDown?"left":this.cursors.right.isDown?"right":"stop",this.escWasDown=this.escKey.isDown,this.lPulsada=!1,this.lOponente=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0,this.sendMessage({type:"lPulsada"})),this.players.forEach(e=>{e.update(t)});let i=new m(this.localPlayer,s,this.jumpKey.isDown);this.processor.process(i),"stop"!==s?(this.localPlayer.andar_animacion(),"left"===s?this.localPlayer.sprite.flipX=!1:"right"===s&&(this.localPlayer.sprite.flipX=!0)):this.localPlayer.andar_animacion_parar();const a=this.walkSounds.get(this.playerRole);"stop"!==s?a&&!a.isPlaying&&a.play():a&&a.isPlaying&&a.stop(),this.sendMessage({type:"playerMove",x:this.localPlayer.sprite.x,y:this.localPlayer.sprite.y,direction:s,isMoving:"stop"!==s,flipX:this.localPlayer.sprite.flipX}),this.actualizarInventarioEnPantalla()}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.llaveRecogida||(this.llaveRecogida=!0,this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1))}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameSceneO",pociones:this.inventario,sound:this.sound,jugador:t,ws:this.ws}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey))&&this.sendMessage({type:"usarCaldero",inventario:this.inventario})}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.sendMessage({type:"botonCampoFuerza",boton:1})}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.sendMessage({type:"botonCampoFuerza",boton:2})})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}actualizarInventarioEnPantalla(){this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){if(this.cofreAbierto){if(1===e&&this.estrella1Recogida)return;if(2===e&&this.estrella2Recogida)return;1===e&&(this.estrella1Recogida=!0),2===e&&(this.estrella2Recogida=!0),console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.sendMessage({type:"cambiarSize",estado:"peque√±o"})}}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2),this.estrella=!0):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2),this.estrella=!0))}comprobarCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&(this.lOponente||this.qkey.isDown)&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(this.sendMessage({type:"desactivarCampoFuerza"}),this.abrirCampoFuerza())}abrirCampoFuerza(){console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal()}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0),this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player1"})}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player2"})})}entrarPuertaFinal(e,t){if(console.log("Desactivado:",e),e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{eleccion:t,jugador:this.playerRole,ws:this.ws,modo:"online"})}}setUpPlayers(){const e=new c(this,"player1",50,400,"idle_Azul"),t=new c(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t)}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Men√∫",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{this.ws.close()},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}da√±oJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador 1 ha recibido da√±o"),this.sendMessage({type:"da√±oJugador",player:"player1",vida:e.vida}),e.vida<=0&&this.endGame("player1")}da√±oJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador 2 ha recibido da√±o"),this.sendMessage({type:"da√±oJugador",player:"player2",vida:e.vida}),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameSceneO"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){e&&e.pociones&&(this.inventario=e.pociones,this.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.inventario}))),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume()}togglePause(){const e=!this.isPaused;this.processor.process(new u(this,e))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error al parsear mensaje Websocket:",e)}},this.ws.onclose=()=>{console.log("Conexi√≥n WebSocket cerrada"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("Error de WebSocket :",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"usernames":console.log("Recibidos usernames:",e),"player1"===this.playerRole?(this.localUsername=e.player1,this.remoteUsername=e.player2):(this.localUsername=e.player2,this.remoteUsername=e.player1);break;case"setUsername":console.log("Recibido username:",e),e.playerRole!==this.playerRole&&(this.remoteUsername=e.username,console.log("Username remoto actualizado:",this.remoteUsername));break;case"movimientoJugador":{if(e.player===this.playerRole)break;if(!this.remotePlayer)break;const t=this.walkSounds.get(e.player);e.isMoving&&"stop"!==e.direction?t&&!t.isPlaying&&t.play():t&&t.isPlaying&&t.stop(),this.remotePlayer.sprite.x=e.x,this.remotePlayer.sprite.y=e.y,this.remotePlayer.sprite.flipX=e.flipX,e.isMoving&&"stop"!==e.direction?this.remotePlayer.andar_animacion():this.remotePlayer.andar_animacion_parar();break}case"gameOver":this.endGame(e.winnerId);break;case"playerDisconnected":this.handleDisconnection();break;case"da√±o":this.handleDa√±o(e);break;case"Inventario":this.inventario=e.inventario,this.actualizarInventarioEnPantalla(),console.log("Inventario actualizado desde el servidor",this.inventario);break;case"botonCF":1===e.b?this.boton1Activado=!0:2===e.b&&(this.boton2Activado=!0),this.comprobarCampoFuerza();break;case"desactivarCF":this.abrirCampoFuerza();break;case"lOponente":this.lOponente=e.valor;break;case"usarCaldero":this.handleCaldero(e);break;case"size":"peque√±o"===e.estado&&this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})});break;case"puertaFinal":this.handlePuertaFinal(e);break;case"final":console.log("final"),1===e.escena?this.scene.start("FinalM1Scene"):2===e.escena?this.scene.start("FinalM2Scene"):this.scene.start("FinalBScene"),this.scene.stop("DecisionScene");break;default:console.log("Mensaje WebSocket desconocido:",e)}}handleDisconnection(){this.gameEnded=!0,this.localPlayer.sprite.setVelocity(0,0),this.remotePlayer.sprite.setVelocity(0,0),this.physics.pause(),this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,220,"titulo"),this.titulo.setScale(.3,.25),this.add.text(500,200,"Fallo por desconexi√≥n",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.add.text(500,250,"La partida ha finalizado",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.createMenuButton()}handleDa√±o(e){const t=this.players.get(e.player);t&&(t.vida=e.vida,"player1"===e.player?this.healthLeft.setText(e.vida.toString()):this.healthRight.setText(e.vida.toString()),t.vida<=0&&this.endGame(e.player))}handleCaldero(e){for(let e=1;e<this.inventario.length-2;e++)this.inventario[e]=!1;this.uno.setAlpha(.2),this.dos.setAlpha(.2),this.tres.setAlpha(.2),this.cuatro.setAlpha(.2),this.cinco.setAlpha(.2),this.seis.setAlpha(.2),this.siete.setAlpha(.2),this.ocho.setAlpha(.2),this.nueve.setAlpha(.2),this.diez.setAlpha(.2),e.exito?(console.log("Poci√≥n de disminuir tama√±o creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("peque√±o",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poci√≥n de disminuir tama√±o"),this.sound&&this.sound.play("explosion",{volume:.5}),1===e.jugadorDa√±ado?this.da√±oJugLeft():this.da√±oJugRight())}handlePuertaFinal(e){let t;if("player1"===e.jugador?(this.players.get("player1").sprite.disableBody(!0,!0),this.desactivado[0]=!0,t=this.walkSounds.get("player1")):(this.players.get("player2").sprite.disableBody(!0,!0),this.desactivado[1]=!0,t=this.walkSounds.get("player2")),t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}this.entrarPuertaFinal(this.desactivado,e.ganador)}createMenuButton(){this.boton=this.add.image(500,400,"boton"),this.boton.setScale(.15,.1);const e=this.add.text(500,400,"Volver al Men√∫",{fontFamily:"Tagesschrift",fontSize:"30px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),console.log("Cerrando conexi√≥n WebSocket..."),setTimeout(()=>{this.ws.close(),console.log("Conexi√≥n WebSocket cerrada.")},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}showUsernames(){if(this.localPlayer){const e=this.add.text(this.localPlayer.sprite.x,this.localPlayer.sprite.y-100,this.localUsername,{fontSize:"18px",fontFamily:"Arial",color:"#00ff00",fontStyle:"bold"}).setOrigin(.5);e.setDepth(100),this.time.delayedCall(3e3,()=>{e.destroy()})}if(this.remotePlayer){const e=this.remoteUsername||"Oponente",t=this.add.text(this.remotePlayer.sprite.x,this.remotePlayer.sprite.y-100,e,{fontSize:"18px",fontFamily:"Arial",color:"#00ff00",fontStyle:"bold"}).setOrigin(.5);t.setDepth(100),this.time.delayedCall(3e3,()=>{t.destroy()})}}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}const k={type:s().AUTO,width:1e3,height:560,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:2e4},debug:!1}},dom:{createContainer:!0},scene:[l,d,_,f,S,y,b,v,w,x,C,A,T,R,I,z],backgroundColor:"#47ddffff"};new(s().Game)(k)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS0MsS0FBS0MsTUFBTSxZQUFhLDBCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLHVCQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxXQUFZLHlCQUM1QkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLHdCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLDRCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLCtCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDBCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLDRCQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLGtDQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLCtCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLDRCQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDhCQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLDZCQUc3QkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLGdDQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxZQUFhLG9DQUM3QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG9DQUcvQkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLGlDQUMxQkYs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QzdCZ1YsRUFDQSxDQUNJM1csU0FBVSxPQUNWQyxXQUFZLFFBQ1pDLE1BQU8sVUFDUCtRLFVBQVcsU0FFakI5USxVQUFVLElBQ1pzWSxFQUFtQjlILFNBQVMsS0FDNUJsVyxLQUFLb0IsS0FBS0MsWUFBWSxJQUFNLEtBQ3hCMmMsRUFBbUJ6UyxXQUUzQixDQUNKLENBRUEsUUFBQXpFLEdBQ1E5RyxLQUFLcUwsSUFBTXJMLEtBQUtxTCxHQUFHOEgsYUFBZUMsVUFBVUMsTUFDNUNyVCxLQUFLcUwsR0FBR29JLE9BRWhCLEVDam1DSixNQUFNckIsRUFBUyxDQUNYbUIsS0FBTSxTQUNOeUUsTUFBTyxJQUNQRyxPQUFRLElBQ1I4RixPQUFRLGlCQUNSblcsUUFBUyxDQUNMb1csUUFBUyxTQUNUQyxPQUFRLENBQ0pDLFFBQVMsQ0FBRWxYLEVBQUcsS0FDZG1YLE9BQU8sSUFHZkMsSUFBSyxDQUNEQyxpQkFBaUIsR0FFckJqZCxNQUFPLENBQUUxQixFQUFZc0UsRUFBV3NYLEVBQVlwUixFQUFXMEosRUFBZ0JkLEVBQVlVLEVBQWNHLEVBQWVlLEVBQWNHLEVBQWVPLEVBQWFNLEVBQWNFLEVBQWNFLEVBQVlTLEVBQXFCWSxHQUN2Tm1ILGdCQUFpQixhQUdSLElBQUksVUFBWXBNLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2VydmljZXMvZ2FtZVN0YXRzU2VydmljZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvYXBpLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvTG9naW5TY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9NZW51U2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2VudGl0aWVzL01hZ28uanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2NvbW1hbmQvY29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvY29tbWFuZC9Db21tYW5kLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9jb21tYW5kL01vdmVNYWdvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvY29tbWFuZC9QYXVzZUdhbWVDb21tYW5kLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0hpc3RvcmlhU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9MaWJyZXJpYVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29udHJvbFNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvRGVjaXNpb25TY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0ZpbmFsQlNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvRmluYWxNMVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvRmluYWxNMlNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvU3RhdHNTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9TYWxhRGVFc3BlcmEuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmVPLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBkZSBlc3RhZMOtc3RpY2FzIGRlIHBhcnRpZGFzXHJcbiAqIEdlc3Rpb25hIGVzdGFkw61zdGljYXMgdGFudG8gbG9jYWxlcyAobG9jYWxTdG9yYWdlKSBjb21vIGVuIGzDrW5lYSAoc2Vydmlkb3IpXHJcbiAqL1xyXG5cclxuY29uc3QgU1RPUkFHRV9LRVkgPSAnanVlZ29fbWFnb3Nfc3RhdHMnO1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgZWwgb2JqZXRvIGRlIGVzdGFkw61zdGljYXMgZGVsIHVzdWFyaW8gZGVzZGUgbG9jYWxTdG9yYWdlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIE5vbWJyZSBkZWwgdXN1YXJpb1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBFc3RhZMOtc3RpY2FzIGRlbCB1c3VhcmlvXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRMb2NhbFN0YXRzKHVzZXJuYW1lKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0YXRzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgY29uc3QgYWxsU3RhdHMgPSBzdGF0cyA/IEpTT04ucGFyc2Uoc3RhdHMpIDoge307XHJcbiAgICBcclxuICAgIGlmICghYWxsU3RhdHNbdXNlcm5hbWVdKSB7XHJcbiAgICAgIGFsbFN0YXRzW3VzZXJuYW1lXSA9IHtcclxuICAgICAgICB0b3RhbFBhcnRpZGFzOiAwLFxyXG4gICAgICAgIHRpZW1wb1RvdGFsOiAwLFxyXG4gICAgICAgIHBhcnRpZGFzOiBbXSxcclxuICAgICAgICB1bHRpbWFBY3R1YWxpemFjaW9uOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGFsbFN0YXRzW3VzZXJuYW1lXTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciBlc3RhZMOtc3RpY2FzIGxvY2FsZXM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxQYXJ0aWRhczogMCxcclxuICAgICAgdGllbXBvVG90YWw6IDAsXHJcbiAgICAgIHBhcnRpZGFzOiBbXSxcclxuICAgICAgdWx0aW1hQWN0dWFsaXphY2lvbjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEd1YXJkYSBsYXMgZXN0YWTDrXN0aWNhcyBkZSB1biB1c3VhcmlvIGVuIGxvY2FsU3RvcmFnZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBOb21icmUgZGVsIHVzdWFyaW9cclxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRzIC0gT2JqZXRvIGRlIGVzdGFkw61zdGljYXNcclxuICovXHJcbmZ1bmN0aW9uIHNhdmVMb2NhbFN0YXRzKHVzZXJuYW1lLCBzdGF0cykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhbGxTdGF0cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgIGNvbnN0IHBhcnNlZFN0YXRzID0gYWxsU3RhdHMgPyBKU09OLnBhcnNlKGFsbFN0YXRzKSA6IHt9O1xyXG4gICAgXHJcbiAgICBwYXJzZWRTdGF0c1t1c2VybmFtZV0gPSB7XHJcbiAgICAgIC4uLnN0YXRzLFxyXG4gICAgICB1bHRpbWFBY3R1YWxpemFjaW9uOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeShwYXJzZWRTdGF0cykpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBndWFyZGFyIGVzdGFkw61zdGljYXMgbG9jYWxlczonLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmVnaXN0cmEgdW5hIHBhcnRpZGEgbG9jYWxcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlbCB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbk1zIC0gRHVyYWNpw7NuIGRlIGxhIHBhcnRpZGEgZW4gbWlsaXNlZ3VuZG9zXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEVzdGFkw61zdGljYXMgYWN0dWFsaXphZGFzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkTG9jYWxHYW1lU2Vzc2lvbih1c2VybmFtZSwgZHVyYXRpb25Ncykge1xyXG4gIGlmICghdXNlcm5hbWUgfHwgdHlwZW9mIGR1cmF0aW9uTXMgIT09ICdudW1iZXInIHx8IGR1cmF0aW9uTXMgPCAwKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdG9zIGludsOhbGlkb3MgcGFyYSByZWdpc3RyYXIgbGEgcGFydGlkYScpO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3RhdHMgPSBnZXRMb2NhbFN0YXRzKHVzZXJuYW1lKTtcclxuICBzdGF0cy50b3RhbFBhcnRpZGFzKys7XHJcbiAgc3RhdHMudGllbXBvVG90YWwgKz0gZHVyYXRpb25NcztcclxuICBzdGF0cy5wYXJ0aWRhcy5wdXNoKHtcclxuICAgIGR1cmFjaW9uOiBkdXJhdGlvbk1zLFxyXG4gICAgZmVjaGE6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH0pO1xyXG5cclxuICAvLyBNYW50ZW5lciBzb2xvIGxhcyDDumx0aW1hcyA1MCBwYXJ0aWRhc1xyXG4gIGlmIChzdGF0cy5wYXJ0aWRhcy5sZW5ndGggPiA1MCkge1xyXG4gICAgc3RhdHMucGFydGlkYXMgPSBzdGF0cy5wYXJ0aWRhcy5zbGljZSgtNTApO1xyXG4gIH1cclxuXHJcbiAgc2F2ZUxvY2FsU3RhdHModXNlcm5hbWUsIHN0YXRzKTtcclxuXHJcbiAgY29uc29sZS5sb2coYPCfjq4gUEFSVElEQSBMT0NBTDogJHt1c2VybmFtZX0gLSBEdXJhY2nDs246ICR7KGR1cmF0aW9uTXMgLyAxMDAwKS50b0ZpeGVkKDIpfXNgKTtcclxuICBjb25zb2xlLmxvZyhgICAgUHJvbWVkaW86ICR7KHN0YXRzLnRpZW1wb1RvdGFsIC8gc3RhdHMudG90YWxQYXJ0aWRhcyAvIDEwMDApLnRvRml4ZWQoMil9c2ApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdXNlcm5hbWUsXHJcbiAgICBtb2RvOiAnbG9jYWwnLFxyXG4gICAgcGFydGlkYXNKdWdhZGFzOiBzdGF0cy50b3RhbFBhcnRpZGFzLFxyXG4gICAgdGllbXBvUHJvbWVkaW86IHN0YXRzLnRpZW1wb1RvdGFsIC8gc3RhdHMudG90YWxQYXJ0aWRhcyxcclxuICAgIHVsdGltYVBhcnRpZGE6IGR1cmF0aW9uTXNcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBsYXMgZXN0YWTDrXN0aWNhcyBsb2NhbGVzIGRlIHVuIHVzdWFyaW9cclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gTm9tYnJlIGRlbCB1c3VhcmlvXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEVzdGFkw61zdGljYXMgZGVsIHVzdWFyaW9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbEdhbWVTdGF0cyh1c2VybmFtZSkge1xyXG4gIGlmICghdXNlcm5hbWUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRWwgbm9tYnJlIGRlIHVzdWFyaW8gZXMgb2JsaWdhdG9yaW8nKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHN0YXRzID0gZ2V0TG9jYWxTdGF0cyh1c2VybmFtZSk7XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIHVzZXJuYW1lLFxyXG4gICAgbW9kbzogJ2xvY2FsJyxcclxuICAgIHRvdGFsUGFydGlkYXM6IHN0YXRzLnRvdGFsUGFydGlkYXMsXHJcbiAgICB0aWVtcG9Qcm9tZWRpbzogc3RhdHMudG90YWxQYXJ0aWRhcyA+IDAgPyBzdGF0cy50aWVtcG9Ub3RhbCAvIHN0YXRzLnRvdGFsUGFydGlkYXMgOiAwLFxyXG4gICAgdGllbXBvVG90YWw6IHN0YXRzLnRpZW1wb1RvdGFsLFxyXG4gICAgcGFydGlkYXM6IHN0YXRzLnBhcnRpZGFzLFxyXG4gICAgdWx0aW1hQWN0dWFsaXphY2lvbjogc3RhdHMudWx0aW1hQWN0dWFsaXphY2lvblxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGVsIHJhbmtpbmcgbG9jYWwgZGUganVnYWRvcmVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCAtIE7Dum1lcm8gbcOheGltbyBkZSBqdWdhZG9yZXNcclxuICogQHJldHVybnMge0FycmF5fSBBcnJheSBkZSBqdWdhZG9yZXMgb3JkZW5hZG9zIHBvciB0aWVtcG8gcHJvbWVkaW9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbEdhbWVTdGF0c1JhbmtpbmcobGltaXQgPSAxMCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhbGxTdGF0cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgIGNvbnN0IHN0YXRzID0gYWxsU3RhdHMgPyBKU09OLnBhcnNlKGFsbFN0YXRzKSA6IHt9O1xyXG5cclxuICAgIGNvbnN0IHJhbmtpbmcgPSBPYmplY3QuZW50cmllcyhzdGF0cylcclxuICAgICAgLm1hcCgoW3VzZXJuYW1lLCB1c2VyU3RhdHNdKSA9PiAoe1xyXG4gICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgIHRvdGFsUGFydGlkYXM6IHVzZXJTdGF0cy50b3RhbFBhcnRpZGFzLFxyXG4gICAgICAgIHRpZW1wb1Byb21lZGlvOiB1c2VyU3RhdHMudG90YWxQYXJ0aWRhcyA+IDAgPyB1c2VyU3RhdHMudGllbXBvVG90YWwgLyB1c2VyU3RhdHMudG90YWxQYXJ0aWRhcyA6IDAsXHJcbiAgICAgICAgdGllbXBvVG90YWw6IHVzZXJTdGF0cy50aWVtcG9Ub3RhbFxyXG4gICAgICB9KSlcclxuICAgICAgLmZpbHRlcih1c2VyID0+IHVzZXIudG90YWxQYXJ0aWRhcyA+IDApXHJcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnRpZW1wb1Byb21lZGlvIC0gYi50aWVtcG9Qcm9tZWRpbylcclxuICAgICAgLnNsaWNlKDAsIGxpbWl0KTtcclxuXHJcbiAgICByZXR1cm4gcmFua2luZztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciByYW5raW5nIGxvY2FsOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbGltaW5hIGxhcyBlc3RhZMOtc3RpY2FzIGRlIHVuIHVzdWFyaW8gKGxpbXBpZXphKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBOb21icmUgZGVsIHVzdWFyaW9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhclVzZXJMb2NhbFN0YXRzKHVzZXJuYW1lKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGFsbFN0YXRzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgY29uc3Qgc3RhdHMgPSBhbGxTdGF0cyA/IEpTT04ucGFyc2UoYWxsU3RhdHMpIDoge307XHJcbiAgICBcclxuICAgIGRlbGV0ZSBzdGF0c1t1c2VybmFtZV07XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoc3RhdHMpKTtcclxuICAgIGNvbnNvbGUubG9nKGBFc3RhZMOtc3RpY2FzIGxvY2FsZXMgZGUgJHt1c2VybmFtZX0gZWxpbWluYWRhc2ApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBlbGltaW5hciBlc3RhZMOtc3RpY2FzIGxvY2FsZXM6JywgZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIExpbXBpYSB0b2RhcyBsYXMgZXN0YWTDrXN0aWNhc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQWxsTG9jYWxTdGF0cygpIHtcclxuICB0cnkge1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgY29uc29sZS5sb2coJ1RvZGFzIGxhcyBlc3RhZMOtc3RpY2FzIGxvY2FsZXMgaGFuIHNpZG8gZWxpbWluYWRhcycpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBsaW1waWFyIGVzdGFkw61zdGljYXM6JywgZXJyb3IpO1xyXG4gIH1cclxufVxyXG4iLCIvKipcclxuICogQVBJIENsaWVudCBwYXJhIGNvbXVuaWNhY2nDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIEVzdGUgYXJjaGl2byBjb250aWVuZSBmdW5jaW9uZXMgcGFyYSByZWFsaXphciBwZXRpY2lvbmVzIEhUVFAgYWwgc2Vydmlkb3JcclxuICpcclxuICogSU1QT1JUQU5URTogTGFzIGZ1bmNpb25lcyBlc3TDoW4gZGVmaW5pZGFzIHBlcm8gTk8gaW1wbGVtZW50YWRhcy5cclxuICogRGViZXMgaW1wbGVtZW50YXIgY2FkYSBmdW5jacOzbiB1c2FuZG8gZmV0Y2goKSBvIGxhIGxpYnJlcsOtYSBxdWUgcHJlZmllcmFzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFxyXG4gIHJlY29yZExvY2FsR2FtZVNlc3Npb24sIFxyXG4gIGdldExvY2FsR2FtZVN0YXRzLCBcclxuICBnZXRMb2NhbEdhbWVTdGF0c1JhbmtpbmcgXHJcbn0gZnJvbSAnLi9zZXJ2aWNlcy9nYW1lU3RhdHNTZXJ2aWNlLmpzJztcclxuXHJcbmNvbnN0IEFQSV9CQVNFX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gVVNVQVJJT1MgPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RyYSB1biBudWV2byB1c3VhcmlvIGVuIGVsIHNpc3RlbWFcclxuICogQHBhcmFtIHtvYmplY3R9IHVzZXJEYXRhIC0gRGF0b3MgZGVsIHVzdWFyaW8geyBuYW1lLCBhdmF0YXIsIGxldmVsfVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIFVzdWFyaW8gY3JlYWRvXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKHVzZXJEYXRhKSB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vyc2AsIHtcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpXHJcbiAgfSk7XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIC8vIGxldCBlcnJvclR4dDtcclxuXHJcbiAgICAvLyB0cnl7XHJcbiAgICAvLyBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIC8vIGVycm9yVHh0ID0gKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCByZWdpc3RyYXIgdXN1YXJpbycpO31cclxuICAgIC8vIGNhdGNoe1xyXG4gICAgLy8gICBlcnJvclR4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgIC8vIH0gXHJcblxyXG4gICAgLy8gdGhyb3cgbmV3IEVycm9yKCBlcnJvclR4dCk7XHJcblxyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIHJlZ2lzdHJhciB1c3VhcmlvJyk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcIlVzdWFyaW8gY3JlYWRvIGNvcnJlY3RhbWVudGUuXCIpOyBcclxuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSB1biB1c3VhcmlvIHBvciBzdSBJRFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gSUQgZGVsIHVzdWFyaW9cclxuICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gLSBVc3VhcmlvIGVuY29udHJhZG9cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyKHVzZXJJZCkge1xyXG4gIC8vIFJldG9ybmFyOiB1c3VhcmlvIG8gbGFuemFyIGVycm9yIHNpIG5vIGV4aXN0ZVxyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnMvJHt1c2VySWR9YCk7XHJcbiAgLy9ubyBoYWNlIGZhbHRhIGVzcGVjaWZpY2FyIGVsIG1ldG9kbyBwb3IgcXVlIEdFVCBlcyBlbCBtw6l0b2RvIHBvciBkZWZlY3RvXHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBvYnRlbmVyIHVzdWFyaW8nKTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiVXN1YXJpbyBvYnRlbmlkbyBjb3JyZWN0YW1lbnRlLlwiKTsgXHJcbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTsgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIHRvZG9zIGxvcyB1c3Vhcmlvc1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IC0gQXJyYXkgZGUgdXN1YXJpb3NcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxVc2VycygpIHtcclxuICAvLyBSZXRvcm5hcjogYXJyYXkgZGUgdXN1YXJpb3NcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzYCk7XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBvYnRlbmVyIGxvcyB1c3VhcmlvcycpO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZyhcIlVzdWFyaW9zIG9idGVuaWRvcyBjb3JyZWN0YW1lbnRlLlwiKTsgXHJcbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTsgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBY3R1YWxpemEgdW4gY2FtcG8gZXNwZWPDrWZpY28gZGUgdW4gdXN1YXJpb1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gSUQgZGVsIHVzdWFyaW9cclxuICogQHBhcmFtIHtvYmplY3R9IHVwZGF0ZXMgLSBPYmpldG8gY29uIGxvcyBjYW1wb3MgYSBhY3R1YWxpemFyXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IC0gVXN1YXJpbyBhY3R1YWxpemFkb1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXIodXNlcklkLCB1cGRhdGVzKSB7XHJcbiAgLy8gQm9keTogdXBkYXRlcyAoSlNPTilcclxuICAvLyBSZXRvcm5hcjogdXN1YXJpbyBhY3R1YWxpemFkb1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnMvJHt1c2VySWR9YCwge1xyXG4gICAgbWV0aG9kOiAnUFVUJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZXMpXHJcbiAgfSk7XHJcblxyXG4gIFxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBhY3R1YWxpemFyIGNhbXBvIGRlbCB1c3VhcmlvJyk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcIlVzdWFyaW8gYWN0dWFsaXphZG8gY29ycmVjdGFtZW50ZS5cIik7IFxyXG4gIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbGltaW5hIHVuIHVzdWFyaW8gZGVsIHNpc3RlbWFcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIElEIGRlbCB1c3VhcmlvXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVVzZXIodXNlcklkKSB7XHJcbiAgLy8gUmV0b3JuYXI6IGNvbmZpcm1hY2nDs24gbyBsYW56YXIgZXJyb3JcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzLyR7dXNlcklkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJ1xyXG4gIH0pO1xyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBlbGltaW5hciB1c3VhcmlvJyk7XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKFwiVXN1YXJpbyBlbGltaW5hZG8gY29ycmVjdGFtZW50ZS5cIik7IFxyXG59XHJcblxyXG4vKipcclxuICogUmVhbGl6YSBsb2dpbiBkZSB1biB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIE5vbWJyZSBkZSB1c3VhcmlvXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IC0gVXN1YXJpbyBsb2dlYWRvXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9naW5Vc2VyKHVzZXJuYW1lKSB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vycy9sb2dpbmAsIHtcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KVxyXG4gIH0pO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgaW5pY2lhciBzZXNpw7NuJyk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcIkxvZ2luIGV4aXRvc28uXCIpO1xyXG4gIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFsaXphIGxvZ291dCBkZSB1biB1c3VhcmlvXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIE5vbWJyZSBkZSB1c3VhcmlvXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IC0gQ29uZmlybWFjacOzbiBkZSBsb2dvdXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dvdXRVc2VyKHVzZXJuYW1lKSB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2FwaS91c2Vycy9sb2dvdXRgLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSlcclxuICB9KTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ0Vycm9yIGFsIGNlcnJhciBzZXNpw7NuJyk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcIkxvZ291dCBleGl0b3NvLlwiKTtcclxuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBsYSBsaXN0YSBkZSB1c3VhcmlvcyBhY3R1YWxtZW50ZSBsb2dlYWRvc1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IC0gQXJyYXkgZGUgdXN1YXJpb3MgbG9nZWFkb3NcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMb2dnZWRJblVzZXJzKCkge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnMvbG9nZ2VkLWluYCk7XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBvYnRlbmVyIHVzdWFyaW9zIGxvZ2VhZG9zJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG59XHJcblxyXG4vKipcclxuICogUmVnaXN0cmEgdW5hIHBhcnRpZGEgKGxvY2FsIHUgb25saW5lKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBOb21icmUgZGVsIHVzdWFyaW9cclxuICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uTXMgLSBEdXJhY2nDs24gZGUgbGEgcGFydGlkYSBlbiBtaWxpc2VndW5kb3NcclxuICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSAnbG9jYWwnIG8gJ29ubGluZSdcclxuICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gLSBFc3RhZMOtc3RpY2FzIGFjdHVhbGl6YWRhc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY29yZEdhbWVTZXNzaW9uKHVzZXJuYW1lLCBkdXJhdGlvbk1zLCBtb2RlID0gJ2xvY2FsJykge1xyXG4gIC8vIFNpZW1wcmUgZ3VhcmRhciBsb2NhbG1lbnRlXHJcbiAgY29uc3QgbG9jYWxSZXN1bHQgPSByZWNvcmRMb2NhbEdhbWVTZXNzaW9uKHVzZXJuYW1lLCBkdXJhdGlvbk1zKTtcclxuXHJcbiAgLy8gU2kgZXMgb25saW5lLCBlbnZpYXIgdGFtYmnDqW4gYWwgc2Vydmlkb3JcclxuICBpZiAobW9kZSA9PT0gJ29ubGluZScpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnMvJHt1c2VybmFtZX0vZ2FtZS1zZXNzaW9uYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZHVyYXRpb25NcyB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0FkdmVydGVuY2lhOiBObyBzZSBwdWRvIGd1YXJkYXIgZW4gc2Vydmlkb3I6JywgZXJyb3IuZXJyb3IpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHNlcnZlclJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgUGFydGlkYSByZWdpc3RyYWRhIGVuIHNlcnZpZG9yOiAke3VzZXJuYW1lfWApO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAuLi5sb2NhbFJlc3VsdCxcclxuICAgICAgICAgIG1vZG86ICdvbmxpbmUnLFxyXG4gICAgICAgICAgc2luY3Jvbml6YWRvU2Vydmlkb3I6IHRydWUsXHJcbiAgICAgICAgICBkYXRvc1NlcnZpZG9yOiBzZXJ2ZXJSZXN1bHRcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGFsIGNvbmVjdGFyIGNvbiBzZXJ2aWRvciwgZ3VhcmRhbmRvIHNvbG8gbG9jYWxtZW50ZTonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbG9jYWxSZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGxhcyBlc3RhZMOtc3RpY2FzIGRlIHVuIHVzdWFyaW8gKGxvY2FsIHUgb25saW5lKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBOb21icmUgZGVsIHVzdWFyaW9cclxuICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSAnbG9jYWwnIG8gJ29ubGluZSdcclxuICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gLSBFc3RhZMOtc3RpY2FzIGRlbCB1c3VhcmlvXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckdhbWVTdGF0cyh1c2VybmFtZSwgbW9kZSA9ICdsb2NhbCcpIHtcclxuICBpZiAobW9kZSA9PT0gJ2xvY2FsJykge1xyXG4gICAgcmV0dXJuIGdldExvY2FsR2FtZVN0YXRzKHVzZXJuYW1lKTtcclxuICB9XHJcblxyXG4gIC8vIE1vZG8gb25saW5lXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvdXNlcnMvJHt1c2VybmFtZX0vc3RhdHNgKTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBjb25zb2xlLndhcm4oJ05vIGhheSBlc3RhZMOtc3RpY2FzIGVuIHNlcnZpZG9yLCB1c2FuZG8gbG9jYWxlczonLCBlcnJvci5lcnJvcik7XHJcbiAgICAgIHJldHVybiBnZXRMb2NhbEdhbWVTdGF0cyh1c2VybmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2VydmVyU3RhdHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZyhgRXN0YWTDrXN0aWNhcyBkZSAke3VzZXJuYW1lfTpgLCBzZXJ2ZXJTdGF0cyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi5zZXJ2ZXJTdGF0cyxcclxuICAgICAgbW9kbzogJ29ubGluZScsXHJcbiAgICAgIGZ1ZW50ZTogJ3NlcnZpZG9yJ1xyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS53YXJuKCdFcnJvciBhbCBvYnRlbmVyIGVzdGFkw61zdGljYXMgZGVsIHNlcnZpZG9yLCB1c2FuZG8gbG9jYWxlczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZ2V0TG9jYWxHYW1lU3RhdHModXNlcm5hbWUpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgZWwgcmFua2luZyBkZSBqdWdhZG9yZXMgKGxvY2FsIHUgb25saW5lKVxyXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgLSBOw7ptZXJvIG3DoXhpbW8gZGUganVnYWRvcmVzIChkZWZhdWx0OiAxMClcclxuICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSAnbG9jYWwnIG8gJ29ubGluZSdcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSAtIEFycmF5IGRlIGp1Z2Fkb3JlcyBvcmRlbmFkb3MgcG9yIHRpZW1wbyBwcm9tZWRpb1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEdhbWVTdGF0c1JhbmtpbmcobGltaXQgPSAxMCwgbW9kZSA9ICdsb2NhbCcpIHtcclxuICBpZiAobW9kZSA9PT0gJ2xvY2FsJykge1xyXG4gICAgcmV0dXJuIGdldExvY2FsR2FtZVN0YXRzUmFua2luZyhsaW1pdCk7XHJcbiAgfVxyXG5cclxuICAvLyBNb2RvIG9ubGluZVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3VzZXJzL3N0YXRzL3Jhbmtpbmc/bGltaXQ9JHtsaW1pdH1gKTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBjb25zb2xlLndhcm4oJ05vIGhheSByYW5raW5nIGVuIHNlcnZpZG9yLCB1c2FuZG8gbG9jYWw6JywgZXJyb3IuZXJyb3IpO1xyXG4gICAgICByZXR1cm4gZ2V0TG9jYWxHYW1lU3RhdHNSYW5raW5nKGxpbWl0KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzZXJ2ZXJSYW5raW5nID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgY29uc29sZS5sb2coJ1JhbmtpbmcgZGUganVnYWRvcmVzOicsIHNlcnZlclJhbmtpbmcpO1xyXG4gICAgcmV0dXJuIHNlcnZlclJhbmtpbmc7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUud2FybignRXJyb3IgYWwgb2J0ZW5lciByYW5raW5nIGRlbCBzZXJ2aWRvciwgdXNhbmRvIGxvY2FsOicsIGVycm9yKTtcclxuICAgIHJldHVybiBnZXRMb2NhbEdhbWVTdGF0c1JhbmtpbmcobGltaXQpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gTUVOU0FKRVMgPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBFbnbDrWEgdW4gbWVuc2FqZSBhbCBjaGF0XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyTWVzc2FnZSAtIENvbnRlbmlkbyBkZWwgbWVuc2FqZVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIE1lbnNhamUgY3JlYWRvXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2UodXNlck1lc3NhZ2UpIHtcclxuICAvLyBCb2R5OiB7ZW1haWw6IHVzZXJFbWFpbCwgbWVzc2FnZTogbWVzc2FnZX1cclxuICAvLyBFbCBzZXJ2aWRvciBkZWJlIHZlcmlmaWNhciBxdWUgZWwgZW1haWwgZXhpc3RlXHJcbiAgLy8gUmV0b3JuYXI6IG1lbnNhamUgY3JlYWRvIGNvbiB0aW1lc3RhbXBcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL21lc3NhZ2VzYCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH0sXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIG1lc3NhZ2U6IHVzZXJNZXNzYWdlXHJcbiAgICB9KVxyXG4gIH0pO1xyXG5cclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvciB8fCAnRXJyb3IgYWwgZW52aWFyIG1lbnNhamUnKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG5ld01lc3NhZ2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgY29uc29sZS5sb2coJ01lbnNhamUgY3JlYWRvOicsIG5ld01lc3NhZ2UpO1xyXG4gIHJldHVybiBuZXdNZXNzYWdlOyBcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgbG9zIMO6bHRpbW9zIG1lbnNhamVzIGRlbCBjaGF0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCAtIE7Dum1lcm8gbcOheGltbyBkZSBtZW5zYWplcyBhIG9idGVuZXIgKGRlZmF1bHQ6IDUwKVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IC0gQXJyYXkgZGUgbWVuc2FqZXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNZXNzYWdlcyhsaW1pdCA9IDUwKSB7XHJcbiAgLy8gUmV0b3JuYXI6IGFycmF5IGRlIG1lbnNhamVzIG9yZGVuYWRvcyBwb3IgICBcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL21lc3NhZ2VzP2xpbWl0PSR7bGltaXR9YCk7XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBvYnRlbmVyIGxvcyDDumx0aW1vcyBtZW5zYWplcycpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWVuc2FqZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgY29uc29sZS5sb2coJ01lbnNhamVzIG9idGVuaWRvczonLCBtZW5zYWplcyk7XHJcbiAgcmV0dXJuIG1lbnNhamVzOyBcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgbWVuc2FqZXMgZGVzZGUgdW4gdGltZXN0YW1wIGVzcGVjw61maWNvIChwYXJhIHBvbGxpbmcpXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzaW5jZSAtIFRpbWVzdGFtcCBJU08gZGVzZGUgZWwgY3VhbCBvYnRlbmVyIG1lbnNhamVzXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gLSBBcnJheSBkZSBtZW5zYWplcyBudWV2b3NcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNZXNzYWdlc1NpbmNlKHNpbmNlKSB7XHJcbiAgLy8gw5p0aWwgcGFyYSBpbXBsZW1lbnRhciBwb2xsaW5nIHkgb2J0ZW5lciBzb2xvIG1lbnNhamVzIG51ZXZvc1xyXG4gIC8vIFJldG9ybmFyOiBhcnJheSBkZSBtZW5zYWplcyBudWV2b3NcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL21lc3NhZ2VzP3NpbmNlPSR7c2luY2V9YCk7XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdFcnJvciBhbCBvYnRlbmVyIGxvcyDDumx0aW1vcyBtZW5zYWplcycpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWVuc2FqZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgY29uc29sZS5sb2coJ01lbnNhamVzIG9idGVuaWRvczonLCBtZW5zYWplcyk7XHJcbiAgcmV0dXJuIG1lbnNhamVzO1xyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgbG9naW5Vc2VyIH0gZnJvbSAnLi4vYXBpLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dpblNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMb2dpblNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTScsICcvaW1hZ2VuZXMvbG9nb1NpbkZvbmRvLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmZvbmRvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAzNTAsICdmb25kb00nKVxyXG4gICAgICAgIHRoaXMuZm9uZG8uc2V0U2NhbGUoMC44KTtcclxuICAgICAgICAvLyB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgxYTFhMWEpO1xyXG5cclxuICAgICAgICBjb25zdCBsb2dpbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4tZm9ybScpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcm5hbWUnKTtcclxuICAgICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJyk7XHJcbiAgICAgICAgY29uc3QgbG9naW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5CdXR0b24nKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xvZ2luU2NlbmUgaW5pY2lhZGEnKTtcclxuXHJcbiAgICAgICAgaWYgKGxvZ2luRm9ybSkge1xyXG4gICAgICAgICAgICBsb2dpbkZvcm0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobG9naW5CdXR0b24pIHtcclxuICAgICAgICAgICAgbG9naW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHVzZXJuYW1lSW5wdXQudmFsdWUudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh1c2VybmFtZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnUG9yIGZhdm9yIGluZ3Jlc2EgdW4gdXN1YXJpbycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZ2luIGVuIGVsIHNlcnZpZG9yXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbG9naW5Vc2VyKHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG9naW4gZXhpdG9zbzonLCB1c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR3VhcmRhciB1c3VhcmlvIGVuIHNlc3Npb25TdG9yYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFVzZXJuYW1lJywgdXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9jdWx0YXIgZm9ybXVsYXJpbyB5IGxpbXBpYXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAobG9naW5Gb3JtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWVJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXIgYWwgbWVuw7pcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiBsb2dpbjonLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnRXJyb3I6ICcgKyBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodXNlcm5hbWVJbnB1dCkge1xyXG4gICAgICAgICAgICB1c2VybmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2luQnV0dG9uLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5pbXBvcnQgeyBsb2dvdXRVc2VyIH0gZnJvbSAnLi4vYXBpLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMubGFzdENoZWNrVGltZSA9IDA7XHJcbiAgICB0aGlzLmNoZWNrSW50ZXJ2YWwgPSAyMDAwOyAvLyBDb21wcm9iYXIgY2FkYSAyIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgdGhpcy5zZXNzaW9uSWQgPSB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG5cclxuICAgIC8vIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBSZWFsaXphciBsb2dvdXQgYWwgY2VycmFyIGxhIHZlbnRhbmFcclxuICAgICAgY29uc3QgY3VycmVudFVzZXJuYW1lID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXJuYW1lJyk7XHJcbiAgICAgIGlmIChjdXJyZW50VXNlcm5hbWUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgYXdhaXQgbG9nb3V0VXNlcihjdXJyZW50VXNlcm5hbWUpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0xvZ291dCBhdXRvbcOhdGljbyBhbCBjZXJyYXIgbGEgdmVudGFuYScpO1xyXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnY3VycmVudFVzZXJuYW1lJyk7XHJcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdjdXJyZW50VXNlcicpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiBsb2dvdXQgYXV0b23DoXRpY286JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXIgdW4gSUQgw7puaWNvIGRlIHNlc2nDs24gcGFyYSBlc3RlIGNsaWVudGVcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdlbmVyYXRlU2Vzc2lvbklkKCkge1xyXG4gICAgcmV0dXJuIGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXByb2JhciBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8e2Nvbm5lY3RlZDogbnVtYmVyLCBzdWNjZXNzOiBib29sZWFufT59XHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tDb25uZWN0aW9uKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jb25uZWN0ZWQnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gZGF0YS5jb25uZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgLy8gTm90aWZpY2FyIGEgbG9zIGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiB0cnVlLCBjb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiB0aGlzLmNvbm5lY3RlZENvdW50LCBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBjb25uZWN0aW9uOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1hbmVqYXIgZGVzY29uZXhpw7NuXHJcbiAgICovXHJcbiAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IGZhbHNlLCBjb3VudDogMCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdHJhciB1biBsaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBxdWUgc2UgbGxhbWFyw6EgY3VhbmRvIGNhbWJpZSBlbCBlc3RhZG9cclxuICAgKi9cclxuICBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcblxyXG4gICAgLy8gTGxhbWFyIGlubWVkaWF0YW1lbnRlIGNvbiBlbCBlc3RhZG8gYWN0dWFsXHJcbiAgICBjYWxsYmFjayh7IGNvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbGltaW5hciB1biBsaXN0ZW5lclxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gYSBlbGltaW5hclxyXG4gICAqL1xyXG4gIHJlbW92ZUxpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5vdGlmaWNhciBhIHRvZG9zIGxvcyBsaXN0ZW5lcnNcclxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIERhdG9zIGRlbCBlc3RhZG8gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgbm90aWZ5TGlzdGVuZXJzKGRhdGEpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge3RyeXtcclxuICAgICAgbGlzdGVuZXIoZGF0YSk7XHJcbiAgICB9Y2F0Y2goZSl7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIExpc3RlbmVyOicsZSk7XHJcbiAgICB9fSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXHJcbiAgICogQHJldHVybnMge29iamVjdH1cclxuICAgKi9cclxuICBnZXRTdGF0dXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCxcclxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXHJcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZSxcclxuICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBzdGFydFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXHJcbiAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG5cclxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHsgXHJcbiAgICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICB9LCB0aGlzLmNoZWNrSW50ZXJ2YWwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZW5lciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICovXHJcbiAgc3RvcFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcclxuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIENyZWFyIGluc3RhbmNpYSBzaW5nbGV0b25cclxuZXhwb3J0IGNvbnN0IGNvbm5lY3Rpb25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKCk7XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9NJywgJy9pbWFnZW5lcy9sb2dvU2luRm9uZG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2hvdmVyJywgJy9zb3VuZHMvaG92ZXIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdtdXNpY2FNZW51JywgJy9zb3VuZHMvbcO6c2ljYV9NUHJpbmNpcGFsLm1wMycpO1xyXG5cclxuICAgICAgICBjb25zdCBmb250ID0gbmV3IEZvbnRGYWNlKCdUYWdlc3NjaHJpZnQnLCAndXJsKC9mdWVudGVzL1RhZ2Vzc2NocmlmdC50dGYpJyk7XHJcbiAgICAgICAgZm9udC5sb2FkKCkudGhlbihmdW5jdGlvbiAobG9hZGVkRm9udCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5hZGQobG9hZGVkRm9udCk7XHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZm9udDonLCBlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEVuc3VyZSBubyBkdXBsaWNhdGUgbWVudSBtdXNpYyBwbGF5cyAoc3RvcCBleGlzdGluZyB0aGVuIHBsYXkpXHJcbiAgICAgICAgdHJ5IHsgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICB0aGlzLmdhbWUuc291bmQucGxheSgnbXVzaWNhTWVudScsIHsgdm9sdW1lOiAwLjcsIGxvb3A6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZm9uZG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDM1MCwgJ2ZvbmRvTScpXHJcbiAgICAgICAgdGhpcy5mb25kby5zZXRTY2FsZSgwLjgpO1xyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAzMDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmJvdG9uMiA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjMgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDQwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMy5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYm90b240ID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0NTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjQuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmJvdG9uNSA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b241LnNldFNjYWxlKDAuMSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEyMCwgJ0VsIEVuaWdtYSBkZSBsYVxcblRvcnJlIEVuY2FudGFkYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1NnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJUYWdlc3NjaHJpZnRcIixcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC04KTsgXHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDMwMCwgJ0xvY2FsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbG9jYWxCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIERldGVuZXIgbcO6c2ljYSBkZSBtZW7DuiBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9ubGluZUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCAzNTAsICdPbmxpbmUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbmxpbmVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnI2ZmMDAwMGZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBvbmxpbmVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsIGFzeW5jKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTYWxhRGVFc3BlcmEnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBjb25zdCBjcmVkaXRvc0J0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0MDAsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY3JlZGl0b3NCdG4uc2V0U3R5bGUoeyBmaWxsOiAnI2ZmOTEwMGZmJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjcmVkaXRvc0J0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRzU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGhpc3RvcmlhQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ0hpc3RvcmlhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGhpc3RvcmlhQnRuLnNldFN0eWxlKHsgZmlsbDogJyMzOGZmZmZmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gaGlzdG9yaWFCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnSGlzdG9yaWFTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udHJvbEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsICdDb250cm9sZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29udHJvbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwZGZmYzEnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGNvbnRyb2xCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ29udHJvbFNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnTWVudVNjZW5lJyB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBjb25leGnDs24gYWwgc2Vydmlkb3JcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0ID0gdGhpcy5hZGQudGV4dCg1MDAsIDU0MCwgJ1NlcnZpZG9yOiBDb21wcm9iYW5kby4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpIHtcclxuICAgICAgICAvLyBTb2xvIGFjdHVhbGl6YXIgc2kgZWwgdGV4dG8gZXhpc3RlIChsYSBlc2NlbmEgZXN0w6EgY3JlYWRhKVxyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uVGV4dCB8fCAhdGhpcy5zY2VuZSB8fCAhdGhpcy5zY2VuZS5pc0FjdGl2ZSgnTWVudVNjZW5lJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoYFNlcnZpZG9yOiAke2RhdGEuY291bnR9IHVzdWFyaW8ocykgY29uZWN0YWRvKHMpYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoJ1NlcnZpZG9yOiBEZXNjb25lY3RhZG8nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51U2NlbmVdIEVycm9yIHVwZGF0aW5nIGNvbm5lY3Rpb24gZGlzcGxheTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBNYWdve1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5LCBpZFNwcml0ZSl7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnZpZGEgPSAzOyBcclxuICAgICAgICB0aGlzLmlkbGUgPSBpZFNwcml0ZTtcclxuICAgICAgICB0aGlzLmVzdGFkb19ub3JtYWwgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmJhc2VXaWRodCA9IDIwO1xyXG4gICAgICAgIHRoaXMuYmFzZUhlaWdodCA9IDEwMDtcclxuICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDMwMDtcclxuXHJcbiAgICAgICAgLy8gU2FsdG9cclxuICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuanVtcFZlbG9jaXR5ID0gMDtcclxuICAgICAgICB0aGlzLmdyb3VuZFkgPSB5O1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIGlkU3ByaXRlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjM1KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTsgXHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0U2l6ZSgxMjUsMTc1KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldE9mZnNldCg4ODAsNzUwKTtcclxuICAgIH1cclxuXHJcbiAgICBhbmRhcl9hbmltYWNpb24oKXtcclxuICAgICAgICBpZighdGhpcy5zcHJpdGUgfHwgIXRoaXMuc3ByaXRlLmFuaW1zKSByZXR1cm47IC8vIFByb3RlZ2VyIHNpIGVsIHNwcml0ZSBvIGFuaW1zIG5vIGV4aXN0ZW5cclxuICAgICAgICBpZighdGhpcy5zcHJpdGUuYW5pbXMuaXNQbGF5aW5nKXtcclxuICAgICAgICAgICAgaWYodGhpcy5pZGxlID09PSAnaWRsZV9BenVsJyl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnNjZW5lICYmIHRoaXMuc2NlbmUuYW5pbXMgJiYgdGhpcy5zY2VuZS5hbmltcy5leGlzdHMoXCJhbmRhcl9tYWdvX0F6dWxcIikpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoXCJhbmRhcl9tYWdvX0F6dWxcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pZGxlID09PSAnaWRsZV9Sb2pvJyl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnNjZW5lICYmIHRoaXMuc2NlbmUuYW5pbXMgJiYgdGhpcy5zY2VuZS5hbmltcy5leGlzdHMoXCJhbmRhcl9tYWdvX1Jvam9cIikpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoXCJhbmRhcl9tYWdvX1Jvam9cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCl7XHJcbiAgICAgICAgaWYoIXRoaXMuc3ByaXRlIHx8ICF0aGlzLnNwcml0ZS5hbmltcykgcmV0dXJuOyAvLyBQcm90ZWdlciBzaSBlbCBzcHJpdGUgbyBhbmltcyBubyBleGlzdGVuXHJcbiAgICAgICAgaWYodGhpcy5zcHJpdGUuYW5pbXMuaXNQbGF5aW5nKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUZXh0dXJlKHRoaXMuaWRsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGp1bXAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzSnVtcGluZyApIHtcclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VuZFkgPSB0aGlzLnNwcml0ZS55OyAvLyBlc3RhYmxlY2VyIGxhIGFsdHVyYSBhIGxhIHF1ZSB0aWVuZSBxdWUgdm9sdmVyIGNvbW8gbGEgYWN0dWFsIFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLTEwMDAwMCk7IC8vIFZlbG9jaWRhZCBpbmljaWFsIGRlIHNhbHRvXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gdHJ1ZTsgLy8gYWN0aXZhciBncmF2ZWRhZCBlbiBsb3Mgc2FsdG9zXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkZWx0YSkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0p1bXBpbmcgKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGxhbmRlZCAoYmFjayB0byBncm91bmQgbGV2ZWwgb3IgYmVsb3cpXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNwcml0ZS55ID49IHRoaXMuZ3JvdW5kWSAmJiB0aGlzLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnkgPj0gMCkgeyAvLyBDb21wcm9iYXIgc2kgdGllbmUgcXVlIHZvbHZlciBhIGFyZWEgZGUgc3VlbG9cclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnkgPSB0aGlzLmdyb3VuZFk7IC8vIGlyIGEgbGEgcG9zaWNpw7NuIGVuIGxhIHF1ZSBjb21lbnrDsyBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7IC8vIGRlc2FjdGl2YXIgZ3JhdmVkYWQgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlOyAvLyB5YSBubyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5lc3RhZG9fbm9ybWFsID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC4zNSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRTY2FsZShzY2FsZSl7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoc2NhbGUpO1xyXG4gICAgfVxyXG4gXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KXtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbih4LCB5KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29ye1xyXG5jb25zdHJ1Y3Rvcigpe1xyXG4gICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpOyBcclxuICAgIHRoaXMuZ2FtZVNjZW5lID0gbnVsbDtcclxufVxyXG5cclxuc2V0UGxheWVycyhwbGF5ZXJzKXtcclxuICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbn1cclxuXHJcbnNldEdhbWVTY2VuZShnYW1lU2NlbmUpe1xyXG4gICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbn1cclxuXHJcbnByb2Nlc3MoY29tbWFuZCl7XHJcbiAgICBjb21tYW5kLmV4ZWN1dGUoKTsgXHJcbn1cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kIHtcclxuICAgIGV4ZWN1dGUoKXt9XHJcblxyXG4gICAgc2VyaWFsaXplKCl7fVxyXG5cclxuICAgIGdldFBsYXllcigpe31cclxuICAgIFxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuL0NvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZlTWFnb0NvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKG1hZ28sIGRpcmVjdGlvbiwgc2FsdG8pe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5tYWdvID0gbWFnbztcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgXHJcbiAgICAgICAgdGhpcy5zYWx0byA9IHNhbHRvOyBcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCl7XHJcbiAgICAgICAgaWYodGhpcy5kaXJlY3Rpb24gPT09ICd1cCcpe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5tYWdvLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uID09PSAnZG93bicpe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WSgrdGhpcy5tYWdvLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uID09PSAnbGVmdCcpe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy5tYWdvLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uID09PSAncmlnaHQnKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVgoK3RoaXMubWFnby5iYXNlU3BlZWQpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WSgwKTsgXHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlYKDApOyBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5zYWx0byl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLm1hZ28uYmFzZVNwZWVkKjMuNSApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7Q29tbWFuZH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlR2FtZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5ke1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZVNjZW5lLCBpc1BhdXNlZCl7XHJcbiAgICAgICAgc3VwZXIoKTsgXHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKXtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5zZXRQYXVzZVN0YXRlKHRoaXMuaXNQYXVzZWQpOyBcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWFnbyB9IGZyb20gJy4uL2VudGl0aWVzL01hZ28nXHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlTWFnb0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL01vdmVNYWdvQ29tbWFuZCc7XHJcbmltcG9ydCB7IFBhdXNlR2FtZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL1BhdXNlR2FtZUNvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gRXNjZW1uYXJpbyB5IG9iamV0b3MgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJlZFInLCAnL2ltYWdlbmVzL3BhcmVkWVRlY2hvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VlbG9SJywgJy9pbWFnZW5lcy9zdWVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvbGFDcmlzdGFsUicsICcvaW1hZ2VuZXMvYm9sYUNyaXN0YWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYWxkZXJvUicsICcvaW1hZ2VuZXMvY2FsZGVyb0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FtcG9GdWVyemFSJywgJy9pbWFnZW5lcy9jYW1wb2RlZnVlcnphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29mcmVSJywgJy9pbWFnZW5lcy9jb2ZyZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvZnJlQWJpZXJ0b1InLCAnL2ltYWdlbmVzL2NvZnJlQWJpZXJ0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVyaWFSJywgJy9pbWFnZW5lcy9lc3RhbnRlcmlhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGxhdmVSJywgJy9pbWFnZW5lcy9sbGF2ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlub1InLCAnL2ltYWdlbmVzL3BlcmdhbWlub0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhbnRhUicsICcvaW1hZ2VuZXMvcGxhbnRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSJywgJy9pbWFnZW5lcy9wb2Npb25lcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZlbGFzUicsICcvaW1hZ2VuZXMvdmVsYXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlUicsICcvaW1hZ2VuZXMvZXN0YW50ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xpYnJvc1InLCAnL2ltYWdlbmVzL2xpYnJvcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVlInLCAnL2ltYWdlbmVzL2JvdG9uVmFjaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNSJywgJy9pbWFnZW5lcy9ib3RvbkNvbXBsZXRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0cmVsbGFSJywgJy9pbWFnZW5lcy9lc3RyZWxsYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQXonLCAnL2ltYWdlbmVzL3BvY2lvbkF6dWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0FtJywgJy9pbWFnZW5lcy9wb2Npb25lc0FtYXJpbGxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNOJywgJy9pbWFnZW5lcy9wb2Npb25OYXJhbmphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSbycsICcvaW1hZ2VuZXMvcG9jaW9uUm9zYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTScsICcvaW1hZ2VuZXMvcG9jaW9uTW9yYWRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNWJywgJy9pbWFnZW5lcy9wb2Npb25WZXJkZS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9BenVsJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8yJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8zJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF80JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF81JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF82JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF83JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fOC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF84JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfUm9qbycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzInLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18zJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzUnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb182JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzgnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fOC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZXJmYXogTXVlcnRlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCR01cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2JnbScsICcvc291bmRzL2JnbS5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvcyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdhYnJpckNvZnJlJywgJy9zb3VuZHMvY2hlc3Rfb3Blbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJQb2Npb24nLCAnL3NvdW5kcy9ib3RlbGxhcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJMbGF2ZScsICcvc291bmRzL2xsYXZlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2FsaycsICcvc291bmRzL3dhbGsubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdleHBsb3Npb24nLCAnL3NvdW5kcy9leHBsb3Npb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwdWVydGEnLCAnL3NvdW5kcy9wdWVydGEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd0cmlnZ2VyJywgJy9zb3VuZHMvdHJpZ2dlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3BlcXVlw7FvJywgJy9zb3VuZHMvcGVxdWXDsW8ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubFB1bHNhZGEgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZUFiaWVydG8gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMgPSBuZXcgTWFwKCk7IC8vIE1hcCBwYXJhIGd1YXJkYXIgZWwgc29uaWRvIGRlIGNhZGEganVnYWRvclxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXJ0VGltZSA9IERhdGUubm93KCk7IC8vIFJhc3RyZWFyIGluaWNpbyBkZSBwYXJ0aWRhXHJcbiAgICAgICAgdGhpcy5nYW1lTW9kZSA9ICdsb2NhbCc7IC8vIE1vZG8gbG9jYWxcclxuICAgICAgICB0aGlzLnVzZXJuYW1lID0gJ0p1Z2Fkb3JMb2NhbCc7IC8vIFVzdWFyaW8gcG9yIGRlZmVjdG8gcGFyYSBsb2NhbFxyXG5cclxuICAgICAgICAvLyBBcnJheSBkZSBib29sZWFub3MgcXVlIHJlcHJlc2VudGEgcXVlIG9iamV0b3MgaGFuIHJlY29naWRvIGVudHJlIGFtYm9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIC8vIExvcyBvYmpldG9zIHNvbjogMC1sbGF2ZSwgMS1saWJyb3MsIDItIHBvY2lvbiBtb3JhZGEsIDMtIHBvY2lvbiB2ZXJkZSwgNC0gcG9jaW9uIHJvc2EsIDUtIHBvY2lvbiBhenVsLCA2LSBwb2Npb24gYW1hcmlsbGEsIDctIHBvY2lvbiBuYXJhbmphLCA4LSB2ZWxhcywgOS0gYm9sYSBkZSBjcmlzdGFsLCAxMC0gcGxhbnRhLCAxMS0gZXN0cmVsbGEgMSwgMTItIGVzdHJlbGxhIDJcclxuICAgICAgICB0aGlzLmludmVudGFyaW8gPSBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdhbmRhcl9tYWdvX0F6dWwnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnaWRsZV9BenVsJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF80JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzYnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF83JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfOCcgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnYW5kYXJfbWFnb19Sb2pvJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2lkbGVfUm9qbycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzInIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb18zJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzUnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb182JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzgnIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJnbSA9IHRoaXMuc291bmQuYWRkKCdiZ20nLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBsYXkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWFyIHVuIHNvbmlkbyBkZSBwYXNvcyBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjEnLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjInLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG5cclxuICAgICAgICAvLyBQYXJhciBwYXNvcyBjdWFuZG8gbGEgZXNjZW5hIHNlIHBhdXNlIChlai4gUGF1c2VTY2VuZSkgeSBsaW1waWFyIHNvbmlkb3MgYWwgc2h1dGRvd25cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHsgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFsIHJlc3VtZSBubyBzZSByZXByb2R1Y2UgYXV0b23DoXRpY2FtZW50ZTogZWwgdXBkYXRlKCkgcmVhbnVkYXLDoSBwYXNvcyBzaSBzZSBwdWxzYSBtb3ZlclxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIG5hZGEgZXNwZWNpYWw6IHVwZGF0ZSgpIHZvbHZlcsOhIGEgcmVwcm9kdWNpciBjdWFuZG8gZGV0ZWN0ZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQXNlZ3VyYXIgbGltcGllemEgY3VhbmRvIGxhIGVzY2VuYSBzZSBjaWVycmUgZGVmaW5pdGl2YW1lbnRlXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gcGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXJFc2NlbmFyaW8oKTtcclxuICAgICAgICB0aGlzLmNyZWFyUGxhdGFmb3JtYXMoKTtcclxuICAgICAgICB0aGlzLmNyZWFyQmFycmVyYUludmlzaWJsZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5lc3RhYmxlY2VyQ29saXNpb25lcygpO1xyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpb0VuUGFudGFsbGEoKTsgXHJcblxyXG5cclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQgPSB0aGlzLmFkZC50ZXh0KDUwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodCA9IHRoaXMuYWRkLnRleHQoOTAwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICAgICAgdGhpcy5sa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkwpO1xyXG4gICAgICAgIHRoaXMucWtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5RKTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUodGltZSwgZGVsdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duICYmICF0aGlzLmVzY1dhc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSB0aGlzLmVzY0tleS5pc0Rvd247XHJcbmNvbnNvbGUubG9nKFwiSG9sYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhXCIpO1xyXG4gICAgICAgIHRoaXMubFB1bHNhZGEgPSBmYWxzZTsgLy92b2x2ZXIgYSBwb25lciBhIGZhbHNlIHNpIG5vIGhhIGhhYmlkbyBvdmVybGFwXHJcbiAgICAgICAgaWYgKHRoaXMubGtleS5pc0Rvd24gfHwgdGhpcy5xa2V5LmlzRG93bikgdGhpcy5sUHVsc2FkYSA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIENvbXByb2JhciBzaSBhbGd1bm8gZGUgbG9zIGp1Z2Fkb3JlcyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKG1hZ28gPT4ge1xyXG4gICAgICAgICAgICBtYWdvLnVwZGF0ZShkZWx0YSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYWdvID0gdGhpcy5wbGF5ZXJzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBzYWx0byA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCB3YWxrU291bmQgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBsZXQgaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcudXBLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmRvd25LZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdzdG9wJztcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdhbGtTb3VuZCAmJiB3YWxrU291bmQuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2Fsa1NvdW5kLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gc2FsdG8gc29sbyBzaSBlc3RhIHBlcXVlw7FvXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmp1bXBPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW1hZ28uZXN0YWRvX25vcm1hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNhbHRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbl9wYXJhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc01vdmluZyAmJiB3YWxrU291bmQgJiYgIXdhbGtTb3VuZC5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgIHdhbGtTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVNYWdvQ29tbWFuZChtYWdvLCBkaXJlY3Rpb24sIHNhbHRvKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMV0pIHRoaXMudW5vLnNldEFscGhhKDEpOyBlbHNlIHRoaXMudW5vLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMl0pIHRoaXMuZG9zLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1szXSkgdGhpcy50cmVzLnNldEFscGhhKDEpOyBlbHNlIHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzRdKSB0aGlzLmN1YXRyby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmN1YXRyby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzVdKSB0aGlzLmNpbmNvLnNldEFscGhhKDEpOyBlbHNlIHRoaXMuY2luY28uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s2XSkgdGhpcy5zZWlzLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5zZWlzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bN10pIHRoaXMuc2lldGUuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLnNpZXRlLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bOF0pIHRoaXMub2Noby5zZXRBbHBoYSgxKTtlbHNlIHRoaXMub2Noby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzldKSB0aGlzLm51ZXZlLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5udWV2ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzEwXSkgdGhpcy5kaWV6LnNldEFscGhhKDEpOyBlbHNlIHRoaXMuZGllei5zZXRBbHBoYSgwLjIpOyBcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJFc2NlbmFyaW8oKSB7XHJcbiAgICAgICAgdGhpcy5zdWVsbyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0NzIsICdzdWVsb1InKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhcmVkID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDIwNSwgJ3BhcmVkUicpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTY1LCAzMDAsICdlc3RhbnRlcmlhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTg1LCAzMDMsICdib2xhQ3Jpc3RhbFInKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FsZGVybyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0MzAsICdjYWxkZXJvUicpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzMTAsICdjYW1wb0Z1ZXJ6YVInKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29mcmUgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwNSwgMjgzLCAnY29mcmVSJyk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxsYXZlID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNzAsIDE2MCwgJ2xsYXZlUicpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmxsYXZlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDc4MCwgMTgwLCAncGVyZ2FtaW5vUicpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGFudGEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE3MCwgMzY1LCAncGxhbnRhUicpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTY5LCAyNjIsICdwb2Npb25lc1InKTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmVsYXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE0MCwgMzA4LCAndmVsYXNSJyk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxpYnJvcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTUwLCAyMjAsICdsaWJyb3NSJyk7XHJcbiAgICAgICAgdGhpcy5saWJyb3Muc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5saWJyb3MuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAsIDM1MCwgJ2JvdG9uVlInKTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm90b24yID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg3ODAsIDM1MCwgJ2JvdG9uVlInKTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBlc3RyZWxsYXMgZGUgZGVudHJvIGRlbCBjb2ZyZVxyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NTAsIDI4MywgJ2VzdHJlbGxhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTYwLCAyODMsICdlc3RyZWxsYVInKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJCYXJyZXJhSW52aXNpYmxlKCkge1xyXG4gICAgICAgIC8vIENyZWFyIHVuYSBiYXJyZXJhIGludmlzaWJsZSBxdWUgZXZpdGEgcXVlIHN1YmEgaGFjaWEgYXJyaWJhIChwZXJvIHB1ZWRhIGFuZGFyIGxpYnJlbWVudGUgcG9yIGVsIHN1ZWxvKVxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljSW1hZ2UoNTAwLCAxMDUsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRTaXplKDEwMDAsIDUwMCk7IFxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuYm9keS5zZXRTaXplKDEwMDAsIDUwMCk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGNvbGxpZGVyIGludmlzaWJsZSBwYXJhIHF1ZSBwdWVkYSB1c2FyIGxhIGJhbGRhIHN1cGVyaW9yIGRlIGxhIGVzdGFudGVyw63CrWEgY29tbyBwbGF0YWZvcm1hXHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDE2NSwgMTk1LCAnd2hpdGVfcGl4ZWwnKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLnNldFNjYWxlKDQsIDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGNvbGxpZGVyIGludmlzaWJsZSBwYXJhIGV2aXRhciBxdWUgYXRyYXZpZXNlIGVsIGNhbGRlcm9cclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNTAwLCA0MDAsICd3aGl0ZV9waXhlbCcpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuc2V0Q2lyY2xlKDg1KTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0T2Zmc2V0KC03MCwgLTU1KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhclBsYXRhZm9ybWFzKCkge1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcbiAgICAgICAgLy8gQ2VudHJvXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNDQ2LCAzMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDUxMCwgMzE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg1NzAsIDMxNSwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgICAgIC8vIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDY1MCwgMzUwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg2NTAsIDIxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNzAwLCAzOTAsICdlc3RhbnRlUicpO1xyXG5cclxuICAgICAgICAvLyBEZXJlY2hhXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNDQ2LCAyNTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDM2MCwgMjM1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgyOTUsIDIxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzAwLCAzOTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDM4MCwgMzUwLCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXN0YWJsZWNlckNvbGlzaW9uZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgLy8gQ29saXNpb25lcyBkZWwganVnYWRvciBjb24gZWwgZXNjZW5hcmlvXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RhbnRlcmlhQ29sbCk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5wbGF0YWZvcm1hcyk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5jYWxkZXJvQ29sbCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmNvZnJlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbnNlZ3VpciBsYSBsbGF2ZVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5sbGF2ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3JlY29nZXJMbGF2ZScsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxsYXZlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGxhdmUgY29uc2VndWlkYVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1swXSA9IHRydWU7IC8vIG1hcmNhciBlbiBlbCBpbnZlbnRhcmlvIHF1ZSBzZSBoYSBjb25zZWd1aWRvIGxhIGxsYXZlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlcm8uc2V0QWxwaGEoMSk7IFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZDsgXHJcbiAgICAgICAgICAgIGlmKHBsYXllci5wbGF5ZXJJZCA9PT0gJ3BsYXllcjEnKSBpZCA9IDE7XHJcbiAgICAgICAgICAgIGVsc2UgaWQgPSAyO1xyXG5cclxuICAgICAgICAgICAgLy8gQWJyaXIgbGEgbGlicmVyw63CrWFcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0YW50ZXJpYSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubFB1bHNhZGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0xpYnJlcmlhU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2Npb25lczogdGhpcy5pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VuZDogdGhpcy5zb3VuZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAganVnYWRvcjogaWRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBCYXJyZXJhIGludmlzaWJsZSBwYXJhIHBlcm1pdGlyIGFyZWEgZGUgc3VlbG8gZG9uZGUgc2UgZGVzcGxhY2VuIGxpYnJlbWVudGUsIHkgYXJlYSBkZSBzYWx0byBwYXJhIHN1YmlyIHBvciBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWwgY29saXNpb25hciBjb24gbGEgYmFycmVyYSBpbnZpc2libGUgbWllbnRyYXMgZWwganVnYWRvciB2YSBoYWNpYSBhcnJpYmEsIHNhbHRhXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5qdW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGNhbGxiYWNrIC0gb25seSBjb2xsaWRlIHdoZW4gbW92aW5nIHVwIGFuZCBub3QganVtcGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTW92aW5nVXAgPSBwbGF5ZXIuc3ByaXRlLmJvZHkudmVsb2NpdHkueSA8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFwbGF5ZXIuaXNKdW1waW5nICYmIGlzTW92aW5nVXA7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXIgcG9jaW9uIGRlIGRpc21pbnVpciB0YW1hw7FvIHNpIHNlIHRpZW5lbiBsYXMgcG9jaW9uZXMgbmVjZXNhcmlhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5jYWxkZXJvLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMubGtleSkgfHwgUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMucWtleSkpIHsgLy8gQ29tcHJvYmFyIHF1ZSBzZSBoYSBwdWxzYWRvIGxhIHRlY2xhIEwgbyBRIHBhcmEgY3JlYXIgbGEgcG9jaW9uIChzaSBzZSBtYW50aWVuZSBwdWxzYWRhIGxhIHRlY2xhIG5vIGVudHJhcsOhIHZhcmlhcyB2ZWNlcyBhIGxhIGZ1bmNpw7NuKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbGVtUmVjb2dpZG9zID0gdGhpcy5pbnZlbnRhcmlvLmZpbHRlcihlbGVtID0+IGVsZW0gPT09IHRydWUpOyAvLyBjcmVhciB1biBzZWd1bmRvIGFycmF5IGNvbiB1bmljYW1lbnRlIGxvcyBlbGVtZW50b3MgcmVjb2dpZG9zXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtUmVjb2dpZG9zLmxlbmd0aCA9PT0gMykgfHwgKGVsZW1SZWNvZ2lkb3MubGVuZ2h0ID09PSA0KSkgeyAvLyBwcmltZXJvIGNvbXByb2JhciBxdWUgc2UgaGFuIHJlY29naWRvIDMgZWxlbWVudG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludmVudGFyaW9bM10gJiYgdGhpcy5pbnZlbnRhcmlvWzVdICYmIHRoaXMuaW52ZW50YXJpb1s3XSkgeyAvLyBjb21wcm9iYXIgcXVlIGVzb3MgZWxlbWVudG9zIHJlY29naWRvcyBzb24gbGFzIHBvY2lvbmVzIHZlcmRlLCBhenVsIHkgbmFyYW5qYSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBjcmVhZGFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmRpc2FibGVCb2R5KCk7IC8vIGRlc2FjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm8gcGFyYSBtaWVudHJhcyBlc3TDqW4gcGVxdWXDsW9zIHB1ZWRhbiBhdHJhdmVzYXJsbyAoY2F1c2FiYSBidWdzOiBsZXZpdGFiYSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdwZXF1ZcOxbycsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdGllbmVzIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzIHBhcmEgY3JlYXIgbGEgcG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxb1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZXhwbG9zaW9uJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWxlYXRvcmlvID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCAyKTsgLy8gZ2VuZXJhciB1biBuw7ptZXJvIGFsZWF0b3JpbyBlbnRyZSAxIHkgMiBwYXJhIGVsZWdpciBxdWUganVnYWRvciByZWNpYmUgZGHDsW9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsZWF0b3JpbyA9PT0gMSkgdGhpcy5kYcOxb0p1Z0xlZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0aGlzLmRhw7FvSnVnUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZvbHZlciBhIHBvbmVyIGEgZmFsc2UgdG9kb3MgbG9zIGVsZW1lbnRvcyBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5pbnZlbnRhcmlvLmxlbmd0aCAtIDI7IGkrKykgeyAvLyBzZSBzYWx0YSBsYSBsbGF2ZSB5IGxhcyBlc3RyZWxsYXMgcG9ycXVlIG5vIHNlIHV0aWxpemFuIHBhcmEgY3JlYXIgbGEgcG9jaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1tpXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiB0aGlzLnVuby5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDogdGhpcy5jdWF0cm8uc2V0QWxwaGEoMC4yKTsgYnJlYWs7ICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTogdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjogdGhpcy5zZWlzLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiB0aGlzLnNpZXRlLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OiB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOiB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWJyaXIgZWwgY29mcmUgc2kgc2UgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb2ZyZUFiaWVydG8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzBdKSB7IC8vIGNvbXByb2JhciBxdWUgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpckNvZnJlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOZWNlc2l0YXMgbGEgbGxhdmUgcGFyYSBhYnJpciBlbCBjb2ZyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVjb2dlciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0cmVsbGExLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29nZXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdHJlbGxhMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvZ2VyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vY29sb2NhciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9jYXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvY2FyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIHB1bHNhciBib3RvbmVzIHBhcmEgZGVzYWN0aXZhciBlbCBjYW1wbyBkZSBmdWVyemFcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMUFjdGl2YWRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24yLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMkFjdGl2YWRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBMb3Mgb2JqZXRvcyBzb246IDAtbGxhdmUsIDEtbGlicm9zLCAyLSBwb2Npb24gbW9yYWRhLCAzLSBwb2Npb24gdmVyZGUsIDQtIHBvY2lvbiByb3NhLCA1LSBwb2Npb24gYXp1bCwgNi0gcG9jaW9uIGFtYXJpbGxhLCA3LSBwb2Npb24gbmFyYW5qYSwgOC0gdmVsYXMsIDktIGJvbGEgZGUgY3Jpc3RhbCwgMTAtIHBsYW50YSwgMTEtIGVzdHJlbGxhIDEsIDEyLSBlc3RyZWxsYSAyXHJcbiAgICBpbnZlbnRhcmlvRW5QYW50YWxsYSgpIHsgLy9Db21vIHNlIGFjYWJhIGRlIGNyZWFyLCB0b2RhdsOtYSBubyBzZSBoYWJyw6EgcmVjb2dpZG8gbmluZ8O6biBlbGVtZW50b1xyXG4gICAgICAgIHRoaXMuY2VybyA9IHRoaXMuYWRkLmltYWdlKDIwMCwgNTIwLCAnbGxhdmVSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnVubyA9IHRoaXMuYWRkLmltYWdlKDI1MCwgNTIwLCAnbGlicm9zUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRvcyA9IHRoaXMuYWRkLmltYWdlKDMwMCwgNTIwLCAncG9jaW9uZXNNJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnRyZXMgPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDUyMCwgJ3BvY2lvbmVzVicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5jdWF0cm8gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyMCwgJ3BvY2lvbmVzUm8nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuY2luY28gPSB0aGlzLmFkZC5pbWFnZSg0NTAsIDUyMCwgJ3BvY2lvbmVzQXonKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2VpcyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNTIwLCAncG9jaW9uZXNBbScpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zaWV0ZSA9IHRoaXMuYWRkLmltYWdlKDU1MCwgNTIwLCAncG9jaW9uZXNOJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLm9jaG8gPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDUyMCwgJ3ZlbGFzUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLm51ZXZlID0gdGhpcy5hZGQuaW1hZ2UoNjUwLCA1MjAsICdib2xhQ3Jpc3RhbFInKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5kaWV6ID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MjAsICdwbGFudGFSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMub25jZSA9IHRoaXMuYWRkLmltYWdlKDc1MCwgNTIwLCAnZXN0cmVsbGFSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmRvY2UgPSB0aGlzLmFkZC5pbWFnZSg4MDAsIDUyMCwgJ2VzdHJlbGxhUicpLnNldEFscGhhKDAuMik7XHJcbiAgICB9XHJcblxyXG4gICAgYWJyaXJDb2ZyZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2FicmlyQ29mcmUnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2FicmlyQ29mcmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvZnJlIGFiaWVydG9cIik7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRUZXh0dXJlKCdjb2ZyZUFiaWVydG9SJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRBbHBoYSgxLjApO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gdHJ1ZTsgLy8gcGFyYSBxdWUgc29sbyBzZSBhYnJhIHVuYSB2ZXpcclxuICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGxsYXZlIGRlbCBpbnZlbnRhcmlvIGFsIGFicmlyIGVsIGNvZnJlXHJcbiAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgfVxyXG5cclxuICAgIHJlY29nZXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29mcmVBYmllcnRvKSB7IC8vIHNvbG8gc2UgcHVlZGUgcmVjb2dlciBzaSBlbCBjb2ZyZSBlc3TDoSBhYmllcnRvIChwb3JxdWUgc2lubyBlc3TDoW4gb2N1bHRhcylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RyZWxsYSBcIiArIG4gKyBcIiByZWNvZ2lkYVwiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBlc3RyZWxsYSAoMTEgeSAxMiBlbiBlbCBhcnJheSlcclxuICAgICAgICAgICAgaWYgKG4gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGExLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfSBlbHNleyBcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZXN0YWRvX25vcm1hbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAvLyB2b2x2ZXIgYSBhY3RpdmFyIGVsIGNvbGxpZGVyIGRlbCBjYWxkZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5lbmFibGVCb2R5KGZhbHNlLCAwLCAwLCB0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjb2xvY2FyRXN0cmVsbGEobikge1xyXG4gICAgICAgIGlmICh0aGlzLmludmVudGFyaW9bMTAgKyBuXSkgeyAvLyBjb21wcm9iYXIgcXVlIHNlIHRpZW5lIGxhIGVzdHJlbGxhIGNvcnJlc3BvbmRpZW50ZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdHJlbGxhIFwiICsgbiArIFwiIGNvbG9jYWRhXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCd0cmlnZ2VyJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjEuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMi5zZXRUZXh0dXJlKCdib3RvbkNSJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgZXN0cmVsbGEgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgIHRoaXMuZG9jZS5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNhbXBvRnVlcnphKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmJvdG9uMS50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InICYmIHRoaXMuYm90b24yLnRleHR1cmUua2V5ID09PSAnYm90b25DUicpIHsgLy9jb21wcm9iYXIgcXVlIGFtYm9zIGJvdG9uZXMgdGllbmVuIGxhIGVzdHJlbGxhIGNvbG9jYWRhXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnFrZXkuaXNEb3duICYmIHRoaXMubGtleS5pc0Rvd24gJiYgdGhpcy5ib3RvbjFBY3RpdmFkbyAmJiB0aGlzLmJvdG9uMkFjdGl2YWRvKSB7IC8vIGNvbXByb2JhciBxdWUgYW1ib3MganVnYWRvcmVzIGVzdMOhbiBwdWxzYW5kbyBzdSB0ZWNsYSBjb3JyZXNwb25kaWVudGVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FtcG8gZGUgZnVlcnphIGRlc2FjdGl2YWRvXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3B1ZXJ0YScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbXBvRnVlcnphLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXJQdWVydGFGaW5hbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyUHVlcnRhRmluYWwoKSB7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzNzAsIG51bGwpO1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTsgXHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5zZXRBbHBoYSgwLjApOyBcclxuICAgICAgICBsZXQgZGVzYWN0aXZhZG8gPSBbZmFsc2UsIGZhbHNlXTsgLy8gYXJyYXkgcGFyYSBjb250cm9sYXIgcXVlIGFtYm9zIGp1Z2Fkb3JlcyBoYW4gbGxlZ2FkbyBhIGxhIHB1ZXJ0YSBmaW5hbFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnB1ZXJ0YUZpbmFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGRlc2FjdGl2YWRvWzBdID0gdHJ1ZTsgLy8gZWwgcGVyc29uYWplIHlhIGhhIGVudHJhZG8gcG9yIGxhIHB1ZXJ0YSB5IGhhIGRlc2FwYXJlY2lkb1xyXG4gICAgICAgICAgICB0aGlzLmVudHJhclB1ZXJ0YUZpbmFsKGRlc2FjdGl2YWRvKTtcclxuICAgICAgICAgICAgY29uc3Qgd3MxID0gdGhpcy53YWxrU291bmRzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgICAgICBpZiAod3MxKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MxLmlzUGxheWluZykgd3MxLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUsIHRoaXMucHVlcnRhRmluYWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZS5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgZGVzYWN0aXZhZG9bMV0gPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmVudHJhclB1ZXJ0YUZpbmFsKGRlc2FjdGl2YWRvKTtcclxuICAgICAgICAgICAgY29uc3Qgd3MyID0gdGhpcy53YWxrU291bmRzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgICAgICBpZiAod3MyKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MyLmlzUGxheWluZykgd3MyLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7ICBcclxuICAgIH0gICAgICAgXHJcblxyXG4gICAgZW50cmFyUHVlcnRhRmluYWwoZGVzYWN0aXZhZG8pIHtcclxuICAgICAgICBpZiAoZGVzYWN0aXZhZG9bMF0gJiYgZGVzYWN0aXZhZG9bMV0pIHsgLy9jYW1iaWFyIGRlIGVzY2VuYSBzb2xvIHNpIGFtYm9zIGp1Z2Fkb3JlcyBoYW4gbGxlZ2FkbyBhIGxhIHB1ZXJ0YSBmaW5hbFxyXG4gICAgICAgICAgICAvLyBQYXJhciB5IGRlc3RydWlyIHNvbmlkb3MgZGUgcGFzb3NcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MpIHdzLmRlc3Ryb3koKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIC8vIFBhcmFyIEJHTVxyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5iZ20gJiYgKHRoaXMuYmdtLmlzUGxheWluZyB8fCB0aGlzLmJnbS5pc1BhdXNlZCkpIHRoaXMuYmdtLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAvLyBGYWxsYmFjazogcGFyYXIgY3VhbHF1aWVyIGluc3RhbmNpYSBwb3IgY2xhdmVcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCd3YWxrJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnYmdtJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0RlY2lzaW9uU2NlbmUnLCB7bW9kbzogJ2xvY2FsJ30pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGxlZnRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjEnLCA1MCwgNDAwLCAnaWRsZV9BenVsJyk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjInLCA5NTAsIDQwMCwgJ2lkbGVfUm9qbycpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbGVmdE1hZ28pO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCByaWdodE1hZ28pO1xyXG5cclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAganVtcDogJ1NQQUNFJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnRE9XTicsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnTEVGVCcsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ1JJR0hUJyxcclxuICAgICAgICAgICAgICAgIGp1bXA6ICdFTlRFUidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgLy90aGlzLmludHB1dE1hcHBpbmdzID0gSW5wdXRDb25maWc7IFxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgIGp1bXBPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuanVtcF0pLFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGVuZEdhbWUoaWQpIHtcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAyNDAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uLnNldFNjYWxlKDAuMSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKG1hZ28gPT4ge1xyXG4gICAgICAgICAgICBtYWdvLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgLy8gRGV0ZW5lciBsYSBtw4PCunNpY2EgZGUgZm9uZG9cclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRvID0gaWQgPT09ICdwbGF5ZXIxJyA/ICdFbCBqdWdhZG9yIDFcXG4gIGhhIG11ZXJ0bycgOiAnIEVsIGp1Z2Fkb3IgMlxcbiAgaGEgbXVlcnRvJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjUwLCB0ZXh0bywge1xyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcgI2ZmMDAwMGZmJyxcclxuXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTUpO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ01lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDJmZjg5ZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGHDsW9KdWdMZWZ0KCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgcGxheWVyMS52aWRhLS07XHJcbiAgICAgICAgdGhpcy5oZWFsdGhMZWZ0LnNldFRleHQocGxheWVyMS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbCBqdWdhZG9yIGRlIGxhIGl6cXVpZXJkYSBoYSByZWNpYmlkbyBkYcOxbycpO1xyXG4gICAgICAgIGlmIChwbGF5ZXIxLnZpZGEgPD0gMCkgdGhpcy5lbmRHYW1lKCdwbGF5ZXIxJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGHDsW9KdWdSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIHBsYXllcjIudmlkYS0tO1xyXG4gICAgICAgIHRoaXMuaGVhbHRoUmlnaHQuc2V0VGV4dChwbGF5ZXIyLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VsIGp1Z2Fkb3IgZGUgbGEgZGVyZWNoYSBoYSByZWNpYmlkbyBkYcOxbycpO1xyXG4gICAgICAgIGlmIChwbGF5ZXIyLnZpZGEgPD0gMCkgdGhpcy5lbmRHYW1lKCdwbGF5ZXIyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VtaW5nIEdhbWVTY2VuZSB3aXRoIGRhdGE6XCIsIGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEucG9jaW9uZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gZGF0YS5wb2Npb25lcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5yZXN1bWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpby5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgSW52ZW50YXJpb1ske2luZGV4fV06ICR7aXRlbX1gKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZVN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgbmV3IFBhdXNlR2FtZUNvbW1hbmQodGhpcywgbmV3UGF1c2VTdGF0ZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmV7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdob3ZlcicsICcvc291bmRzL2hvdmVyLm1wMycpO1xyXG4gICAgfSAgIFxyXG5cclxuICAgIGNyZWF0ZShkYXRhKXtcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDIwMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsMzUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7ICAgICAgICBcclxuICAgICAgICB0aGlzLmJvdG9uMiA9IHRoaXMuYWRkLmltYWdlKDUwMCw0MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmJvdG9uMyA9IHRoaXMuYWRkLmltYWdlKDUwMCw0NTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjMuc2V0U2NhbGUoMC4xKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgJ0p1ZWdvIFBhdXNhZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjBweCcsIFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6JyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdW1lQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDM1MCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXN1bWVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmY4OGZmJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmVzdW1lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldChkYXRhLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpOyBcclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDAwLCAnTWVuw7onLCB7XHJcbiAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyM2ODM5YjNmZicgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIFNpIHZlbmltb3MgZGUgbGEgZXNjZW5hIG9ubGluZSwgYXZpc2FyIGFsIHNlcnZpZG9yIHBhcmEgbm90aWZpY2FyIGRlc2NvbmV4acOzblxyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEub3JpZ2luYWxTY2VuZSA9PT0gJ0dhbWVTY2VuZU8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnU2NlbmUgPSB0aGlzLnNjZW5lLmdldCgnR2FtZVNjZW5lTycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdTY2VuZSAmJiBvcmlnU2NlbmUud3MgJiYgb3JpZ1NjZW5lLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ1NjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAncGxheWVyRGlzY29ubmVjdGVkJyB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2VycmFyIGxhIGNvbmV4acOzbiBkZXNwdcOpcyBkZSB1biBicmV2ZSByZXRyYXNvIHBhcmEgYXNlZ3VyYXIgZW52w61vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRyeSB7IG9yaWdTY2VuZS53cy5jbG9zZSgpOyB9IGNhdGNoKGUpeyBjb25zb2xlLndhcm4oZSk7IH0gfSwgNTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBjYXRjaChlcnIpIHsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICB0cnl7dGhpcy5nYW1lLnNvdW5kLnN0b3BCeUtleSgnYmdtJyk7fWNhdGNoKGUpe2NvbnNvbGUud2FybihlKTt9XHJcblxyXG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICBcclxuICAgICAgICAgY29uc3QgY29udHJvbEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICdDb250cm9sZXMnLCB7XHJcbiAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb250cm9sQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMGVlZmZmZicgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjb250cm9sQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIFBhc2FyIGxhIGVzY2VuYSBvcmlnaW5hbCBwYXJhIHF1ZSBDb250cm9sZXMgcHVlZGEgdm9sdmVyIGNvcnJlY3RhbWVudGUgKEdhbWVTY2VuZSBvIEdhbWVTY2VuZU8pXHJcbiAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ29udHJvbFNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiBkYXRhICYmIGRhdGEub3JpZ2luYWxTY2VuZSA/IGRhdGEub3JpZ2luYWxTY2VuZSA6ICdHYW1lU2NlbmUnIH0pOyBcclxuICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlubycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTMwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7XHJcblxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMSA9IHRoaXMuYWRkLmltYWdlKDUwMCwzODAsICdwZXJnYW1pbm8nKVxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMS5zZXRTY2FsZSgyKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEyMCwgJ0VsIEVuaWdtYSBkZSBsYVxcblRvcnJlIEVuY2FudGFkYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1NnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC04KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI0NSwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1MHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2E3YTdhN2ZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzEwLCAnUGF1bGEgT3J0aXogRmVybsOhbmRleicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjOTFmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzU1LCAnRGFuaWVsIENvcmJhY2hvIEFuZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZjEzMmZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDQwMCwgJ0FsZWphbmRybyBIZXJuw6FuZGV6IFJ1aXonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2Q3YWNmZmZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ8OBbmdlbCBCZXJtw7pkZXogRmFyacOxYXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmY2VhZGZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgY29uc3QgUmV0dXJuQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUzMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMGZmODhmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgSGlzdG9yaWFTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignSGlzdG9yaWFTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMTIwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MzAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTIwLCAnRWwgRW5pZ21hIGRlIGxhXFxuVG9ycmUgRW5jYW50YWRhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzU2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDcwNzA3ZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjQwLCAnSGlzdG9yaWEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTBweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyNhN2E3YTdmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDM4MCwgJ0Rlc3B1w6lzIGRlIGHDsW9zIGRlIGVudHJlbmFtaWVudG8sIHBvciBmaW4gaGEgbGxlZ2FkbyBlbCBtb21lbnRvIGVuIGVsIHF1ZSBuYXF1ZWxsb3MgbWFnb3MgcG9yXFxuZmluIGliYW4gYSBjb25zZWd1aXIgc2VyIG1hZ29zIGRlIHZlcmRhZC4gTGxldmFiYW4gbXVjaG8gdGllbXBvIHByZXBhcsOhbmRvc2UgeSBlc3R1ZGlhbmRvIHBhcmFcXG5lc3RlIG1vbWVudG8sIHkgcG9yIGZpbiB2YW4gYSByZWNpYmlyIGFxdWVsIGVsaXhpciBkZXNlYWRvIHBvciB0b2RvIG1hZ28sXFxu4oCcZWwgZWxpeGlyIGRlIGxhIHZpZGEgZXRlcm5h4oCdLlxcblxcblNpbiBlbWJhcmdvLCBubyBzZXLDoSBzZW5jaWxsbywgYcO6biBkZWJlcsOhbiBkZW1vc3RyYXIgcG9yIMO6bHRpbWEgdmV6IHF1ZSBlc3TDoW4gaGVjaG9zIHBhcmEgb2J0ZW5lclxcbmVzdGEgZ3JhbiB2aXJ0dWQuIExhIHRyYWRpY2nDs24gY3VlbnRhIHF1ZSBwYXJhIGNvbnNlZ3VpciBzZXIgdW4gdmVyZGFkZXJvIG1hZ28gc2Vyw6EgbmVjZXNhcmlvXFxuY29uc2VndWlyIHBvciBlbGxvcyBtaXNtb3MgZXN0ZSBlbGl4aXIgYWRlbnRyw6FuZG9zZSBlbiBsYSBUb3JyZSBFbmNhbnRhZGEsIGRlbW9zdHJhbmRvIHF1ZSBzb25cXG5tZXJlY2Vkb3JlcyBkZWwgdMOtdHVsbyBkZSBtYWdvIGV0ZXJubyB5IHF1ZSBwb3NlZW4gbGFzIGhhYmlsaWRhZGVzIG5lY2VzYXJpYXMuIExhIG3DoXMgaW1wb3J0YW50ZSxcXG5sYSBjb2xhYm9yYWNpw7NuLCBwdWVzdG8gcXVlIHBvciB1bm8gc29sbyBubyBzaWVtcHJlIHNlIHB1ZWRlIGxsZWdhciBhbCBsdWdhciBkZXNlYWRvLiBcXG5cXG5Qb3IgZXN0ZSBtb3Rpdm8sIGxvcyBqw7N2ZW5lcyBhcHJlbmRpY2VzIHF1ZSBkZXNlZW4gYXNjZW5kZXIsIHNlIGFkZW50cmFyw6FuIGVuIGFxdWVsbGEgdmllamEgdG9ycmUsXFxuIHkgYXRyYXZlc2Fyw6FuLCB1bmEgYSB1bmEsIHN1cyBzYWxhcyBoYXN0YSBsbGVnYXIgYXJyaWJhIGRlbCB0b2RvLCBkw7NuZGUgc2UgZW5jdWVudHJhIGVsIGVsaXhpclxcbnF1ZSB0YW50byBkZXNlYW4uIEVuIGNhZGEgc2FsYSBzZSBlbmNvbnRyYXLDoW4gY29uIG51bWVyb3NvcyBvYnN0w6FjdWxvcyBxdWUgZGViZXLDoW4gc29icmVwYXNhciBcXG5kZW1vc3RyYW5kbyBzdXMgaGFiaWxpZGFkZXMgb2J0ZW5pZGFzIGR1cmFudGUgdG9kb3MgZXN0b3MgYcOxb3MgZGUgZXNmdWVyem8uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICAvL2ZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IFJldHVybkJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MzAsICdWb2x2ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBmZjg4ZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWFnbyB9IGZyb20gJy4uL2VudGl0aWVzL01hZ28nXHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlTWFnb0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL01vdmVNYWdvQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgTGlicmVyaWFTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xpYnJlcmlhU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyZWRSJywgJy9pbWFnZW5lcy9wYXJlZFlUZWNoby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvbGFDcmlzdGFsQ29sb3InLCAnL2ltYWdlbmVzL2JvbGFDcmlzdGFsQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlcmlhUicsICcvaW1hZ2VuZXMvZXN0YW50ZXJpYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYW50YUNvbG9yJywgJy9pbWFnZW5lcy9wbGFudGFDb2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQXonLCAnL2ltYWdlbmVzL3BvY2lvbkF6dWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0FtJywgJy9pbWFnZW5lcy9wb2Npb25lc0FtYXJpbGxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNOJywgJy9pbWFnZW5lcy9wb2Npb25OYXJhbmphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSbycsICcvaW1hZ2VuZXMvcG9jaW9uUm9zYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTScsICcvaW1hZ2VuZXMvcG9jaW9uTW9yYWRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNWJywgJy9pbWFnZW5lcy9wb2Npb25WZXJkZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZlbGFzQ29sb3InLCAnL2ltYWdlbmVzL3ZlbGFzQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsaWJyb3NDb2xvcicsICcvaW1hZ2VuZXMvbGlicm9zQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlJywgJy9pbWFnZW5lcy9tYW5vLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYmFsbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgIC8vdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGF0b3M7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG5cclxuICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzID0ge1xyXG4gICAgICAgICAgICBib2xhQ3Jpc3RhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIHBsYW50YTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvbkFtOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uTjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvbk06IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25SOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uVjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvbkF6OiBmYWxzZSxcclxuICAgICAgICAgICAgdmVsYXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBsaWJybzogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIHRoaXMubWFnbyA9IHRoaXMuYWRkLmltYWdlKDEwMCwgMTAwLCBcImlkbGVcIik7XHJcbiAgICAgICAgdGhpcy5tYWdvLnNldFNjYWxlKDEuOSk7XHJcbiAgICAgICAgdGhpcy5jcmVhckVzY2VuYXJpbygpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5lc3RhYmxlY2VyQ29saXNpb25lcygpO1xyXG4gICAgICAgIHRoaXMuZGF0b3MgPSBkYXRhO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIHRoaXMubGtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5MKTtcclxuICAgICAgICB0aGlzLnFrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuUSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRvcy53cyAmJiB0aGlzLmRhdG9zLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnYWN0dWFsaXphckludmVudGFyaW8nLCBpbnZlbnRhcmlvOiB0aGlzLmRhdG9zLnBvY2lvbmVzfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMuZGF0b3Mub3JpZ2luYWxTY2VuZSwgeyBwb2Npb25lczogdGhpcy5kYXRvcy5wb2Npb25lcyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2NlbmUuZ2V0KHRoaXMuZGF0b3Mub3JpZ2luYWxTY2VuZSkucmVzdW1lKCk7IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hYmlyID0gZmFsc2U7IC8vdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSBzaSBubyBoYSBoYWJpZG8gb3ZlcmxhcFxyXG4gICAgICAgIGlmICh0aGlzLmxrZXkuaXNEb3duKSB0aGlzLmFicmlyID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5xa2V5LmlzRG93bikgdGhpcy5hYnJpciA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYWRkbGUgPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcudXBLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcuZG93bktleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnc3RvcCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVNYWdvQ29tbWFuZChwYWRkbGUsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyRXNjZW5hcmlvKCkge1xyXG4gICAgICAgIHRoaXMucGFyZWQgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgMjA1LCAncGFyZWRSJyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ0MCwgMjcwLCAnZXN0YW50ZXJpYVInKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ4NSwgMjgwLCAnYm9sYUNyaXN0YWxDb2xvcicpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGFudGEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ0MCwgNDUwLCAncGxhbnRhQ29sb3InKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBsYW50YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQW0gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUzMCwgMTY1LCAncG9jaW9uZXNBbScpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQW0uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQW0uc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvbkFtLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25OID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1OTUsIDE3NSwgJ3BvY2lvbmVzTicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25OLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25OLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25NID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgyODAsIDE2NSwgJ3BvY2lvbmVzTScpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25NLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25NLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25SID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0MDUsIDE2NSwgJ3BvY2lvbmVzUm8nKTtcclxuICAgICAgICB0aGlzLnBvY2lvblIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uUi5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uUi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uViA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMzQ1LCAxNzUsICdwb2Npb25lc1YnKTtcclxuICAgICAgICB0aGlzLnBvY2lvblYuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uVi5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uVi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQXogPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ3MCwgMTcwLCAncG9jaW9uZXNBeicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQXouc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQXouc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvbkF6LmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy52ZWxhcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMzUwLCAyOTAsICd2ZWxhc0NvbG9yJyk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxpYnJvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgzNzAsIDMzLCAnbGlicm9zQ29sb3InKTtcclxuICAgICAgICB0aGlzLmxpYnJvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxpYnJvLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5saWJyby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGVzdGFibGVjZXJDb2xpc2lvbmVzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvbGFDcmlzdGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLmJvbGFDcmlzdGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMuYm9sYUNyaXN0YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s5XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgYm9sYSBkZSBjcmlzdGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQk9MQSBDUklTVEFMIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucGxhbnRhLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBsYW50YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBsYW50YSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxhbnRhLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1sxMF0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBsYW50YVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBMQU5UQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvbkFtLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbkFtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uQW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbkFtLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s2XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIGFtYXJpbGxhXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIEFNQVJJTExBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uTiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uTiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uTi5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbN10gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiBuYXJhbmphXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIE5BUkFOSkEgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25NLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbk0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25NID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25NLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1syXSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIG1vcmFkYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBNT1JBREEgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25SLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvblIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25SID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25SLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s0XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIHJvc2FcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gUk9TQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvblYsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uVikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvblYgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvblYuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzNdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gdmVyZGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gVkVSREUgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25BeiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25Beikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbkF6ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25Bei5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbNV0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiBhenVsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIEFaVUwgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy52ZWxhcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy52ZWxhcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnZlbGFzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWxhcy5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbOF0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhcyB2ZWxhc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZFTEFTIFJFQ09HSURBU1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmxpYnJvLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLmxpYnJvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMubGlicm8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpYnJvLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1sxXSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbG9zIGxpYnJvc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxJQlJPUyBSRUNPR0lET1NcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbGVmdE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMScsIDUwLCAzMDAsICdpZGxlJyk7XHJcbiAgICAgICAgbGVmdE1hZ28uc2V0U2NhbGUoMC4wOCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIGxlZnRNYWdvKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ0RPV04nLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgLy90aGlzLmludHB1dE1hcHBpbmdzID0gSW5wdXRDb25maWc7IFxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb25maWcpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRyb2xTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29udHJvbFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vJywgJy9pbWFnZW5lcy9wZXJnYW1pbm8ucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7IFxyXG4gICAgfSAgXHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTMwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgLy8gdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNDAwLCAnYm90b24nKVxyXG4gICAgICAgIC8vIHRoaXMuYm90b24yLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8xID0gdGhpcy5hZGQuaW1hZ2UoMjIwLDM4MCwgJ3BlcmdhbWlubycpXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8xLnNldFNjYWxlKDEuMywgMS44KTtcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzIgPSB0aGlzLmFkZC5pbWFnZSg1MDAsMzgwLCAncGVyZ2FtaW5vJylcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzIuc2V0U2NhbGUoMS4zLDEuOCk7ICAgICAgICBcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzMgPSB0aGlzLmFkZC5pbWFnZSg3ODAsMzgwLCAncGVyZ2FtaW5vJylcclxuICAgICAgICB0aGlzLnBlcmdhbWlubzMuc2V0U2NhbGUoMS4zLDEuOCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMjAsICdFbCBFbmlnbWEgZGUgbGFcXG5Ub3JyZSBFbmNhbnRhZGEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtOCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNDAsICdDb250cm9sZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDVweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNhN2E3YTdmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCgyMjAsIDMxMCwgJ0p1Z2Fkb3IgMTonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyM5YmUzZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjMwLCA0MDAsICdXLUFycmliYVxcbiBBLUl6cXVpZXJkYVxcbiBTLUFiYWpvXFxuIEQtRGVyZWNoYVxcbiBTUEFDRS1TYWx0YXJcXG4gUS1JbnRlcmFjdHVhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDMxMCwgJ0p1Z2Fkb3IgMjonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDk5LCA5OSwgMSknLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MjAsIDQwMCwgJ0ZsZWNoYXMtQXJyaWJhXFxuIEZsZWNoYXMtSXpxdWllcmRhXFxuIEZsZWNoYXMtQWJham9cXG4gRmxlY2hhcy1EZXJlY2hhXFxuIEVOVEVSLVNhbHRhclxcbiBMLUludGVyYWN0dWFyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDc1MCwgMzEwLCAnT25saW5lOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDE0MSwgMTE2LCAyNTUsIDEpJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoODAwLCA0MDAsICdGbGVjaGFzLUFycmliYVxcbiBGbGVjaGFzLUl6cXVpZXJkYVxcbiBGbGVjaGFzLUFiYWpvXFxuIEZsZWNoYXMtRGVyZWNoYVxcbiBTUEFDRS1TYWx0YXJcXG4gTC1JbnRlcmFjdHVhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgUmV0dXJuQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUzMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczNHB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMGZmODhmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYoZGF0YS5vcmlnaW5hbFNjZW5lID09PSAnTWVudVNjZW5lJyl7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuZ2V0KGRhdGEub3JpZ2luYWxTY2VuZSkucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgcmVjb3JkR2FtZVNlc3Npb24gfSBmcm9tICcuLi9hcGkuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlY2lzaW9uU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0RlY2lzaW9uU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvRCcsICcvaW1hZ2VuZXMvZWxlY2Npb24uanBnJyk7fSAgIFxyXG5cclxuICAgIGNyZWF0ZShkYXRhKXtcclxuICAgICAgICAvLyBPYnRlbmVyIHJlZmVyZW5jaWEgYSBsYSBlc2NlbmEgZGUganVlZ28geSBndWFyZGFyIHRpZW1wb1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gdGhpcy5zY2VuZS5nZXQoZGF0YS5tb2RvID09PSAnb25saW5lJyA/ICdHYW1lU2NlbmVPJyA6ICdHYW1lU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmdhbWVNb2RlID0gZGF0YS5tb2RvIHx8ICdsb2NhbCc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5mb25kb0QgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwzMDAsICdmb25kb0QnKTtcclxuICAgICAgICB0aGlzLmZvbmRvRC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb0QuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMTIwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI2KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDI4MCw0MjAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xNSk7ICAgXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0QWxwaGEoMC41KTsgICAgIFxyXG4gICAgICAgIHRoaXMuYm90b24yID0gdGhpcy5hZGQuaW1hZ2UoNzMwLDQyMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjE1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRBbHBoYSgwLjUpOyBcclxuXHJcbiAgICAgICAgaWYgKGRhdGEubW9kbyA9PT0gJ2xvY2FsJykgdGhpcy5zZWxlY3RvciA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgMik7XHJcbiAgICAgICAgZWxzZSB0aGlzLnNlbGVjdG9yID0gZGF0YS5lbGVjY2lvbjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IgPT09IDEpe1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTAwLCAnRWwganVnYWRvciAxIGhhIHJlY29naWRvJywge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gJ3BsYXllcjEnOyBcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0b3IgPT09IDIpe1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTAwLCAnRWwganVnYWRvciAyIGhhIHJlY29naWRvJywge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gJ3BsYXllcjInO1xyXG4gICAgICAgIH0gXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNTAsICdlbCBFbGl4aXIgZGUgbGEgVmlkYSBFdGVybmEsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzIwLCAnYWhvcmEgZGViZXLDoSBlbGVnaXI6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidG4xID0gdGhpcy5hZGQudGV4dCgyODAsIDQyMCwgJ0NvbXBhcnRpciBlbCBlbGl4aXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QWxwaGEoMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuMiA9IHRoaXMuYWRkLnRleHQoNzMwLCA0MjAsICdCZWJlciBlbCBlbGl4aXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QWxwaGEoMC41KTtcclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGlmIChkYXRhLm1vZG8gPT09ICdvbmxpbmUnKXtcclxuICAgICAgICAgICAgY29uc3QgcHVlZGVFbGVnaXIgPSB0aGlzLmlkID09PSBkYXRhLmp1Z2Fkb3I7IFxyXG4gICAgICAgICAgICBpZihwdWVkZUVsZWdpcil7XHJcbiAgICAgICAgICAgICAgICBidG4xLnNldEFscGhhKDEpOyBcclxuICAgICAgICAgICAgICAgIGJ0bjEuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgYnRuMS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuMS5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBidG4xLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuMS5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAgICAgYnRuMS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEud3MgJiYgZGF0YS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVudmlhbmRvIGZpbmFsXCIpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHt0eXBlOiAnZXNjZW5hRmluYWwnLCBlc2NlbmE6IDN9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnRuMi5zZXRBbHBoYSgxKVxyXG4gICAgICAgICAgICAgICAgYnRuMi5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGJ0bjIub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bjIuc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnRuMi5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bjIuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSk7XHJcbiAgICAgICAgICAgICAgICBidG4yLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RvciA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLndzICYmIGRhdGEud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZWJ2aWFuZG8gZmluYWxcIik7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHt0eXBlOiAnZXNjZW5hRmluYWwnLCBlc2NlbmE6IDF9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3RvciA9PT0gMil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLndzICYmIGRhdGEud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW52aWFuZG8gZmluYWxcIik7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHt0eXBlOiAnZXNjZW5hRmluYWwnLCBlc2NlbmE6IDJ9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMS5zZXRBbHBoYSgxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24yLnNldEFscGhhKDEpOyAgXHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLm1vZG8gPT09ICdsb2NhbCcpe1xyXG4gICAgICAgICAgICBidG4xLnNldEFscGhhKDEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ0bjEuc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuMS5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxCU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBidG4yLnNldEFscGhhKDEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ0bjIuc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IgPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0ZpbmFsTTFTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3RvciA9PT0gMil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMlNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmJvdG9uMS5zZXRBbHBoYSgxKTtcclxuICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0QWxwaGEoMSk7IFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyByZWNvcmRHYW1lU2Vzc2lvbiB9IGZyb20gJy4uL2FwaS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRmluYWxCU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcignRmluYWxCU2NlbmUnKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9DJywgJy9pbWFnZW5lcy9jb21wYXJ0aXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd2aWN0b3JpYScsICcvc291bmRzL3ZpY3RvcmlhLm1wMycpO1xyXG4gICAgfSAgIFxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIE9idGVuZXIgZGF0b3MgZGUgbGEgcGFydGlkYSBkZXNkZSBEZWNpc2lvblNjZW5lXHJcbiAgICAgICAgY29uc3QgZGVjaXNpb25TY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdEZWNpc2lvblNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBkZWNpc2lvblNjZW5lPy5nYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5nYW1lTW9kZSA9IGRlY2lzaW9uU2NlbmU/LmdhbWVNb2RlIHx8ICdsb2NhbCc7XHJcbiAgICAgICAgdGhpcy5nYW1lRHVyYXRpb24gPSB0aGlzLmdhbWVTY2VuZT8uZ2FtZVN0YXJ0VGltZSA/IERhdGUubm93KCkgLSB0aGlzLmdhbWVTY2VuZS5nYW1lU3RhcnRUaW1lIDogMDtcclxuXHJcbiAgICAgICAgLy8gUmVnaXN0cmFyIGxhIHBhcnRpZGEgc2kgaGF5IGluZm9ybWFjacOzbiBkaXNwb25pYmxlXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVNjZW5lICYmIHRoaXMuZ2FtZVNjZW5lLmdhbWVTdGFydFRpbWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmdhbWVEdXJhdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLmdhbWVTY2VuZS51c2VybmFtZSB8fCAnSnVnYWRvckxvY2FsJztcclxuICAgICAgICAgICAgcmVjb3JkR2FtZVNlc3Npb24odXNlcm5hbWUsIGR1cmF0aW9uLCB0aGlzLmdhbWVNb2RlKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc3RhdHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBhcnRpZGEgcmVnaXN0cmFkYTonLCBzdGF0cyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUud2Fybign4pqg77iPIE5vIHNlIHB1ZG8gcmVnaXN0cmFyIGxhIHBhcnRpZGE6JywgZXJyb3IpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZm9uZG9DID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsMzAwLCAnZm9uZG9DJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb0Muc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9DLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbcO6c2ljYSBkZSB2aWN0b3JpYVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgndmljdG9yaWEnLCB7IHZvbHVtZTogMC43IH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMTMpOyAgICAgICAgXHJcblxyXG5cclxuICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0xvcyBqdWdhZG9yZXMgaGFuIGRlY2lkaWRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTAwLCAnY29tcGFydGlyIGVsIEVsaXhpciBkZSBsYSBWaWRhIEV0ZXJuYSwgYWhvcmEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNTAsICdhbWJvcyB2aXZpcsOhbiBoYXN0YSBsYSBldGVybmlkYWQsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgJ3kgcG9kcsOhbiBhZHF1aXJpciB0b2RvcyBsb3MgY29ub2NpbWllbnRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgJ2V4aXN0ZW50ZXMuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsICdWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIHZpY3RvcmlhIGFudGVzIGRlIGNhbWJpYXIgZGUgZXNjZW5hXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ3ZpY3RvcmlhJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTdGF0c1NjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmdhbWVTY2VuZT8udXNlcm5hbWUgfHwgJ0p1Z2Fkb3JMb2NhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5nYW1lTW9kZSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5nYW1lRHVyYXRpb25cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgcmVjb3JkR2FtZVNlc3Npb24gfSBmcm9tICcuLi9hcGkuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpbmFsTTFTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRmluYWxNMVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvXzFNJywgJy9pbWFnZW5lcy90cmFpY2lvbl9yYW5hUm9qYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZGVycm90YScsICcvc291bmRzL2RlcnJvdGEubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gT2J0ZW5lciBkYXRvcyBkZSBsYSBwYXJ0aWRhIGRlc2RlIERlY2lzaW9uU2NlbmVcclxuICAgICAgICBjb25zdCBkZWNpc2lvblNjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ0RlY2lzaW9uU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGRlY2lzaW9uU2NlbmU/LmdhbWVTY2VuZTtcclxuICAgICAgICB0aGlzLmdhbWVNb2RlID0gZGVjaXNpb25TY2VuZT8uZ2FtZU1vZGUgfHwgJ2xvY2FsJztcclxuICAgICAgICB0aGlzLmdhbWVEdXJhdGlvbiA9IHRoaXMuZ2FtZVNjZW5lPy5nYW1lU3RhcnRUaW1lID8gRGF0ZS5ub3coKSAtIHRoaXMuZ2FtZVNjZW5lLmdhbWVTdGFydFRpbWUgOiAwO1xyXG5cclxuICAgICAgICAvLyBSZWdpc3RyYXIgbGEgcGFydGlkYSBzaSBoYXkgaW5mb3JtYWNpw7NuIGRpc3BvbmlibGVcclxuICAgICAgICBpZiAodGhpcy5nYW1lU2NlbmUgJiYgdGhpcy5nYW1lU2NlbmUuZ2FtZVN0YXJ0VGltZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuZ2FtZUR1cmF0aW9uO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMuZ2FtZVNjZW5lLnVzZXJuYW1lIHx8ICdKdWdhZG9yTG9jYWwnO1xyXG4gICAgICAgICAgICByZWNvcmRHYW1lU2Vzc2lvbih1c2VybmFtZSwgZHVyYXRpb24sIHRoaXMuZ2FtZU1vZGUpXHJcbiAgICAgICAgICAgICAgICAudGhlbihzdGF0cyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUGFydGlkYSByZWdpc3RyYWRhOicsIHN0YXRzKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS53YXJuKCfimqDvuI8gTm8gc2UgcHVkbyByZWdpc3RyYXIgbGEgcGFydGlkYTonLCBlcnJvcikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb25kb18xTSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvXzFNJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb18xTS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb18xTS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIG3DunNpY2EgZGUgZGVycm90YVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZGVycm90YScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xMyk7ICAgXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0VsIGp1Z2Fkb3IgMSBoYSBkZWNpZGlkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ25vIGNvbXBhcnRpciBlbCBFbGl4aXIgZGUgbGEgVmlkYSBFdGVybmEsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnYWhvcmEgZGViZSBlbmZyZW50YXIgbGFzIGNvbnNlY3VlbmNpYXMgZGUgc3UgZWxlY2Npw7NuIHkgdml2aXIgc29sbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE3NSwgJ2hhc3RhIGxhIGV0ZXJuaWRhZC4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ1ZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlbmVyIG3DunNpY2EgZGUgZGVycm90YSBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdkZXJyb3RhJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTdGF0c1NjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmdhbWVTY2VuZT8udXNlcm5hbWUgfHwgJ0p1Z2Fkb3JMb2NhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5nYW1lTW9kZSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5nYW1lRHVyYXRpb25cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgcmVjb3JkR2FtZVNlc3Npb24gfSBmcm9tICcuLi9hcGkuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpbmFsTTJTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRmluYWxNMlNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9fMk0nLCAnL2ltYWdlbmVzL3RyYWljaW9uX3JhbmFBenVsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZGVycm90YScsICcvc291bmRzL2RlcnJvdGEubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gT2J0ZW5lciBkYXRvcyBkZSBsYSBwYXJ0aWRhIGRlc2RlIERlY2lzaW9uU2NlbmVcclxuICAgICAgICBjb25zdCBkZWNpc2lvblNjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ0RlY2lzaW9uU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGRlY2lzaW9uU2NlbmU/LmdhbWVTY2VuZTtcclxuICAgICAgICB0aGlzLmdhbWVNb2RlID0gZGVjaXNpb25TY2VuZT8uZ2FtZU1vZGUgfHwgJ2xvY2FsJztcclxuICAgICAgICB0aGlzLmdhbWVEdXJhdGlvbiA9IHRoaXMuZ2FtZVNjZW5lPy5nYW1lU3RhcnRUaW1lID8gRGF0ZS5ub3coKSAtIHRoaXMuZ2FtZVNjZW5lLmdhbWVTdGFydFRpbWUgOiAwO1xyXG5cclxuICAgICAgICAvLyBSZWdpc3RyYXIgbGEgcGFydGlkYSBzaSBoYXkgaW5mb3JtYWNpw7NuIGRpc3BvbmlibGVcclxuICAgICAgICBpZiAodGhpcy5nYW1lU2NlbmUgJiYgdGhpcy5nYW1lU2NlbmUuZ2FtZVN0YXJ0VGltZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuZ2FtZUR1cmF0aW9uO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMuZ2FtZVNjZW5lLnVzZXJuYW1lIHx8ICdKdWdhZG9yTG9jYWwnO1xyXG4gICAgICAgICAgICByZWNvcmRHYW1lU2Vzc2lvbih1c2VybmFtZSwgZHVyYXRpb24sIHRoaXMuZ2FtZU1vZGUpXHJcbiAgICAgICAgICAgICAgICAudGhlbihzdGF0cyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUGFydGlkYSByZWdpc3RyYWRhOicsIHN0YXRzKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS53YXJuKCfimqDvuI8gTm8gc2UgcHVkbyByZWdpc3RyYXIgbGEgcGFydGlkYTonLCBlcnJvcikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb25kb18yTSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvXzJNJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb18yTS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb18yTS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIG3DunNpY2EgZGUgZGVycm90YVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZGVycm90YScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xMyk7ICAgXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0VsIGp1Z2Fkb3IgMiBoYSBkZWNpZGlkbycsIHtcclxuICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdubyBjb21wYXJ0aXIgZWwgRWxpeGlyIGRlIGxhIFZpZGEgRXRlcm5hLCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE1MCwgJ2Fob3JhIGRlYmUgZW5mcmVudGFyIGxhcyBjb25zZWN1ZW5jaWFzIGRlIHN1IGVsZWNjacOzbiB5IHZpdmlyIHNvbG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNzUsICdoYXN0YSBsYSBldGVybmlkYWQuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsICdWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIGRlcnJvdGEgYW50ZXMgZGUgY2FtYmlhciBkZSBlc2NlbmFcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdkZXJyb3RhJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTdGF0c1NjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmdhbWVTY2VuZT8udXNlcm5hbWUgfHwgJ0p1Z2Fkb3JMb2NhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5nYW1lTW9kZSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5nYW1lRHVyYXRpb25cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGdldFVzZXJHYW1lU3RhdHMgfSBmcm9tICcuLi9hcGkuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1N0YXRzU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IGRhdGE/LnVzZXJuYW1lIHx8ICdKdWdhZG9yJztcclxuICAgICAgICBjb25zdCBtb2RlID0gZGF0YT8ubW9kZSB8fCAnbG9jYWwnO1xyXG4gICAgICAgIGNvbnN0IGxhc3RHYW1lRHVyYXRpb24gPSBkYXRhPy5kdXJhdGlvbiB8fCAwO1xyXG5cclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwKS5zZXREZXB0aCgtMSkuc2V0QWxwaGEoMC43KTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdUSUVNUE8gREUgUEFSVElEQScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsIFxyXG4gICAgICAgICAgICBjb2xvcjogJyM0YmZmYWJmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIMOabHRpbWEgcGFydGlkYVxyXG4gICAgICAgIGNvbnN0IGxhc3RHYW1lU2Vjb25kcyA9IChsYXN0R2FtZUR1cmF0aW9uIC8gMTAwMCkudG9GaXhlZCgyKTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjAwLCBgRXN0YSBwYXJ0aWRhOiAke2xhc3RHYW1lU2Vjb25kc31zYCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2FyIHByb21lZGlvXHJcbiAgICAgICAgZ2V0VXNlckdhbWVTdGF0cyh1c2VybmFtZSwgbW9kZSlcclxuICAgICAgICAgICAgLnRoZW4oc3RhdHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXZnU2Vjb25kcyA9IHR5cGVvZiBzdGF0cy50aWVtcG9Qcm9tZWRpbyA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgICAgICAgICA/IHN0YXRzLnRpZW1wb1Byb21lZGlvXHJcbiAgICAgICAgICAgICAgICAgICAgOiAoc3RhdHMudGllbXBvUHJvbWVkaW8gLyAxMDAwKS50b0ZpeGVkKDIpICsgJ3MnO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjgwLCBgUHJvbWVkaW86ICR7YXZnU2Vjb25kc31gLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM0YmZmYWJmZicsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzMwLCBgUGFydGlkYXMganVnYWRhczogJHtzdGF0cy50b3RhbFBhcnRpZGFzfWAsIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUud2FybignRXJyb3IgYWwgY2FyZ2FyIHRpZW1wbyBwcm9tZWRpbzonLCBlcnJvcikpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ1ZvbHZlciBhbCBtZW7DuicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzRiZmZhYmZmJyB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7IFxyXG4gICAgfSAgXHJcblxyXG4gICAgIFxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIEd1YXJkYXIgbGEgZXNjZW5hIHF1ZSBlc3RhYmEgYWN0aXZhIGN1YW5kbyBzZSBwZXJkacOzIGxhIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMucHJldmlvdXNTY2VuZSA9IGRhdGEucHJldmlvdXNTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRm9uZG8gc2VtaS10cmFuc3BhcmVudGUgICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDI4MCwgMTAwMCwgNTYwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMTgwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuXHJcblxyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE4MCwgJ0NPTkVYScOTTiBQRVJESURBJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNjOTAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCg1MDAsIDMyMCwgJ0ludGVudGFuZG8gcmVjb25lY3Rhci4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvcyBcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzOTAsICdJbnRlbnRvczogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIHBhcnBhZGVhbnRlXHJcbiAgICAgICAgdGhpcy5kb3RDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDIwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvdENvdW50ID0gKHRoaXMuZG90Q291bnQgKyAxKSAlIDQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdCh0aGlzLmRvdENvdW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBJbnRlbnRhbmRvIHJlY29uZWN0YXIke2RvdHN9YCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRhciByZWNvbmVjdGFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBpbnRlcnZhbFxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZSBkZSDDqXhpdG9cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFDb25leGnDs24gcmVzdGFibGVjaWRhIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYSBsYSBlc2NlbmEgYW50ZXJpb3JcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgZWwgaW50ZXJ2YWwgYWwgY2VycmFyIGxhIGVzY2VuYVxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiIGltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBNYWdvIH0gZnJvbSAnLi4vZW50aXRpZXMvTWFnbydcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmQvY29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE1vdmVNYWdvQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQvTW92ZU1hZ29Db21tYW5kJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNhbGFEZUVzcGVyYSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcih7IGtleTogJ1NhbGFEZUVzcGVyYScgfSk7XHJcbiAgICB0aGlzLndzID0gbnVsbDtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgcHJlbG9hZCgpIHtcclxuICAgIC8vRXNjZW5hcmlvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJlZFInLCAnL2ltYWdlbmVzL3BhcmVkWVRlY2hvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VlbG9SJywgJy9pbWFnZW5lcy9zdWVsby5wbmcnKTtcclxuXHJcbiAgICBcclxuICAgIC8vIFBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfQXp1bCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfMycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNScsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNicsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfNycsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzgucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhckF6dWxfOCcsICcvaW1hZ2VuZXMvTWFnb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJnYW1pbm9UaXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FtcG9GdWVyemEnLCAnL2ltYWdlbmVzL2NhbXBvZGVmdWVyemEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9Sb2pvJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzMnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb180JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNScsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzYnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb183JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fOCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb184LnBuZycpO1xyXG5cclxuICAgIC8vIEJHTVxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYmdtJywgJy9zb3VuZHMvYmdtLm1wMycpO1xyXG5cclxuICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd3YWxrJywgJy9zb3VuZHMvd2Fsay5tcDMnKTtcclxuICB9XHJcblxyXG4gIHJlc2V0U3RhdGUoKSB7XHJcbiAgICB0aGlzLnJvb21Db2RlID0gbnVsbDtcclxuICAgIHRoaXMucm9vbUlkID0gbnVsbDtcclxuICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIFxyXG5cclxuICAgIGlmKHRoaXMucm9vbUNvZGVUZXh0ICYmIHRoaXMucm9vbUNvZGVUZXh0LmFjdGl2ZSl7XHJcbiAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuc3RhdHVzVGV4dCAmJiB0aGlzLnN0YXR1c1RleHQuYWN0aXZlKXtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuY29kZUlucHV0ICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5jb2RlSW5wdXQpKXtcclxuICAgICAgdGhpcy5jb2RlSW5wdXQudmFsdWUgPSAnJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQoKXtcclxuICAgIHRoaXMud2Fsa1NvdW5kcyA9IG5ldyBNYXAoKTsgLy8gTWFwIHBhcmEgZ3VhcmRhciBlbCBzb25pZG8gZGUgY2FkYSBqdWdhZG9yXHJcblxyXG4gICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpOyAvLyBNYXAgcGFyYSBndWFyZGFyIGxvcyBqdWdhZG9yZXMgZW4gbGEgZXNjZW5hXHJcbiAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgdGhpcy5iZ20gPSBudWxsO1xyXG5cclxuICAgIHRoaXMucm9vbUNvZGUgPSBudWxsO1xyXG4gICAgdGhpcy5yb29tSWQgPSBudWxsO1xyXG4gICAgdGhpcy5nYW1lU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICBjcmVhdGUoKXtcclxuICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAga2V5OiAnYW5kYXJfbWFnb19BenVsJyxcclxuICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICB7IGtleTogJ2lkbGVfQXp1bCcgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzInIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8zJyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNCcgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzUnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF82JyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNycgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzgnIH1cclxuICAgICAgXSxcclxuICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgcmVwZWF0OiAtMVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIENyZWFyIHVuIHNvbmlkbyBkZSBwYXNvcyBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMScsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcbiAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIyJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zIH0pKTtcclxuXHJcbiAgICAvLyBQYXJhciBwYXNvcyBjdWFuZG8gbGEgZXNjZW5hIHNlIHBhdXNlIChlai4gUGF1c2VTY2VuZSkgeSBsaW1waWFyIHNvbmlkb3MgYWwgc2h1dGRvd25cclxuICAgIHRoaXMuZXZlbnRzLm9uKCdwYXVzZScsICgpID0+IHtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7IHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfSB9KTtcclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBBbCByZXN1bWUgbm8gc2UgcmVwcm9kdWNlIGF1dG9tw6F0aWNhbWVudGU6IGVsIHVwZGF0ZSgpIHJlYW51ZGFyw6EgcGFzb3Mgc2kgc2UgcHVsc2EgbW92ZXJcclxuICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gbmFkYSBlc3BlY2lhbDogdXBkYXRlKCkgdm9sdmVyw6EgYSByZXByb2R1Y2lyIGN1YW5kbyBkZXRlY3RlIG1vdmltaWVudG9cclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgIXRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5yZXN1bWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIEFzZWd1cmFyIGxpbXBpZXphIGN1YW5kbyBsYSBlc2NlbmEgc2UgY2llcnJlIGRlZmluaXRpdmFtZW50ZVxyXG4gICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gcGFyYXIgeSBkZXN0cnVpciBzb25pZG9zIGRlIHBhc29zXHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4ge1xyXG4gICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHdzKSB3cy5kZXN0cm95KCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAgIGlmKHRoaXMuYmdtKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdtLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1jYXRjaCAoZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY3JlYXJFc2NlbmFyaW8oKTtcclxuICAgIHRoaXMuY3JlYXJCYXJyZXJhSW52aXNpYmxlKCk7XHJcbiAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgdGhpcy5lc3RhYmxlY2VyQ29saXNpb25lcygpO1xyXG5cclxuICAgIC8vIFN0b3AgbWVudSBtdXNpYyBhbmQgcGxheSBiYWNrZ3JvdW5kIG11c2ljXHJcbiAgICB0aGlzLmdhbWUuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7XHJcbiAgICB0aGlzLmJnbSA9IHRoaXMuc291bmQuYWRkKCdiZ20nLCB7IHZvbHVtZTogMC43LCBsb29wOiB0cnVlIH0pO1xyXG4gICAgdGhpcy5iZ20ucGxheSgpO1xyXG5cclxuICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXHJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gICAgY29uc29sZS5sb2coXCJjb2RpZ286XCIsIHRoaXMucm9vbUNvZGUpO1xyXG4gICAgdGhpcy5jcmVhckludGVyZmF6KCk7XHJcbiAgfVxyXG5cclxuICBjcmVhckludGVyZmF6KCl7XHJcbiAgICAvLyBBcXXDrSBwdWVkZXMgY3JlYXIgbG9zIGVsZW1lbnRvcyBkZSBsYSBpbnRlcmZheiBkZSB1c3VhcmlvIG5lY2VzYXJpb3NcclxuXHJcbiAgICAvKnRoaXMuYWRkLnRleHQoNTAwLCAzNTAsICdFc3BlcmFuZG8gYSBvdHJvcyBqdWdhZG9yZXMuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpOyovXHJcblxyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICB0aGlzLnBlcmdhbWlubyA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMTAwLCAncGVyZ2FtaW5vVGl0dWxvJylcclxuICAgIHRoaXMucGVyZ2FtaW5vLnNldFNjYWxlKDAuMjUsIDAuMjApO1xyXG5cclxuICAgIC8vIFRpdGxlXHJcbiAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsICdPbmxpbmUgTXVsdGlwbGF5ZXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyB0aGlzLnRpdHVsb1RvcnJlID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDE0MCwgJ1R1IHRvcnJlOiAnLCB7XHJcbiAgICAvLyAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAvLyAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgLy8gICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAvLyB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICB0aGlzLnJvb21Db2RlVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxNTAsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gPT09PT09PT09PT09IENSRUFSIFNBTEEgUFJJVkFEQSA9PT09PT09PT09PT1cclxuXHJcbiAgICB0aGlzLnRpdHVsb0NyZWFyU2FsYSA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAzMDAsICdDcmVhciB0b3JyZScsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIHRoaXMuYm90b25DcmVhclNhbGEgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIDM0MCwgJ2JvdG9uJyk7XHJcbiAgICB0aGlzLmJvdG9uQ3JlYXJTYWxhLnNldFNjYWxlKDAuMDUsIDAuMSk7XHJcblxyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDM0MCwgJ0NyZWFyJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwJyB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNyZWFyU2FsYVRleHQuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgIHRoaXMuY3JlYXJTYWxhKCl9KTtcclxuXHJcbiAgICAvLyA9PT09PT09PT09PT0gVU5JUlRFIEEgTEEgQ09MQSAoU0FMQSBBTEVBVE9SSUEpID09PT09PT09PT09PVxyXG5cclxuICAgIHRoaXMudGl0dWxvQ29sYSA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAyMDAsICfDmm5ldGUgYSB1bmEgdG9ycmUuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvL2JvdG9uIHVuaXJzZSBhIGxhIGNvbGFcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCAyNDAsICdib3RvbicpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvbGEuc2V0U2NhbGUoMC4wNSwgMC4xKTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDI0MCwgJ1RvcnJlJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnVuaXJzZUNvbGEoKX0pO1xyXG5cclxuICAgIC8qdGhpcy5lc3RhZG9Db2xhVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyIC0gNTAsICdDb25lY3RhbmRvIGFsIHNlcnZpZG9yLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7Ki9cclxuXHJcbiAgICAvLyA9PT09PT09PT09PT0gVU5JUlRFIEEgVU5BIFNBTEEgKEPDk0RJR08pID09PT09PT09PT09PSBcclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvZGlnbyA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA0MDAsICdPIMO6bmV0ZSBjb24gY8OzZGlnbycsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlQ29kZUlucHV0KHdpZHRoLzIgLSA4MCwgNDQwKTtcclxuXHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyICsgMTEwLDQ0MCwgJ2JvdG9uJyk7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvLnNldFNjYWxlKDAuMDUsIDAuMSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIgKyAxMTAsIDQ0MCwgJ1VuaXJzZScsIHtcclxuICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0U3R5bGUoeyBmaWxsOiAnI2ZmMDAwMCcgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pO1xyXG4gICAgfSk7IFxyXG5cclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIC8vdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgIHRoaXMudW5pcnNlU2FsYSgpfSk7XHJcblxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZjAwMDAnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgXHJcbiAgICBjb25zdCBib3RvblZvbHZlciA9IHRoaXMuYWRkLmltYWdlKHdpZHRoLzIsIDUyMCwgJ2JvdG9uJyk7XHJcbiAgICBib3RvblZvbHZlci5zZXRTY2FsZSgwLjA1LCAwLjEpO1xyXG5cclxuICAgIGNvbnN0IHZvbHZlckJ1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA1MjAsICdWb2x2ZXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdm9sdmVyQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgdm9sdmVyQnV0dG9uLnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdm9sdmVyQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB2b2x2ZXJCdXR0b24uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7IHtcclxuICAgIC8vICAgaWYoIXRoaXMudGl0dWxvQ29sYS52aXNpYmxlKXtcclxuICAgIC8vICAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICAgIC8vICAgICB0aGlzLm1vc3RyYXJCb3RvbmVzKCk7XHJcbiAgICAvLyAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJycpO1xyXG4gICAgLy8gICB9IGVsc2Uge1xyXG4gICAgICAgIFxyXG4gICAgLy8gICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICAgIC8vICAgaWYodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKXtcclxuICAgIC8vICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAvLyAgIH0gXHJcbiAgICAvLyAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO31cclxuXHJcbiAgICAvLyB9fSk7XHJcblxyXG4gICAgdm9sdmVyQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5zaHV0ZG93bigpO1xyXG4gICAgICBpZih0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpe1xyXG4gICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgfVxyXG4gICAgICAvL3RoaXMucmVzZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ29kZUlucHV0KHgsIHkpIHtcclxuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBpbnB1dEVsZW1lbnQudHlwZSA9ICd0ZXh0JztcclxuICAgIGlucHV0RWxlbWVudC5pZCA9ICdyb29tQ29kZUlucHV0JztcclxuICAgIGlucHV0RWxlbWVudC5wbGFjZWhvbGRlciA9ICdDw7NkaWdvIGRlIHNhbGEnO1xyXG4gICAgaW5wdXRFbGVtZW50Lm1heExlbmd0aCA9IDY7XHJcbiAgICBpbnB1dEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB3aWR0aDogMjAwcHg7XHJcbiAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGZvbnQtZmFtaWx5OiBUYWdlc3NjaHJpZnQsIGFyaWFsO1xyXG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICBib3JkZXI6IDNweCBzb2xpZCAjZmZmZmZmO1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyMjIyO1xyXG4gICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgICB6LWluZGV4OiA5OTk5O2A7XHJcblxyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gVXNlIHRoZSBlbGVtZW50IHJlZmVyZW5jZSBkaXJlY3RseSB0byBhdm9pZCB0eXBpbmcgaXNzdWVzIG9uIEV2ZW50VGFyZ2V0XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gaW5wdXRFbGVtZW50LnZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgIHRoaXMudW5pcnNlU2FsYSgpO1xyXG4gICAgICAgIH0gXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dEVsZW1lbnQpO1xyXG5cclxuICAgICAgLy8gUG9zaXRpb24gcmVsYXRpdmUgdG8gY2FudmFzIHRvIGF2b2lkIHBhZ2Ugb2Zmc2V0c1xyXG4gICAgICBjb25zdCBpbnB1dFdpZHRoID0gMjAwO1xyXG4gICAgICBjb25zdCBpbnB1dEhlaWdodCA9IDQwO1xyXG4gICAgICBjb25zdCBwb3NpdGlvbklucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdhbWUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5yb3VuZChyZWN0LmxlZnQgKyB4IC0gaW5wdXRXaWR0aCAvIDIpfXB4YDtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuc3R5bGUudG9wID0gYCR7TWF0aC5yb3VuZChyZWN0LnRvcCArIHkgLSBpbnB1dEhlaWdodCAvIDIpfXB4YDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHBvc2l0aW9uSW5wdXQoKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgcG9zaXRpb25JbnB1dCk7XHJcblxyXG4gICAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcG9zaXRpb25JbnB1dCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLmNvZGVJbnB1dCA9IGlucHV0RWxlbWVudDtcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBKdWdhZG9yZXMgZW4gY29sYTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdyb29tSW5mbyc6XHJcbiAgICAgICAgLy8gU2hvdyByb29tIGNvZGUgdG8gdGhlIGNyZWF0b3JcclxuICAgICAgICBpZiAoZGF0YS5jb2RlKSB7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlID0gZGF0YS5jb2RlO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0VGV4dChgVHUgdG9ycmU6ICR7ZGF0YS5jb2RlfWApO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0Q29sb3IoJyNmZmZmZmYnKTtcclxuICAgICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgU2FsYSBjcmVhZGE6ICR7ZGF0YS5jb2RlfWApO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnam9pblJvb21SZXN1bHQnOlxyXG4gICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGUgPSBkYXRhLmNvZGU7XHJcbiAgICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0VGV4dChkYXRhLmNvZGUpO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0Q29sb3IoJyNmZmZmZmYnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdVbmlkbyBhIGxhIHNhbGEuJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgICAgICB0aGlzLm1vc3RyYXJCb3RvbmVzKCk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChkYXRhLm1lc3NhZ2UgfHwgJ05vIHNlIHB1ZG8gdW5pciBhIGxhIHNhbGEuJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdzdGFydEdhbWUnOlxyXG4gICAgICBjYXNlICdnYW1lU3RhcnQnOlxyXG4gICAgICAgIC8vIFByZXZlbmlyIGV2ZW50b3MgZHVwbGljYWRvc1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdGFydGVkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRhdGEuY29kZSkge1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZSA9IGRhdGEuY29kZTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoYFRvcnJlOiAke2RhdGEuY29kZX1gKTtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldENvbG9yKCcjZmZmZmZmJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoVBhcnRpZGEgaW5pY2lhbmRvIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnUGFydGlkYSBpbmljaWFuZG8hJywgZGF0YSk7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtKXtcclxuICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgICAgIHRoaXMuYmdtLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VXNlcm5hbWUnKSB8fCAnSnVnYWRvcic7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lTycsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCB8fCB0aGlzLnJvb21JZCxcclxuICAgICAgICAgIGluaXRpYWxCYWxsOiBkYXRhLmJhbGwsXHJcbiAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IG51bGw7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdlcnJvcic6XHJcbiAgICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChkYXRhLm1lc3NhZ2UgfHwgJ0Vycm9yIGRlbCBzZXJ2aWRvci4nKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgdGhpcy5tb3N0cmFyQm90b25lcygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXJTYWxhKCl7XHJcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIGlmKHRoaXMucm9vbUNvZGUpe1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdZYSBoYXMgY3JlYWRvIHVuYSBzYWxhLicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2NyZWF0ZVJvb20nIH0pKTtcclxuXHJcbiAgICAgIHRoaXMub2N1bHRhckJvdG9uZXMoKTtcclxuXHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDcmVhbmRvIHNhbGEuLi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnTm8gY29uZWN0YWRvIGFsIHNlcnZpZG9yLiBFcnJvciBkZSBjb25leHRpw7NuLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVuaXJzZUNvbGEoKSB7XHJcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcclxuXHJcbiAgICAgIHRoaXMub2N1bHRhckJvdG9uZXMoKTtcclxuXHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdCdXNjYW5kbyBwYXJ0aWRhLi4uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ05vIGNvbmVjdGFkbyBhbCBzZXJ2aWRvci4gRXJyb3IgZGUgY29uZXh0acOzbi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvY3VsdGFyQm90b25lcygpIHtcclxuICAgIHRoaXMudGl0dWxvQ3JlYXJTYWxhLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy5ib3RvbkNyZWFyU2FsYS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvbGEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29sYS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG5cclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvZGlnby5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuY29kZUlucHV0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29kaWdvLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIGlmKHRoaXMuY29kZUlucHV0KXtcclxuICAgICAgdGhpcy5jb2RlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1vc3RyYXJCb3RvbmVzKCkge1xyXG4gICAgdGhpcy50aXR1bG9DcmVhclNhbGEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuYm90b25DcmVhclNhbGEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuY3JlYXJTYWxhVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy5jcmVhclNhbGFUZXh0LnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2xhLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29sYS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHRoaXMudGl0dWxvQ29kaWdvLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLmNvZGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2RpZ28uc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgaWYodGhpcy5jb2RlSW5wdXQpe1xyXG4gICAgICB0aGlzLmNvZGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVuaXJzZVNhbGEoKSB7XHJcbiAgICBjb25zdCBjb2RlID0gdGhpcy5jb2RlSW5wdXQudmFsdWUudHJpbSgpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICBpZighY29kZSl7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdQb3IgZmF2b3IsIGludHJvZHVjZSB1biBjw7NkaWdvIGRlIHNhbGEuJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYoY29kZS5sZW5ndGggIT09IDYpe1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRWwgY8OzZGlnbyBkZSBzYWxhIGRlYmUgdGVuZXIgNiBjYXJhY3RlcmVzLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2pvaW5Sb29tJywgY29kZTogY29kZSB9KSk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdJbnRlbnRhbmRvIHVuaXJzZSBhIGxhIHNhbGEuLi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ05vIGNvbmVjdGFkbyBhbCBzZXJ2aWRvci4gRXJyb3IgZGUgY29uZXh0acOzbi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHVwZGF0ZSgpe1xyXG4gICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgIGNvbnN0IG1hZ28gPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgbGV0IHNhbHRvID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IHdhbGtTb3VuZCA9IHRoaXMud2Fsa1NvdW5kcy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgIGxldCBpc01vdmluZyA9IGZhbHNlO1xyXG4gICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XHJcbiAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKG1hcHBpbmcuZG93bktleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5zcHJpdGUuZmxpcFggPSBmYWxzZTtcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb25fcGFyYXIoKTtcclxuXHJcbiAgICAgICAgICBpZiAod2Fsa1NvdW5kICYmIHdhbGtTb3VuZC5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICB3YWxrU291bmQuc3RvcCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNNb3ZpbmcgJiYgd2Fsa1NvdW5kICYmICF3YWxrU291bmQuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICB3YWxrU291bmQucGxheSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlTWFnb0NvbW1hbmQobWFnbywgZGlyZWN0aW9uLCBzYWx0byk7XHJcbiAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG4gICAgfSk7XHJcblxyXG4gfVxyXG5cclxuXHJcbiAgY3JlYXJFc2NlbmFyaW8oKSB7XHJcbiAgICAgICAgdGhpcy5zdWVsbyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0NzIsICdzdWVsb1InKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhcmVkID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDIwNSwgJ3BhcmVkUicpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDk0MCwgMzEwLCAnY2FtcG9GdWVyemEnKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyQmFycmVyYUludmlzaWJsZSgpIHtcclxuICAgICAgICAvLyBDcmVhciB1bmEgYmFycmVyYSBpbnZpc2libGUgcXVlIGV2aXRhIHF1ZSBzdWJhIGhhY2lhIGFycmliYSAocGVybyBwdWVkYSBhbmRhciBsaWJyZW1lbnRlIHBvciBlbCBzdWVsbylcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0ltYWdlKDUwMCwgMTA1LCBudWxsKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0U2l6ZSgxMDAwLCA1MDApOyBcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLmJvZHkuc2V0U2l6ZSgxMDAwLCA1MDApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBlc3RhYmxlY2VyQ29saXNpb25lcygpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gQmFycmVyYSBpbnZpc2libGUgcGFyYSBwZXJtaXRpciBhcmVhIGRlIHN1ZWxvIGRvbmRlIHNlIGRlc3BsYWNlbiBsaWJyZW1lbnRlLCB5IGFyZWEgZGUgc2FsdG8gcGFyYSBzdWJpciBwb3IgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgICAgIC8vIEJhcnJlcmEgaW52aXNpYmxlIHBhcmEgcGVybWl0aXIgYXJlYSBkZSBzdWVsbyBkb25kZSBzZSBkZXNwbGFjZW4gbGlicmVtZW50ZSwgeSBhcmVhIGRlIHNhbHRvIHBhcmEgc3ViaXIgcG9yIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKFxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICAgICAgY29uc3QgbGVmdE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMScsIDUwLCA0MDAsICdpZGxlX0F6dWwnKTtcclxuICAgICAgICAgICAgLy8gY29uc3QgcmlnaHRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjInLCA5NTAsIDQwMCwgJ2lkbGVfQXp1bCcpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBsZWZ0TWFnbyk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCByaWdodE1hZ28pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBLZXk6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZG93bktleTogJ0RPV04nLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgICAgICByaWdodEtleTogJ1JJR0hUJyxcclxuICAgICAgICAgICAgICAgICAgICBqdW1wOiAnU1BBQ0UnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdXBLZXk6ICdXJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBkb3duS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAganVtcDogJ0VOVEVSJ1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBdXHJcbiAgICBcclxuICAgICAgICAgICAgLy90aGlzLmludHB1dE1hcHBpbmdzID0gSW5wdXRDb25maWc7IFxyXG4gICAgICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAganVtcE9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5qdW1wXSksXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIHNldFBhdXNlU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdW1pbmcgR2FtZVNjZW5lIHdpdGggZGF0YTpcIiwgZGF0YSk7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wb2Npb25lcykge1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW8gPSBkYXRhLnBvY2lvbmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpby5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgSW52ZW50YXJpb1ske2luZGV4fV06ICR7aXRlbX1gKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIgKHNhbWUgaG9zdCBhcyB3ZWIgc2VydmVyKVxyXG5cclxuICAgICAgaWYodGhpcy53cyl7XHJcbiAgICAgICAgaWYodGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiB8fCB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQgb3IgY29ubmVjdGluZycpO1xyXG4gICAgICAgICAgdGhpcy53cy5vbm9wZW4gPSBudWxsO1xyXG4gICAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBudWxsO1xyXG4gICAgICAgICAgdGhpcy53cy5vbmVycm9yID0gbnVsbDtcclxuICAgICAgICAgIHRoaXMud3Mub25jbG9zZSA9IG51bGw7XHJcbiAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3MgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH0vd3NgO1xyXG5cclxuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG5cclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0NvbmVjdGFkbyBhbCBzZXJ2aWRvci4nKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBKb2luIG1hdGNobWFraW5nIHF1ZXVlXHJcbiAgICAgICAgLy90aGlzLi5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2pvaW5RdWV1ZScgfSkpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gZXJyb3IhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdTYWxhRGVFc3BlcmEnKSkge1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gbG9zdCEnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gc2VydmVyOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0ZhaWxlZCB0byBjb25uZWN0IScpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuXHJcbiAgbGVhdmVRdWV1ZSgpIHtcclxuICAgIGlmICh0aGlzLndzKXtcclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSBudWxsO1xyXG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IG51bGw7XHJcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IG51bGw7XHJcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9IG51bGw7XHJcbiAgICAgIGlmKHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pe1xyXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdsZWF2ZVF1ZXVlJyB9KSk7XHJcbiAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMud3MgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuY29kZUlucHV0ICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5jb2RlSW5wdXQpKXtcclxuICAgICAgdGhpcy5jb2RlSW5wdXQucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlc2V0U3RhdGUoKTtcclxuICAgIFxyXG4gIH1cclxuXHJcblxyXG4gIHNodXRkb3duKCkge1xyXG4gICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWFnbyB9IGZyb20gJy4uL2VudGl0aWVzL01hZ28nXHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlTWFnb0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL01vdmVNYWdvQ29tbWFuZCc7XHJcbmltcG9ydCB7IFBhdXNlR2FtZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL1BhdXNlR2FtZUNvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZU8gZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmVPJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBFc2NlbW5hcmlvIHkgb2JqZXRvcyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhcmVkUicsICcvaW1hZ2VuZXMvcGFyZWRZVGVjaG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsb1InLCAnL2ltYWdlbmVzL3N1ZWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm9sYUNyaXN0YWxSJywgJy9pbWFnZW5lcy9ib2xhQ3Jpc3RhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NhbGRlcm9SJywgJy9pbWFnZW5lcy9jYWxkZXJvQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW1wb0Z1ZXJ6YVInLCAnL2ltYWdlbmVzL2NhbXBvZGVmdWVyemEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb2ZyZVInLCAnL2ltYWdlbmVzL2NvZnJlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29mcmVBYmllcnRvUicsICcvaW1hZ2VuZXMvY29mcmVBYmllcnRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0YW50ZXJpYVInLCAnL2ltYWdlbmVzL2VzdGFudGVyaWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsbGF2ZVInLCAnL2ltYWdlbmVzL2xsYXZlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vUicsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGFudGFSJywgJy9pbWFnZW5lcy9wbGFudGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1InLCAnL2ltYWdlbmVzL3BvY2lvbmVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVsYXNSJywgJy9pbWFnZW5lcy92ZWxhcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVSJywgJy9pbWFnZW5lcy9lc3RhbnRlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGlicm9zUicsICcvaW1hZ2VuZXMvbGlicm9zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25WUicsICcvaW1hZ2VuZXMvYm90b25WYWNpby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ1InLCAnL2ltYWdlbmVzL2JvdG9uQ29tcGxldG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RyZWxsYVInLCAnL2ltYWdlbmVzL2VzdHJlbGxhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNBeicsICcvaW1hZ2VuZXMvcG9jaW9uQXp1bC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQW0nLCAnL2ltYWdlbmVzL3BvY2lvbmVzQW1hcmlsbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc04nLCAnL2ltYWdlbmVzL3BvY2lvbk5hcmFuamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1JvJywgJy9pbWFnZW5lcy9wb2Npb25Sb3NhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNNJywgJy9pbWFnZW5lcy9wb2Npb25Nb3JhZGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc1YnLCAnL2ltYWdlbmVzL3BvY2lvblZlcmRlLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlX0F6dWwnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzInLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzMnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzQnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzUnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzYnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzcnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb184LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJBenVsXzgnLCAnL2ltYWdlbmVzL01hZ29fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9Sb2pvJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzMnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb180JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNScsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb181LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzYnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb183JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fOCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb184LnBuZycpO1xyXG5cclxuICAgICAgICAvLyBJbnRlcmZheiBNdWVydGVcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJHTVxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYmdtJywgJy9zb3VuZHMvYmdtLm1wMycpO1xyXG5cclxuICAgICAgICAvLyBzb25pZG9zIGRlIGVmZWN0b3NcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2FicmlyQ29mcmUnLCAnL3NvdW5kcy9jaGVzdF9vcGVuLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncmVjb2dlclBvY2lvbicsICcvc291bmRzL2JvdGVsbGFzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncmVjb2dlckxsYXZlJywgJy9zb3VuZHMvbGxhdmUubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd3YWxrJywgJy9zb3VuZHMvd2Fsay5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2V4cGxvc2lvbicsICcvc291bmRzL2V4cGxvc2lvbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3B1ZXJ0YScsICcvc291bmRzL3B1ZXJ0YS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3RyaWdnZXInLCAnL3NvdW5kcy90cmlnZ2VyLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncGVxdWXDsW8nLCAnL3NvdW5kcy9wZXF1ZcOxby5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZXJmYXpcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpOyBcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubFB1bHNhZGEgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZUFiaWVydG8gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcclxuICAgICAgICB0aGlzLndzID0gZGF0YS53cztcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGU7XHJcbiAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuICAgICAgICB0aGlzLnVzZXJuYW1lID0gZGF0YS51c2VybmFtZSB8fCAnSnVnYWRvcic7XHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxPcG9uZW50ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGVzYWN0aXZhZG8gPSBbZmFsc2UsIGZhbHNlXTtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydFRpbWUgPSBEYXRlLm5vdygpOyAvLyBSYXN0cmVhciBpbmljaW8gZGUgcGFydGlkYVxyXG4gICAgICAgIHRoaXMuZ2FtZU1vZGUgPSAnb25saW5lJzsgLy8gTW9kbyBvbmxpbmVcclxuICAgICAgICB0aGlzLmxsYXZlUmVjb2dpZGEgPSBmYWxzZTsgLy8gRmxhZyBwYXJhIGV2aXRhciBxdWUgc2UgcmVjb2phIGxhIGxsYXZlIG3Dumx0aXBsZXMgdmVjZXNcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMVJlY29naWRhID0gZmFsc2U7IC8vIEZsYWcgcGFyYSBlc3RyZWxsYSAxXHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTJSZWNvZ2lkYSA9IGZhbHNlOyAvLyBGbGFnIHBhcmEgZXN0cmVsbGEgMlxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdhbmRhcl9tYWdvX0F6dWwnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnaWRsZV9BenVsJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF80JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzYnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF83JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfOCcgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnYW5kYXJfbWFnb19Sb2pvJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2lkbGVfUm9qbycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzInIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb18zJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzUnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb182JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzgnIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJnbSA9IHRoaXMuc291bmQuYWRkKCdiZ20nLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBsYXkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWFyIHVuIHNvbmlkbyBkZSBwYXNvcyBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjEnLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjInLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG5cclxuICAgICAgICAvLyBQYXJhciBwYXNvcyBjdWFuZG8gbGEgZXNjZW5hIHNlIHBhdXNlIChlai4gUGF1c2VTY2VuZSkgeSBsaW1waWFyIHNvbmlkb3MgYWwgc2h1dGRvd25cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHsgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFsIHJlc3VtZSBubyBzZSByZXByb2R1Y2UgYXV0b23DoXRpY2FtZW50ZTogZWwgdXBkYXRlKCkgcmVhbnVkYXLDoSBwYXNvcyBzaSBzZSBwdWxzYSBtb3ZlclxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIG5hZGEgZXNwZWNpYWw6IHVwZGF0ZSgpIHZvbHZlcsOhIGEgcmVwcm9kdWNpciBjdWFuZG8gZGV0ZWN0ZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQXNlZ3VyYXIgbGltcGllemEgY3VhbmRvIGxhIGVzY2VuYSBzZSBjaWVycmUgZGVmaW5pdGl2YW1lbnRlXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gcGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBDcmVhciBlc2NlbmFyaW9cclxuICAgICAgICB0aGlzLmNyZWFyRXNjZW5hcmlvKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhclBsYXRhZm9ybWFzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhckJhcnJlcmFJbnZpc2libGUoKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMuZXN0YWJsZWNlckNvbGlzaW9uZXMoKTtcclxuICAgICAgICB0aGlzLmludmVudGFyaW9FblBhbnRhbGxhKCk7IFxyXG5cclxuICAgICAgICAvL01vc3RyYXIgdmlkYXNcclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQgPSB0aGlzLmFkZC50ZXh0KDUwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodCA9IHRoaXMuYWRkLnRleHQoOTAwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTW9zdGFyIHF1ZSBqdWdhZG9yIGVzIGNhZGEgdW5vXHJcbiAgICAgICAgY29uc3QgbG9jYWxQbGF5ZXJUZXh0ID0gdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyAnRXJlcyBlbCBKdWdhZG9yIDEgKEF6dWwpJyA6ICdFcmVzIGVsIEp1Z2Fkb3IgMiAoUm9qbyknO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA0MCwgbG9jYWxQbGF5ZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpOyAgXHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsb2NhbFVzZXJuYW1lID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXJuYW1lJykgfHwgJ0p1Z2Fkb3InO1xyXG4gICAgICAgIHRoaXMubG9jYWxVc2VybmFtZSA9IGxvY2FsVXNlcm5hbWU7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVVc2VybmFtZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdzZXRVc2VybmFtZScsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiBsb2NhbFVzZXJuYW1lLFxyXG4gICAgICAgICAgICBwbGF5ZXJSb2xlOiB0aGlzLnBsYXllclJvbGVcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VXNlcm5hbWVzKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIElucHV0c1xyXG4gICAgICAgIHRoaXMuY3Vyc29ycyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuY3JlYXRlQ3Vyc29yS2V5cygpO1xyXG4gICAgICAgIHRoaXMuanVtcEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5TUEFDRSk7XHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICB0aGlzLmxrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuTCk7XHJcbiAgICAgICAgdGhpcy5xa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlEpO1xyXG4gICAgXHJcbiAgICAgICAgLy8gV2ViU29ja2V0IGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMuc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUodGltZSwgZGVsdGEpIHtcclxuICAgICAgICBpZiAoIXRoaXMubG9jYWxQbGF5ZXIgfHwgIXRoaXMucmVtb3RlUGxheWVyKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERldGVjdGFyIGRpcmVjY2nDs24gZGUgbW92aW1pZW50byBsb2NhbFxyXG4gICAgICAgIGxldCBkaXJlY2Npb24gPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMudXAuaXNEb3duKSBkaXJlY2Npb24gPSAndXAnO1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5kb3duLmlzRG93bikgZGlyZWNjaW9uID0gJ2Rvd24nO1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5sZWZ0LmlzRG93bikgZGlyZWNjaW9uID0gJ2xlZnQnO1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5yaWdodC5pc0Rvd24pIGRpcmVjY2lvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgZWxzZSBkaXJlY2Npb24gPSAnc3RvcCc7XHJcblxyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IHRoaXMuZXNjS2V5LmlzRG93bjtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7IC8vdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSBzaSBubyBoYSBoYWJpZG8gb3ZlcmxhcFxyXG4gICAgICAgIHRoaXMubE9wb25lbnRlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMubGtleS5pc0Rvd24gfHwgdGhpcy5xa2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLmxQdWxzYWRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnbFB1bHNhZGEnICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb21wcm9iYXIgc2kgYWxndW5vIGRlIGxvcyBqdWdhZG9yZXMgZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChtYWdvID0+IHtcclxuICAgICAgICAgICAgbWFnby51cGRhdGUoZGVsdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFamVjdXRhciBjb21hbmRvIGRlIG1vdmltaWVudG8gbG9jYWxcclxuICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZU1hZ29Db21tYW5kKHRoaXMubG9jYWxQbGF5ZXIsIGRpcmVjY2lvbiwgdGhpcy5qdW1wS2V5LmlzRG93bik7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcblxyXG4gICAgICAgIGlmKGRpcmVjY2lvbiE9PSdzdG9wJyl7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgIGlmKGRpcmVjY2lvbj09PSdsZWZ0JykgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUuZmxpcFggPSBmYWxzZTtcclxuICAgICAgICAgICAgZWxzZSBpZihkaXJlY2Npb249PT1cInJpZ2h0XCIpIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5hbmRhcl9hbmltYWNpb25fcGFyYXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsV2Fsaz0gdGhpcy53YWxrU291bmRzLmdldCh0aGlzLnBsYXllclJvbGUpO1xyXG4gICAgICAgIGlmKGRpcmVjY2lvbiE9PSdzdG9wJyl7XHJcbiAgICAgICAgICAgIGlmKGxvY2FsV2FsayAmJiAhbG9jYWxXYWxrLmlzUGxheWluZyl7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFdhbGsucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYobG9jYWxXYWxrICYmIGxvY2FsV2Fsay5pc1BsYXlpbmcpe1xyXG4gICAgICAgICAgICAgICAgbG9jYWxXYWxrLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRW52aWFyIHBvc2ljacOzbiBkZWwganVnYWRvciBsb2NhbCBhbCBzZXJ2aWRvclxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAncGxheWVyTW92ZScsXHJcbiAgICAgICAgICAgIHg6IHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLnksXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWNjaW9uLFxyXG4gICAgICAgICAgICBpc01vdmluZzogZGlyZWNjaW9uICE9PSAnc3RvcCcsXHJcbiAgICAgICAgICAgIGZsaXBYOiB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS5mbGlwWCBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYXZpc2FyIGFsIG90cm8ganVnYWRvciBzaSBoYSBoYWJpZG8gY2FtYmlvcyBlbiBlbCBpbnZlbnRhcmlvIGVuIGxhIGVzY2VuYSBkZSBsYSBsaWJyZXLDrWFcclxuICAgICAgICAvLyBpZih0aGlzLnZpc2l0TGlicmVyaWEpe1xyXG4gICAgICAgIC8vICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAvLyAgICAgICAgIHR5cGU6ICdhY3R1YWxpemFySW52ZW50YXJpbycsXHJcbiAgICAgICAgLy8gICAgICAgICBpbnZlbnRhcmlvOiB0aGlzLmludmVudGFyaW9cclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMudmlzaXRMaWJyZXJpYSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy9hY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICB0aGlzLmFjdHVhbGl6YXJJbnZlbnRhcmlvRW5QYW50YWxsYSgpO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJFc2NlbmFyaW8oKSB7XHJcbiAgICAgICAgdGhpcy5zdWVsbyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0NzIsICdzdWVsb1InKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhcmVkID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDIwNSwgJ3BhcmVkUicpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTY1LCAzMDAsICdlc3RhbnRlcmlhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTg1LCAzMDMsICdib2xhQ3Jpc3RhbFInKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FsZGVybyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0MzAsICdjYWxkZXJvUicpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzMTAsICdjYW1wb0Z1ZXJ6YVInKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29mcmUgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwNSwgMjgzLCAnY29mcmVSJyk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxsYXZlID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNzAsIDE2MCwgJ2xsYXZlUicpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmxsYXZlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDc4MCwgMTgwLCAncGVyZ2FtaW5vUicpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGFudGEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE3MCwgMzY1LCAncGxhbnRhUicpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTY5LCAyNjIsICdwb2Npb25lc1InKTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmVsYXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE0MCwgMzA4LCAndmVsYXNSJyk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxpYnJvcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTUwLCAyMjAsICdsaWJyb3NSJyk7XHJcbiAgICAgICAgdGhpcy5saWJyb3Muc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5saWJyb3MuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAsIDM1MCwgJ2JvdG9uVlInKTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm90b24yID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg3ODAsIDM1MCwgJ2JvdG9uVlInKTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBlc3RyZWxsYXMgZGUgZGVudHJvIGRlbCBjb2ZyZVxyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NTAsIDI4MywgJ2VzdHJlbGxhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTYwLCAyODMsICdlc3RyZWxsYVInKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJCYXJyZXJhSW52aXNpYmxlKCkge1xyXG4gICAgICAgIC8vIENyZWFyIHVuYSBiYXJyZXJhIGludmlzaWJsZSBxdWUgZXZpdGEgcXVlIHN1YmEgaGFjaWEgYXJyaWJhIChwZXJvIHB1ZWRhIGFuZGFyIGxpYnJlbWVudGUgcG9yIGVsIHN1ZWxvKVxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljSW1hZ2UoNTAwLCAxMDUsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRTaXplKDEwMDAsIDUwMCk7IFxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuYm9keS5zZXRTaXplKDEwMDAsIDUwMCk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGNvbGxpZGVyIGludmlzaWJsZSBwYXJhIHF1ZSBwdWVkYSB1c2FyIGxhIGJhbGRhIHN1cGVyaW9yIGRlIGxhIGVzdGFudGVyw63CrWEgY29tbyBwbGF0YWZvcm1hXHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDE2NSwgMTk1LCAnd2hpdGVfcGl4ZWwnKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLnNldFNjYWxlKDQsIDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGNvbGxpZGVyIGludmlzaWJsZSBwYXJhIGV2aXRhciBxdWUgYXRyYXZpZXNlIGVsIGNhbGRlcm9cclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNTAwLCA0MDAsICd3aGl0ZV9waXhlbCcpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuc2V0Q2lyY2xlKDg1KTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0T2Zmc2V0KC03MCwgLTU1KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhclBsYXRhZm9ybWFzKCkge1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcbiAgICAgICAgLy8gQ2VudHJvXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNDQ2LCAzMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDUxMCwgMzE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg1NzAsIDMxNSwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgICAgIC8vIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDY1MCwgMzUwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg2NTAsIDIxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNzAwLCAzOTAsICdlc3RhbnRlUicpO1xyXG5cclxuICAgICAgICAvLyBEZXJlY2hhXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNDQ2LCAyNTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDM2MCwgMjM1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgyOTUsIDIxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzAwLCAzOTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDM4MCwgMzUwLCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXN0YWJsZWNlckNvbGlzaW9uZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgLy8gQ29saXNpb25lcyBkZWwganVnYWRvciBjb24gZWwgZXNjZW5hcmlvXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RhbnRlcmlhQ29sbCk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5wbGF0YWZvcm1hcyk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5jYWxkZXJvQ29sbCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmNvZnJlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbnNlZ3VpciBsYSBsbGF2ZVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5sbGF2ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGxhdmVSZWNvZ2lkYSkgcmV0dXJuOyAvLyBFdml0YXIgcXVlIHNlIGVqZWN1dGUgbcO6bHRpcGxlcyB2ZWNlc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sbGF2ZVJlY29naWRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3JlY29nZXJMbGF2ZScsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxsYXZlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGxhdmUgY29uc2VndWlkYVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1swXSA9IHRydWU7IC8vIG1hcmNhciBlbiBlbCBpbnZlbnRhcmlvIHF1ZSBzZSBoYSBjb25zZWd1aWRvIGxhIGxsYXZlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlcm8uc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGlkOyBcclxuICAgICAgICAgICAgaWYocGxheWVyLnBsYXllcklkID09PSAncGxheWVyMScpIGlkID0gMTtcclxuICAgICAgICAgICAgZWxzZSBpZCA9IDI7XHJcblxyXG4gICAgICAgICAgICAvLyBBYnJpciBsYSBsaWJyZXLDrcKtYVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RhbnRlcmlhLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sUHVsc2FkYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudmlzaXRMaWJyZXJpYSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdMaWJyZXJpYVNjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lTycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvY2lvbmVzOiB0aGlzLmludmVudGFyaW8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kOiB0aGlzLnNvdW5kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdWdhZG9yOiBpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3MgOiB0aGlzLndzXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQmFycmVyYSBpbnZpc2libGUgcGFyYSBwZXJtaXRpciBhcmVhIGRlIHN1ZWxvIGRvbmRlIHNlIGRlc3BsYWNlbiBsaWJyZW1lbnRlLCB5IGFyZWEgZGUgc2FsdG8gcGFyYSBzdWJpciBwb3IgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsIGNvbGlzaW9uYXIgY29uIGxhIGJhcnJlcmEgaW52aXNpYmxlIG1pZW50cmFzIGVsIGp1Z2Fkb3IgdmEgaGFjaWEgYXJyaWJhLCBzYWx0YVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxheWVyLmlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuanVtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBjYWxsYmFjayAtIG9ubHkgY29sbGlkZSB3aGVuIG1vdmluZyB1cCBhbmQgbm90IGp1bXBpbmdcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc01vdmluZ1VwID0gcGxheWVyLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnkgPCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhcGxheWVyLmlzSnVtcGluZyAmJiBpc01vdmluZ1VwO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWFyIHBvY2lvbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBzaSBzZSB0aWVuZW4gbGFzIHBvY2lvbmVzIG5lY2VzYXJpYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY2FsZGVybywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmxrZXkpIHx8IFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLnFrZXkpKSB7IC8vIENvbXByb2JhciBxdWUgc2UgaGEgcHVsc2FkbyBsYSB0ZWNsYSBMIG8gUSBwYXJhIGNyZWFyIGxhIHBvY2lvbiAoc2kgc2UgbWFudGllbmUgcHVsc2FkYSBsYSB0ZWNsYSBubyBlbnRyYXLDoSB2YXJpYXMgdmVjZXMgYSBsYSBmdW5jacOzbilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3VzYXJDYWxkZXJvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52ZW50YXJpbzp0aGlzLmludmVudGFyaW9cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAgICAgLy8gQWJyaXIgZWwgY29mcmUgc2kgc2UgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb2ZyZUFiaWVydG8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzBdKSB7IC8vIGNvbXByb2JhciBxdWUgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpckNvZnJlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOZWNlc2l0YXMgbGEgbGxhdmUgcGFyYSBhYnJpciBlbCBjb2ZyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVjb2dlciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0cmVsbGExLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29nZXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdHJlbGxhMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvZ2VyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vY29sb2NhciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9jYXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvY2FyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIHB1bHNhciBib3RvbmVzIHBhcmEgZGVzYWN0aXZhciBlbCBjYW1wbyBkZSBmdWVyemFcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYm90b25DYW1wb0Z1ZXJ6YScsXHJcbiAgICAgICAgICAgICAgICAgICAgYm90b246IDFcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24yLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYm90b25DYW1wb0Z1ZXJ6YScsXHJcbiAgICAgICAgICAgICAgICAgICAgYm90b246IDJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBMb3Mgb2JqZXRvcyBzb246IDAtbGxhdmUsIDEtbGlicm9zLCAyLSBwb2Npb24gbW9yYWRhLCAzLSBwb2Npb24gdmVyZGUsIDQtIHBvY2lvbiByb3NhLCA1LSBwb2Npb24gYXp1bCwgNi0gcG9jaW9uIGFtYXJpbGxhLCA3LSBwb2Npb24gbmFyYW5qYSwgOC0gdmVsYXMsIDktIGJvbGEgZGUgY3Jpc3RhbCwgMTAtIHBsYW50YSwgMTEtIGVzdHJlbGxhIDEsIDEyLSBlc3RyZWxsYSAyXHJcbiAgICBpbnZlbnRhcmlvRW5QYW50YWxsYSgpIHsgLy9Db21vIHNlIGFjYWJhIGRlIGNyZWFyLCB0b2RhdsOtYSBubyBzZSBoYWJyw6EgcmVjb2dpZG8gbmluZ8O6biBlbGVtZW50b1xyXG4gICAgICAgIHRoaXMuY2VybyA9IHRoaXMuYWRkLmltYWdlKDIwMCwgNTIwLCAnbGxhdmVSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnVubyA9IHRoaXMuYWRkLmltYWdlKDI1MCwgNTIwLCAnbGlicm9zUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRvcyA9IHRoaXMuYWRkLmltYWdlKDMwMCwgNTIwLCAncG9jaW9uZXNNJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnRyZXMgPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDUyMCwgJ3BvY2lvbmVzVicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5jdWF0cm8gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyMCwgJ3BvY2lvbmVzUm8nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuY2luY28gPSB0aGlzLmFkZC5pbWFnZSg0NTAsIDUyMCwgJ3BvY2lvbmVzQXonKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2VpcyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNTIwLCAncG9jaW9uZXNBbScpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zaWV0ZSA9IHRoaXMuYWRkLmltYWdlKDU1MCwgNTIwLCAncG9jaW9uZXNOJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLm9jaG8gPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDUyMCwgJ3ZlbGFzUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLm51ZXZlID0gdGhpcy5hZGQuaW1hZ2UoNjUwLCA1MjAsICdib2xhQ3Jpc3RhbFInKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5kaWV6ID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MjAsICdwbGFudGFSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMub25jZSA9IHRoaXMuYWRkLmltYWdlKDc1MCwgNTIwLCAnZXN0cmVsbGFSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmRvY2UgPSB0aGlzLmFkZC5pbWFnZSg4MDAsIDUyMCwgJ2VzdHJlbGxhUicpLnNldEFscGhhKDAuMik7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0dWFsaXphckludmVudGFyaW9FblBhbnRhbGxhKCkgeyAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzFdKSB0aGlzLnVuby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLnVuby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMl0pIHRoaXMuZG9zLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzNdKSB0aGlzLnRyZXMuc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy50cmVzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s0XSkgdGhpcy5jdWF0cm8uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5jdWF0cm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzVdKSB0aGlzLmNpbmNvLnNldEFscGhhKDEpOyBlbHNlIHRoaXMuY2luY28uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzZdKSB0aGlzLnNlaXMuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLnNlaXMuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzddKSB0aGlzLnNpZXRlLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5zaWV0ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bOF0pIHRoaXMub2Noby5zZXRBbHBoYSgxKTtlbHNlIHRoaXMub2Noby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bOV0pIHRoaXMubnVldmUuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLm51ZXZlLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1sxMF0pIHRoaXMuZGllei5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgXHJcbiAgICB9XHJcblxyXG4gICAgYWJyaXJDb2ZyZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2FicmlyQ29mcmUnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2FicmlyQ29mcmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvZnJlIGFiaWVydG9cIik7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRUZXh0dXJlKCdjb2ZyZUFiaWVydG9SJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRBbHBoYSgxLjApO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gdHJ1ZTsgLy8gcGFyYSBxdWUgc29sbyBzZSBhYnJhIHVuYSB2ZXpcclxuICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGxsYXZlIGRlbCBpbnZlbnRhcmlvIGFsIGFicmlyIGVsIGNvZnJlXHJcbiAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgfVxyXG5cclxuICAgIHJlY29nZXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29mcmVBYmllcnRvKSB7IC8vIHNvbG8gc2UgcHVlZGUgcmVjb2dlciBzaSBlbCBjb2ZyZSBlc3TDoSBhYmllcnRvIChwb3JxdWUgc2lubyBlc3TDoW4gb2N1bHRhcylcclxuICAgICAgICAgICAgLy8gRmxhZyBwYXJhIGV2aXRhciBlamVjdWNpw7NuIG3Dumx0aXBsZVxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSAmJiB0aGlzLmVzdHJlbGxhMVJlY29naWRhKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChuID09PSAyICYmIHRoaXMuZXN0cmVsbGEyUmVjb2dpZGEpIHJldHVybjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB0aGlzLmVzdHJlbGxhMVJlY29naWRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKG4gPT09IDIpIHRoaXMuZXN0cmVsbGEyUmVjb2dpZGEgPSB0cnVlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RyZWxsYSBcIiArIG4gKyBcIiByZWNvZ2lkYVwiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBlc3RyZWxsYSAoMTEgeSAxMiBlbiBlbCBhcnJheSlcclxuICAgICAgICAgICAgaWYgKG4gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGExLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfSBlbHNleyBcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7dHlwZTogJ2NhbWJpYXJTaXplJywgZXN0YWRvOiAncGVxdWXDsW8nfSk7IFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvbG9jYXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1sxMCArIG5dKSB7IC8vIGNvbXByb2JhciBxdWUgc2UgdGllbmUgbGEgZXN0cmVsbGEgY29ycmVzcG9uZGllbnRlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgY29sb2NhZGFcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3RyaWdnZXInLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMS5zZXRUZXh0dXJlKCdib3RvbkNSJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgZXN0cmVsbGEgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wcm9iYXJDYW1wb0Z1ZXJ6YSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ib3RvbjEudGV4dHVyZS5rZXkgPT09ICdib3RvbkNSJyAmJiB0aGlzLmJvdG9uMi50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InKSB7IC8vY29tcHJvYmFyIHF1ZSBhbWJvcyBib3RvbmVzIHRpZW5lbiBsYSBlc3RyZWxsYSBjb2xvY2FkYVxyXG4gICAgICAgICAgICBpZiAoKHRoaXMubE9wb25lbnRlIHx8IHRoaXMucWtleS5pc0Rvd24pICYmIHRoaXMubGtleS5pc0Rvd24gJiYgdGhpcy5ib3RvbjFBY3RpdmFkbyAmJiB0aGlzLmJvdG9uMkFjdGl2YWRvKSB7IC8vIGNvbXByb2JhciBxdWUgYW1ib3MganVnYWRvcmVzIGVzdMOhbiBwdWxzYW5kbyBsYSBMIChwZXJtaXRpciB0YW1iaWVuIGxhIHEgcG9yIHNpIGVzdMOhIGp1Z2FuZG8gZW4gYW1iYXMgdmVudGFuYXMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGVzYWN0aXZhckNhbXBvRnVlcnphJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNhbXBvRnVlcnphKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FtcG8gZGUgZnVlcnphIGRlc2FjdGl2YWRvXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncHVlcnRhJywgeyB2b2x1bWU6IDAuNyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5jcmVhclB1ZXJ0YUZpbmFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJQdWVydGFGaW5hbCgpIHtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDM3MCwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyBcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLnNldEFscGhhKDAuMCk7IFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnB1ZXJ0YUZpbmFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2p1Z2Fkb3JFblB1ZXJ0YUZpbmFsJyxcclxuICAgICAgICAgICAgICAgIHBsYXllcjogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgdGhpcy5wdWVydGFGaW5hbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdqdWdhZG9yRW5QdWVydGFGaW5hbCcsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7ICBcclxuICAgIH0gICAgICAgXHJcblxyXG4gICAgZW50cmFyUHVlcnRhRmluYWwoZGVzYWN0aXZhZG8sIGdhbmFkb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkRlc2FjdGl2YWRvOlwiLCBkZXNhY3RpdmFkbyk7IFxyXG4gICAgICAgIGlmIChkZXNhY3RpdmFkb1swXSAmJiBkZXNhY3RpdmFkb1sxXSkgeyAvL2NhbWJpYXIgZGUgZXNjZW5hIHNvbG8gc2kgYW1ib3MganVnYWRvcmVzIGhhbiBsbGVnYWRvIGEgbGEgcHVlcnRhIGZpbmFsXHJcbiAgICAgICAgICAgIC8vIFBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gUGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBwYXJhciBjdWFscXVpZXIgaW5zdGFuY2lhIHBvciBjbGF2ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ3dhbGsnKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdiZ20nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0RlY2lzaW9uU2NlbmUnLCB7ZWxlY2Npb246IGdhbmFkb3IsIGp1Z2Fkb3I6IHRoaXMucGxheWVyUm9sZSwgd3M6IHRoaXMud3MsIG1vZG86J29ubGluZSd9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgIGNvbnN0IG1hZ28xID1uZXcgTWFnbyh0aGlzLCAncGxheWVyMScsICA1MCwgNDAwLCAnaWRsZV9BenVsJyk7XHJcbiAgICAgICBjb25zdCBtYWdvMiA9ICBuZXcgTWFnbyh0aGlzLCAncGxheWVyMicsIDk1MCwgNDAwLCAnaWRsZV9Sb2pvJyk7XHJcbiAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbWFnbzEpO1xyXG4gICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIG1hZ28yKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKGlkKSB7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMjQwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0NTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3Rvbi5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChtYWdvID0+IHtcclxuICAgICAgICAgICAgbWFnby5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgbGEgbXVzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0ZXh0byA9IGlkID09PSAncGxheWVyMScgPyAnRWwganVnYWRvciAxXFxuICBoYSBtdWVydG8nIDogJyBFbCBqdWdhZG9yIDJcXG4gIGhhIG11ZXJ0byc7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgdGV4dG8sIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnICNmZjAwMDBmZicsXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC01KTsgXHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnTWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMmZmODlmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdwbGF5ZXJEaXNjb25uZWN0ZWQnIH0pICk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApOyAvLyBjZXJyYXIgbGEgY29uZXhpw7NuIGRlc3B1w6lzIGRlIHVuIGJyZXZlIHJldHJhc29cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIkdhbWVTY2VuZU9cIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIlBhdXNlU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z0xlZnQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBwbGF5ZXIxLnZpZGEtLTtcclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQuc2V0VGV4dChwbGF5ZXIxLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VsIGp1Z2Fkb3IgMSBoYSByZWNpYmlkbyBkYcOxbycpO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdkYcOxb0p1Z2Fkb3InLFxyXG4gICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgdmlkYTogcGxheWVyMS52aWRhXHJcbiAgICAgICAgfSk7IFxyXG5cclxuICAgICAgICAvLyBjb21wcm9iYXIgc2kgaGEgbXVlcnRvXHJcbiAgICAgICAgaWYgKHBsYXllcjEudmlkYSA8PSAwKSB0aGlzLmVuZEdhbWUoJ3BsYXllcjEnKTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgcGxheWVyMi52aWRhLS07XHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodC5zZXRUZXh0KHBsYXllcjIudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRWwganVnYWRvciAyIGhhIHJlY2liaWRvIGRhw7FvJyk7XHJcblxyXG4gICAgICAgIC8vIEF2aXNhciBhbCBzZXJ2aWRvciBcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ2Rhw7FvSnVnYWRvcicsXHJcbiAgICAgICAgICAgIHBsYXllcjogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICB2aWRhOiBwbGF5ZXIyLnZpZGFcclxuICAgICAgICB9KTsgXHJcblxyXG4gICAgICAgIC8vIGNvbXByb2JhciBzaSBoYSBtdWVydG8gICAgICAgIFxyXG4gICAgICAgIGlmIChwbGF5ZXIyLnZpZGEgPD0gMCkgdGhpcy5lbmRHYW1lKCdwbGF5ZXIyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZU8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZShkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wb2Npb25lcykge1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW8gPSBkYXRhLnBvY2lvbmVzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2luY3Jvbml6YXIgY2FtYmlvcyBkZWwgaW52ZW50YXJpbyBjb24gZWwgb3RybyBqdWdhZG9yXHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnYWN0dWFsaXphckludmVudGFyaW8nLFxyXG4gICAgICAgICAgICAgICAgaW52ZW50YXJpbzogdGhpcy5pbnZlbnRhcmlvXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5yZXN1bWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdXNlU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICBuZXcgUGF1c2VHYW1lQ29tbWFuZCh0aGlzLCBuZXdQYXVzZVN0YXRlKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIFdFQlNPQ0tFVFNcclxuICAgIHNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIHBhcnNlYXIgbWVuc2FqZSBXZWJzb2NrZXQ6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ29uZXhpw7NuIFdlYlNvY2tldCBjZXJyYWRhJyk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nYW1lRW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlIFdlYlNvY2tldCA6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAndXNlcm5hbWVzJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNpYmlkb3MgdXNlcm5hbWVzOicsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFVzZXJuYW1lID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlVXNlcm5hbWUgPSBkYXRhLnBsYXllcjI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYWxVc2VybmFtZSA9IGRhdGEucGxheWVyMjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVVzZXJuYW1lID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdzZXRVc2VybmFtZSc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjaWJpZG8gdXNlcm5hbWU6JywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5wbGF5ZXJSb2xlICE9PSB0aGlzLnBsYXllclJvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVVzZXJuYW1lID0gZGF0YS51c2VybmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlcm5hbWUgcmVtb3RvIGFjdHVhbGl6YWRvOicsIHRoaXMucmVtb3RlVXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdtb3ZpbWllbnRvSnVnYWRvcic6IHtcclxuICAgICAgICAgICAgICAgIC8vIElnbm9yYXIgbWVuc2FqZXMgcXVlIHJlZmxlamFuIGVsIHByb3BpbyBtb3ZpbWllbnRvIGxvY2FsXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5wbGF5ZXIgPT09IHRoaXMucGxheWVyUm9sZSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucmVtb3RlUGxheWVyKSBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVXYWxrID0gdGhpcy53YWxrU291bmRzLmdldChkYXRhLnBsYXllcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pc01vdmluZyAmJiBkYXRhLmRpcmVjdGlvbiAhPT0gJ3N0b3AnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW90ZVdhbGsgJiYgIXJlbW90ZVdhbGsuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVdhbGsucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVtb3RlV2FsayAmJiByZW1vdGVXYWxrLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVdhbGsuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zcHJpdGUuZmxpcFggPSBkYXRhLmZsaXBYO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pc01vdmluZyAmJiBkYXRhLmRpcmVjdGlvbiAhPT0gJ3N0b3AnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLmFuZGFyX2FuaW1hY2lvbl9wYXJhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRHYW1lKGRhdGEud2lubmVySWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJEaXNjb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgICAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjYXNlICdkYcOxbyc6IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEYcOxbyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnSW52ZW50YXJpbyc6IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gZGF0YS5pbnZlbnRhcmlvO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdHVhbGl6YXJJbnZlbnRhcmlvRW5QYW50YWxsYSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnZlbnRhcmlvIGFjdHVhbGl6YWRvIGRlc2RlIGVsIHNlcnZpZG9yXCIsIHRoaXMuaW52ZW50YXJpbyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdG9uQ0YnOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuYiA9PT0gMSkgdGhpcy5ib3RvbjFBY3RpdmFkbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLmIgPT09IDIpIHRoaXMuYm90b24yQWN0aXZhZG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wcm9iYXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdkZXNhY3RpdmFyQ0YnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hYnJpckNhbXBvRnVlcnphKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2xPcG9uZW50ZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxPcG9uZW50ZSA9IGRhdGEudmFsb3I7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcblxyXG4gICAgICAgICAgICBjYXNlICd1c2FyQ2FsZGVybyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNhbGRlcm8oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3NpemUnOiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmVzdGFkbyA9PT0gJ3BlcXVlw7FvJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdm9sdmVyIGEgYWN0aXZhciBlbCBjb2xsaWRlciBkZWwgY2FsZGVyb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5lbmFibGVCb2R5KGZhbHNlLCAwLCAwLCB0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcblxyXG4gICAgICAgICAgICBjYXNlICdwdWVydGFGaW5hbCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVB1ZXJ0YUZpbmFsKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdmaW5hbCc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZpbmFsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZXNjZW5hID09PSAxKSB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0xU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuZXNjZW5hID09PSAyKSB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0yU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxCU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnRGVjaXNpb25TY2VuZScpOyBcclxuICAgICAgICAgICAgICAgIGJyZWFrOyBcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWVuc2FqZSBXZWJTb2NrZXQgZGVzY29ub2NpZG86JywgZGF0YSk7XHJcbiAgICAgICAgfSAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgLy90aGlzLmJhbGwuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDIyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4zLCAwLjI1KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgJ0ZhbGxvIHBvciBkZXNjb25leGnDs24nLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgJ0xhIHBhcnRpZGEgaGEgZmluYWxpemFkbycsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEYcOxbyhkYXRhKXtcclxuICAgICAgICBjb25zdCBtYWdvID0gdGhpcy5wbGF5ZXJzLmdldChkYXRhLnBsYXllcik7XHJcbiAgICAgICAgaWYgKCFtYWdvKSByZXR1cm47XHJcblxyXG4gICAgICAgIG1hZ28udmlkYSA9IGRhdGEudmlkYTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEucGxheWVyID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFsdGhMZWZ0LnNldFRleHQoZGF0YS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoUmlnaHQuc2V0VGV4dChkYXRhLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWFnby52aWRhIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5lbmRHYW1lKGRhdGEucGxheWVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2FsZGVybyhkYXRhKSB7XHJcbiAgICAgICAgLy8gdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSB0b2RvcyBsb3MgZWxlbWVudG9zIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmludmVudGFyaW8ubGVuZ3RoIC0gMjsgaSsrKSB7IC8vIHNlIHNhbHRhIGxhIGxsYXZlIHkgbGFzIGVzdHJlbGxhcyBwb3JxdWUgbm8gc2UgdXRpbGl6YW4gcGFyYSBjcmVhciBsYSBwb2Npb25cclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvW2ldID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy51bm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy50cmVzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMuY3VhdHJvLnNldEFscGhhKDAuMik7ICBcclxuICAgICAgICB0aGlzLmNpbmNvLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zZWlzLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zaWV0ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5udWV2ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgXHJcblxyXG4gICAgICAgIGlmIChkYXRhLmV4aXRvKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBjcmVhZGFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuZGlzYWJsZUJvZHkoKTsgLy8gZGVzYWN0aXZhciBlbCBjb2xsaWRlciBkZWwgY2FsZGVybyBwYXJhIG1pZW50cmFzIGVzdMOpbiBwZXF1ZcOxb3MgcHVlZGFuIGF0cmF2ZXNhcmxvIFxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdwZXF1ZcOxbycsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdGllbmVzIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzIHBhcmEgY3JlYXIgbGEgcG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxb1wiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZXhwbG9zaW9uJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEuanVnYWRvckRhw7FhZG8gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGHDsW9KdWdMZWZ0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhw7FvSnVnUmlnaHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgaGFuZGxlUHVlcnRhRmluYWwoZGF0YSkge1xyXG4gICAgICAgIGxldCB3YWxrUztcclxuICAgICAgICBpZiAoZGF0YS5qdWdhZG9yID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZS5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5kZXNhY3RpdmFkb1swXSA9IHRydWU7IC8vIGVsIHBlcnNvbmFqZSB5YSBoYSBlbnRyYWRvIHBvciBsYSBwdWVydGEgeSBoYSBkZXNhcGFyZWNpZG9cclxuICAgICAgICAgICAgd2Fsa1MgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KCdwbGF5ZXIxJyk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzYWN0aXZhZG9bMV0gPSB0cnVlOyAvLyBlbCBwZXJzb25hamUgeWEgaGEgZW50cmFkbyBwb3IgbGEgcHVlcnRhIHkgaGEgZGVzYXBhcmVjaWRvXHJcbiAgICAgICAgICAgIHdhbGtTID0gdGhpcy53YWxrU291bmRzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdhbGtTKSB7XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh3YWxrUy5pc1BsYXlpbmcpIHdhbGtTLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5lbnRyYXJQdWVydGFGaW5hbCh0aGlzLmRlc2FjdGl2YWRvLCBkYXRhLmdhbmFkb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lbnVCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5ib3RvbiA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24uc2V0U2NhbGUoMC4xNSwgMC4xKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0MDAsICdWb2x2ZXIgYWwgTWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjY2NjY2NjJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAncGxheWVyRGlzY29ubmVjdGVkJyB9KSApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDZXJyYW5kbyBjb25leGnDs24gV2ViU29ja2V0Li4uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29uZXhpw7NuIFdlYlNvY2tldCBjZXJyYWRhLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApOyAvLyBjZXJyYXIgbGEgY29uZXhpw7NuIGRlc3B1w6lzIGRlIHVuIGJyZXZlIHJldHJhc29cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIkdhbWVTY2VuZU9cIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIlBhdXNlU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dVc2VybmFtZXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9jYWxQbGF5ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWxVc2VybmFtZVRleHQgPSB0aGlzLmFkZC50ZXh0KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUueCxcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLnkgLSAxMDAsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsVXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwZmYwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgbG9jYWxVc2VybmFtZVRleHQuc2V0RGVwdGgoMTAwKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxvY2FsVXNlcm5hbWVUZXh0LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5yZW1vdGVQbGF5ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVtb3RlVXNlcm5hbWUgPSB0aGlzLnJlbW90ZVVzZXJuYW1lIHx8ICdPcG9uZW50ZSc7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW90ZVVzZXJuYW1lVGV4dCA9IHRoaXMuYWRkLnRleHQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zcHJpdGUueCxcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS55IC0gMTAwLFxyXG4gICAgICAgICAgICAgICAgcmVtb3RlVXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwZmYwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgcmVtb3RlVXNlcm5hbWVUZXh0LnNldERlcHRoKDEwMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW1vdGVVc2VybmFtZVRleHQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBMb2dpblNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTG9naW5TY2VuZS5qcyc7XHJcbmltcG9ydCB7IE1lbnVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL01lbnVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0dhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFBhdXNlU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9QYXVzZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgQ3JlZGl0c1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzJztcclxuaW1wb3J0IHsgSGlzdG9yaWFTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0hpc3RvcmlhU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBMaWJyZXJpYVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTGlicmVyaWFTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbnRyb2xTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NvbnRyb2xTY2VuZS5qcyc7XHJcbmltcG9ydCB7IERlY2lzaW9uU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9EZWNpc2lvblNjZW5lLmpzJztcclxuaW1wb3J0IHsgRmluYWxCU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9GaW5hbEJTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEZpbmFsTTFTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0ZpbmFsTTFTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEZpbmFsTTJTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0ZpbmFsTTJTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFN0YXRzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9TdGF0c1NjZW5lLmpzJztcclxuaW1wb3J0IHsgQ29ubmVjdGlvbkxvc3RTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMnO1xyXG5pbXBvcnQgU2FsYURlRXNwZXJhIGZyb20gJy4vc2NlbmVzL1NhbGFEZUVzcGVyYS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZU8gfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmVPLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgd2lkdGg6IDEwMDAsXHJcbiAgICBoZWlnaHQ6IDU2MCxcclxuICAgIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB5OiAyMDAwMCB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZG9tOiB7XHJcbiAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFsgTG9naW5TY2VuZSwgTWVudVNjZW5lLCBHYW1lU2NlbmVPLCBHYW1lU2NlbmUsIExpYnJlcmlhU2NlbmUsICBQYXVzZVNjZW5lLCBDcmVkaXRzU2NlbmUsIEhpc3RvcmlhU2NlbmUsIENvbnRyb2xTY2VuZSwgRGVjaXNpb25TY2VuZSwgRmluYWxCU2NlbmUsIEZpbmFsTTFTY2VuZSwgRmluYWxNMlNjZW5lLCBTdGF0c1NjZW5lLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBTYWxhRGVFc3BlcmEgXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyM0N2RkZmZmZicsXHJcbn1cclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJTVE9SQUdFX0tFWSIsImdldExvY2FsU3RhdHMiLCJ1c2VybmFtZSIsInN0YXRzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFsbFN0YXRzIiwiSlNPTiIsInBhcnNlIiwidG90YWxQYXJ0aWRhcyIsInRpZW1wb1RvdGFsIiwicGFydGlkYXMiLCJ1bHRpbWFBY3R1YWxpemFjaW9uIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0TG9jYWxHYW1lU3RhdHMiLCJFcnJvciIsIm1vZG8iLCJ0aWVtcG9Qcm9tZWRpbyIsIkFQSV9CQVNFX1VSTCIsImFzeW5jIiwicmVjb3JkR2FtZVNlc3Npb24iLCJkdXJhdGlvbk1zIiwibW9kZSIsImxvY2FsUmVzdWx0IiwicHVzaCIsImR1cmFjaW9uIiwiZmVjaGEiLCJsZW5ndGgiLCJzbGljZSIsInBhcnNlZFN0YXRzIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInNhdmVMb2NhbFN0YXRzIiwibG9nIiwidG9GaXhlZCIsInBhcnRpZGFzSnVnYWRhcyIsInVsdGltYVBhcnRpZGEiLCJyZWNvcmRMb2NhbEdhbWVTZXNzaW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5Iiwib2siLCJzZXJ2ZXJSZXN1bHQiLCJqc29uIiwic2luY3Jvbml6YWRvU2Vydmlkb3IiLCJkYXRvc1NlcnZpZG9yIiwid2FybiIsIkxvZ2luU2NlbmUiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwicHJlbG9hZCIsInRoaXMiLCJsb2FkIiwiaW1hZ2UiLCJjcmVhdGUiLCJmb25kbyIsImFkZCIsInNldFNjYWxlIiwibG9naW5Gb3JtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInVzZXJuYW1lSW5wdXQiLCJwYXNzd29yZElucHV0IiwibG9naW5CdXR0b24iLCJjbGFzc0xpc3QiLCJhZGRFdmVudExpc3RlbmVyIiwidmFsdWUiLCJ0cmltIiwibG9naW5Vc2VyIiwic2Vzc2lvblN0b3JhZ2UiLCJyZW1vdmUiLCJ0aW1lIiwiZGVsYXllZENhbGwiLCJzY2VuZSIsInN0YXJ0IiwibWVzc2FnZSIsImFsZXJ0IiwiZSIsImNsaWNrIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJ3aW5kb3ciLCJjdXJyZW50VXNlcm5hbWUiLCJsb2dvdXRVc2VyIiwicmVtb3ZlSXRlbSIsInN0b3BQb2xsaW5nIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwiZGF0YSIsImNvbm5lY3RlZCIsIm5vdGlmeUxpc3RlbmVycyIsImNvdW50Iiwic3VjY2VzcyIsImhhbmRsZURpc2Nvbm5lY3Rpb24iLCJhZGRMaXN0ZW5lciIsImNhbGxiYWNrIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJnZXRTdGF0dXMiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJNZW51U2NlbmUiLCJhdWRpbyIsIkZvbnRGYWNlIiwidGhlbiIsImxvYWRlZEZvbnQiLCJmb250cyIsImNhdGNoIiwic291bmQiLCJzdG9wQnlLZXkiLCJlcnIiLCJnYW1lIiwicGxheSIsInZvbHVtZSIsImxvb3AiLCJ0aXR1bG8iLCJib3RvbjEiLCJib3RvbjIiLCJib3RvbjMiLCJib3RvbjQiLCJib3RvbjUiLCJ0ZXh0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiY29sb3IiLCJzZXRPcmlnaW4iLCJzZXRBbmdsZSIsImxvY2FsQnRuIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRTdHlsZSIsImZpbGwiLCJvbmxpbmVCdG4iLCJzdG9wIiwiY3JlZGl0b3NCdG4iLCJoaXN0b3JpYUJ0biIsImNvbnRyb2xCdG4iLCJvcmlnaW5hbFNjZW5lIiwiY29ubmVjdGlvblRleHQiLCJjb25uZWN0aW9uTGlzdGVuZXIiLCJ1cGRhdGVDb25uZWN0aW9uRGlzcGxheSIsImlzQWN0aXZlIiwic2V0VGV4dCIsInNldENvbG9yIiwic2h1dGRvd24iLCJNYWdvIiwiaWQiLCJ4IiwieSIsImlkU3ByaXRlIiwidmlkYSIsImlkbGUiLCJlc3RhZG9fbm9ybWFsIiwiYmFzZVdpZGh0IiwiYmFzZUhlaWdodCIsImJhc2VTcGVlZCIsImlzSnVtcGluZyIsImp1bXBWZWxvY2l0eSIsImdyb3VuZFkiLCJzcHJpdGUiLCJwaHlzaWNzIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwiYWxsb3dHcmF2aXR5Iiwic2V0U2l6ZSIsInNldE9mZnNldCIsImFuZGFyX2FuaW1hY2lvbiIsImFuaW1zIiwiaXNQbGF5aW5nIiwiZXhpc3RzIiwiYW5kYXJfYW5pbWFjaW9uX3BhcmFyIiwic2V0VGV4dHVyZSIsImp1bXAiLCJzZXRWZWxvY2l0eVkiLCJ1cGRhdGUiLCJkZWx0YSIsInZlbG9jaXR5Iiwic2NhbGUiLCJzZXRQb3NpdGlvbiIsIkNvbW1hbmRQcm9jZXNzb3IiLCJwbGF5ZXJzIiwiTWFwIiwiZ2FtZVNjZW5lIiwic2V0UGxheWVycyIsInNldEdhbWVTY2VuZSIsInByb2Nlc3MiLCJjb21tYW5kIiwiZXhlY3V0ZSIsIkNvbW1hbmQiLCJzZXJpYWxpemUiLCJnZXRQbGF5ZXIiLCJNb3ZlTWFnb0NvbW1hbmQiLCJtYWdvIiwiZGlyZWN0aW9uIiwic2FsdG8iLCJzZXRWZWxvY2l0eVgiLCJQYXVzZUdhbWVDb21tYW5kIiwiaXNQYXVzZWQiLCJzZXRQYXVzZVN0YXRlIiwiR2FtZVNjZW5lIiwiaW5pdCIsImlucHV0TWFwcGluZ3MiLCJlc2NXYXNEb3duIiwibFB1bHNhZGEiLCJwcm9jZXNzb3IiLCJjb2ZyZUFiaWVydG8iLCJ3YWxrU291bmRzIiwiZ2FtZVN0YXJ0VGltZSIsImdhbWVNb2RlIiwiaW52ZW50YXJpbyIsImZyYW1lcyIsImZyYW1lUmF0ZSIsInJlcGVhdCIsImJnbSIsInNldCIsImV2ZW50cyIsIndzIiwib25jZSIsImRlc3Ryb3kiLCJjbGVhciIsImNyZWFyRXNjZW5hcmlvIiwiY3JlYXJQbGF0YWZvcm1hcyIsImNyZWFyQmFycmVyYUludmlzaWJsZSIsInNldFVwUGxheWVycyIsImVzdGFibGVjZXJDb2xpc2lvbmVzIiwiaW52ZW50YXJpb0VuUGFudGFsbGEiLCJoZWFsdGhMZWZ0IiwiaGVhbHRoUmlnaHQiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsImxrZXkiLCJMIiwicWtleSIsIlEiLCJpc0Rvd24iLCJ0b2dnbGVQYXVzZSIsIm1hcHBpbmciLCJwbGF5ZXJJZCIsIndhbGtTb3VuZCIsImlzTW92aW5nIiwidXBLZXlPYmoiLCJkb3duS2V5T2JqIiwibGVmdEtleU9iaiIsImZsaXBYIiwicmlnaHRLZXlPYmoiLCJqdW1wT2JqIiwibW92ZUNvbW1hbmQiLCJ1bm8iLCJzZXRBbHBoYSIsImRvcyIsInRyZXMiLCJjdWF0cm8iLCJjaW5jbyIsInNlaXMiLCJzaWV0ZSIsIm9jaG8iLCJudWV2ZSIsImRpZXoiLCJzdWVsbyIsInNldEltbW92YWJsZSIsInBhcmVkIiwiZXN0YW50ZXJpYSIsImJvbGFDcmlzdGFsIiwiY2FsZGVybyIsImNhbXBvRnVlcnphIiwiY29mcmUiLCJsbGF2ZSIsInBlcmdhbWlubyIsInBsYW50YSIsInBvY2lvbmVzIiwidmVsYXMiLCJsaWJyb3MiLCJlc3RyZWxsYTEiLCJlc3RyZWxsYTIiLCJiYXJyZXJhSW52aXNpYmxlIiwic3RhdGljSW1hZ2UiLCJzZXRWaXNpYmxlIiwiZXN0YW50ZXJpYUNvbGwiLCJzZXRBbGxvd0dyYXZpdHkiLCJjYWxkZXJvQ29sbCIsInNldENpcmNsZSIsInBsYXRhZm9ybWFzIiwic3RhdGljR3JvdXAiLCJwbGF5ZXIiLCJjb2xsaWRlciIsIm92ZXJsYXAiLCJjZXJvIiwicGF1c2UiLCJsYXVuY2giLCJqdWdhZG9yIiwiaXNNb3ZpbmdVcCIsIkp1c3REb3duIiwiZWxlbVJlY29naWRvcyIsImZpbHRlciIsImVsZW0iLCJsZW5naHQiLCJkaXNhYmxlQm9keSIsIkJldHdlZW4iLCJpIiwiYWJyaXJDb2ZyZSIsInJlY29nZXJFc3RyZWxsYSIsImNvbG9jYXJFc3RyZWxsYSIsImJvdG9uMUFjdGl2YWRvIiwiYWJyaXJDYW1wb0Z1ZXJ6YSIsImJvdG9uMkFjdGl2YWRvIiwiZG9jZSIsIm4iLCJlbmFibGVCb2R5IiwidGV4dHVyZSIsImNyZWFyUHVlcnRhRmluYWwiLCJwdWVydGFGaW5hbCIsImRlc2FjdGl2YWRvIiwiZW50cmFyUHVlcnRhRmluYWwiLCJ3czEiLCJ3czIiLCJsZWZ0TWFnbyIsInJpZ2h0TWFnbyIsInVwS2V5IiwiZG93bktleSIsImxlZnRLZXkiLCJyaWdodEtleSIsIm1hcCIsImNvbmZpZyIsImVuZEdhbWUiLCJyZWN0YW5nbGUiLCJib3RvbiIsInNldFZlbG9jaXR5IiwidGV4dG8iLCJtZW51QnRuIiwicGxheWVyMSIsInBsYXllcjIiLCJyZXN1bWUiLCJpdGVtIiwibmV3UGF1c2VTdGF0ZSIsIlBhdXNlU2NlbmUiLCJyZXN1bWVCdG4iLCJvcmlnU2NlbmUiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsInNlbmQiLCJ0eXBlIiwic2V0VGltZW91dCIsImNsb3NlIiwiQ3JlZGl0c1NjZW5lIiwicGVyZ2FtaW5vMSIsIlJldHVybkJ0biIsIkhpc3RvcmlhU2NlbmUiLCJMaWJyZXJpYVNjZW5lIiwiYmFsbCIsImFicmlyIiwiZGF0b3MiLCJwb2Npb25lc1JlY29naWRhcyIsInBvY2lvbkFtIiwicG9jaW9uTiIsInBvY2lvbk0iLCJwb2Npb25SIiwicG9jaW9uViIsInBvY2lvbkF6IiwibGlicm8iLCJhYmlyIiwicGFkZGxlIiwiQ29udHJvbFNjZW5lIiwicGVyZ2FtaW5vMiIsInBlcmdhbWlubzMiLCJEZWNpc2lvblNjZW5lIiwiZm9uZG9EIiwic2VsZWN0b3IiLCJlbGVjY2lvbiIsImJ0bjEiLCJidG4yIiwiZXNjZW5hIiwiRmluYWxCU2NlbmUiLCJkZWNpc2lvblNjZW5lIiwiZ2FtZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJmb25kb0MiLCJidG4iLCJGaW5hbE0xU2NlbmUiLCJmb25kb18xTSIsIkZpbmFsTTJTY2VuZSIsImZvbmRvXzJNIiwiU3RhdHNTY2VuZSIsImxhc3RHYW1lRHVyYXRpb24iLCJzZXREZXB0aCIsImxhc3RHYW1lU2Vjb25kcyIsInNlcnZlclN0YXRzIiwiZnVlbnRlIiwiZ2V0VXNlckdhbWVTdGF0cyIsImF2Z1NlY29uZHMiLCJmb250U3R5bGUiLCJDb25uZWN0aW9uTG9zdFNjZW5lIiwicmVjb25uZWN0Q2hlY2tJbnRlcnZhbCIsInByZXZpb3VzU2NlbmUiLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsImFkZEV2ZW50IiwiZGVsYXkiLCJkb3RzIiwib25SZWNvbm5lY3RlZCIsImF0dGVtcHRSZWNvbm5lY3QiLCJTYWxhRGVFc3BlcmEiLCJyZXNldFN0YXRlIiwicm9vbUNvZGUiLCJyb29tSWQiLCJnYW1lU3RhcnRlZCIsInJvb21Db2RlVGV4dCIsImFjdGl2ZSIsImNvZGVJbnB1dCIsImNvbnRhaW5zIiwiY29ubmVjdFRvU2VydmVyIiwiY3JlYXJJbnRlcmZheiIsIndpZHRoIiwiY2FtZXJhcyIsIm1haW4iLCJoZWlnaHQiLCJ0aXR1bG9DcmVhclNhbGEiLCJib3RvbkNyZWFyU2FsYSIsImNyZWFyU2FsYVRleHQiLCJjcmVhclNhbGEiLCJ0aXR1bG9Db2xhIiwiYm90b25Vbmlyc2VDb2xhIiwidW5pcnNlQ29sYVRleHQiLCJ1bmlyc2VDb2xhIiwidGl0dWxvQ29kaWdvIiwiY3JlYXRlQ29kZUlucHV0IiwiYm90b25Vbmlyc2VDb2RpZ28iLCJ1bmlyc2VDb2RpZ29UZXh0IiwidW5pcnNlU2FsYSIsInZvbHZlckJ1dHRvbiIsImlucHV0RWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwbGFjZWhvbGRlciIsIm1heExlbmd0aCIsInN0eWxlIiwiY3NzVGV4dCIsInRvVXBwZXJDYXNlIiwiYXBwZW5kQ2hpbGQiLCJwb3NpdGlvbklucHV0IiwicmVjdCIsImNhbnZhcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJyb3VuZCIsImlucHV0V2lkdGgiLCJ0b3AiLCJpbnB1dEhlaWdodCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTZXJ2ZXJNZXNzYWdlIiwicG9zaXRpb24iLCJjb2RlIiwibW9zdHJhckJvdG9uZXMiLCJwbGF5ZXJSb2xlIiwicm9sZSIsImluaXRpYWxCYWxsIiwib25tZXNzYWdlIiwib2N1bHRhckJvdG9uZXMiLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJkaXNwbGF5IiwiQ09OTkVDVElORyIsIm9ub3BlbiIsIm9uZXJyb3IiLCJvbmNsb3NlIiwid3NVcmwiLCJsb2NhdGlvbiIsImhvc3QiLCJldmVudCIsImxlYXZlUXVldWUiLCJHYW1lU2NlbmVPIiwibG9jYWxQbGF5ZXIiLCJyZW1vdGVQbGF5ZXIiLCJlc3RyZWxsYSIsImxPcG9uZW50ZSIsImxsYXZlUmVjb2dpZGEiLCJlc3RyZWxsYTFSZWNvZ2lkYSIsImVzdHJlbGxhMlJlY29naWRhIiwibG9jYWxQbGF5ZXJUZXh0IiwibG9jYWxVc2VybmFtZSIsInJlbW90ZVVzZXJuYW1lIiwic2hvd1VzZXJuYW1lcyIsImN1cnNvcnMiLCJjcmVhdGVDdXJzb3JLZXlzIiwianVtcEtleSIsIlNQQUNFIiwic2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMiLCJkaXJlY2Npb24iLCJ1cCIsImRvd24iLCJyaWdodCIsInNlbmRNZXNzYWdlIiwibG9jYWxXYWxrIiwiYWN0dWFsaXphckludmVudGFyaW9FblBhbnRhbGxhIiwiZXN0YWRvIiwiY29tcHJvYmFyQ2FtcG9GdWVyemEiLCJnYW5hZG9yIiwibWFnbzEiLCJtYWdvMiIsImdhbWVFbmRlZCIsInJlbW90ZVdhbGsiLCJ3aW5uZXJJZCIsImIiLCJ2YWxvciIsImhhbmRsZUNhbGRlcm8iLCJoYW5kbGVQdWVydGFGaW5hbCIsImNyZWF0ZU1lbnVCdXR0b24iLCJleGl0byIsIndhbGtTIiwibG9jYWxVc2VybmFtZVRleHQiLCJyZW1vdGVVc2VybmFtZVRleHQiLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwiZG9tIiwiY3JlYXRlQ29udGFpbmVyIiwiYmFja2dyb3VuZENvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==