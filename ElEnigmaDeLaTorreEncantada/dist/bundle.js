(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);const i=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class a extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("fondoM","/imagenes/logoSinFondo.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3"),this.load.audio("musicaMenu","/sounds/música_MPrincipal.mp3"),new FontFace("Tagesschrift","url(/fuentes/Tagesschrift.ttf)").load().then(function(e){document.fonts.add(e)}).catch(function(e){console.error("Error loading font:",e)})}create(){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.game.sound.play("musicaMenu",{volume:.7,loop:!0}),this.fondo=this.add.image(500,350,"fondoM"),this.fondo.setScale(.8),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,300,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,350,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,400,"boton"),this.boton3.setScale(.1),this.boton4=this.add.image(500,450,"boton"),this.boton4.setScale(.1),this.boton5=this.add.image(500,500,"boton"),this.boton5.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8);const e=this.add.text(500,300,"Local",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("musicaMenu"),this.scene.start("GameScene")}),t=this.add.text(500,350,"Online",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#ff0000ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",async()=>{this.scene.stop(),this.scene.start("SalaDeEspera")}),s=this.add.text(500,400,"Créditos",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#ff9100ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("CreditsScene")}),a=this.add.text(500,450,"Historia",{fontSize:"24px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{a.setStyle({fill:"#38ffffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>a.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("HistoriaScene")}),o=this.add.text(500,500,"Controles",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{o.setStyle({fill:"#ff0dffc1"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>o.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.start("ControlScene",{originalScene:"MenuScene"})});this.connectionText=this.add.text(500,540,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00",fontFamily:"Tagesschrift"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},i.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&i.removeListener(this.connectionListener)}}class o{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.vida=3,this.idle=a,this.estado_normal=!0,this.baseWidht=20,this.baseHeight=100,this.baseSpeed=300,this.isJumping=!1,this.jumpVelocity=0,this.groundY=i,this.sprite=this.scene.physics.add.sprite(s,i,a),this.sprite.setScale(.35),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setSize(125,175),this.sprite.body.setOffset(880,750)}andar_animacion(){this.sprite&&this.sprite.anims&&(this.sprite.anims.isPlaying||("idle_Azul"===this.idle?this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Azul")&&this.sprite.play("andar_mago_Azul"):"idle_Rojo"===this.idle&&this.scene&&this.scene.anims&&this.scene.anims.exists("andar_mago_Rojo")&&this.sprite.play("andar_mago_Rojo")))}andar_animacion_parar(){this.sprite&&this.sprite.anims&&this.sprite.anims.isPlaying&&(this.sprite.anims.stop(),this.sprite.setTexture(this.idle))}jump(){this.isJumping||(this.isJumping=!0,this.groundY=this.sprite.y,this.sprite.setVelocityY(-1e5),this.sprite.body.allowGravity=!0)}update(e){this.isJumping&&this.sprite.y>=this.groundY&&this.sprite.body.velocity.y>=0&&(this.sprite.y=this.groundY,this.sprite.setVelocityY(0),this.sprite.body.allowGravity=!1,this.isJumping=!1),!1===this.estado_normal?this.sprite.setScale(.1):this.sprite.setScale(.35)}setScale(e){this.sprite.setScale(e)}setPosition(e,t){this.sprite.setPosition(e,t)}}class n{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class r{execute(){}serialize(){}getPlayer(){}}class l extends r{constructor(e,t,s){super(),this.mago=e,this.direction=t,this.salto=s}execute(){"up"===this.direction?this.mago.sprite.setVelocityY(-this.mago.baseSpeed):"down"===this.direction?this.mago.sprite.setVelocityY(+this.mago.baseSpeed):"left"===this.direction?this.mago.sprite.setVelocityX(-this.mago.baseSpeed):"right"===this.direction?this.mago.sprite.setVelocityX(+this.mago.baseSpeed):(this.mago.sprite.setVelocityY(0),this.mago.sprite.setVelocityX(0)),this.salto&&this.mago.sprite.setVelocityY(3.5*-this.mago.baseSpeed)}}class h extends r{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class d extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("pequeño","/sounds/pequeño.mp3")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new n,this.cofreAbierto=!1,this.walkSounds=new Map,this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(e,t){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.escWasDown=this.escKey.isDown,console.log("Holaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.lPulsada=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0),this.players.forEach(e=>{e.update(t)}),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null,i=!1;const a=this.walkSounds.get(e.playerId);let o=!1;e.upKeyObj.isDown?(s="up",o=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",o=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",o=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",o=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),a&&a.isPlaying&&a.stop()),e.jumpObj.isDown&&(t.estado_normal||(i=!0,t.andar_animacion_parar())),o&&a&&!a.isPlaying&&a.play();let n=new l(t,s,i);this.processor.process(n)}),this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1)}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameScene",pociones:this.inventario,sound:this.sound,jugador:t}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{if(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey)){let e=this.inventario.filter(e=>!0===e);3===e.length||4===e.lenght?this.inventario[3]&&this.inventario[5]&&this.inventario[7]&&(console.log("Poción de disminuir tamaño creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("pequeño",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poción de disminuir tamaño"),this.sound&&this.sound.play("explosion",{volume:.5}),1===s().Math.Between(1,2)?this.dañoJugLeft():this.dañoJugRight());for(let e=1;e<this.inventario.length-2;e++)switch(this.inventario[e]=!1,e){case 1:this.uno.setAlpha(.2);break;case 2:this.dos.setAlpha(.2);break;case 3:this.tres.setAlpha(.2);break;case 4:this.cuatro.setAlpha(.2);break;case 5:this.cinco.setAlpha(.2);break;case 6:this.seis.setAlpha(.2);break;case 7:this.siete.setAlpha(.2);break;case 8:this.ocho.setAlpha(.2);break;case 9:this.nueve.setAlpha(.2);break;case 10:this.diez.setAlpha(.2)}}}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.boton1Activado=!0,this.abrirCampoFuerza()}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.boton2Activado=!0,this.abrirCampoFuerza()})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){this.cofreAbierto&&(console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})}))}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2)):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2)))}abrirCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&this.qkey.isDown&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal())}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0);let e=[!1,!1];this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.players.get("player1").sprite.disableBody(!0,!0),e[0]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player1");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.players.get("player2").sprite.disableBody(!0,!0),e[1]=!0,this.entrarPuertaFinal(e);const t=this.walkSounds.get("player2");if(t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}})}entrarPuertaFinal(e){if(e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{modo:"local"})}}setUpPlayers(){const e=new o(this,"player1",50,400,"idle_Azul"),t=new o(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",leftKey:"A",rightKey:"D",jump:"SPACE"},{playerId:"player2",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"ENTER"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Menú",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}dañoJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador de la izquierda ha recibido daño"),e.vida<=0&&this.endGame("player1")}dañoJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador de la derecha ha recibido daño"),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume(),this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}togglePause(){const e=!this.isPaused;this.processor.process(new h(this,e))}}class c extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("hover","/sounds/hover.mp3")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,200,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,350,"boton"),this.boton1.setScale(.1),this.boton2=this.add.image(500,400,"boton"),this.boton2.setScale(.1),this.boton3=this.add.image(500,450,"boton"),this.boton3.setScale(.1),this.add.text(500,200,"Juego Pausado",{fontSize:"60px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5);const t=this.add.text(500,350,"Volver",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#00ff88ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),s=this.add.text(500,400,"Menú",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{s.setStyle({fill:"#6839b3ff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{if(e&&"GameSceneO"===e.originalScene){const e=this.scene.get("GameSceneO");e&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(e.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{try{e.ws.close()}catch(e){console.warn(e)}},50))}}catch(e){console.warn(e)}try{this.game.sound.stopByKey("bgm")}catch(e){console.warn(e)}this.scene.start("MenuScene"),this.scene.stop(e.originalScene),this.scene.stop()}),i=this.add.text(500,450,"Controles",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#00eeffff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("ControlScene",{originalScene:e&&e.originalScene?e.originalScene:"GameScene"})})}}class p extends s().Scene{constructor(){super("CreditsScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(500,380,"pergamino"),this.pergamino1.setScale(2),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,245,"Créditos",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,310,"Paula Ortiz Fernández",{fontSize:"24px",color:"#91ffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,355,"Daniel Corbacho Anes",{fontSize:"24px",color:"#fff132ff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,400,"Alejandro Hernández Ruiz",{fontSize:"24px",color:"#d7acffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,450,"Ángel Bermúdez Fariñas",{fontSize:"24px",color:"#ffceadff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.start("MenuScene")})}}class g extends s().Scene{constructor(){super("HistoriaScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(){this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#070707ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Historia",{fontSize:"50px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(500,380,"Después de años de entrenamiento, por fin ha llegado el momento en el que naquellos magos por\nfin iban a conseguir ser magos de verdad. Llevaban mucho tiempo preparándose y estudiando para\neste momento, y por fin van a recibir aquel elixir deseado por todo mago,\n“el elixir de la vida eterna”.\n\nSin embargo, no será sencillo, aún deberán demostrar por última vez que están hechos para obtener\nesta gran virtud. La tradición cuenta que para conseguir ser un verdadero mago será necesario\nconseguir por ellos mismos este elixir adentrándose en la Torre Encantada, demostrando que son\nmerecedores del título de mago eterno y que poseen las habilidades necesarias. La más importante,\nla colaboración, puesto que por uno solo no siempre se puede llegar al lugar deseado. \n\nPor este motivo, los jóvenes aprendices que deseen ascender, se adentrarán en aquella vieja torre,\n y atravesarán, una a una, sus salas hasta llegar arriba del todo, dónde se encuentra el elixir\nque tanto desean. En cada sala se encontrarán con numerosos obstáculos que deberán sobrepasar \ndemostrando sus habilidades obtenidas durante todos estos años de esfuerzo.",{fontSize:"16px",color:"#ffffffff"}).setOrigin(.5);const e=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")})}}class m extends s().Scene{constructor(){super("LibreriaScene")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("bolaCristalColor","/imagenes/bolaCristalColor.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("plantaColor","/imagenes/plantaColor.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("velasColor","/imagenes/velasColor.png"),this.load.image("librosColor","/imagenes/librosColor.png"),this.load.image("idle","/imagenes/mano.png")}init(){this.players=new Map,this.inputMappings=[],this.ball=null,this.abrir=!1,this.escWasDown=!1,this.datos,this.processor=new n,this.pocionesRecogidas={bolaCristal:!1,planta:!1,pocionAm:!1,pocionN:!1,pocionM:!1,pocionR:!1,pocionV:!1,pocionAz:!1,velas:!1,libro:!1}}create(e){this.mago=this.add.image(100,100,"idle"),this.mago.setScale(1.9),this.crearEscenario(),this.setUpPlayers(),this.establecerColisiones(),this.datos=e,this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q)}update(){this.escKey.isDown&&!this.escWasDown&&(this.datos.ws&&this.datos.ws.readyState===WebSocket.OPEN&&this.datos.ws.send(JSON.stringify({type:"actualizarInventario",inventario:this.datos.pociones})),this.scene.resume(this.datos.originalScene,{pociones:this.datos.pociones}),this.scene.stop()),this.abir=!1,this.lkey.isDown&&(this.abrir=!0),this.qkey.isDown&&(this.abrir=!0),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new l(t,s);this.processor.process(i)})}crearEscenario(){this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(1.7),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(440,270,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(1.7),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(485,280,"bolaCristalColor"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(1.7),this.bolaCristal.body.allowGravity=!1,this.planta=this.physics.add.image(440,450,"plantaColor"),this.planta.setImmovable(!0),this.planta.setScale(1.7),this.planta.body.allowGravity=!1,this.pocionAm=this.physics.add.image(530,165,"pocionesAm"),this.pocionAm.setImmovable(!0),this.pocionAm.setScale(1.7),this.pocionAm.body.allowGravity=!1,this.pocionN=this.physics.add.image(595,175,"pocionesN"),this.pocionN.setImmovable(!0),this.pocionN.setScale(1.7),this.pocionN.body.allowGravity=!1,this.pocionM=this.physics.add.image(280,165,"pocionesM"),this.pocionM.setImmovable(!0),this.pocionM.setScale(1.7),this.pocionM.body.allowGravity=!1,this.pocionR=this.physics.add.image(405,165,"pocionesRo"),this.pocionR.setImmovable(!0),this.pocionR.setScale(1.7),this.pocionR.body.allowGravity=!1,this.pocionV=this.physics.add.image(345,175,"pocionesV"),this.pocionV.setImmovable(!0),this.pocionV.setScale(1.7),this.pocionV.body.allowGravity=!1,this.pocionAz=this.physics.add.image(470,170,"pocionesAz"),this.pocionAz.setImmovable(!0),this.pocionAz.setScale(1.7),this.pocionAz.body.allowGravity=!1,this.velas=this.physics.add.image(350,290,"velasColor"),this.velas.setImmovable(!0),this.velas.setScale(1.7),this.velas.body.allowGravity=!1,this.libro=this.physics.add.image(370,33,"librosColor"),this.libro.setImmovable(!0),this.libro.setScale(1.7),this.libro.body.allowGravity=!1}establecerColisiones(){this.players.forEach(e=>{this.physics.add.overlap(e.sprite,this.bolaCristal,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.bolaCristal&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.bolaCristal=!0),this.bolaCristal.setAlpha(.5),this.datos.pociones[9]=!0,this.abrir=!1,console.log("BOLA CRISTAL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.planta,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.planta&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.planta=!0),this.planta.setAlpha(.5),this.datos.pociones[10]=!0,this.abrir=!1,console.log("PLANTA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAm,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAm&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAm=!0),this.pocionAm.setAlpha(.5),this.datos.pociones[6]=!0,this.abrir=!1,console.log("POCION AMARILLA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionN,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionN&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionN=!0),this.pocionN.setAlpha(.5),this.datos.pociones[7]=!0,this.abrir=!1,console.log("POCION NARANJA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionM,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionM&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionM=!0),this.pocionM.setAlpha(.5),this.datos.pociones[2]=!0,this.abrir=!1,console.log("POCION MORADA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionR,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionR&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionR=!0),this.pocionR.setAlpha(.5),this.datos.pociones[4]=!0,this.abrir=!1,console.log("POCION ROSA RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionV,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionV&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionV=!0),this.pocionV.setAlpha(.5),this.datos.pociones[3]=!0,this.abrir=!1,console.log("POCION VERDE RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.pocionAz,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.pocionAz&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.pocionAz=!0),this.pocionAz.setAlpha(.5),this.datos.pociones[5]=!0,this.abrir=!1,console.log("POCION AZUL RECOGIDA"))}),this.physics.add.overlap(e.sprite,this.velas,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.velas&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.velas=!0),this.velas.setAlpha(.5),this.datos.pociones[8]=!0,this.abrir=!1,console.log("VELAS RECOGIDAS"))}),this.physics.add.overlap(e.sprite,this.libro,()=>{this.abrir&&(this.datos.sound&&!this.pocionesRecogidas.libro&&(this.datos.sound.play("recogerPocion",{volume:.6}),this.pocionesRecogidas.libro=!0),this.libro.setAlpha(.5),this.datos.pociones[1]=!0,this.abrir=!1,console.log("LIBROS RECOGIDOS"))})})}setUpPlayers(){const e=new o(this,"player1",50,300,"idle");e.setScale(.08),this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT"}].map(e=>(console.log(e),{playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey])}))}}class u extends s().Scene{constructor(){super("ControlScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("pergamino","/imagenes/pergamino.png"),this.load.image("boton","/imagenes/botonTexto.png")}create(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.25),this.boton1=this.add.image(500,530,"boton"),this.boton1.setScale(.1),this.pergamino1=this.add.image(250,380,"pergamino"),this.pergamino1.setScale(1.8),this.pergamino2=this.add.image(780,380,"pergamino"),this.pergamino2.setScale(1.8),this.add.text(500,120,"El Enigma de la\nTorre Encantada",{fontSize:"56px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAngle(-8),this.add.text(500,240,"Controles",{fontSize:"45px",fontFamily:"Tagesschrift",color:"#a7a7a7ff"}).setOrigin(.5),this.add.text(250,310,"Jugador 1:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#9be3ffff"}).setOrigin(.5),this.add.text(260,400,"W-Arriba\n A-Izquierda\n S-Abajo\n D-Derecha\n SPACE-Saltar\n Q-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(750,310,"Jugador 2:",{fontSize:"32px",color:"rgba(255, 99, 99, 1)",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(780,400,"Flechas-Arriba\n Flechas-Izquierda\n Flechas-Abajo\n Flechas-Derecha\n ENTER-Saltar\n L-Interactuar",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(500,530,"Volver",{fontSize:"34px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({fill:"#00ff88ff"})).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{if("MenuScene"===e.originalScene){try{this.sound&&this.sound.stopByKey("musicaMenu")}catch(e){console.warn(e)}this.scene.stop(),this.scene.start("MenuScene")}else this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()})}}class y extends s().Scene{constructor(){super("DecisionScene")}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoD","/imagenes/eleccion.jpg")}create(e){this.fondoD=this.physics.add.image(500,300,"fondoD"),this.fondoD.setImmovable(!0),this.fondoD.body.allowGravity=!1,this.titulo=this.add.image(500,120,"titulo"),this.titulo.setScale(.26),this.boton1=this.add.image(280,420,"boton"),this.boton1.setScale(.15),this.boton1.setAlpha(.5),this.boton2=this.add.image(730,420,"boton"),this.boton2.setScale(.15),this.boton2.setAlpha(.5),"local"===e.modo?this.selector=s().Math.Between(1,2):this.selector=e.eleccion,1===this.selector?(this.add.text(500,100,"El jugador 1 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player1"):2===this.selector&&(this.add.text(500,100,"El jugador 2 ha recogido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.id="player2"),this.add.text(500,150,"el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5),this.add.text(500,320,"ahora deberá elegir:",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const t=this.add.text(280,420,"Compartir el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5),i=this.add.text(730,420,"Beber el elixir",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setAlpha(.5);"online"===e.modo?this.id===e.jugador&&(t.setAlpha(1),t.setInteractive({useHandCursor:!0}),t.on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}),t.on("pointerout",()=>t.setStyle({fill:"#000000ff"})),t.on("pointerdown",()=>{e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("ebviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:1})))}),i.setAlpha(1),i.setInteractive({useHandCursor:!0}),i.on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}),i.on("pointerout",()=>i.setStyle({fill:"#000000ff"})),i.on("pointerdown",()=>{1===this.selector?e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("ebviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:1}))):2===this.selector&&e.ws&&e.ws.readyState===WebSocket.OPEN&&(console.log("enviando final"),e.ws.send(JSON.stringify({type:"escenaFinal",escena:2})))}),this.boton1.setAlpha(1),this.boton2.setAlpha(1)):"local"===e.modo&&(t.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{t.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>t.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.scene.start("FinalBScene")}),i.setAlpha(1).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setStyle({fill:"#4bffabff"})}).on("pointerout",()=>i.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{1===this.selector?this.scene.start("FinalM1Scene"):2===this.selector&&this.scene.start("FinalM2Scene")}),this.boton1.setAlpha(1),this.boton2.setAlpha(1))}}class f extends s().Scene{constructor(){super("FinalBScene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondoC","/imagenes/compartir.png"),this.load.audio("victoria","/sounds/victoria.mp3")}create(){this.fondoC=this.physics.add.image(500,300,"fondoC"),this.fondoC.setImmovable(!0),this.fondoC.body.allowGravity=!1,this.sound&&this.sound.play("victoria",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"Los jugadores han decidido",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"compartir el Elixir de la Vida Eterna, ahora",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ambos vivirán hasta la eternidad,",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,200,"y podrán adquirir todos los conocimientos",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,250,"existentes...",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5);const e=this.add.text(500,500,"Volver al menú principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("victoria"),this.scene.start("MenuScene")})}}class b extends s().Scene{constructor(){super("FinalM1Scene")}preload(){this.load.image("fondo_1M","/imagenes/traicion_ranaRoja.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){this.fondo_1M=this.physics.add.image(500,300,"fondo_1M"),this.fondo_1M.setImmovable(!0),this.fondo_1M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 1 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elección y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,500,"Volver al menú principal",{fontSize:"16px",color:"#000000ff",fontFamily:"Tagesschrift"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("MenuScene")})}}class v extends s().Scene{constructor(){super("FinalM2Scene")}preload(){this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("fondo_2M","/imagenes/traicion_ranaAzul.png"),this.load.audio("derrota","/sounds/derrota.mp3")}create(){this.fondo_2M=this.physics.add.image(500,300,"fondo_2M"),this.fondo_2M.setImmovable(!0),this.fondo_2M.body.allowGravity=!1,this.sound&&this.sound.play("derrota",{volume:.7}),this.boton1=this.add.image(500,500,"boton"),this.boton1.setScale(.13),this.add.text(500,50,"El jugador 2 ha decidido",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,100,"no compartir el Elixir de la Vida Eterna,",{fontSize:"32px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.add.text(500,150,"ahora debe enfrentar las consecuencias de su elección y vivir solo",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5),this.add.text(500,175,"hasta la eternidad...",{fontSize:"16px",color:"#ffffffff",fontFamily:"Tagesschrift"}).setOrigin(.5);const e=this.add.text(500,500,"Volver al menú principal",{fontSize:"16px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{e.setStyle({fill:"#4bffabff"}),this.sound.play("hover",{volume:.5})}).on("pointerout",()=>e.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.sound&&this.sound.stopByKey("derrota"),this.scene.start("MenuScene")})}}class S extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("titulo","/imagenes/pergaminoTitulo.png")}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,180,"titulo"),this.titulo.setScale(.25),this.add.text(500,180,"CONEXIÓN PERDIDA",{fontSize:"48px",color:"#c90000ff",fontFamily:"Tagesschrift",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(500,320,"Intentando reconectar...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffffff"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(500,390,"Intentos: 0",{fontSize:"18px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},i.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await i.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),i.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&i.removeListener(this.connectionListener)}}class w extends s().Scene{constructor(){super({key:"SalaDeEspera"}),this.ws=null,this.roomCode=null,this.roomId=null,this.gameStarted=!1,this.isInRoom=!1,this.enCola=!1}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("pergaminoTitulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.image("campoFuerza","/imagenes/campodefuerza.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("walk","/sounds/walk.mp3")}init(){this.walkSounds=new Map,this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.processor=new n,this.bgm=null}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}}),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}),this.events.on("resume",()=>{this.bgm&&!this.bgm.isPlaying&&this.bgm.resume()}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}try{this.bgm&&(this.bgm.stop(),this.bgm.destroy())}catch(e){console.warn(e)}}),this.walkSounds.clear()}),this.crearEscenario(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.game.sound.stopByKey("musicaMenu"),this.bgm=this.sound.add("bgm",{volume:.7,loop:!0}),this.bgm.play(),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.crearInterfaz(),this.connectToServer()}crearInterfaz(){const e=this.cameras.main.width,t=this.cameras.main.height;this.pergamino=this.add.image(e/2,100,"pergaminoTitulo"),this.pergamino.setScale(.25,.2),this.titulo=this.add.text(e/2,100,"Online Multiplayer",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.tituloTorre=this.add.text(e/2,140,"Tu torre: ",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.roomCodeText=this.add.text(e/2,170,"------",{fontSize:"28px",fontFamily:"Tagesschrift",color:"ffffff"}).setOrigin(.5),this.tituloCola=this.add.text(e/2,210,"Únete a una torre...",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.botonUnirseCola=this.add.image(e/2,270,"boton"),this.botonUnirseCola.setScale(.05,.1),this.unirseColaText=this.add.text(e/2,270,"Torre",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseColaText.on("pointerover",()=>{this.unirseColaText.setStyle({fill:"#ff0000"})}),this.unirseColaText.on("pointerout",()=>{this.unirseColaText.setStyle({fill:"#000000ff"})}),this.unirseColaText.on("pointerdown",()=>this.unirseCola()),this.tituloCodigo=this.add.text(e/2,330,"O únete con código",{fontSize:"24px",fontFamily:"Tagesschrift",color:"#ffffff"}).setOrigin(.5),this.createCodeInput(e/2,390),this.botonUnirseCodigo=this.add.image(e/2,450,"boton"),this.botonUnirseCodigo.setScale(.05,.1),this.unirseCodigoText=this.add.text(e/2,450,"Unirse",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive(),this.unirseCodigoText.on("pointerover",()=>{this.unirseCodigoText.setStyle({fill:"#ff0000"})}),this.unirseCodigoText.on("pointerout",()=>{this.unirseCodigoText.setStyle({fill:"#000000ff"})}),this.unirseCodigoText.on("pointerdown",()=>this.unirseSala()),this.statusText=this.add.text(e/2,t/2,"",{fontSize:"20px",fontFamily:"Tagesschrift",color:"#ff0000"}).setOrigin(.5),this.add.image(e/2,520,"boton").setScale(.05,.1);const s=this.add.text(e/2,520,"Volver",{fontSize:"28px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setStyle({fill:"#ff0000"})}),s.on("pointerout",()=>{s.setStyle({fill:"#000000ff"})}),s.on("pointerdown",()=>{this.leaveQueue(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop(),this.scene.start("MenuScene")})}createCodeInput(e,t){const s=document.createElement("input");s.type="text",s.id="roomCodeInput",s.placeholder="Código de sala",s.maxLength=6,s.style.cssText="\n      position: absolute;\n      width: 200px;\n      height: 40px;\n      font-size: 24px;\n      text-align: center;\n      font-family: Tagesschrift, arial;\n      text-transform: uppercase;\n      border: 3px solid #ffffff;\n      background-color: #222222;\n      color: #ffffff;\n      border-radius: 5px;\n      outline: none;\n      z-index: 9999;",s.addEventListener("input",()=>{s.value=s.value.toUpperCase()}),s.addEventListener("keypress",e=>{"Enter"===e.key&&this.unirseSala()}),document.body.appendChild(s);const i=()=>{const i=this.game.canvas.getBoundingClientRect();s.style.left=`${Math.round(i.left+e-100)}px`,s.style.top=`${Math.round(i.top+t-20)}px`};i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),this.events.once("shutdown",()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i),s.remove()}),this.codeInput=s}handleServerMessage(e){switch(e.type){case"queueStatus":this.statusText.setText(`Jugadores en cola: ${e.position}/2`),this.statusText.setColor("#ffff00");break;case"roomInfo":e.code&&(this.roomCode=e.code,this.roomId=e.roomId,this.roomCodeText.setText(e.code),this.statusText.setText(`Sala creada: ${e.code}`),this.statusText.setColor("#00ff00"));break;case"joinRoomResult":e.success?(this.roomCode=e.code,this.roomId=e.roomId,this.roomCodeText.setText(e.code),this.statusText.setText("Unido a la sala."),this.statusText.setColor("#00ff00")):(this.statusText.setText(e.message||"No se pudo unir a la sala."),this.statusText.setColor("#ff0000"));break;case"startGame":case"gameStart":if(this.gameStarted)return;this.gameStarted=!0,e.code&&(this.roomCode=e.code,this.roomCodeText.setText(e.code)),this.statusText.setText("¡Partida iniciando!"),this.statusText.setColor("#00ff00"),console.log("Partida iniciando!",e),this.bgm&&(this.bgm.stop(),this.bgm.destroy()),this.scene.start("GameSceneO",{ws:this.ws,playerRole:e.role,roomId:e.roomId||this.roomId,initialBall:e.ball});break;default:console.log("Unknown message type:",e.type)}}unirseCola(){this.ws&&this.ws.readyState===WebSocket.OPEN?(this.enCola=!0,this.ws.send(JSON.stringify({type:"joinQueue"})),this.ocultarBotones(),this.statusText.setText("Buscando partida..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conextión."),this.statusText.setColor("#ff0000"))}ocultarBotones(){this.tituloCola.setVisible(!1),this.botonUnirseCola.setVisible(!1),this.unirseColaText.setVisible(!1),this.unirseColaText.disableInteractive(),this.tituloCodigo.setVisible(!1),this.codeInput.style.display="none",this.botonUnirseCodigo.setVisible(!1),this.unirseCodigoText.setVisible(!1),this.unirseCodigoText.disableInteractive(),this.codeInput&&(this.codeInput.style.display="none")}mostrarBotones(){this.tituloCola.setVisible(!0),this.botonUnirseCola.setVisible(!0),this.unirseColaText.setVisible(!0),this.unirseColaText.setInteractive(),this.tituloCodigo.setVisible(!0),this.codeInput.style.display="block",this.botonUnirseCodigo.setVisible(!0),this.unirseCodigoText.setVisible(!0),this.unirseCodigoText.setInteractive(),this.codeInput&&(this.codeInput.style.display="block")}unirseSala(){const e=this.codeInput.value.trim().toUpperCase();return e?6!==e.length?(this.statusText.setText("El código de sala debe tener 6 caracteres."),void this.statusText.setColor("#ff0000")):void(this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify({type:"joinRoom",code:e})),this.statusText.setText("Intentando unirse a la sala..."),this.statusText.setColor("#ffff00")):(this.statusText.setText("No conectado al servidor. Error de conextión."),this.statusText.setColor("#ff0000"))):(this.statusText.setText("Por favor, introduce un código de sala."),void this.statusText.setColor("#ff0000"))}update(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;const i=this.walkSounds.get(e.playerId);let a=!1;e.upKeyObj.isDown?(s="up",a=!0,t.andar_animacion()):e.downKeyObj.isDown?(s="down",a=!0,t.andar_animacion()):e.leftKeyObj.isDown?(s="left",a=!0,t.sprite.flipX=!1,t.andar_animacion()):e.rightKeyObj.isDown?(s="right",a=!0,t.sprite.flipX=!0,t.andar_animacion()):(s="stop",t.andar_animacion_parar(),i&&i.isPlaying&&i.stop()),a&&i&&!i.isPlaying&&i.play();let o=new l(t,s,!1);this.processor.process(o)})}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerza"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500)}establecerColisiones(){this.players.forEach(e=>{this.physics.add.collider(e.sprite,this.barreraInvisible)})}setUpPlayers(){const e=new o(this,"player1",50,400,"idle_Azul");this.players.set("player1",e),this.inputMappings=[{playerId:"player1",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT",jump:"SPACE"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),jumpObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.jump])}))}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"}))}resume(e){console.log("Resuming GameScene with data:",e),e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.inventario.forEach((e,t)=>{console.log(`Inventario[${t}]: ${e}`)})}connectToServer(){try{const e=`ws://${window.location.host}/ws`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Conectado al servidor."),this.statusText.setColor("#00ff00"),this.time.delayedCall(500,()=>{this.statusText.setText("")})},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class C extends s().Scene{constructor(){super("GameSceneO")}preload(){this.load.image("paredR","/imagenes/paredYTecho.png"),this.load.image("sueloR","/imagenes/suelo.png"),this.load.image("bolaCristalR","/imagenes/bolaCristal.png"),this.load.image("calderoR","/imagenes/calderoColor.png"),this.load.image("campoFuerzaR","/imagenes/campodefuerza.png"),this.load.image("cofreR","/imagenes/cofre.png"),this.load.image("cofreAbiertoR","/imagenes/cofreAbierto.png"),this.load.image("estanteriaR","/imagenes/estanteria.png"),this.load.image("llaveR","/imagenes/llave.png"),this.load.image("pergaminoR","/imagenes/pergaminoColor.png"),this.load.image("plantaR","/imagenes/planta.png"),this.load.image("pocionesR","/imagenes/pociones.png"),this.load.image("velasR","/imagenes/velas.png"),this.load.image("estanteR","/imagenes/estante.png"),this.load.image("librosR","/imagenes/libros.png"),this.load.image("botonVR","/imagenes/botonVacio.png"),this.load.image("botonCR","/imagenes/botonCompleto.png"),this.load.image("estrellaR","/imagenes/estrella.png"),this.load.image("pocionesAz","/imagenes/pocionAzul.png"),this.load.image("pocionesAm","/imagenes/pocionesAmarillo.png"),this.load.image("pocionesN","/imagenes/pocionNaranja.png"),this.load.image("pocionesRo","/imagenes/pocionRosa.png"),this.load.image("pocionesM","/imagenes/pocionMorada.png"),this.load.image("pocionesV","/imagenes/pocionVerde.png"),this.load.image("idle_Azul","/imagenes/Mago_Andando_2.png"),this.load.image("andarAzul_2","/imagenes/Mago_Andando_3.png"),this.load.image("andarAzul_3","/imagenes/Mago_Andando_4.png"),this.load.image("andarAzul_4","/imagenes/Mago_Andando_5.png"),this.load.image("andarAzul_5","/imagenes/Mago_Andando_6.png"),this.load.image("andarAzul_6","/imagenes/Mago_Andando_7.png"),this.load.image("andarAzul_7","/imagenes/Mago_Andando_8.png"),this.load.image("andarAzul_8","/imagenes/Mago_Andando_1.png"),this.load.image("idle_Rojo","/imagenes/MagoRojo_Andando_1.png"),this.load.image("andarRojo_2","/imagenes/MagoRojo_Andando_2.png"),this.load.image("andarRojo_3","/imagenes/MagoRojo_Andando_3.png"),this.load.image("andarRojo_4","/imagenes/MagoRojo_Andando_4.png"),this.load.image("andarRojo_5","/imagenes/MagoRojo_Andando_5.png"),this.load.image("andarRojo_6","/imagenes/MagoRojo_Andando_6.png"),this.load.image("andarRojo_7","/imagenes/MagoRojo_Andando_7.png"),this.load.image("andarRojo_8","/imagenes/MagoRojo_Andando_8.png"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png"),this.load.audio("bgm","/sounds/bgm.mp3"),this.load.audio("abrirCofre","/sounds/chest_open.mp3"),this.load.audio("recogerPocion","/sounds/botellas.mp3"),this.load.audio("recogerLlave","/sounds/llave.mp3"),this.load.audio("walk","/sounds/walk.mp3"),this.load.audio("explosion","/sounds/explosion.mp3"),this.load.audio("puerta","/sounds/puerta.mp3"),this.load.audio("trigger","/sounds/trigger.mp3"),this.load.audio("pequeño","/sounds/pequeño.mp3"),this.load.image("titulo","/imagenes/pergaminoTitulo.png"),this.load.image("boton","/imagenes/botonTexto.png")}init(e){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.lPulsada=!1,this.processor=new n,this.cofreAbierto=!1,this.walkSounds=new Map,this.inventario=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.localPlayer=null,this.remotePlayer=null,this.estrella=!1,this.lOponente=!1,this.desactivado=[!1,!1]}create(){this.anims.create({key:"andar_mago_Azul",frames:[{key:"idle_Azul"},{key:"andarAzul_2"},{key:"andarAzul_3"},{key:"andarAzul_4"},{key:"andarAzul_5"},{key:"andarAzul_6"},{key:"andarAzul_7"},{key:"andarAzul_8"}],frameRate:10,repeat:-1}),this.anims.create({key:"andar_mago_Rojo",frames:[{key:"idle_Rojo"},{key:"andarRojo_2"},{key:"andarRojo_3"},{key:"andarRojo_4"},{key:"andarRojo_5"},{key:"andarRojo_6"},{key:"andarRojo_7"},{key:"andarRojo_8"}],frameRate:10,repeat:-1}),this.bgm=this.sound.add("bgm",{loop:!0,volume:.5}),this.bgm.isPlaying||this.bgm.play(),this.walkSounds.set("player1",this.sound.add("walk",{loop:!0,volume:.3})),this.walkSounds.set("player2",this.sound.add("walk",{loop:!0,volume:.3})),this.events.on("pause",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}})}),this.events.on("resume",()=>{}),this.events.once("shutdown",()=>{this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}}),this.crearEscenario(),this.crearPlataformas(),this.crearBarreraInvisible(),this.setUpPlayers(),this.establecerColisiones(),this.inventarioEnPantalla(),this.healthLeft=this.add.text(50,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"}),this.healthRight=this.add.text(900,30,"3",{fontSize:"48px",fontFamily:"Tagesschrift",color:"#ff0000ff"});const e="player1"===this.playerRole?"Eres el Jugador 1 (Azul)":"Eres el Jugador 2 (Rojo)";this.add.text(500,40,e,{fontSize:"24px",fontFamily:"Tagesschrift"}).setOrigin(.5),"player1"===this.playerRole?(this.localPlayer=this.players.get("player1"),this.remotePlayer=this.players.get("player2")):(this.localPlayer=this.players.get("player2"),this.remotePlayer=this.players.get("player1")),this.cursors=this.input.keyboard.createCursorKeys(),this.jumpKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.SPACE),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.lkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.L),this.qkey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.Q),this.setupWebSocketListeners()}update(e,t){if(!this.localPlayer||!this.remotePlayer)return;this.escKey.isDown&&!this.escWasDown&&this.togglePause();let s=null;s=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":this.cursors.left.isDown?"left":this.cursors.right.isDown?"right":"stop",this.escWasDown=this.escKey.isDown,this.lPulsada=!1,this.lOponente=!1,(this.lkey.isDown||this.qkey.isDown)&&(this.lPulsada=!0,this.sendMessage({type:"lPulsada"})),this.players.forEach(e=>{e.update(t)});let i=new l(this.localPlayer,s,this.jumpKey.isDown);this.processor.process(i),"stop"!==s?(this.localPlayer.andar_animacion(),"left"===s?this.localPlayer.sprite.flipX=!1:"right"===s&&(this.localPlayer.sprite.flipX=!0)):this.localPlayer.andar_animacion_parar();const a=this.walkSounds.get(this.playerRole);"stop"!==s?a&&!a.isPlaying&&a.play():a&&a.isPlaying&&a.stop(),this.sendMessage({type:"playerMove",x:this.localPlayer.sprite.x,y:this.localPlayer.sprite.y,direction:s,isMoving:"stop"!==s,flipX:this.localPlayer.sprite.flipX}),this.actualizarInventarioEnPantalla()}crearEscenario(){this.suelo=this.physics.add.image(500,472,"sueloR"),this.suelo.setImmovable(!0),this.suelo.setScale(.55),this.suelo.body.allowGravity=!1,this.pared=this.physics.add.image(500,205,"paredR"),this.pared.setImmovable(!0),this.pared.setScale(.55),this.pared.body.allowGravity=!1,this.estanteria=this.physics.add.image(165,300,"estanteriaR"),this.estanteria.setImmovable(!0),this.estanteria.setScale(.6),this.estanteria.body.allowGravity=!1,this.bolaCristal=this.physics.add.image(185,303,"bolaCristalR"),this.bolaCristal.setImmovable(!0),this.bolaCristal.setScale(.6),this.bolaCristal.body.allowGravity=!1,this.caldero=this.physics.add.image(500,430,"calderoR"),this.caldero.setImmovable(!0),this.caldero.setScale(.6),this.caldero.body.allowGravity=!1,this.campoFuerza=this.physics.add.image(940,310,"campoFuerzaR"),this.campoFuerza.setImmovable(!0),this.campoFuerza.setScale(.6),this.campoFuerza.body.allowGravity=!1,this.cofre=this.physics.add.image(505,283,"cofreR"),this.cofre.setImmovable(!0),this.cofre.setScale(.6),this.cofre.body.allowGravity=!1,this.llave=this.physics.add.image(170,160,"llaveR"),this.llave.setImmovable(!0),this.llave.setScale(.6),this.llave.body.allowGravity=!1,this.pergamino=this.physics.add.image(780,180,"pergaminoR"),this.pergamino.setImmovable(!0),this.pergamino.setScale(.6),this.pergamino.body.allowGravity=!1,this.planta=this.physics.add.image(170,365,"plantaR"),this.planta.setImmovable(!0),this.planta.setScale(.6),this.planta.body.allowGravity=!1,this.pociones=this.physics.add.image(169,262,"pocionesR"),this.pociones.setImmovable(!0),this.pociones.setScale(.6),this.pociones.body.allowGravity=!1,this.velas=this.physics.add.image(140,308,"velasR"),this.velas.setImmovable(!0),this.velas.setScale(.6),this.velas.body.allowGravity=!1,this.libros=this.physics.add.image(150,220,"librosR"),this.libros.setImmovable(!0),this.libros.setScale(.6),this.libros.body.allowGravity=!1,this.boton1=this.physics.add.image(50,350,"botonVR"),this.boton1.setImmovable(!0),this.boton1.setScale(.6),this.boton1.body.allowGravity=!1,this.boton2=this.physics.add.image(780,350,"botonVR"),this.boton2.setImmovable(!0),this.boton2.setScale(.6),this.boton2.body.allowGravity=!1,this.estrella1=this.physics.add.image(450,283,"estrellaR"),this.estrella1.setImmovable(!0),this.estrella1.setScale(.6),this.estrella1.setAlpha(0),this.estrella1.body.allowGravity=!1,this.estrella2=this.physics.add.image(560,283,"estrellaR"),this.estrella2.setImmovable(!0),this.estrella2.setScale(.6),this.estrella2.setAlpha(0),this.estrella2.body.allowGravity=!1}crearBarreraInvisible(){this.barreraInvisible=this.physics.add.staticImage(500,105,null),this.barreraInvisible.setSize(1e3,500),this.barreraInvisible.setVisible(!1),this.barreraInvisible.body.setSize(1e3,500),this.estanteriaColl=this.physics.add.sprite(165,195,"white_pixel"),this.estanteriaColl.body.setAllowGravity(!1),this.estanteriaColl.body.setImmovable(!0),this.estanteriaColl.setAlpha(0),this.estanteriaColl.setScale(4,.5),this.calderoColl=this.physics.add.sprite(500,400,"white_pixel"),this.calderoColl.body.setAllowGravity(!1),this.calderoColl.body.setImmovable(!0),this.calderoColl.setAlpha(0),this.calderoColl.setCircle(85),this.calderoColl.body.setOffset(-70,-55)}crearPlataformas(){this.plataformas=this.physics.add.staticGroup(),this.plataformas.create(446,315,"estanteR"),this.plataformas.create(510,315,"estanteR"),this.plataformas.create(570,315,"estanteR"),this.plataformas.create(650,350,"estanteR"),this.plataformas.create(650,215,"estanteR"),this.plataformas.create(700,390,"estanteR"),this.plataformas.create(446,250,"estanteR"),this.plataformas.create(360,235,"estanteR"),this.plataformas.create(295,215,"estanteR"),this.plataformas.create(300,390,"estanteR"),this.plataformas.create(380,350,"estanteR")}establecerColisiones(){this.players.forEach(e=>{let t;this.physics.add.collider(e.sprite,this.estanteriaColl),this.physics.add.collider(e.sprite,this.plataformas),this.physics.add.collider(e.sprite,this.calderoColl),this.physics.add.overlap(e.sprite,this.llave,()=>{this.sound&&this.sound.play("recogerLlave",{volume:.6}),this.llave.destroy(),console.log("Llave conseguida"),this.inventario[0]=!0,this.cero.setAlpha(1)}),t="player1"===e.playerId?1:2,this.physics.add.overlap(e.sprite,this.estanteria,()=>{this.lPulsada&&(this.scene.pause(),this.scene.launch("LibreriaScene",{originalScene:"GameSceneO",pociones:this.inventario,sound:this.sound,jugador:t,ws:this.ws}))}),this.physics.add.collider(e.sprite,this.barreraInvisible,()=>{e.isJumping||e.jump()},()=>{const t=e.sprite.body.velocity.y<0;return!e.isJumping&&t},this),this.physics.add.overlap(e.sprite,this.caldero,()=>{(s().Input.Keyboard.JustDown(this.lkey)||s().Input.Keyboard.JustDown(this.qkey))&&this.sendMessage({type:"usarCaldero",inventario:this.inventario})}),this.physics.add.overlap(e.sprite,this.cofre,()=>{this.cofreAbierto||(this.inventario[0]?this.abrirCofre():console.log("Necesitas la llave para abrir el cofre"))}),this.physics.add.overlap(e.sprite,this.estrella1,()=>{this.recogerEstrella(1)}),this.physics.add.overlap(e.sprite,this.estrella2,()=>{this.recogerEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.colocarEstrella(1)}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.colocarEstrella(2)}),this.physics.add.overlap(e.sprite,this.boton1,()=>{this.sendMessage({type:"botonCampoFuerza",boton:1})}),this.physics.add.overlap(e.sprite,this.boton2,()=>{this.sendMessage({type:"botonCampoFuerza",boton:2})})})}inventarioEnPantalla(){this.cero=this.add.image(200,520,"llaveR").setAlpha(.2),this.uno=this.add.image(250,520,"librosR").setAlpha(.2).setScale(.5),this.dos=this.add.image(300,520,"pocionesM").setAlpha(.2),this.tres=this.add.image(350,520,"pocionesV").setAlpha(.2),this.cuatro=this.add.image(400,520,"pocionesRo").setAlpha(.2),this.cinco=this.add.image(450,520,"pocionesAz").setAlpha(.2),this.seis=this.add.image(500,520,"pocionesAm").setAlpha(.2),this.siete=this.add.image(550,520,"pocionesN").setAlpha(.2),this.ocho=this.add.image(600,520,"velasR").setAlpha(.2).setScale(.5),this.nueve=this.add.image(650,520,"bolaCristalR").setAlpha(.2).setScale(.5),this.diez=this.add.image(700,520,"plantaR").setAlpha(.2).setScale(.5),this.once=this.add.image(750,520,"estrellaR").setAlpha(.2),this.doce=this.add.image(800,520,"estrellaR").setAlpha(.2)}actualizarInventarioEnPantalla(){this.inventario[1]?this.uno.setAlpha(1):this.uno.setAlpha(.2),this.inventario[2]?this.dos.setAlpha(1):this.dos.setAlpha(.2),this.inventario[3]?this.tres.setAlpha(1):this.tres.setAlpha(.2),this.inventario[4]?this.cuatro.setAlpha(1):this.cuatro.setAlpha(.2),this.inventario[5]?this.cinco.setAlpha(1):this.cinco.setAlpha(.2),this.inventario[6]?this.seis.setAlpha(1):this.seis.setAlpha(.2),this.inventario[7]?this.siete.setAlpha(1):this.siete.setAlpha(.2),this.inventario[8]?this.ocho.setAlpha(1):this.ocho.setAlpha(.2),this.inventario[9]?this.nueve.setAlpha(1):this.nueve.setAlpha(.2),this.inventario[10]?this.diez.setAlpha(1):this.diez.setAlpha(.2)}abrirCofre(){this.sound&&(this.sound.play("abrirCofre",{volume:.5}),this.time.delayedCall(2e3,()=>{this.sound.stopByKey("abrirCofre")})),console.log("Cofre abierto"),this.cofre.setTexture("cofreAbiertoR"),this.estrella1.setAlpha(1),this.estrella2.setAlpha(1),this.cofreAbierto=!0,this.inventario[0]=!1,this.cero.setAlpha(.2)}recogerEstrella(e){this.cofreAbierto&&(console.log("Estrella "+e+" recogida"),this.inventario[10+e]=!0,1===e?(this.estrella1.destroy(),this.once.setAlpha(1)):(this.estrella2.destroy(),this.doce.setAlpha(1)),this.players.forEach(e=>{this.time.delayedCall(4e3,()=>{e.estado_normal=!0,this.calderoColl.enableBody(!1,0,0,!0,!0)})}))}colocarEstrella(e){this.inventario[10+e]&&(console.log("Estrella "+e+" colocada"),this.sound&&this.sound.play("trigger",{volume:.6}),1===e?(this.boton1.setTexture("botonCR"),this.inventario[10+e]=!1,this.once.setAlpha(.2),this.estrella=!0):(this.boton2.setTexture("botonCR"),this.inventario[10+e]=!1,this.doce.setAlpha(.2),this.estrella=!0))}comprobarCampoFuerza(){"botonCR"===this.boton1.texture.key&&"botonCR"===this.boton2.texture.key&&(this.lOponente||this.qkey.isDown)&&this.lkey.isDown&&this.boton1Activado&&this.boton2Activado&&(this.sendMessage({type:"desactivarCampoFuerza"}),this.abrirCampoFuerza())}abrirCampoFuerza(){console.log("Campo de fuerza desactivado"),this.sound&&this.sound.play("puerta",{volume:.7}),this.campoFuerza.destroy(),this.crearPuertaFinal()}crearPuertaFinal(){this.puertaFinal=this.physics.add.image(940,370,null),this.puertaFinal.setImmovable(!0),this.puertaFinal.body.allowGravity=!1,this.puertaFinal.setAlpha(0),this.physics.add.overlap(this.players.get("player1").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player1"})}),this.physics.add.overlap(this.players.get("player2").sprite,this.puertaFinal,()=>{this.sendMessage({type:"jugadorEnPuertaFinal",player:"player2"})})}entrarPuertaFinal(e,t){if(console.log("Desactivado:",e),e[0]&&e[1]){this.walkSounds.forEach(e=>{try{e&&e.isPlaying&&e.stop()}catch(e){console.warn(e)}try{e&&e.destroy()}catch(e){console.warn(e)}}),this.walkSounds.clear();try{this.bgm&&(this.bgm.isPlaying||this.bgm.isPaused)&&this.bgm.stop()}catch(e){console.warn(e)}this.sound&&this.sound.stopByKey("walk"),this.sound&&this.sound.stopByKey("bgm"),this.scene.start("DecisionScene",{eleccion:t,jugador:this.playerRole,ws:this.ws,modo:"online"})}}setUpPlayers(){const e=new o(this,"player1",50,400,"idle_Azul"),t=new o(this,"player2",950,400,"idle_Rojo");this.players.set("player1",e),this.players.set("player2",t)}endGame(e){this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,240,"titulo"),this.titulo.setScale(.25),this.boton=this.add.image(500,450,"boton"),this.boton.setScale(.1),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.bgm&&this.bgm.isPlaying&&this.bgm.stop();const t="player1"===e?"El jugador 1\n  ha muerto":" El jugador 2\n  ha muerto";this.add.text(500,250,t,{fontFamily:"Tagesschrift",fontSize:"64px",color:" #ff0000ff"}).setOrigin(.5).setAngle(-5);const s=this.add.text(500,450,"Menú",{fontSize:"30px",fontFamily:"Tagesschrift",color:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setStyle({fill:"#02ff89ff"})).on("pointerout",()=>s.setStyle({fill:"#000000ff"})).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),setTimeout(()=>{this.ws.close()},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}dañoJugLeft(){const e=this.players.get("player1");e.vida--,this.healthLeft.setText(e.vida.toString()),console.log("El jugador 1 ha recibido daño"),this.sendMessage({type:"dañoJugador",player:"player1",vida:e.vida}),e.vida<=0&&this.endGame("player1")}dañoJugRight(){const e=this.players.get("player2");e.vida--,this.healthRight.setText(e.vida.toString()),console.log("El jugador 2 ha recibido daño"),this.sendMessage({type:"dañoJugador",player:"player2",vida:e.vida}),e.vida<=0&&this.endGame("player2")}setPauseState(e){this.isPaused=e,e&&(this.scene.pause(),this.scene.launch("PauseScene",{originalScene:"GameSceneO"})),this.bgm&&this.bgm.isPlaying&&this.bgm.pause()}resume(e){e&&e.pociones&&(this.inventario=e.pociones),this.isPaused=!1,this.bgm&&this.bgm.isPaused&&this.bgm.resume()}togglePause(){const e=!this.isPaused;this.processor.process(new h(this,e))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error al parsear mensaje Websocket:",e)}},this.ws.onclose=()=>{console.log("Conexión WebSocket cerrada"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("Error de WebSocket :",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"movimientoJugador":{if(e.player===this.playerRole)break;if(!this.remotePlayer)break;const t=this.walkSounds.get(e.player);e.isMoving&&"stop"!==e.direction?t&&!t.isPlaying&&t.play():t&&t.isPlaying&&t.stop(),this.remotePlayer.sprite.x=e.x,this.remotePlayer.sprite.y=e.y,this.remotePlayer.sprite.flipX=e.flipX,e.isMoving&&"stop"!==e.direction?this.remotePlayer.andar_animacion():this.remotePlayer.andar_animacion_parar();break}case"gameOver":this.endGame(e.winnerId);break;case"playerDisconnected":this.handleDisconnection();break;case"daño":this.handleDaño(e);break;case"usarCaldero":this.handleCaldero(e);break;case"Inventario":this.inventario=e.inventario,this.actualizarInventarioEnPantalla(),console.log("Inventario actualizado desde el servidor",this.inventario);break;case"botonCF":1===e.b?this.boton1Activado=!0:2===e.b&&(this.boton2Activado=!0),this.comprobarCampoFuerza();break;case"desactivarCF":this.abrirCampoFuerza();break;case"lOponente":this.lOponente=e.valor;break;case"puertaFinal":this.handlePuertaFinal(e);break;case"final":console.log("final"),1===e.escena?this.scene.start("FinalM1Scene"):2===e.escena?this.scene.start("FinalM2Scene"):this.scene.start("FinalBScene"),this.scene.stop("DecisionScene");break;default:console.log("Mensaje WebSocket desconocido:",e)}}handleDisconnection(){this.gameEnded=!0,this.localPlayer.sprite.setVelocity(0,0),this.remotePlayer.sprite.setVelocity(0,0),this.physics.pause(),this.add.rectangle(500,280,1e3,560,0,.7),this.titulo=this.add.image(500,220,"titulo"),this.titulo.setScale(.3,.25),this.add.text(500,200,"Fallo por desconexión",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.add.text(500,250,"La partida ha finalizado",{fontFamily:"Tagesschrift",fontSize:"40px",color:"#000000ff"}).setOrigin(.5),this.createMenuButton()}handleDaño(e){const t=this.players.get(e.player);t&&(t.vida=e.vida,"player1"===e.player?this.healthLeft.setText(e.vida.toString()):this.healthRight.setText(e.vida.toString()),t.vida<=0&&this.endGame(e.player))}handleCaldero(e){for(let e=1;e<this.inventario.length-2;e++)this.inventario[e]=!1;this.uno.setAlpha(.2),this.dos.setAlpha(.2),this.tres.setAlpha(.2),this.cuatro.setAlpha(.2),this.cinco.setAlpha(.2),this.seis.setAlpha(.2),this.siete.setAlpha(.2),this.ocho.setAlpha(.2),this.nueve.setAlpha(.2),this.diez.setAlpha(.2),e.exito?(console.log("Poción de disminuir tamaño creada"),this.calderoColl.disableBody(),this.sound&&this.sound.play("pequeño",{volume:.6}),this.players.forEach(e=>{e.estado_normal=!1})):(console.log("No tienes las pociones necesarias para crear la poción de disminuir tamaño"),this.sound&&this.sound.play("explosion",{volume:.5}),1===e.jugadorDañado?this.dañoJugLeft():this.dañoJugRight())}handlePuertaFinal(e){let t;if("player1"===e.jugador?(this.players.get("player1").sprite.disableBody(!0,!0),this.desactivado[0]=!0,t=this.walkSounds.get("player1")):(this.players.get("player2").sprite.disableBody(!0,!0),this.desactivado[1]=!0,t=this.walkSounds.get("player2")),t)try{t.isPlaying&&t.stop()}catch(e){console.warn(e)}this.entrarPuertaFinal(this.desactivado,e.ganador)}createMenuButton(){this.boton=this.add.image(500,400,"boton"),this.boton.setScale(.15,.1);const e=this.add.text(500,400,"Volver al Menú",{fontFamily:"Tagesschrift",fontSize:"30px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"playerDisconnected"})),console.log("Cerrando conexión WebSocket..."),setTimeout(()=>{this.ws.close(),console.log("Conexión WebSocket cerrada.")},100)),this.scene.stop("GameSceneO"),this.scene.stop("PauseScene"),this.scene.start("MenuScene")})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}const x={type:s().AUTO,width:1e3,height:560,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:2e4},debug:!1}},scene:[a,C,d,m,c,p,g,u,y,f,b,v,S,w],backgroundColor:"#47ddffff"};new(s().Game)(x)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGlCQUNScFYsUUFBUyxDQUNMcVYsUUFBUyxTQUNUQyxPQUFRLENBQ0pDLFFBQVMsQ0FBRW5XLEVBQUcsS0FDZG9XLE9BQU8sSUFHZnZYLE1BQU8sQ0FBRTFDLEVBQVc2WCxFQUFZOVEsRUFBVzhKLEVBQWdCZixFQUFZVyxFQUFjRyxFQUFlZSxFQUFjRSxFQUFlTyxFQUFhRyxFQUFjRSxFQUFjRSxFQUFxQmEsR0FDL0wwRyxnQkFBaUIsYUFHUixJQUFJLFVBQVloTCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvTWVudVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9lbnRpdGllcy9NYWdvLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2NvbW1hbmQvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L2NvbW1hbmQvUGF1c2VHYW1lQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9IaXN0b3JpYVNjZW5lLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9zY2VuZXMvTGlicmVyaWFTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0NvbnRyb2xTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0RlY2lzaW9uU2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9GaW5hbEJTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0ZpbmFsTTFTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0ZpbmFsTTJTY2VuZS5qcyIsIndlYnBhY2s6Ly9FbEVuaWdtYURlTGFUb3JyZUVuY2FudGFkYS8uL3NyYy9jbGllbnQvc2NlbmVzL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9TYWxhRGVFc3BlcmEuanMiLCJ3ZWJwYWNrOi8vRWxFbmlnbWFEZUxhVG9ycmVFbmNhbnRhZGEvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmVPLmpzIiwid2VicGFjazovL0VsRW5pZ21hRGVMYVRvcnJlRW5jYW50YWRhLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxyXG4gICAqL1xyXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXHJcbiAgICovXHJcbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcclxuICAgKi9cclxuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAqL1xyXG4gIHN0b3BQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTScsICcvaW1hZ2VuZXMvbG9nb1NpbkZvbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdob3ZlcicsICcvc291bmRzL2hvdmVyLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnbXVzaWNhTWVudScsICcvc291bmRzL23DunNpY2FfTVByaW5jaXBhbC5tcDMnKTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9udCA9IG5ldyBGb250RmFjZSgnVGFnZXNzY2hyaWZ0JywgJ3VybCgvZnVlbnRlcy9UYWdlc3NjaHJpZnQudHRmKScpO1xyXG4gICAgICAgIGZvbnQubG9hZCgpLnRoZW4oZnVuY3Rpb24gKGxvYWRlZEZvbnQpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZvbnQpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGZvbnQ6JywgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBFbnN1cmUgbm8gZHVwbGljYXRlIG1lbnUgbXVzaWMgcGxheXMgKHN0b3AgZXhpc3RpbmcgdGhlbiBwbGF5KVxyXG4gICAgICAgIHRyeSB7IGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgdGhpcy5nYW1lLnNvdW5kLnBsYXkoJ211c2ljYU1lbnUnLCB7IHZvbHVtZTogMC43LCBsb29wOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmZvbmRvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAzNTAsICdmb25kb00nKVxyXG4gICAgICAgIHRoaXMuZm9uZG8uc2V0U2NhbGUoMC44KTtcclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMTIwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDM1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIHRoaXMuYm90b24zID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjMuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmJvdG9uNCA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b240LnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjUgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDUwMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uNS5zZXRTY2FsZSgwLjEpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMjAsICdFbCBFbmlnbWEgZGUgbGFcXG5Ub3JyZSBFbmNhbnRhZGEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiVGFnZXNzY2hyaWZ0XCIsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtOCk7IFxyXG5cclxuICAgICAgICBjb25zdCBsb2NhbEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCAzMDAsICdMb2NhbCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGxvY2FsQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlbmVyIG3DunNpY2EgZGUgbWVuw7ogYW50ZXMgZGUgY2FtYmlhciBkZSBlc2NlbmFcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzUwLCAnT25saW5lJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25saW5lQnRuLnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDBmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gb25saW5lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCBhc3luYygpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2FsYURlRXNwZXJhJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgY3JlZGl0b3NCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDAwLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNyZWRpdG9zQnRuLnNldFN0eWxlKHsgZmlsbDogJyNmZjkxMDBmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY3JlZGl0b3NCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBoaXN0b3JpYUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICdIaXN0b3JpYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBoaXN0b3JpYUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMzhmZmZmZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGhpc3RvcmlhQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0hpc3RvcmlhU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTAwLCAnQ29udHJvbGVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xCdG4uc2V0U3R5bGUoeyBmaWxsOiAnI2ZmMGRmZmMxJyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjb250cm9sQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NvbnRyb2xTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ01lbnVTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgY29uZXhpw7NuIGFsIHNlcnZpZG9yXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCA1NDAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpIHtcclxuICAgICAgICAvLyBTb2xvIGFjdHVhbGl6YXIgc2kgZWwgdGV4dG8gZXhpc3RlIChsYSBlc2NlbmEgZXN0w6EgY3JlYWRhKVxyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uVGV4dCB8fCAhdGhpcy5zY2VuZSB8fCAhdGhpcy5zY2VuZS5pc0FjdGl2ZSgnTWVudVNjZW5lJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoYFNlcnZpZG9yOiAke2RhdGEuY291bnR9IHVzdWFyaW8ocykgY29uZWN0YWRvKHMpYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoJ1NlcnZpZG9yOiBEZXNjb25lY3RhZG8nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51U2NlbmVdIEVycm9yIHVwZGF0aW5nIGNvbm5lY3Rpb24gZGlzcGxheTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBNYWdve1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5LCBpZFNwcml0ZSl7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnZpZGEgPSAzOyBcclxuICAgICAgICB0aGlzLmlkbGUgPSBpZFNwcml0ZTtcclxuICAgICAgICB0aGlzLmVzdGFkb19ub3JtYWwgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmJhc2VXaWRodCA9IDIwO1xyXG4gICAgICAgIHRoaXMuYmFzZUhlaWdodCA9IDEwMDtcclxuICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDMwMDtcclxuXHJcbiAgICAgICAgLy8gU2FsdG9cclxuICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuanVtcFZlbG9jaXR5ID0gMDtcclxuICAgICAgICB0aGlzLmdyb3VuZFkgPSB5O1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIGlkU3ByaXRlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjM1KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTsgXHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0U2l6ZSgxMjUsMTc1KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldE9mZnNldCg4ODAsNzUwKTtcclxuICAgIH1cclxuXHJcbiAgICBhbmRhcl9hbmltYWNpb24oKXtcclxuICAgICAgICBpZighdGhpcy5zcHJpdGUgfHwgIXRoaXMuc3ByaXRlLmFuaW1zKSByZXR1cm47IC8vIFByb3RlZ2VyIHNpIGVsIHNwcml0ZSBvIGFuaW1zIG5vIGV4aXN0ZW5cclxuICAgICAgICBpZighdGhpcy5zcHJpdGUuYW5pbXMuaXNQbGF5aW5nKXtcclxuICAgICAgICAgICAgaWYodGhpcy5pZGxlID09PSAnaWRsZV9BenVsJyl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnNjZW5lICYmIHRoaXMuc2NlbmUuYW5pbXMgJiYgdGhpcy5zY2VuZS5hbmltcy5leGlzdHMoXCJhbmRhcl9tYWdvX0F6dWxcIikpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoXCJhbmRhcl9tYWdvX0F6dWxcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pZGxlID09PSAnaWRsZV9Sb2pvJyl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnNjZW5lICYmIHRoaXMuc2NlbmUuYW5pbXMgJiYgdGhpcy5zY2VuZS5hbmltcy5leGlzdHMoXCJhbmRhcl9tYWdvX1Jvam9cIikpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoXCJhbmRhcl9tYWdvX1Jvam9cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCl7XHJcbiAgICAgICAgaWYoIXRoaXMuc3ByaXRlIHx8ICF0aGlzLnNwcml0ZS5hbmltcykgcmV0dXJuOyAvLyBQcm90ZWdlciBzaSBlbCBzcHJpdGUgbyBhbmltcyBubyBleGlzdGVuXHJcbiAgICAgICAgaWYodGhpcy5zcHJpdGUuYW5pbXMuaXNQbGF5aW5nKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUZXh0dXJlKHRoaXMuaWRsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGp1bXAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzSnVtcGluZyApIHtcclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VuZFkgPSB0aGlzLnNwcml0ZS55OyAvLyBlc3RhYmxlY2VyIGxhIGFsdHVyYSBhIGxhIHF1ZSB0aWVuZSBxdWUgdm9sdmVyIGNvbW8gbGEgYWN0dWFsIFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLTEwMDAwMCk7IC8vIFZlbG9jaWRhZCBpbmljaWFsIGRlIHNhbHRvXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gdHJ1ZTsgLy8gYWN0aXZhciBncmF2ZWRhZCBlbiBsb3Mgc2FsdG9zXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkZWx0YSkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0p1bXBpbmcgKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGxhbmRlZCAoYmFjayB0byBncm91bmQgbGV2ZWwgb3IgYmVsb3cpXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNwcml0ZS55ID49IHRoaXMuZ3JvdW5kWSAmJiB0aGlzLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnkgPj0gMCkgeyAvLyBDb21wcm9iYXIgc2kgdGllbmUgcXVlIHZvbHZlciBhIGFyZWEgZGUgc3VlbG9cclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnkgPSB0aGlzLmdyb3VuZFk7IC8vIGlyIGEgbGEgcG9zaWNpw7NuIGVuIGxhIHF1ZSBjb21lbnrDsyBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7IC8vIGRlc2FjdGl2YXIgZ3JhdmVkYWQgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlOyAvLyB5YSBubyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5lc3RhZG9fbm9ybWFsID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC4zNSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRTY2FsZShzY2FsZSl7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoc2NhbGUpO1xyXG4gICAgfVxyXG4gXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KXtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbih4LCB5KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29ye1xyXG5jb25zdHJ1Y3Rvcigpe1xyXG4gICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpOyBcclxuICAgIHRoaXMuZ2FtZVNjZW5lID0gbnVsbDtcclxufVxyXG5cclxuc2V0UGxheWVycyhwbGF5ZXJzKXtcclxuICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbn1cclxuXHJcbnNldEdhbWVTY2VuZShnYW1lU2NlbmUpe1xyXG4gICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbn1cclxuXHJcbnByb2Nlc3MoY29tbWFuZCl7XHJcbiAgICBjb21tYW5kLmV4ZWN1dGUoKTsgXHJcbn1cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kIHtcclxuICAgIGV4ZWN1dGUoKXt9XHJcblxyXG4gICAgc2VyaWFsaXplKCl7fVxyXG5cclxuICAgIGdldFBsYXllcigpe31cclxuICAgIFxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuL0NvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZlTWFnb0NvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKG1hZ28sIGRpcmVjdGlvbiwgc2FsdG8pe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5tYWdvID0gbWFnbztcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgXHJcbiAgICAgICAgdGhpcy5zYWx0byA9IHNhbHRvOyBcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCl7XHJcbiAgICAgICAgaWYodGhpcy5kaXJlY3Rpb24gPT09ICd1cCcpe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5tYWdvLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uID09PSAnZG93bicpe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WSgrdGhpcy5tYWdvLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uID09PSAnbGVmdCcpe1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy5tYWdvLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uID09PSAncmlnaHQnKXtcclxuICAgICAgICAgICAgdGhpcy5tYWdvLnNwcml0ZS5zZXRWZWxvY2l0eVgoK3RoaXMubWFnby5iYXNlU3BlZWQpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLm1hZ28uc3ByaXRlLnNldFZlbG9jaXR5WSgwKTsgXHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlYKDApOyBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5zYWx0byl7XHJcbiAgICAgICAgICAgIHRoaXMubWFnby5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLm1hZ28uYmFzZVNwZWVkKjMuNSApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7Q29tbWFuZH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlR2FtZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5ke1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZVNjZW5lLCBpc1BhdXNlZCl7XHJcbiAgICAgICAgc3VwZXIoKTsgXHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKXtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5zZXRQYXVzZVN0YXRlKHRoaXMuaXNQYXVzZWQpOyBcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWFnbyB9IGZyb20gJy4uL2VudGl0aWVzL01hZ28nXHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlTWFnb0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL01vdmVNYWdvQ29tbWFuZCc7XHJcbmltcG9ydCB7IFBhdXNlR2FtZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL1BhdXNlR2FtZUNvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gRXNjZW1uYXJpbyB5IG9iamV0b3MgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJlZFInLCAnL2ltYWdlbmVzL3BhcmVkWVRlY2hvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VlbG9SJywgJy9pbWFnZW5lcy9zdWVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvbGFDcmlzdGFsUicsICcvaW1hZ2VuZXMvYm9sYUNyaXN0YWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYWxkZXJvUicsICcvaW1hZ2VuZXMvY2FsZGVyb0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FtcG9GdWVyemFSJywgJy9pbWFnZW5lcy9jYW1wb2RlZnVlcnphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29mcmVSJywgJy9pbWFnZW5lcy9jb2ZyZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvZnJlQWJpZXJ0b1InLCAnL2ltYWdlbmVzL2NvZnJlQWJpZXJ0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVyaWFSJywgJy9pbWFnZW5lcy9lc3RhbnRlcmlhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGxhdmVSJywgJy9pbWFnZW5lcy9sbGF2ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlub1InLCAnL2ltYWdlbmVzL3BlcmdhbWlub0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhbnRhUicsICcvaW1hZ2VuZXMvcGxhbnRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSJywgJy9pbWFnZW5lcy9wb2Npb25lcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZlbGFzUicsICcvaW1hZ2VuZXMvdmVsYXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlUicsICcvaW1hZ2VuZXMvZXN0YW50ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xpYnJvc1InLCAnL2ltYWdlbmVzL2xpYnJvcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVlInLCAnL2ltYWdlbmVzL2JvdG9uVmFjaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNSJywgJy9pbWFnZW5lcy9ib3RvbkNvbXBsZXRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0cmVsbGFSJywgJy9pbWFnZW5lcy9lc3RyZWxsYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQXonLCAnL2ltYWdlbmVzL3BvY2lvbkF6dWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0FtJywgJy9pbWFnZW5lcy9wb2Npb25lc0FtYXJpbGxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNOJywgJy9pbWFnZW5lcy9wb2Npb25OYXJhbmphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSbycsICcvaW1hZ2VuZXMvcG9jaW9uUm9zYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTScsICcvaW1hZ2VuZXMvcG9jaW9uTW9yYWRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNWJywgJy9pbWFnZW5lcy9wb2Npb25WZXJkZS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9BenVsJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8yJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8zJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF80JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF81JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF82JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF83JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fOC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF84JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfUm9qbycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzInLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18zJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzUnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb182JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzgnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fOC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZXJmYXogTXVlcnRlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCR01cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2JnbScsICcvc291bmRzL2JnbS5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvcyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdhYnJpckNvZnJlJywgJy9zb3VuZHMvY2hlc3Rfb3Blbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJQb2Npb24nLCAnL3NvdW5kcy9ib3RlbGxhcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJMbGF2ZScsICcvc291bmRzL2xsYXZlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2FsaycsICcvc291bmRzL3dhbGsubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdleHBsb3Npb24nLCAnL3NvdW5kcy9leHBsb3Npb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwdWVydGEnLCAnL3NvdW5kcy9wdWVydGEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd0cmlnZ2VyJywgJy9zb3VuZHMvdHJpZ2dlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3BlcXVlw7FvJywgJy9zb3VuZHMvcGVxdWXDsW8ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubFB1bHNhZGEgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZUFiaWVydG8gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMgPSBuZXcgTWFwKCk7IC8vIE1hcCBwYXJhIGd1YXJkYXIgZWwgc29uaWRvIGRlIGNhZGEganVnYWRvclxyXG5cclxuICAgICAgICAvLyBBcnJheSBkZSBib29sZWFub3MgcXVlIHJlcHJlc2VudGEgcXVlIG9iamV0b3MgaGFuIHJlY29naWRvIGVudHJlIGFtYm9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIC8vIExvcyBvYmpldG9zIHNvbjogMC1sbGF2ZSwgMS1saWJyb3MsIDItIHBvY2lvbiBtb3JhZGEsIDMtIHBvY2lvbiB2ZXJkZSwgNC0gcG9jaW9uIHJvc2EsIDUtIHBvY2lvbiBhenVsLCA2LSBwb2Npb24gYW1hcmlsbGEsIDctIHBvY2lvbiBuYXJhbmphLCA4LSB2ZWxhcywgOS0gYm9sYSBkZSBjcmlzdGFsLCAxMC0gcGxhbnRhLCAxMS0gZXN0cmVsbGEgMSwgMTItIGVzdHJlbGxhIDJcclxuICAgICAgICB0aGlzLmludmVudGFyaW8gPSBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdhbmRhcl9tYWdvX0F6dWwnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnaWRsZV9BenVsJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF80JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzYnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF83JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfOCcgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnYW5kYXJfbWFnb19Sb2pvJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2lkbGVfUm9qbycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzInIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb18zJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzUnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb182JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzgnIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJnbSA9IHRoaXMuc291bmQuYWRkKCdiZ20nLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnBsYXkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWFyIHVuIHNvbmlkbyBkZSBwYXNvcyBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjEnLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjInLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG5cclxuICAgICAgICAvLyBQYXJhciBwYXNvcyBjdWFuZG8gbGEgZXNjZW5hIHNlIHBhdXNlIChlai4gUGF1c2VTY2VuZSkgeSBsaW1waWFyIHNvbmlkb3MgYWwgc2h1dGRvd25cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHsgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFsIHJlc3VtZSBubyBzZSByZXByb2R1Y2UgYXV0b23DoXRpY2FtZW50ZTogZWwgdXBkYXRlKCkgcmVhbnVkYXLDoSBwYXNvcyBzaSBzZSBwdWxzYSBtb3ZlclxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIG5hZGEgZXNwZWNpYWw6IHVwZGF0ZSgpIHZvbHZlcsOhIGEgcmVwcm9kdWNpciBjdWFuZG8gZGV0ZWN0ZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQXNlZ3VyYXIgbGltcGllemEgY3VhbmRvIGxhIGVzY2VuYSBzZSBjaWVycmUgZGVmaW5pdGl2YW1lbnRlXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gcGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXJFc2NlbmFyaW8oKTtcclxuICAgICAgICB0aGlzLmNyZWFyUGxhdGFmb3JtYXMoKTtcclxuICAgICAgICB0aGlzLmNyZWFyQmFycmVyYUludmlzaWJsZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5lc3RhYmxlY2VyQ29saXNpb25lcygpO1xyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpb0VuUGFudGFsbGEoKTsgXHJcblxyXG5cclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQgPSB0aGlzLmFkZC50ZXh0KDUwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodCA9IHRoaXMuYWRkLnRleHQoOTAwLCAzMCwgJzMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZidcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICAgICAgdGhpcy5sa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkwpO1xyXG4gICAgICAgIHRoaXMucWtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5RKTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUodGltZSwgZGVsdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duICYmICF0aGlzLmVzY1dhc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSB0aGlzLmVzY0tleS5pc0Rvd247XHJcbmNvbnNvbGUubG9nKFwiSG9sYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhXCIpO1xyXG4gICAgICAgIHRoaXMubFB1bHNhZGEgPSBmYWxzZTsgLy92b2x2ZXIgYSBwb25lciBhIGZhbHNlIHNpIG5vIGhhIGhhYmlkbyBvdmVybGFwXHJcbiAgICAgICAgaWYgKHRoaXMubGtleS5pc0Rvd24gfHwgdGhpcy5xa2V5LmlzRG93bikgdGhpcy5sUHVsc2FkYSA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIENvbXByb2JhciBzaSBhbGd1bm8gZGUgbG9zIGp1Z2Fkb3JlcyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKG1hZ28gPT4ge1xyXG4gICAgICAgICAgICBtYWdvLnVwZGF0ZShkZWx0YSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYWdvID0gdGhpcy5wbGF5ZXJzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBzYWx0byA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCB3YWxrU291bmQgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBsZXQgaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcudXBLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmRvd25LZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hZ28uc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdzdG9wJztcclxuICAgICAgICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdhbGtTb3VuZCAmJiB3YWxrU291bmQuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2Fsa1NvdW5kLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gc2FsdG8gc29sbyBzaSBlc3RhIHBlcXVlw7FvXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmp1bXBPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW1hZ28uZXN0YWRvX25vcm1hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNhbHRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbl9wYXJhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc01vdmluZyAmJiB3YWxrU291bmQgJiYgIXdhbGtTb3VuZC5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgIHdhbGtTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVNYWdvQ29tbWFuZChtYWdvLCBkaXJlY3Rpb24sIHNhbHRvKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMV0pIHRoaXMudW5vLnNldEFscGhhKDEpOyBlbHNlIHRoaXMudW5vLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMl0pIHRoaXMuZG9zLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1szXSkgdGhpcy50cmVzLnNldEFscGhhKDEpOyBlbHNlIHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzRdKSB0aGlzLmN1YXRyby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmN1YXRyby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzVdKSB0aGlzLmNpbmNvLnNldEFscGhhKDEpOyBlbHNlIHRoaXMuY2luY28uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s2XSkgdGhpcy5zZWlzLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5zZWlzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bN10pIHRoaXMuc2lldGUuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLnNpZXRlLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgICAgICBpZih0aGlzLmludmVudGFyaW9bOF0pIHRoaXMub2Noby5zZXRBbHBoYSgxKTtlbHNlIHRoaXMub2Noby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzldKSB0aGlzLm51ZXZlLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5udWV2ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzEwXSkgdGhpcy5kaWV6LnNldEFscGhhKDEpOyBlbHNlIHRoaXMuZGllei5zZXRBbHBoYSgwLjIpOyBcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJFc2NlbmFyaW8oKSB7XHJcbiAgICAgICAgdGhpcy5zdWVsbyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0NzIsICdzdWVsb1InKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnN1ZWxvLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhcmVkID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDIwNSwgJ3BhcmVkUicpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTY1LCAzMDAsICdlc3RhbnRlcmlhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTg1LCAzMDMsICdib2xhQ3Jpc3RhbFInKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FsZGVybyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCA0MzAsICdjYWxkZXJvUicpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzMTAsICdjYW1wb0Z1ZXJ6YVInKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29mcmUgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwNSwgMjgzLCAnY29mcmVSJyk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxsYXZlID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNzAsIDE2MCwgJ2xsYXZlUicpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGxhdmUuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmxsYXZlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDc4MCwgMTgwLCAncGVyZ2FtaW5vUicpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGFudGEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE3MCwgMzY1LCAncGxhbnRhUicpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucGxhbnRhLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTY5LCAyNjIsICdwb2Npb25lc1InKTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBvY2lvbmVzLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmVsYXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE0MCwgMzA4LCAndmVsYXNSJyk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxpYnJvcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTUwLCAyMjAsICdsaWJyb3NSJyk7XHJcbiAgICAgICAgdGhpcy5saWJyb3Muc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5saWJyb3MuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAsIDM1MCwgJ2JvdG9uVlInKTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvdG9uMS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm90b24yID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg3ODAsIDM1MCwgJ2JvdG9uVlInKTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmJvdG9uMi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBlc3RyZWxsYXMgZGUgZGVudHJvIGRlbCBjb2ZyZVxyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0NTAsIDI4MywgJ2VzdHJlbGxhUicpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTYwLCAyODMsICdlc3RyZWxsYVInKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJCYXJyZXJhSW52aXNpYmxlKCkge1xyXG4gICAgICAgIC8vIENyZWFyIHVuYSBiYXJyZXJhIGludmlzaWJsZSBxdWUgZXZpdGEgcXVlIHN1YmEgaGFjaWEgYXJyaWJhIChwZXJvIHB1ZWRhIGFuZGFyIGxpYnJlbWVudGUgcG9yIGVsIHN1ZWxvKVxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljSW1hZ2UoNTAwLCAxMDUsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRTaXplKDEwMDAsIDUwMCk7IFxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuYm9keS5zZXRTaXplKDEwMDAsIDUwMCk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGNvbGxpZGVyIGludmlzaWJsZSBwYXJhIHF1ZSBwdWVkYSB1c2FyIGxhIGJhbGRhIHN1cGVyaW9yIGRlIGxhIGVzdGFudGVyw63CrWEgY29tbyBwbGF0YWZvcm1hXHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDE2NSwgMTk1LCAnd2hpdGVfcGl4ZWwnKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLnNldFNjYWxlKDQsIDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGNvbGxpZGVyIGludmlzaWJsZSBwYXJhIGV2aXRhciBxdWUgYXRyYXZpZXNlIGVsIGNhbGRlcm9cclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNTAwLCA0MDAsICd3aGl0ZV9waXhlbCcpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuc2V0Q2lyY2xlKDg1KTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0T2Zmc2V0KC03MCwgLTU1KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhclBsYXRhZm9ybWFzKCkge1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcbiAgICAgICAgLy8gQ2VudHJvXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNDQ2LCAzMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDUxMCwgMzE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg1NzAsIDMxNSwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgICAgIC8vIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDY1MCwgMzUwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg2NTAsIDIxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNzAwLCAzOTAsICdlc3RhbnRlUicpO1xyXG5cclxuICAgICAgICAvLyBEZXJlY2hhXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNDQ2LCAyNTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDM2MCwgMjM1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgyOTUsIDIxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMzAwLCAzOTAsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDM4MCwgMzUwLCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXN0YWJsZWNlckNvbGlzaW9uZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgLy8gQ29saXNpb25lcyBkZWwganVnYWRvciBjb24gZWwgZXNjZW5hcmlvXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RhbnRlcmlhQ29sbCk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5wbGF0YWZvcm1hcyk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5jYWxkZXJvQ29sbCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLmNvZnJlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbnNlZ3VpciBsYSBsbGF2ZVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5sbGF2ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3JlY29nZXJMbGF2ZScsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxsYXZlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGxhdmUgY29uc2VndWlkYVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1swXSA9IHRydWU7IC8vIG1hcmNhciBlbiBlbCBpbnZlbnRhcmlvIHF1ZSBzZSBoYSBjb25zZWd1aWRvIGxhIGxsYXZlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlcm8uc2V0QWxwaGEoMSk7IFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZDsgXHJcbiAgICAgICAgICAgIGlmKHBsYXllci5wbGF5ZXJJZCA9PT0gJ3BsYXllcjEnKSBpZCA9IDE7XHJcbiAgICAgICAgICAgIGVsc2UgaWQgPSAyO1xyXG5cclxuICAgICAgICAgICAgLy8gQWJyaXIgbGEgbGlicmVyw63CrWFcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0YW50ZXJpYSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubFB1bHNhZGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0xpYnJlcmlhU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2Npb25lczogdGhpcy5pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VuZDogdGhpcy5zb3VuZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAganVnYWRvcjogaWRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBCYXJyZXJhIGludmlzaWJsZSBwYXJhIHBlcm1pdGlyIGFyZWEgZGUgc3VlbG8gZG9uZGUgc2UgZGVzcGxhY2VuIGxpYnJlbWVudGUsIHkgYXJlYSBkZSBzYWx0byBwYXJhIHN1YmlyIHBvciBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWwgY29saXNpb25hciBjb24gbGEgYmFycmVyYSBpbnZpc2libGUgbWllbnRyYXMgZWwganVnYWRvciB2YSBoYWNpYSBhcnJpYmEsIHNhbHRhXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5qdW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGNhbGxiYWNrIC0gb25seSBjb2xsaWRlIHdoZW4gbW92aW5nIHVwIGFuZCBub3QganVtcGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTW92aW5nVXAgPSBwbGF5ZXIuc3ByaXRlLmJvZHkudmVsb2NpdHkueSA8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFwbGF5ZXIuaXNKdW1waW5nICYmIGlzTW92aW5nVXA7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXIgcG9jaW9uIGRlIGRpc21pbnVpciB0YW1hw7FvIHNpIHNlIHRpZW5lbiBsYXMgcG9jaW9uZXMgbmVjZXNhcmlhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5jYWxkZXJvLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMubGtleSkgfHwgUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMucWtleSkpIHsgLy8gQ29tcHJvYmFyIHF1ZSBzZSBoYSBwdWxzYWRvIGxhIHRlY2xhIEwgbyBRIHBhcmEgY3JlYXIgbGEgcG9jaW9uIChzaSBzZSBtYW50aWVuZSBwdWxzYWRhIGxhIHRlY2xhIG5vIGVudHJhcsOhIHZhcmlhcyB2ZWNlcyBhIGxhIGZ1bmNpw7NuKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbGVtUmVjb2dpZG9zID0gdGhpcy5pbnZlbnRhcmlvLmZpbHRlcihlbGVtID0+IGVsZW0gPT09IHRydWUpOyAvLyBjcmVhciB1biBzZWd1bmRvIGFycmF5IGNvbiB1bmljYW1lbnRlIGxvcyBlbGVtZW50b3MgcmVjb2dpZG9zXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtUmVjb2dpZG9zLmxlbmd0aCA9PT0gMykgfHwgKGVsZW1SZWNvZ2lkb3MubGVuZ2h0ID09PSA0KSkgeyAvLyBwcmltZXJvIGNvbXByb2JhciBxdWUgc2UgaGFuIHJlY29naWRvIDMgZWxlbWVudG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludmVudGFyaW9bM10gJiYgdGhpcy5pbnZlbnRhcmlvWzVdICYmIHRoaXMuaW52ZW50YXJpb1s3XSkgeyAvLyBjb21wcm9iYXIgcXVlIGVzb3MgZWxlbWVudG9zIHJlY29naWRvcyBzb24gbGFzIHBvY2lvbmVzIHZlcmRlLCBhenVsIHkgbmFyYW5qYSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBjcmVhZGFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmRpc2FibGVCb2R5KCk7IC8vIGRlc2FjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm8gcGFyYSBtaWVudHJhcyBlc3TDqW4gcGVxdWXDsW9zIHB1ZWRhbiBhdHJhdmVzYXJsbyAoY2F1c2FiYSBidWdzOiBsZXZpdGFiYSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdwZXF1ZcOxbycsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdGllbmVzIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzIHBhcmEgY3JlYXIgbGEgcG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxb1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZXhwbG9zaW9uJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWxlYXRvcmlvID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCAyKTsgLy8gZ2VuZXJhciB1biBuw7ptZXJvIGFsZWF0b3JpbyBlbnRyZSAxIHkgMiBwYXJhIGVsZWdpciBxdWUganVnYWRvciByZWNpYmUgZGHDsW9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsZWF0b3JpbyA9PT0gMSkgdGhpcy5kYcOxb0p1Z0xlZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0aGlzLmRhw7FvSnVnUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZvbHZlciBhIHBvbmVyIGEgZmFsc2UgdG9kb3MgbG9zIGVsZW1lbnRvcyBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5pbnZlbnRhcmlvLmxlbmd0aCAtIDI7IGkrKykgeyAvLyBzZSBzYWx0YSBsYSBsbGF2ZSB5IGxhcyBlc3RyZWxsYXMgcG9ycXVlIG5vIHNlIHV0aWxpemFuIHBhcmEgY3JlYXIgbGEgcG9jaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpb1tpXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiB0aGlzLnVuby5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHRoaXMudHJlcy5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDogdGhpcy5jdWF0cm8uc2V0QWxwaGEoMC4yKTsgYnJlYWs7ICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTogdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjogdGhpcy5zZWlzLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiB0aGlzLnNpZXRlLnNldEFscGhhKDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OiB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOiB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWJyaXIgZWwgY29mcmUgc2kgc2UgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuY29mcmUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb2ZyZUFiaWVydG8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlbnRhcmlvWzBdKSB7IC8vIGNvbXByb2JhciBxdWUgdGllbmUgbGEgbGxhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpckNvZnJlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOZWNlc2l0YXMgbGEgbGxhdmUgcGFyYSBhYnJpciBlbCBjb2ZyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVjb2dlciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0cmVsbGExLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29nZXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdHJlbGxhMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvZ2VyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vY29sb2NhciBlc3RyZWxsYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9jYXJFc3RyZWxsYSgxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvdG9uMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvY2FyRXN0cmVsbGEoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIHB1bHNhciBib3RvbmVzIHBhcmEgZGVzYWN0aXZhciBlbCBjYW1wbyBkZSBmdWVyemFcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMUFjdGl2YWRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24yLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMkFjdGl2YWRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJyaXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBMb3Mgb2JqZXRvcyBzb246IDAtbGxhdmUsIDEtbGlicm9zLCAyLSBwb2Npb24gbW9yYWRhLCAzLSBwb2Npb24gdmVyZGUsIDQtIHBvY2lvbiByb3NhLCA1LSBwb2Npb24gYXp1bCwgNi0gcG9jaW9uIGFtYXJpbGxhLCA3LSBwb2Npb24gbmFyYW5qYSwgOC0gdmVsYXMsIDktIGJvbGEgZGUgY3Jpc3RhbCwgMTAtIHBsYW50YSwgMTEtIGVzdHJlbGxhIDEsIDEyLSBlc3RyZWxsYSAyXHJcbiAgICBpbnZlbnRhcmlvRW5QYW50YWxsYSgpIHsgLy9Db21vIHNlIGFjYWJhIGRlIGNyZWFyLCB0b2RhdsOtYSBubyBzZSBoYWJyw6EgcmVjb2dpZG8gbmluZ8O6biBlbGVtZW50b1xyXG4gICAgICAgIHRoaXMuY2VybyA9IHRoaXMuYWRkLmltYWdlKDIwMCwgNTIwLCAnbGxhdmVSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnVubyA9IHRoaXMuYWRkLmltYWdlKDI1MCwgNTIwLCAnbGlicm9zUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRvcyA9IHRoaXMuYWRkLmltYWdlKDMwMCwgNTIwLCAncG9jaW9uZXNNJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnRyZXMgPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDUyMCwgJ3BvY2lvbmVzVicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5jdWF0cm8gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyMCwgJ3BvY2lvbmVzUm8nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuY2luY28gPSB0aGlzLmFkZC5pbWFnZSg0NTAsIDUyMCwgJ3BvY2lvbmVzQXonKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuc2VpcyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNTIwLCAncG9jaW9uZXNBbScpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zaWV0ZSA9IHRoaXMuYWRkLmltYWdlKDU1MCwgNTIwLCAncG9jaW9uZXNOJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLm9jaG8gPSB0aGlzLmFkZC5pbWFnZSg2MDAsIDUyMCwgJ3ZlbGFzUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLm51ZXZlID0gdGhpcy5hZGQuaW1hZ2UoNjUwLCA1MjAsICdib2xhQ3Jpc3RhbFInKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5kaWV6ID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MjAsICdwbGFudGFSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMub25jZSA9IHRoaXMuYWRkLmltYWdlKDc1MCwgNTIwLCAnZXN0cmVsbGFSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmRvY2UgPSB0aGlzLmFkZC5pbWFnZSg4MDAsIDUyMCwgJ2VzdHJlbGxhUicpLnNldEFscGhhKDAuMik7XHJcbiAgICB9XHJcblxyXG4gICAgYWJyaXJDb2ZyZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2FicmlyQ29mcmUnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ2FicmlyQ29mcmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvZnJlIGFiaWVydG9cIik7XHJcbiAgICAgICAgdGhpcy5jb2ZyZS5zZXRUZXh0dXJlKCdjb2ZyZUFiaWVydG9SJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0QWxwaGEoMS4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5zZXRBbHBoYSgxLjApO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gdHJ1ZTsgLy8gcGFyYSBxdWUgc29sbyBzZSBhYnJhIHVuYSB2ZXpcclxuICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGxsYXZlIGRlbCBpbnZlbnRhcmlvIGFsIGFicmlyIGVsIGNvZnJlXHJcbiAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDAuMik7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgfVxyXG5cclxuICAgIHJlY29nZXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29mcmVBYmllcnRvKSB7IC8vIHNvbG8gc2UgcHVlZGUgcmVjb2dlciBzaSBlbCBjb2ZyZSBlc3TDoSBhYmllcnRvIChwb3JxdWUgc2lubyBlc3TDoW4gb2N1bHRhcylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RyZWxsYSBcIiArIG4gKyBcIiByZWNvZ2lkYVwiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBlc3RyZWxsYSAoMTEgeSAxMiBlbiBlbCBhcnJheSlcclxuICAgICAgICAgICAgaWYgKG4gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGExLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfSBlbHNleyBcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9jZS5zZXRBbHBoYSgxLjApOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZXN0YWRvX25vcm1hbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAvLyB2b2x2ZXIgYSBhY3RpdmFyIGVsIGNvbGxpZGVyIGRlbCBjYWxkZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5lbmFibGVCb2R5KGZhbHNlLCAwLCAwLCB0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjb2xvY2FyRXN0cmVsbGEobikge1xyXG4gICAgICAgIGlmICh0aGlzLmludmVudGFyaW9bMTAgKyBuXSkgeyAvLyBjb21wcm9iYXIgcXVlIHNlIHRpZW5lIGxhIGVzdHJlbGxhIGNvcnJlc3BvbmRpZW50ZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdHJlbGxhIFwiICsgbiArIFwiIGNvbG9jYWRhXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCd0cmlnZ2VyJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjEuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMi5zZXRUZXh0dXJlKCdib3RvbkNSJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgZXN0cmVsbGEgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgIHRoaXMuZG9jZS5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNhbXBvRnVlcnphKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmJvdG9uMS50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InICYmIHRoaXMuYm90b24yLnRleHR1cmUua2V5ID09PSAnYm90b25DUicpIHsgLy9jb21wcm9iYXIgcXVlIGFtYm9zIGJvdG9uZXMgdGllbmVuIGxhIGVzdHJlbGxhIGNvbG9jYWRhXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnFrZXkuaXNEb3duICYmIHRoaXMubGtleS5pc0Rvd24gJiYgdGhpcy5ib3RvbjFBY3RpdmFkbyAmJiB0aGlzLmJvdG9uMkFjdGl2YWRvKSB7IC8vIGNvbXByb2JhciBxdWUgYW1ib3MganVnYWRvcmVzIGVzdMOhbiBwdWxzYW5kbyBzdSB0ZWNsYSBjb3JyZXNwb25kaWVudGVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FtcG8gZGUgZnVlcnphIGRlc2FjdGl2YWRvXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3B1ZXJ0YScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbXBvRnVlcnphLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXJQdWVydGFGaW5hbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyUHVlcnRhRmluYWwoKSB7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzNzAsIG51bGwpO1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucHVlcnRhRmluYWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTsgXHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5zZXRBbHBoYSgwLjApOyBcclxuICAgICAgICBsZXQgZGVzYWN0aXZhZG8gPSBbZmFsc2UsIGZhbHNlXTsgLy8gYXJyYXkgcGFyYSBjb250cm9sYXIgcXVlIGFtYm9zIGp1Z2Fkb3JlcyBoYW4gbGxlZ2FkbyBhIGxhIHB1ZXJ0YSBmaW5hbFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnB1ZXJ0YUZpbmFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGRlc2FjdGl2YWRvWzBdID0gdHJ1ZTsgLy8gZWwgcGVyc29uYWplIHlhIGhhIGVudHJhZG8gcG9yIGxhIHB1ZXJ0YSB5IGhhIGRlc2FwYXJlY2lkb1xyXG4gICAgICAgICAgICB0aGlzLmVudHJhclB1ZXJ0YUZpbmFsKGRlc2FjdGl2YWRvKTtcclxuICAgICAgICAgICAgY29uc3Qgd3MxID0gdGhpcy53YWxrU291bmRzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgICAgICBpZiAod3MxKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MxLmlzUGxheWluZykgd3MxLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUsIHRoaXMucHVlcnRhRmluYWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZS5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgZGVzYWN0aXZhZG9bMV0gPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmVudHJhclB1ZXJ0YUZpbmFsKGRlc2FjdGl2YWRvKTtcclxuICAgICAgICAgICAgY29uc3Qgd3MyID0gdGhpcy53YWxrU291bmRzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgICAgICBpZiAod3MyKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MyLmlzUGxheWluZykgd3MyLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7ICBcclxuICAgIH0gICAgICAgXHJcblxyXG4gICAgZW50cmFyUHVlcnRhRmluYWwoZGVzYWN0aXZhZG8pIHtcclxuICAgICAgICBpZiAoZGVzYWN0aXZhZG9bMF0gJiYgZGVzYWN0aXZhZG9bMV0pIHsgLy9jYW1iaWFyIGRlIGVzY2VuYSBzb2xvIHNpIGFtYm9zIGp1Z2Fkb3JlcyBoYW4gbGxlZ2FkbyBhIGxhIHB1ZXJ0YSBmaW5hbFxyXG4gICAgICAgICAgICAvLyBQYXJhciB5IGRlc3RydWlyIHNvbmlkb3MgZGUgcGFzb3NcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MpIHdzLmRlc3Ryb3koKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIC8vIFBhcmFyIEJHTVxyXG4gICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5iZ20gJiYgKHRoaXMuYmdtLmlzUGxheWluZyB8fCB0aGlzLmJnbS5pc1BhdXNlZCkpIHRoaXMuYmdtLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAvLyBGYWxsYmFjazogcGFyYXIgY3VhbHF1aWVyIGluc3RhbmNpYSBwb3IgY2xhdmVcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCd3YWxrJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnYmdtJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0RlY2lzaW9uU2NlbmUnLCB7bW9kbzogJ2xvY2FsJ30pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGxlZnRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjEnLCA1MCwgNDAwLCAnaWRsZV9BenVsJyk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRNYWdvID0gbmV3IE1hZ28odGhpcywgJ3BsYXllcjInLCA5NTAsIDQwMCwgJ2lkbGVfUm9qbycpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbGVmdE1hZ28pO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCByaWdodE1hZ28pO1xyXG5cclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAganVtcDogJ1NQQUNFJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnRE9XTicsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnTEVGVCcsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ1JJR0hUJyxcclxuICAgICAgICAgICAgICAgIGp1bXA6ICdFTlRFUidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgLy90aGlzLmludHB1dE1hcHBpbmdzID0gSW5wdXRDb25maWc7IFxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgIGp1bXBPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuanVtcF0pLFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGVuZEdhbWUoaWQpIHtcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAyNDAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYm90b24gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uLnNldFNjYWxlKDAuMSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKG1hZ28gPT4ge1xyXG4gICAgICAgICAgICBtYWdvLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgLy8gRGV0ZW5lciBsYSBtw4PCunNpY2EgZGUgZm9uZG9cclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRvID0gaWQgPT09ICdwbGF5ZXIxJyA/ICdFbCBqdWdhZG9yIDFcXG4gIGhhIG11ZXJ0bycgOiAnIEVsIGp1Z2Fkb3IgMlxcbiAgaGEgbXVlcnRvJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjUwLCB0ZXh0bywge1xyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcgI2ZmMDAwMGZmJyxcclxuXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTUpO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ01lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDJmZjg5ZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGHDsW9KdWdMZWZ0KCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgcGxheWVyMS52aWRhLS07XHJcbiAgICAgICAgdGhpcy5oZWFsdGhMZWZ0LnNldFRleHQocGxheWVyMS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbCBqdWdhZG9yIGRlIGxhIGl6cXVpZXJkYSBoYSByZWNpYmlkbyBkYcOxbycpO1xyXG4gICAgICAgIGlmIChwbGF5ZXIxLnZpZGEgPD0gMCkgdGhpcy5lbmRHYW1lKCdwbGF5ZXIxJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGHDsW9KdWdSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIHBsYXllcjIudmlkYS0tO1xyXG4gICAgICAgIHRoaXMuaGVhbHRoUmlnaHQuc2V0VGV4dChwbGF5ZXIyLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VsIGp1Z2Fkb3IgZGUgbGEgZGVyZWNoYSBoYSByZWNpYmlkbyBkYcOxbycpO1xyXG4gICAgICAgIGlmIChwbGF5ZXIyLnZpZGEgPD0gMCkgdGhpcy5lbmRHYW1lKCdwbGF5ZXIyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VtaW5nIEdhbWVTY2VuZSB3aXRoIGRhdGE6XCIsIGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEucG9jaW9uZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gZGF0YS5wb2Npb25lcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5yZXN1bWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpby5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgSW52ZW50YXJpb1ske2luZGV4fV06ICR7aXRlbX1gKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZVN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgbmV3IFBhdXNlR2FtZUNvbW1hbmQodGhpcywgbmV3UGF1c2VTdGF0ZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmV7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdob3ZlcicsICcvc291bmRzL2hvdmVyLm1wMycpO1xyXG4gICAgfSAgIFxyXG5cclxuICAgIGNyZWF0ZShkYXRhKXtcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDIwMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsMzUwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7ICAgICAgICBcclxuICAgICAgICB0aGlzLmJvdG9uMiA9IHRoaXMuYWRkLmltYWdlKDUwMCw0MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmJvdG9uMyA9IHRoaXMuYWRkLmltYWdlKDUwMCw0NTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjMuc2V0U2NhbGUoMC4xKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgJ0p1ZWdvIFBhdXNhZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjBweCcsIFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6JyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdW1lQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDM1MCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXN1bWVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmY4OGZmJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmVzdW1lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldChkYXRhLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpOyBcclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDAwLCAnTWVuw7onLCB7XHJcbiAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyM2ODM5YjNmZicgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIFNpIHZlbmltb3MgZGUgbGEgZXNjZW5hIG9ubGluZSwgYXZpc2FyIGFsIHNlcnZpZG9yIHBhcmEgbm90aWZpY2FyIGRlc2NvbmV4acOzblxyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEub3JpZ2luYWxTY2VuZSA9PT0gJ0dhbWVTY2VuZU8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnU2NlbmUgPSB0aGlzLnNjZW5lLmdldCgnR2FtZVNjZW5lTycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdTY2VuZSAmJiBvcmlnU2NlbmUud3MgJiYgb3JpZ1NjZW5lLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ1NjZW5lLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAncGxheWVyRGlzY29ubmVjdGVkJyB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2VycmFyIGxhIGNvbmV4acOzbiBkZXNwdcOpcyBkZSB1biBicmV2ZSByZXRyYXNvIHBhcmEgYXNlZ3VyYXIgZW52w61vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRyeSB7IG9yaWdTY2VuZS53cy5jbG9zZSgpOyB9IGNhdGNoKGUpeyBjb25zb2xlLndhcm4oZSk7IH0gfSwgNTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBjYXRjaChlcnIpIHsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICB0cnl7dGhpcy5nYW1lLnNvdW5kLnN0b3BCeUtleSgnYmdtJyk7fWNhdGNoKGUpe2NvbnNvbGUud2FybihlKTt9XHJcblxyXG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICBcclxuICAgICAgICAgY29uc3QgY29udHJvbEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NTAsICdDb250cm9sZXMnLCB7XHJcbiAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb250cm9sQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMGVlZmZmZicgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnaG92ZXInLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjb250cm9sQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIFBhc2FyIGxhIGVzY2VuYSBvcmlnaW5hbCBwYXJhIHF1ZSBDb250cm9sZXMgcHVlZGEgdm9sdmVyIGNvcnJlY3RhbWVudGUgKEdhbWVTY2VuZSBvIEdhbWVTY2VuZU8pXHJcbiAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ29udHJvbFNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiBkYXRhICYmIGRhdGEub3JpZ2luYWxTY2VuZSA/IGRhdGEub3JpZ2luYWxTY2VuZSA6ICdHYW1lU2NlbmUnIH0pOyBcclxuICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlubycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTMwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7XHJcblxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMSA9IHRoaXMuYWRkLmltYWdlKDUwMCwzODAsICdwZXJnYW1pbm8nKVxyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vMS5zZXRTY2FsZSgyKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEyMCwgJ0VsIEVuaWdtYSBkZSBsYVxcblRvcnJlIEVuY2FudGFkYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1NnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC04KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI0NSwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc1MHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2E3YTdhN2ZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzEwLCAnUGF1bGEgT3J0aXogRmVybsOhbmRleicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjOTFmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMzU1LCAnRGFuaWVsIENvcmJhY2hvIEFuZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZjEzMmZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDQwMCwgJ0FsZWphbmRybyBIZXJuw6FuZGV6IFJ1aXonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2Q3YWNmZmZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDQ1MCwgJ8OBbmdlbCBCZXJtw7pkZXogRmFyacOxYXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmY2VhZGZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgY29uc3QgUmV0dXJuQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUzMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMGZmODhmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gUmV0dXJuQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdtdXNpY2FNZW51Jyk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgSGlzdG9yaWFTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignSGlzdG9yaWFTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy50aXR1bG8gPSB0aGlzLmFkZC5pbWFnZSg1MDAsMTIwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MzAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTIwLCAnRWwgRW5pZ21hIGRlIGxhXFxuVG9ycmUgRW5jYW50YWRhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzU2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDcwNzA3ZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0QW5nbGUoLTgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMjQwLCAnSGlzdG9yaWEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTBweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyNhN2E3YTdmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDM4MCwgJ0Rlc3B1w6lzIGRlIGHDsW9zIGRlIGVudHJlbmFtaWVudG8sIHBvciBmaW4gaGEgbGxlZ2FkbyBlbCBtb21lbnRvIGVuIGVsIHF1ZSBuYXF1ZWxsb3MgbWFnb3MgcG9yXFxuZmluIGliYW4gYSBjb25zZWd1aXIgc2VyIG1hZ29zIGRlIHZlcmRhZC4gTGxldmFiYW4gbXVjaG8gdGllbXBvIHByZXBhcsOhbmRvc2UgeSBlc3R1ZGlhbmRvIHBhcmFcXG5lc3RlIG1vbWVudG8sIHkgcG9yIGZpbiB2YW4gYSByZWNpYmlyIGFxdWVsIGVsaXhpciBkZXNlYWRvIHBvciB0b2RvIG1hZ28sXFxu4oCcZWwgZWxpeGlyIGRlIGxhIHZpZGEgZXRlcm5h4oCdLlxcblxcblNpbiBlbWJhcmdvLCBubyBzZXLDoSBzZW5jaWxsbywgYcO6biBkZWJlcsOhbiBkZW1vc3RyYXIgcG9yIMO6bHRpbWEgdmV6IHF1ZSBlc3TDoW4gaGVjaG9zIHBhcmEgb2J0ZW5lclxcbmVzdGEgZ3JhbiB2aXJ0dWQuIExhIHRyYWRpY2nDs24gY3VlbnRhIHF1ZSBwYXJhIGNvbnNlZ3VpciBzZXIgdW4gdmVyZGFkZXJvIG1hZ28gc2Vyw6EgbmVjZXNhcmlvXFxuY29uc2VndWlyIHBvciBlbGxvcyBtaXNtb3MgZXN0ZSBlbGl4aXIgYWRlbnRyw6FuZG9zZSBlbiBsYSBUb3JyZSBFbmNhbnRhZGEsIGRlbW9zdHJhbmRvIHF1ZSBzb25cXG5tZXJlY2Vkb3JlcyBkZWwgdMOtdHVsbyBkZSBtYWdvIGV0ZXJubyB5IHF1ZSBwb3NlZW4gbGFzIGhhYmlsaWRhZGVzIG5lY2VzYXJpYXMuIExhIG3DoXMgaW1wb3J0YW50ZSxcXG5sYSBjb2xhYm9yYWNpw7NuLCBwdWVzdG8gcXVlIHBvciB1bm8gc29sbyBubyBzaWVtcHJlIHNlIHB1ZWRlIGxsZWdhciBhbCBsdWdhciBkZXNlYWRvLiBcXG5cXG5Qb3IgZXN0ZSBtb3Rpdm8sIGxvcyBqw7N2ZW5lcyBhcHJlbmRpY2VzIHF1ZSBkZXNlZW4gYXNjZW5kZXIsIHNlIGFkZW50cmFyw6FuIGVuIGFxdWVsbGEgdmllamEgdG9ycmUsXFxuIHkgYXRyYXZlc2Fyw6FuLCB1bmEgYSB1bmEsIHN1cyBzYWxhcyBoYXN0YSBsbGVnYXIgYXJyaWJhIGRlbCB0b2RvLCBkw7NuZGUgc2UgZW5jdWVudHJhIGVsIGVsaXhpclxcbnF1ZSB0YW50byBkZXNlYW4uIEVuIGNhZGEgc2FsYSBzZSBlbmNvbnRyYXLDoW4gY29uIG51bWVyb3NvcyBvYnN0w6FjdWxvcyBxdWUgZGViZXLDoW4gc29icmVwYXNhciBcXG5kZW1vc3RyYW5kbyBzdXMgaGFiaWxpZGFkZXMgb2J0ZW5pZGFzIGR1cmFudGUgdG9kb3MgZXN0b3MgYcOxb3MgZGUgZXNmdWVyem8uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICAvL2ZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IFJldHVybkJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MzAsICdWb2x2ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDBmZjg4ZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IFJldHVybkJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWFnbyB9IGZyb20gJy4uL2VudGl0aWVzL01hZ28nXHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlTWFnb0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL01vdmVNYWdvQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgTGlicmVyaWFTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xpYnJlcmlhU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyZWRSJywgJy9pbWFnZW5lcy9wYXJlZFlUZWNoby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvbGFDcmlzdGFsQ29sb3InLCAnL2ltYWdlbmVzL2JvbGFDcmlzdGFsQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlcmlhUicsICcvaW1hZ2VuZXMvZXN0YW50ZXJpYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYW50YUNvbG9yJywgJy9pbWFnZW5lcy9wbGFudGFDb2xvci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQXonLCAnL2ltYWdlbmVzL3BvY2lvbkF6dWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0FtJywgJy9pbWFnZW5lcy9wb2Npb25lc0FtYXJpbGxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNOJywgJy9pbWFnZW5lcy9wb2Npb25OYXJhbmphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSbycsICcvaW1hZ2VuZXMvcG9jaW9uUm9zYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTScsICcvaW1hZ2VuZXMvcG9jaW9uTW9yYWRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNWJywgJy9pbWFnZW5lcy9wb2Npb25WZXJkZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZlbGFzQ29sb3InLCAnL2ltYWdlbmVzL3ZlbGFzQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsaWJyb3NDb2xvcicsICcvaW1hZ2VuZXMvbGlicm9zQ29sb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZGxlJywgJy9pbWFnZW5lcy9tYW5vLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYmFsbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgIC8vdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGF0b3M7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG5cclxuICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzID0ge1xyXG4gICAgICAgICAgICBib2xhQ3Jpc3RhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIHBsYW50YTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvbkFtOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uTjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvbk06IGZhbHNlLFxyXG4gICAgICAgICAgICBwb2Npb25SOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9jaW9uVjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvY2lvbkF6OiBmYWxzZSxcclxuICAgICAgICAgICAgdmVsYXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBsaWJybzogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIHRoaXMubWFnbyA9IHRoaXMuYWRkLmltYWdlKDEwMCwgMTAwLCBcImlkbGVcIik7XHJcbiAgICAgICAgdGhpcy5tYWdvLnNldFNjYWxlKDEuOSk7XHJcbiAgICAgICAgdGhpcy5jcmVhckVzY2VuYXJpbygpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5lc3RhYmxlY2VyQ29saXNpb25lcygpO1xyXG4gICAgICAgIHRoaXMuZGF0b3MgPSBkYXRhO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIHRoaXMubGtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5MKTtcclxuICAgICAgICB0aGlzLnFrZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuUSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRvcy53cyAmJiB0aGlzLmRhdG9zLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnYWN0dWFsaXphckludmVudGFyaW8nLCBpbnZlbnRhcmlvOiB0aGlzLmRhdG9zLnBvY2lvbmVzfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMuZGF0b3Mub3JpZ2luYWxTY2VuZSwgeyBwb2Npb25lczogdGhpcy5kYXRvcy5wb2Npb25lcyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2NlbmUuZ2V0KHRoaXMuZGF0b3Mub3JpZ2luYWxTY2VuZSkucmVzdW1lKCk7IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hYmlyID0gZmFsc2U7IC8vdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSBzaSBubyBoYSBoYWJpZG8gb3ZlcmxhcFxyXG4gICAgICAgIGlmICh0aGlzLmxrZXkuaXNEb3duKSB0aGlzLmFicmlyID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5xa2V5LmlzRG93bikgdGhpcy5hYnJpciA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYWRkbGUgPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcudXBLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcuZG93bktleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnc3RvcCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVNYWdvQ29tbWFuZChwYWRkbGUsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyRXNjZW5hcmlvKCkge1xyXG4gICAgICAgIHRoaXMucGFyZWQgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgMjA1LCAncGFyZWRSJyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ0MCwgMjcwLCAnZXN0YW50ZXJpYVInKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ4NSwgMjgwLCAnYm9sYUNyaXN0YWxDb2xvcicpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGFudGEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ0MCwgNDUwLCAncGxhbnRhQ29sb3InKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBsYW50YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQW0gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUzMCwgMTY1LCAncG9jaW9uZXNBbScpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQW0uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQW0uc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvbkFtLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25OID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1OTUsIDE3NSwgJ3BvY2lvbmVzTicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25OLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25OLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25NID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgyODAsIDE2NSwgJ3BvY2lvbmVzTScpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uTS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25NLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25NLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb2Npb25SID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg0MDUsIDE2NSwgJ3BvY2lvbmVzUm8nKTtcclxuICAgICAgICB0aGlzLnBvY2lvblIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uUi5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uUi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uViA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMzQ1LCAxNzUsICdwb2Npb25lc1YnKTtcclxuICAgICAgICB0aGlzLnBvY2lvblYuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uVi5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uVi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQXogPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDQ3MCwgMTcwLCAncG9jaW9uZXNBeicpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQXouc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uQXouc2V0U2NhbGUoMS43KTtcclxuICAgICAgICB0aGlzLnBvY2lvbkF6LmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy52ZWxhcyA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMzUwLCAyOTAsICd2ZWxhc0NvbG9yJyk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy52ZWxhcy5zZXRTY2FsZSgxLjcpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxpYnJvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgzNzAsIDMzLCAnbGlicm9zQ29sb3InKTtcclxuICAgICAgICB0aGlzLmxpYnJvLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxpYnJvLnNldFNjYWxlKDEuNyk7XHJcbiAgICAgICAgdGhpcy5saWJyby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGVzdGFibGVjZXJDb2xpc2lvbmVzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmJvbGFDcmlzdGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLmJvbGFDcmlzdGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMuYm9sYUNyaXN0YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvbGFDcmlzdGFsLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s5XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgYm9sYSBkZSBjcmlzdGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQk9MQSBDUklTVEFMIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucGxhbnRhLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBsYW50YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBsYW50YSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxhbnRhLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1sxMF0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBsYW50YVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBMQU5UQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvbkFtLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbkFtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uQW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbkFtLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s2XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIGFtYXJpbGxhXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIEFNQVJJTExBIFJFQ09HSURBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMucG9jaW9uTiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uTiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uTi5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbN10gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiBuYXJhbmphXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIE5BUkFOSkEgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25NLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbk0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25NID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25NLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1syXSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIG1vcmFkYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPQ0lPTiBNT1JBREEgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25SLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvblIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5zb3VuZC5wbGF5KCdyZWNvZ2VyUG9jaW9uJywgeyB2b2x1bWU6IDAuNiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25SID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25SLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1s0XSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbGEgcG9jaW9uIHJvc2FcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gUk9TQSBSRUNPR0lEQVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnBvY2lvblYsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFicmlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0b3Muc291bmQgJiYgIXRoaXMucG9jaW9uZXNSZWNvZ2lkYXMucG9jaW9uVikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvblYgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvblYuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnBvY2lvbmVzWzNdID0gdHJ1ZTsgLy8gbWFyY2FyIHF1ZSBzZSBoYSByZWNvZ2lkbyBsYSBwb2Npb24gdmVyZGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQT0NJT04gVkVSREUgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5wb2Npb25BeiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy5wb2Npb25Beikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnBvY2lvbkF6ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2Npb25Bei5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbNV0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhIHBvY2lvbiBhenVsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnJpciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9DSU9OIEFaVUwgUkVDT0dJREFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy52ZWxhcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJyaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRvcy5zb3VuZCAmJiAhdGhpcy5wb2Npb25lc1JlY29naWRhcy52ZWxhcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zLnNvdW5kLnBsYXkoJ3JlY29nZXJQb2Npb24nLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLnZlbGFzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWxhcy5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3MucG9jaW9uZXNbOF0gPSB0cnVlOyAvLyBtYXJjYXIgcXVlIHNlIGhhIHJlY29naWRvIGxhcyB2ZWxhc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZFTEFTIFJFQ09HSURBU1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmxpYnJvLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnJpcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdG9zLnNvdW5kICYmICF0aGlzLnBvY2lvbmVzUmVjb2dpZGFzLmxpYnJvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3Muc291bmQucGxheSgncmVjb2dlclBvY2lvbicsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9jaW9uZXNSZWNvZ2lkYXMubGlicm8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpYnJvLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcy5wb2Npb25lc1sxXSA9IHRydWU7IC8vIG1hcmNhciBxdWUgc2UgaGEgcmVjb2dpZG8gbG9zIGxpYnJvc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJyaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxJQlJPUyBSRUNPR0lET1NcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbGVmdE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMScsIDUwLCAzMDAsICdpZGxlJyk7XHJcbiAgICAgICAgbGVmdE1hZ28uc2V0U2NhbGUoMC4wOCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIGxlZnRNYWdvKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ0RPV04nLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgLy90aGlzLmludHB1dE1hcHBpbmdzID0gSW5wdXRDb25maWc7IFxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb25maWcpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRyb2xTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29udHJvbFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGl0dWxvJywgJy9pbWFnZW5lcy9wZXJnYW1pbm9UaXR1bG8ucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyZ2FtaW5vJywgJy9pbWFnZW5lcy9wZXJnYW1pbm8ucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7IFxyXG4gICAgfSAgXHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDEyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTMwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgLy8gdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNDAwLCAnYm90b24nKVxyXG4gICAgICAgIC8vIHRoaXMuYm90b24yLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8xID0gdGhpcy5hZGQuaW1hZ2UoMjUwLDM4MCwgJ3BlcmdhbWlubycpXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8xLnNldFNjYWxlKDEuOCk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8yID0gdGhpcy5hZGQuaW1hZ2UoNzgwLDM4MCwgJ3BlcmdhbWlubycpXHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8yLnNldFNjYWxlKDEuOCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMjAsICdFbCBFbmlnbWEgZGUgbGFcXG5Ub3JyZSBFbmNhbnRhZGEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbmdsZSgtOCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyNDAsICdDb250cm9sZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDVweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNhN2E3YTdmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCgyNTAsIDMxMCwgJ0p1Z2Fkb3IgMTonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyM5YmUzZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjYwLCA0MDAsICdXLUFycmliYVxcbiBBLUl6cXVpZXJkYVxcbiBTLUFiYWpvXFxuIEQtRGVyZWNoYVxcbiBTUEFDRS1TYWx0YXJcXG4gUS1JbnRlcmFjdHVhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg3NTAsIDMxMCwgJ0p1Z2Fkb3IgMjonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDk5LCA5OSwgMSknLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg3ODAsIDQwMCwgJ0ZsZWNoYXMtQXJyaWJhXFxuIEZsZWNoYXMtSXpxdWllcmRhXFxuIEZsZWNoYXMtQWJham9cXG4gRmxlY2hhcy1EZXJlY2hhXFxuIEVOVEVSLVNhbHRhclxcbiBMLUludGVyYWN0dWFyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBSZXR1cm5CdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTMwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM0cHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwZmY4OGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBSZXR1cm5CdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZihkYXRhLm9yaWdpbmFsU2NlbmUgPT09ICdNZW51U2NlbmUnKXtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLnNvdW5kKSB0aGlzLnNvdW5kLnN0b3BCeUtleSgnbXVzaWNhTWVudScpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXQoZGF0YS5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlY2lzaW9uU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0RlY2lzaW9uU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvRCcsICcvaW1hZ2VuZXMvZWxlY2Npb24uanBnJyk7fSAgIFxyXG5cclxuICAgIGNyZWF0ZShkYXRhKXtcclxuICAgICAgICB0aGlzLmZvbmRvRCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvRCcpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9ELnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmZvbmRvRC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwxMjAsICd0aXR1bG8nKVxyXG4gICAgICAgIHRoaXMudGl0dWxvLnNldFNjYWxlKDAuMjYpO1xyXG4gICAgICAgIHRoaXMuYm90b24xID0gdGhpcy5hZGQuaW1hZ2UoMjgwLDQyMCwgJ2JvdG9uJylcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRTY2FsZSgwLjE1KTsgICBcclxuICAgICAgICB0aGlzLmJvdG9uMS5zZXRBbHBoYSgwLjUpOyAgICAgXHJcbiAgICAgICAgdGhpcy5ib3RvbjIgPSB0aGlzLmFkZC5pbWFnZSg3MzAsNDIwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuMTUpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldEFscGhhKDAuNSk7IFxyXG5cclxuICAgICAgICBpZiAoZGF0YS5tb2RvID09PSAnbG9jYWwnKSB0aGlzLnNlbGVjdG9yID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCAyKTtcclxuICAgICAgICBlbHNlIHRoaXMuc2VsZWN0b3IgPSBkYXRhLmVsZWNjaW9uO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RvciA9PT0gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdFbCBqdWdhZG9yIDEgaGEgcmVjb2dpZG8nLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSAncGxheWVyMSc7IFxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RvciA9PT0gMil7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdFbCBqdWdhZG9yIDIgaGEgcmVjb2dpZG8nLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSAncGxheWVyMic7XHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE1MCwgJ2VsIEVsaXhpciBkZSBsYSBWaWRhIEV0ZXJuYSwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAzMjAsICdhaG9yYSBkZWJlcsOhIGVsZWdpcjonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0bjEgPSB0aGlzLmFkZC50ZXh0KDI4MCwgNDIwLCAnQ29tcGFydGlyIGVsIGVsaXhpcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidG4yID0gdGhpcy5hZGQudGV4dCg3MzAsIDQyMCwgJ0JlYmVyIGVsIGVsaXhpcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRBbHBoYSgwLjUpO1xyXG5cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgaWYgKGRhdGEubW9kbyA9PT0gJ29ubGluZScpe1xyXG4gICAgICAgICAgICBjb25zdCBwdWVkZUVsZWdpciA9IHRoaXMuaWQgPT09IGRhdGEuanVnYWRvcjsgXHJcbiAgICAgICAgICAgIGlmKHB1ZWRlRWxlZ2lyKXtcclxuICAgICAgICAgICAgICAgIGJ0bjEuc2V0QWxwaGEoMSk7IFxyXG4gICAgICAgICAgICAgICAgYnRuMS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICBidG4xLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidG4xLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJ0bjEub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4xLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgICAgICBidG4xLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS53cyAmJiBkYXRhLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZWJ2aWFuZG8gZmluYWxcIik7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6ICdlc2NlbmFGaW5hbCcsIGVzY2VuYTogMX0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidG4yLnNldEFscGhhKDEpXHJcbiAgICAgICAgICAgICAgICBidG4yLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgYnRuMi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBidG4yLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKTtcclxuICAgICAgICAgICAgICAgIGJ0bjIub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9yID09PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEud3MgJiYgZGF0YS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlYnZpYW5kbyBmaW5hbFwiKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6ICdlc2NlbmFGaW5hbCcsIGVzY2VuYTogMX0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdG9yID09PSAyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEud3MgJiYgZGF0YS53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbnZpYW5kbyBmaW5hbFwiKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6ICdlc2NlbmFGaW5hbCcsIGVzY2VuYTogMn0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYm90b24xLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0QWxwaGEoMSk7ICBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEubW9kbyA9PT0gJ2xvY2FsJyl7XHJcbiAgICAgICAgICAgIGJ0bjEuc2V0QWxwaGEoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuMS5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4xLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbEJTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJ0bjIuc2V0QWxwaGEoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuMi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4yLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RvciA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxNMVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdG9yID09PSAyKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0yU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90b24xLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICB0aGlzLmJvdG9uMi5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRmluYWxCU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcignRmluYWxCU2NlbmUnKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9DJywgJy9pbWFnZW5lcy9jb21wYXJ0aXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd2aWN0b3JpYScsICcvc291bmRzL3ZpY3RvcmlhLm1wMycpO1xyXG4gICAgfSAgIFxyXG5cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIHRoaXMuZm9uZG9DID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsMzAwLCAnZm9uZG9DJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb0Muc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZm9uZG9DLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbcO6c2ljYSBkZSB2aWN0b3JpYVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgndmljdG9yaWEnLCB7IHZvbHVtZTogMC43IH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLmFkZC5pbWFnZSg1MDAsNTAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuMTMpOyAgICAgICAgXHJcblxyXG5cclxuICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0xvcyBqdWdhZG9yZXMgaGFuIGRlY2lkaWRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTAwLCAnY29tcGFydGlyIGVsIEVsaXhpciBkZSBsYSBWaWRhIEV0ZXJuYSwgYWhvcmEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNTAsICdhbWJvcyB2aXZpcsOhbiBoYXN0YSBsYSBldGVybmlkYWQsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgJ3kgcG9kcsOhbiBhZHF1aXJpciB0b2RvcyBsb3MgY29ub2NpbWllbnRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgJ2V4aXN0ZW50ZXMuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsICdWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdob3ZlcicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIHZpY3RvcmlhIGFudGVzIGRlIGNhbWJpYXIgZGUgZXNjZW5hXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ3ZpY3RvcmlhJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRmluYWxNMVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdGaW5hbE0xU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9fMU0nLCAnL2ltYWdlbmVzL3RyYWljaW9uX3JhbmFSb2phLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdkZXJyb3RhJywgJy9zb3VuZHMvZGVycm90YS5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKXtcclxuXHJcbiAgICAgICAgdGhpcy5mb25kb18xTSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvXzFNJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb18xTS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb18xTS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIG3DunNpY2EgZGUgZGVycm90YVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZGVycm90YScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xMyk7ICAgXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0VsIGp1Z2Fkb3IgMSBoYSBkZWNpZGlkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDEwMCwgJ25vIGNvbXBhcnRpciBlbCBFbGl4aXIgZGUgbGEgVmlkYSBFdGVybmEsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnYWhvcmEgZGViZSBlbmZyZW50YXIgbGFzIGNvbnNlY3VlbmNpYXMgZGUgc3UgZWxlY2Npw7NuIHkgdml2aXIgc29sbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE3NSwgJ2hhc3RhIGxhIGV0ZXJuaWRhZC4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ1ZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnRuLnNldFN0eWxlKHsgZmlsbDogJyM0YmZmYWJmZicgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlbmVyIG3DunNpY2EgZGUgZGVycm90YSBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdkZXJyb3RhJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRmluYWxNMlNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdGaW5hbE0yU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb18yTScsICcvaW1hZ2VuZXMvdHJhaWNpb25fcmFuYUF6dWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdkZXJyb3RhJywgJy9zb3VuZHMvZGVycm90YS5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKXtcclxuXHJcbiAgICAgICAgdGhpcy5mb25kb18yTSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLDMwMCwgJ2ZvbmRvXzJNJyk7XHJcbiAgICAgICAgdGhpcy5mb25kb18yTS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5mb25kb18yTS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIG3DunNpY2EgZGUgZGVycm90YVxyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZGVycm90YScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvdG9uMSA9IHRoaXMuYWRkLmltYWdlKDUwMCw1MDAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0U2NhbGUoMC4xMyk7ICAgXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0VsIGp1Z2Fkb3IgMiBoYSBkZWNpZGlkbycsIHtcclxuICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxMDAsICdubyBjb21wYXJ0aXIgZWwgRWxpeGlyIGRlIGxhIFZpZGEgRXRlcm5hLCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDE1MCwgJ2Fob3JhIGRlYmUgZW5mcmVudGFyIGxhcyBjb25zZWN1ZW5jaWFzIGRlIHN1IGVsZWNjacOzbiB5IHZpdmlyIHNvbG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxNzUsICdoYXN0YSBsYSBldGVybmlkYWQuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsICdWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjNGJmZmFiZmYnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2hvdmVyJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhIGRlIGRlcnJvdGEgYW50ZXMgZGUgY2FtYmlhciBkZSBlc2NlbmFcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdkZXJyb3RhJyk7XHJcbiAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuLyoqXHJcbiAqIEVzY2VuYSBxdWUgc2UgbXVlc3RyYSBjdWFuZG8gc2UgcGllcmRlIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogUGF1c2EgZWwgcmVzdG8gZGUgZXNjZW5hcyB5IGNvbXBydWViYSBjb250aW51YW1lbnRlIGhhc3RhIHF1ZSBzZSByZXN0YWJsZXpjYVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25Mb3N0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpOyBcclxuICAgIH0gIFxyXG5cclxuICAgICBcclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhLnByZXZpb3VzU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDE4MCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4yNSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAxODAsICdDT05FWEnDk04gUEVSRElEQScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjYzkwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzMjAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGFkb3IgZGUgaW50ZW50b3MgXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzkwLCAnSW50ZW50b3M6IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJlY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cclxuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dC5zZXRUZXh0KGBJbnRlbnRvczogJHt0aGlzLmF0dGVtcHRDb3VudH1gKTtcclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlY29ubmVjdGVkKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgaW50ZXJ2YWxcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhQ29uZXhpw7NuIHJlc3RhYmxlY2lkYSEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGFudGVyaW9yXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIiBpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgTWFnbyB9IGZyb20gJy4uL2VudGl0aWVzL01hZ28nXHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kL2NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlTWFnb0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kL01vdmVNYWdvQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTYWxhRGVFc3BlcmEgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoeyBrZXk6ICdTYWxhRGVFc3BlcmEnIH0pO1xyXG4gICAgdGhpcy53cyA9IG51bGw7XHJcbiAgICB0aGlzLnJvb21Db2RlID0gbnVsbDtcclxuICAgIHRoaXMucm9vbUlkID0gbnVsbDtcclxuICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuaXNJblJvb20gPSBmYWxzZTtcclxuICAgIHRoaXMuZW5Db2xhID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwcmVsb2FkKCkge1xyXG4gICAgLy9Fc2NlbmFyaW9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhcmVkUicsICcvaW1hZ2VuZXMvcGFyZWRZVGVjaG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsb1InLCAnL2ltYWdlbmVzL3N1ZWxvLnBuZycpO1xyXG5cclxuICAgIFxyXG4gICAgLy8gUGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9BenVsJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8yJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8zJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF80JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF81JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF82JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF83JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fOC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF84JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlub1RpdHVsbycsICcvaW1hZ2VuZXMvcGVyZ2FtaW5vVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnL2ltYWdlbmVzL2JvdG9uVGV4dG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW1wb0Z1ZXJ6YScsICcvaW1hZ2VuZXMvY2FtcG9kZWZ1ZXJ6YS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdpZGxlX1Jvam8nLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18yJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzIucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fMycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18zLnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzQnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb181JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzUucG5nJyk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNicsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb182LnBuZycpO1xyXG4gICAgICAgIC8vIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzcnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICAvLyB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb184JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzgucG5nJyk7XHJcblxyXG4gICAgLy8gQkdNXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdiZ20nLCAnL3NvdW5kcy9iZ20ubXAzJyk7XHJcblxyXG4gICAgLy8gRWZlY3RvcyBkZSBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGsnLCAnL3NvdW5kcy93YWxrLm1wMycpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpe1xyXG4gICAgdGhpcy53YWxrU291bmRzID0gbmV3IE1hcCgpOyAvLyBNYXAgcGFyYSBndWFyZGFyIGVsIHNvbmlkbyBkZSBjYWRhIGp1Z2Fkb3JcclxuXHJcbiAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7IC8vIE1hcCBwYXJhIGd1YXJkYXIgbG9zIGp1Z2Fkb3JlcyBlbiBsYSBlc2NlbmFcclxuICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICB0aGlzLmJnbSA9IG51bGw7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpe1xyXG4gICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICBrZXk6ICdhbmRhcl9tYWdvX0F6dWwnLFxyXG4gICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgIHsga2V5OiAnaWRsZV9BenVsJyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMicgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzMnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF80JyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNScgfSxcclxuICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzYnIH0sXHJcbiAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF83JyB9LFxyXG4gICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfOCcgfVxyXG4gICAgICBdLFxyXG4gICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICByZXBlYXQ6IC0xXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gQ3JlYXIgdW4gc29uaWRvIGRlIHBhc29zIHBhcmEgY2FkYSBqdWdhZG9yXHJcbiAgICB0aGlzLndhbGtTb3VuZHMuc2V0KCdwbGF5ZXIxJywgdGhpcy5zb3VuZC5hZGQoJ3dhbGsnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4zIH0pKTtcclxuICAgIHRoaXMud2Fsa1NvdW5kcy5zZXQoJ3BsYXllcjInLCB0aGlzLnNvdW5kLmFkZCgnd2FsaycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjMgfSkpO1xyXG5cclxuICAgIC8vIFBhcmFyIHBhc29zIGN1YW5kbyBsYSBlc2NlbmEgc2UgcGF1c2UgKGVqLiBQYXVzZVNjZW5lKSB5IGxpbXBpYXIgc29uaWRvcyBhbCBzaHV0ZG93blxyXG4gICAgdGhpcy5ldmVudHMub24oJ3BhdXNlJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHsgdHJ5IHsgaWYgKHdzICYmIHdzLmlzUGxheWluZykgd3Muc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9IH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIEFsIHJlc3VtZSBubyBzZSByZXByb2R1Y2UgYXV0b23DoXRpY2FtZW50ZTogZWwgdXBkYXRlKCkgcmVhbnVkYXLDoSBwYXNvcyBzaSBzZSBwdWxzYSBtb3ZlclxyXG4gICAgdGhpcy5ldmVudHMub24oJ3Jlc3VtZScsICgpID0+IHtcclxuICAgICAgICAvLyBuYWRhIGVzcGVjaWFsOiB1cGRhdGUoKSB2b2x2ZXLDoSBhIHJlcHJvZHVjaXIgY3VhbmRvIGRldGVjdGUgbW92aW1pZW50b1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiAhdGhpcy5iZ20uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdtLnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8gQXNlZ3VyYXIgbGltcGllemEgY3VhbmRvIGxhIGVzY2VuYSBzZSBjaWVycmUgZGVmaW5pdGl2YW1lbnRlXHJcbiAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICAvLyBwYXJhciB5IGRlc3RydWlyIHNvbmlkb3MgZGUgcGFzb3NcclxuICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB0cnkgeyBpZiAod3MpIHdzLmRlc3Ryb3koKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgICAgaWYodGhpcy5iZ20pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ20uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ20uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWNhdGNoIChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMud2Fsa1NvdW5kcy5jbGVhcigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jcmVhckVzY2VuYXJpbygpO1xyXG4gICAgdGhpcy5jcmVhckJhcnJlcmFJbnZpc2libGUoKTtcclxuICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICB0aGlzLmVzdGFibGVjZXJDb2xpc2lvbmVzKCk7XHJcblxyXG4gICAgLy8gU3RvcCBtZW51IG11c2ljIGFuZCBwbGF5IGJhY2tncm91bmQgbXVzaWNcclxuICAgIHRoaXMuZ2FtZS5zb3VuZC5zdG9wQnlLZXkoJ211c2ljYU1lbnUnKTtcclxuICAgIHRoaXMuYmdtID0gdGhpcy5zb3VuZC5hZGQoJ2JnbScsIHsgdm9sdW1lOiAwLjcsIGxvb3A6IHRydWUgfSk7XHJcbiAgICB0aGlzLmJnbS5wbGF5KCk7XHJcblxyXG4gICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgIFxyXG4gICAgdGhpcy5jcmVhckludGVyZmF6KCk7XHJcbiAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBjcmVhckludGVyZmF6KCl7XHJcbiAgICAvLyBBcXXDrSBwdWVkZXMgY3JlYXIgbG9zIGVsZW1lbnRvcyBkZSBsYSBpbnRlcmZheiBkZSB1c3VhcmlvIG5lY2VzYXJpb3NcclxuXHJcbiAgICAvKnRoaXMuYWRkLnRleHQoNTAwLCAzNTAsICdFc3BlcmFuZG8gYSBvdHJvcyBqdWdhZG9yZXMuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpOyovXHJcblxyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICB0aGlzLnBlcmdhbWlubyA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMTAwLCAncGVyZ2FtaW5vVGl0dWxvJylcclxuICAgIHRoaXMucGVyZ2FtaW5vLnNldFNjYWxlKDAuMjUsIDAuMjApO1xyXG5cclxuICAgIC8vIFRpdGxlXHJcbiAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsICdPbmxpbmUgTXVsdGlwbGF5ZXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICB0aGlzLnRpdHVsb1RvcnJlID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDE0MCwgJ1R1IHRvcnJlOiAnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICB0aGlzLnJvb21Db2RlVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxNzAsICctLS0tLS0nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJ2ZmZmZmZicsXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcblxyXG4gICAgLy8gPT09PT09PT09PT09IFVOSVJURSBBIExBIENPTEEgKFNBTEEgQUxFQVRPUklBKSA9PT09PT09PT09PT1cclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvbGEgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMjEwLCAnw5puZXRlIGEgdW5hIHRvcnJlLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy9ib3RvbiB1bmlyc2UgYSBsYSBjb2xhXHJcbiAgICB0aGlzLmJvdG9uVW5pcnNlQ29sYSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMjcwLCAnYm90b24nKTtcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhLnNldFNjYWxlKDAuMDUsIDAuMSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAyNzAsICdUb3JyZScsIHtcclxuICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudW5pcnNlQ29sYVRleHQuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy51bmlyc2VDb2xhKCkpO1xyXG5cclxuICAgIC8qdGhpcy5lc3RhZG9Db2xhVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyIC0gNTAsICdDb25lY3RhbmRvIGFsIHNlcnZpZG9yLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7Ki9cclxuXHJcbiAgICAvLyA9PT09PT09PT09PT0gVU5JUlRFIEEgVU5BIFNBTEEgKEPDk0RJR08pID09PT09PT09PT09PSBcclxuXHJcbiAgICB0aGlzLnRpdHVsb0NvZGlnbyA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAzMzAsICdPIMO6bmV0ZSBjb24gY8OzZGlnbycsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlQ29kZUlucHV0KHdpZHRoLzIsIDM5MCk7XHJcblxyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnbyA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiw0NTAsICdib3RvbicpO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnby5zZXRTY2FsZSgwLjA1LCAwLjEpO1xyXG5cclxuICAgIHRoaXMudW5pcnNlQ29kaWdvVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA0NTAsICdVbmlyc2UnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LnNldFN0eWxlKHsgZmlsbDogJyNmZjAwMDAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KTtcclxuICAgIH0pOyBcclxuXHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy51bmlyc2VTYWxhKCkpO1xyXG5cclxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyLCAnJywge1xyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjZmYwMDAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgIFxyXG4gICAgY29uc3QgYm90b25Wb2x2ZXIgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aC8yLCA1MjAsICdib3RvbicpO1xyXG4gICAgYm90b25Wb2x2ZXIuc2V0U2NhbGUoMC4wNSwgMC4xKTtcclxuXHJcbiAgICBjb25zdCB2b2x2ZXJCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTIwLCAnVm9sdmVyJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBmb250RmFtaWx5OiAnVGFnZXNzY2hyaWZ0JyxcclxuICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgIHZvbHZlckJ1dHRvbi5zZXRTdHlsZSh7IGZpbGw6ICcjZmYwMDAwJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdm9sdmVyQnV0dG9uLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDBmZicgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB2b2x2ZXJCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4geyB7XHJcbiAgICAvLyAgIGlmKCF0aGlzLnRpdHVsb0NvbGEudmlzaWJsZSl7XHJcbiAgICAvLyAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAvLyAgICAgdGhpcy5tb3N0cmFyQm90b25lcygpO1xyXG4gICAgLy8gICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgIC8vICAgfSBlbHNlIHtcclxuICAgICAgICBcclxuICAgIC8vICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAvLyAgIGlmKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZyl7XHJcbiAgICAvLyAgICAgdGhpcy5iZ20uc3RvcCgpO1xyXG4gICAgLy8gICB9IFxyXG4gICAgLy8gICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTt9XHJcblxyXG4gICAgLy8gfX0pO1xyXG5cclxuICAgIHZvbHZlckJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gICAgICBpZih0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpe1xyXG4gICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ29kZUlucHV0KHgsIHkpIHtcclxuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBpbnB1dEVsZW1lbnQudHlwZSA9ICd0ZXh0JztcclxuICAgIGlucHV0RWxlbWVudC5pZCA9ICdyb29tQ29kZUlucHV0JztcclxuICAgIGlucHV0RWxlbWVudC5wbGFjZWhvbGRlciA9ICdDw7NkaWdvIGRlIHNhbGEnO1xyXG4gICAgaW5wdXRFbGVtZW50Lm1heExlbmd0aCA9IDY7XHJcbiAgICBpbnB1dEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB3aWR0aDogMjAwcHg7XHJcbiAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGZvbnQtZmFtaWx5OiBUYWdlc3NjaHJpZnQsIGFyaWFsO1xyXG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICBib3JkZXI6IDNweCBzb2xpZCAjZmZmZmZmO1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyMjIyO1xyXG4gICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgICB6LWluZGV4OiA5OTk5O2A7XHJcblxyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gVXNlIHRoZSBlbGVtZW50IHJlZmVyZW5jZSBkaXJlY3RseSB0byBhdm9pZCB0eXBpbmcgaXNzdWVzIG9uIEV2ZW50VGFyZ2V0XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gaW5wdXRFbGVtZW50LnZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgIHRoaXMudW5pcnNlU2FsYSgpO1xyXG4gICAgICAgIH0gXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dEVsZW1lbnQpO1xyXG5cclxuICAgICAgLy8gUG9zaXRpb24gcmVsYXRpdmUgdG8gY2FudmFzIHRvIGF2b2lkIHBhZ2Ugb2Zmc2V0c1xyXG4gICAgICBjb25zdCBpbnB1dFdpZHRoID0gMjAwO1xyXG4gICAgICBjb25zdCBpbnB1dEhlaWdodCA9IDQwO1xyXG4gICAgICBjb25zdCBwb3NpdGlvbklucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdhbWUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5yb3VuZChyZWN0LmxlZnQgKyB4IC0gaW5wdXRXaWR0aCAvIDIpfXB4YDtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuc3R5bGUudG9wID0gYCR7TWF0aC5yb3VuZChyZWN0LnRvcCArIHkgLSBpbnB1dEhlaWdodCAvIDIpfXB4YDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHBvc2l0aW9uSW5wdXQoKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgcG9zaXRpb25JbnB1dCk7XHJcblxyXG4gICAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcG9zaXRpb25JbnB1dCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHBvc2l0aW9uSW5wdXQpO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLmNvZGVJbnB1dCA9IGlucHV0RWxlbWVudDtcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBKdWdhZG9yZXMgZW4gY29sYTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmZmZjAwJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdyb29tSW5mbyc6XHJcbiAgICAgICAgLy8gU2hvdyByb29tIGNvZGUgdG8gdGhlIGNyZWF0b3JcclxuICAgICAgICBpZiAoZGF0YS5jb2RlKSB7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlID0gZGF0YS5jb2RlO1xyXG4gICAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuICAgICAgICAgIHRoaXMucm9vbUNvZGVUZXh0LnNldFRleHQoZGF0YS5jb2RlKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBTYWxhIGNyZWFkYTogJHtkYXRhLmNvZGV9YCk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdqb2luUm9vbVJlc3VsdCc6XHJcbiAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZSA9IGRhdGEuY29kZTtcclxuICAgICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlVGV4dC5zZXRUZXh0KGRhdGEuY29kZSk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnVW5pZG8gYSBsYSBzYWxhLicpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGRhdGEubWVzc2FnZSB8fCAnTm8gc2UgcHVkbyB1bmlyIGEgbGEgc2FsYS4nKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ3N0YXJ0R2FtZSc6XHJcbiAgICAgIGNhc2UgJ2dhbWVTdGFydCc6XHJcbiAgICAgICAgLy8gUHJldmVuaXIgZXZlbnRvcyBkdXBsaWNhZG9zXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXJ0ZWQpIHJldHVybjtcclxuICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZGF0YS5jb2RlKSB7XHJcbiAgICAgICAgICB0aGlzLnJvb21Db2RlID0gZGF0YS5jb2RlO1xyXG4gICAgICAgICAgdGhpcy5yb29tQ29kZVRleHQuc2V0VGV4dChkYXRhLmNvZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFQYXJ0aWRhIGluaWNpYW5kbyEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1BhcnRpZGEgaW5pY2lhbmRvIScsIGRhdGEpO1xyXG4gICAgICAgIGlmICh0aGlzLmJnbSl7XHJcbiAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgICB0aGlzLmJnbS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRyYW5zaWNpb24gYSBsYSBlc2NlbmEgZGVsIGp1ZWdvXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lTycsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCB8fCB0aGlzLnJvb21JZCxcclxuICAgICAgICAgIGluaXRpYWxCYWxsOiBkYXRhLmJhbGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1bmlyc2VDb2xhKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLmVuQ29sYSA9IHRydWU7XHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcclxuXHJcbiAgICAgIHRoaXMub2N1bHRhckJvdG9uZXMoKTtcclxuXHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdCdXNjYW5kbyBwYXJ0aWRhLi4uJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ05vIGNvbmVjdGFkbyBhbCBzZXJ2aWRvci4gRXJyb3IgZGUgY29uZXh0acOzbi4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvY3VsdGFyQm90b25lcygpIHtcclxuICAgIHRoaXMudGl0dWxvQ29sYS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy51bmlyc2VDb2xhVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIHRoaXMudW5pcnNlQ29sYVRleHQuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcblxyXG5cclxuICAgIHRoaXMudGl0dWxvQ29kaWdvLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgdGhpcy5jb2RlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2RpZ28uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgaWYodGhpcy5jb2RlSW5wdXQpe1xyXG4gICAgICB0aGlzLmNvZGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbW9zdHJhckJvdG9uZXMoKSB7XHJcbiAgICB0aGlzLnRpdHVsb0NvbGEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuYm90b25Vbmlyc2VDb2xhLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvbGFUZXh0LnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgdGhpcy50aXR1bG9Db2RpZ28uc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuY29kZUlucHV0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgdGhpcy5ib3RvblVuaXJzZUNvZGlnby5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy51bmlyc2VDb2RpZ29UZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLnVuaXJzZUNvZGlnb1RleHQuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBpZih0aGlzLmNvZGVJbnB1dCl7XHJcbiAgICAgIHRoaXMuY29kZUlucHV0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdW5pcnNlU2FsYSgpIHtcclxuICAgIGNvbnN0IGNvZGUgPSB0aGlzLmNvZGVJbnB1dC52YWx1ZS50cmltKCkudG9VcHBlckNhc2UoKTtcclxuICAgIGlmKCFjb2RlKXtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ1BvciBmYXZvciwgaW50cm9kdWNlIHVuIGPDs2RpZ28gZGUgc2FsYS4nKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZihjb2RlLmxlbmd0aCAhPT0gNil7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdFbCBjw7NkaWdvIGRlIHNhbGEgZGViZSB0ZW5lciA2IGNhcmFjdGVyZXMuJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblJvb20nLCBjb2RlOiBjb2RlIH0pKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0ludGVudGFuZG8gdW5pcnNlIGEgbGEgc2FsYS4uLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZmZmMDAnKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnTm8gY29uZWN0YWRvIGFsIHNlcnZpZG9yLiBFcnJvciBkZSBjb25leHRpw7NuLicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcbiAgdXBkYXRlKCl7XHJcbiAgICB0aGlzLmlucHV0TWFwcGluZ3MuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgY29uc3QgbWFnbyA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgICBsZXQgc2FsdG8gPSBmYWxzZTtcclxuICAgICAgY29uc3Qgd2Fsa1NvdW5kID0gdGhpcy53YWxrU291bmRzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgbGV0IGlzTW92aW5nID0gZmFsc2U7XHJcbiAgICAgIGlmIChtYXBwaW5nLnVwS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5kb3duS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICBtYWdvLnNwcml0ZS5mbGlwWCA9IGZhbHNlO1xyXG4gICAgICAgICAgbWFnby5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICAgIG1hZ28uYW5kYXJfYW5pbWFjaW9uKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb24gPSAnc3RvcCc7XHJcbiAgICAgICAgICBtYWdvLmFuZGFyX2FuaW1hY2lvbl9wYXJhcigpO1xyXG5cclxuICAgICAgICAgIGlmICh3YWxrU291bmQgJiYgd2Fsa1NvdW5kLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgIHdhbGtTb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc01vdmluZyAmJiB3YWxrU291bmQgJiYgIXdhbGtTb3VuZC5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgIHdhbGtTb3VuZC5wbGF5KCk7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVNYWdvQ29tbWFuZChtYWdvLCBkaXJlY3Rpb24sIHNhbHRvKTtcclxuICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcbiAgICB9KTtcclxuXHJcbiB9XHJcblxyXG5cclxuICBjcmVhckVzY2VuYXJpbygpIHtcclxuICAgICAgICB0aGlzLnN1ZWxvID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDAsIDQ3MiwgJ3N1ZWxvUicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8uc2V0U2NhbGUoMC41NSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGFyZWQgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgMjA1LCAncGFyZWRSJyk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYXJlZC5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnBhcmVkLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoOTQwLCAzMTAsICdjYW1wb0Z1ZXJ6YScpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNhbXBvRnVlcnphLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJCYXJyZXJhSW52aXNpYmxlKCkge1xyXG4gICAgICAgIC8vIENyZWFyIHVuYSBiYXJyZXJhIGludmlzaWJsZSBxdWUgZXZpdGEgcXVlIHN1YmEgaGFjaWEgYXJyaWJhIChwZXJvIHB1ZWRhIGFuZGFyIGxpYnJlbWVudGUgcG9yIGVsIHN1ZWxvKVxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljSW1hZ2UoNTAwLCAxMDUsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRTaXplKDEwMDAsIDUwMCk7IFxyXG4gICAgICAgIHRoaXMuYmFycmVyYUludmlzaWJsZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuYm9keS5zZXRTaXplKDEwMDAsIDUwMCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVzdGFibGVjZXJDb2xpc2lvbmVzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBCYXJyZXJhIGludmlzaWJsZSBwYXJhIHBlcm1pdGlyIGFyZWEgZGUgc3VlbG8gZG9uZGUgc2UgZGVzcGxhY2VuIGxpYnJlbWVudGUsIHkgYXJlYSBkZSBzYWx0byBwYXJhIHN1YmlyIHBvciBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICAgICAgLy8gQmFycmVyYSBpbnZpc2libGUgcGFyYSBwZXJtaXRpciBhcmVhIGRlIHN1ZWxvIGRvbmRlIHNlIGRlc3BsYWNlbiBsaWJyZW1lbnRlLCB5IGFyZWEgZGUgc2FsdG8gcGFyYSBzdWJpciBwb3IgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgICAgICBjb25zdCBsZWZ0TWFnbyA9IG5ldyBNYWdvKHRoaXMsICdwbGF5ZXIxJywgNTAsIDQwMCwgJ2lkbGVfQXp1bCcpO1xyXG4gICAgICAgICAgICAvLyBjb25zdCByaWdodE1hZ28gPSBuZXcgTWFnbyh0aGlzLCAncGxheWVyMicsIDk1MCwgNDAwLCAnaWRsZV9BenVsJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIGxlZnRNYWdvKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHJpZ2h0TWFnbyk7XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgICAgICBkb3duS2V5OiAnRE9XTicsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1bXA6ICdTUEFDRSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICB1cEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGRvd25LZXk6ICdTJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBqdW1wOiAnRU5URVInXHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIF1cclxuICAgIFxyXG4gICAgICAgICAgICAvL3RoaXMuaW50cHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZzsgXHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAgZG93bktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5kb3duS2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgICAgICBqdW1wT2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmp1bXBdKSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZShkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bWluZyBHYW1lU2NlbmUgd2l0aCBkYXRhOlwiLCBkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnBvY2lvbmVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50YXJpbyA9IGRhdGEucG9jaW9uZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBJbnZlbnRhcmlvWyR7aW5kZXh9XTogJHtpdGVtfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RUb1NlcnZlcigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlciAoc2FtZSBob3N0IGFzIHdlYiBzZXJ2ZXIpXHJcbiAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH0vd3NgO1xyXG5cclxuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG5cclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgLy90aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRXNwZXJhbmRvIGEgdHUgY29tcGHDsWVyby4uLicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25lY3RhZG8gYWwgc2Vydmlkb3IuJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSm9pbiBtYXRjaG1ha2luZyBxdWV1ZVxyXG4gICAgICAgIC8vdGhpcy4uc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGVycm9yIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnTG9iYnlTY2VuZScpKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBsb3N0IScpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBzZXJ2ZXI6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRmFpbGVkIHRvIGNvbm5lY3QhJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxuXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1hZ28gfSBmcm9tICcuLi9lbnRpdGllcy9NYWdvJ1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC9jb21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZU1hZ29Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9Nb3ZlTWFnb0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBQYXVzZUdhbWVDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC9QYXVzZUdhbWVDb21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmVPIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lTycpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gRXNjZW1uYXJpbyB5IG9iamV0b3MgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJlZFInLCAnL2ltYWdlbmVzL3BhcmVkWVRlY2hvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VlbG9SJywgJy9pbWFnZW5lcy9zdWVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvbGFDcmlzdGFsUicsICcvaW1hZ2VuZXMvYm9sYUNyaXN0YWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYWxkZXJvUicsICcvaW1hZ2VuZXMvY2FsZGVyb0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FtcG9GdWVyemFSJywgJy9pbWFnZW5lcy9jYW1wb2RlZnVlcnphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY29mcmVSJywgJy9pbWFnZW5lcy9jb2ZyZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvZnJlQWJpZXJ0b1InLCAnL2ltYWdlbmVzL2NvZnJlQWJpZXJ0by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VzdGFudGVyaWFSJywgJy9pbWFnZW5lcy9lc3RhbnRlcmlhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGxhdmVSJywgJy9pbWFnZW5lcy9sbGF2ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcmdhbWlub1InLCAnL2ltYWdlbmVzL3BlcmdhbWlub0NvbG9yLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhbnRhUicsICcvaW1hZ2VuZXMvcGxhbnRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSJywgJy9pbWFnZW5lcy9wb2Npb25lcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZlbGFzUicsICcvaW1hZ2VuZXMvdmVsYXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdlc3RhbnRlUicsICcvaW1hZ2VuZXMvZXN0YW50ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xpYnJvc1InLCAnL2ltYWdlbmVzL2xpYnJvcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVlInLCAnL2ltYWdlbmVzL2JvdG9uVmFjaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNSJywgJy9pbWFnZW5lcy9ib3RvbkNvbXBsZXRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXN0cmVsbGFSJywgJy9pbWFnZW5lcy9lc3RyZWxsYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzQXonLCAnL2ltYWdlbmVzL3BvY2lvbkF6dWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb2Npb25lc0FtJywgJy9pbWFnZW5lcy9wb2Npb25lc0FtYXJpbGxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNOJywgJy9pbWFnZW5lcy9wb2Npb25OYXJhbmphLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNSbycsICcvaW1hZ2VuZXMvcG9jaW9uUm9zYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvY2lvbmVzTScsICcvaW1hZ2VuZXMvcG9jaW9uTW9yYWRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9jaW9uZXNWJywgJy9pbWFnZW5lcy9wb2Npb25WZXJkZS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWRsZV9BenVsJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8yJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF8zJywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF80JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF81JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF82JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fNy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF83JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fOC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyQXp1bF84JywgJy9pbWFnZW5lcy9NYWdvX0FuZGFuZG9fMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkbGVfUm9qbycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb18xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzInLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb18zJywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNCcsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb180LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzUnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fNS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FuZGFyUm9qb182JywgJy9pbWFnZW5lcy9NYWdvUm9qb19BbmRhbmRvXzYucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhbmRhclJvam9fNycsICcvaW1hZ2VuZXMvTWFnb1Jvam9fQW5kYW5kb183LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYW5kYXJSb2pvXzgnLCAnL2ltYWdlbmVzL01hZ29Sb2pvX0FuZGFuZG9fOC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZXJmYXogTXVlcnRlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJy9pbWFnZW5lcy9ib3RvblRleHRvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCR01cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2JnbScsICcvc291bmRzL2JnbS5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvcyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdhYnJpckNvZnJlJywgJy9zb3VuZHMvY2hlc3Rfb3Blbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJQb2Npb24nLCAnL3NvdW5kcy9ib3RlbGxhcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3JlY29nZXJMbGF2ZScsICcvc291bmRzL2xsYXZlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2FsaycsICcvc291bmRzL3dhbGsubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdleHBsb3Npb24nLCAnL3NvdW5kcy9leHBsb3Npb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwdWVydGEnLCAnL3NvdW5kcy9wdWVydGEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd0cmlnZ2VyJywgJy9zb3VuZHMvdHJpZ2dlci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3BlcXVlw7FvJywgJy9zb3VuZHMvcGVxdWXDsW8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIEludGVyZmF6XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0aXR1bG8nLCAnL2ltYWdlbmVzL3BlcmdhbWlub1RpdHVsby5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICcvaW1hZ2VuZXMvYm90b25UZXh0by5wbmcnKTsgXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxQdWxzYWRhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuY29mcmVBYmllcnRvID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzID0gbmV3IE1hcCgpOyAvLyBNYXAgcGFyYSBndWFyZGFyIGVsIHNvbmlkbyBkZSBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICAvLyB0aGlzLnZpc2l0TGlicmVyaWEgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gQXJyYXkgZGUgYm9vbGVhbm9zIHF1ZSByZXByZXNlbnRhIHF1ZSBvYmpldG9zIGhhbiByZWNvZ2lkbyBlbnRyZSBhbWJvcyBqdWdhZG9yZXNcclxuICAgICAgICAvLyBMb3Mgb2JqZXRvcyBzb246IDAtbGxhdmUsIDEtbGlicm9zLCAyLSBwb2Npb24gbW9yYWRhLCAzLSBwb2Npb24gdmVyZGUsIDQtIHBvY2lvbiByb3NhLCA1LSBwb2Npb24gYXp1bCwgNi0gcG9jaW9uIGFtYXJpbGxhLCA3LSBwb2Npb24gbmFyYW5qYSwgOC0gdmVsYXMsIDktIGJvbGEgZGUgY3Jpc3RhbCwgMTAtIHBsYW50YSwgMTEtIGVzdHJlbGxhIDEsIDEyLSBlc3RyZWxsYSAyXHJcbiAgICAgICAgdGhpcy5pbnZlbnRhcmlvID0gW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMud3MgPSBkYXRhLndzO1xyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZTsgLy8gJ3BsYXllcjEnIG9yICdwbGF5ZXIyJyAgICBcclxuICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sT3BvbmVudGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRlc2FjdGl2YWRvID0gW2ZhbHNlLCBmYWxzZV07IC8vIFNhYmVyIHF1ZSBqdWdhZG9yIGhhIHBhc2FkbyBwb3IgbGEgcHVlcnRhIGZpbmFsXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2FuZGFyX21hZ29fQXp1bCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdpZGxlX0F6dWwnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF8yJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfMycgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF81JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhckF6dWxfNicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJBenVsXzcnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyQXp1bF84JyB9XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdhbmRhcl9tYWdvX1Jvam8nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnaWRsZV9Sb2pvJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fMicgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb180JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fNScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnYW5kYXJSb2pvXzYnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2FuZGFyUm9qb183JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdhbmRhclJvam9fOCcgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYmdtID0gdGhpcy5zb3VuZC5hZGQoJ2JnbScsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgdW4gc29uaWRvIGRlIHBhc29zIHBhcmEgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMScsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcbiAgICAgICAgdGhpcy53YWxrU291bmRzLnNldCgncGxheWVyMicsIHRoaXMuc291bmQuYWRkKCd3YWxrJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMyB9KSk7XHJcblxyXG4gICAgICAgIC8vIFBhcmFyIHBhc29zIGN1YW5kbyBsYSBlc2NlbmEgc2UgcGF1c2UgKGVqLiBQYXVzZVNjZW5lKSB5IGxpbXBpYXIgc29uaWRvcyBhbCBzaHV0ZG93blxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdwYXVzZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy53YWxrU291bmRzLmZvckVhY2god3MgPT4geyB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH0gfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQWwgcmVzdW1lIG5vIHNlIHJlcHJvZHVjZSBhdXRvbcOhdGljYW1lbnRlOiBlbCB1cGRhdGUoKSByZWFudWRhcsOhIHBhc29zIHNpIHNlIHB1bHNhIG1vdmVyXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3Jlc3VtZScsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gbmFkYSBlc3BlY2lhbDogdXBkYXRlKCkgdm9sdmVyw6EgYSByZXByb2R1Y2lyIGN1YW5kbyBkZXRlY3RlIG1vdmltaWVudG9cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBBc2VndXJhciBsaW1waWV6YSBjdWFuZG8gbGEgZXNjZW5hIHNlIGNpZXJyZSBkZWZpbml0aXZhbWVudGVcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gcGFyYXIgeSBkZXN0cnVpciBzb25pZG9zIGRlIHBhc29zXHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5mb3JFYWNoKHdzID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cyAmJiB3cy5pc1BsYXlpbmcpIHdzLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHdzKSB3cy5kZXN0cm95KCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1NvdW5kcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAvLyBwYXJhciBCR01cclxuICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuYmdtICYmICh0aGlzLmJnbS5pc1BsYXlpbmcgfHwgdGhpcy5iZ20uaXNQYXVzZWQpKSB0aGlzLmJnbS5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIENyZWFyIGVzY2VuYXJpb1xyXG4gICAgICAgIHRoaXMuY3JlYXJFc2NlbmFyaW8oKTtcclxuICAgICAgICB0aGlzLmNyZWFyUGxhdGFmb3JtYXMoKTtcclxuICAgICAgICB0aGlzLmNyZWFyQmFycmVyYUludmlzaWJsZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5lc3RhYmxlY2VyQ29saXNpb25lcygpO1xyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpb0VuUGFudGFsbGEoKTsgXHJcblxyXG4gICAgICAgIC8vTW9zdHJhciB2aWRhc1xyXG4gICAgICAgIHRoaXMuaGVhbHRoTGVmdCA9IHRoaXMuYWRkLnRleHQoNTAsIDMwLCAnMycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmhlYWx0aFJpZ2h0ID0gdGhpcy5hZGQudGV4dCg5MDAsIDMwLCAnMycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMGZmJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBNb3N0YXIgcXVlIGp1Z2Fkb3IgZXMgY2FkYSB1bm9cclxuICAgICAgICBjb25zdCBsb2NhbFBsYXllclRleHQgPSB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/ICdFcmVzIGVsIEp1Z2Fkb3IgMSAoQXp1bCknIDogJ0VyZXMgZWwgSnVnYWRvciAyIChSb2pvKSc7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDQwLCBsb2NhbFBsYXllclRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7ICBcclxuXHJcblxyXG4gICAgICAgIC8vIEFzaWduYXIgYSBjYWRhIGp1Z2Fkb3Igc2kgZXMgbG9jYWwgbyByZW1vdG9cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbnB1dHNcclxuICAgICAgICB0aGlzLmN1cnNvcnMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcclxuICAgICAgICB0aGlzLmp1bXBLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuU1BBQ0UpO1xyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICAgICAgdGhpcy5sa2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkwpO1xyXG4gICAgICAgIHRoaXMucWtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5RKTtcclxuICAgIFxyXG4gICAgICAgIC8vIFdlYlNvY2tldCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHRpbWUsIGRlbHRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxvY2FsUGxheWVyIHx8ICF0aGlzLnJlbW90ZVBsYXllcikgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZXRlY3RhciBkaXJlY2Npw7NuIGRlIG1vdmltaWVudG8gbG9jYWxcclxuICAgICAgICBsZXQgZGlyZWNjaW9uID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLnVwLmlzRG93bikgZGlyZWNjaW9uID0gJ3VwJztcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvcnMuZG93bi5pc0Rvd24pIGRpcmVjY2lvbiA9ICdkb3duJztcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvcnMubGVmdC5pc0Rvd24pIGRpcmVjY2lvbiA9ICdsZWZ0JztcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvcnMucmlnaHQuaXNEb3duKSBkaXJlY2Npb24gPSAncmlnaHQnO1xyXG4gICAgICAgIGVsc2UgZGlyZWNjaW9uID0gJ3N0b3AnO1xyXG5cclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSB0aGlzLmVzY0tleS5pc0Rvd247XHJcbiAgICAgICAgdGhpcy5sUHVsc2FkYSA9IGZhbHNlOyAvL3ZvbHZlciBhIHBvbmVyIGEgZmFsc2Ugc2kgbm8gaGEgaGFiaWRvIG92ZXJsYXBcclxuICAgICAgICB0aGlzLmxPcG9uZW50ZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmxrZXkuaXNEb3duIHx8IHRoaXMucWtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5sUHVsc2FkYSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2xQdWxzYWRhJyAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29tcHJvYmFyIHNpIGFsZ3VubyBkZSBsb3MganVnYWRvcmVzIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gobWFnbyA9PiB7XHJcbiAgICAgICAgICAgIG1hZ28udXBkYXRlKGRlbHRhKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRWplY3V0YXIgY29tYW5kbyBkZSBtb3ZpbWllbnRvIGxvY2FsXHJcbiAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVNYWdvQ29tbWFuZCh0aGlzLmxvY2FsUGxheWVyLCBkaXJlY2Npb24sIHRoaXMuanVtcEtleS5pc0Rvd24pO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG5cclxuICAgICAgICBpZihkaXJlY2Npb24hPT0nc3RvcCcpe1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLmFuZGFyX2FuaW1hY2lvbigpO1xyXG4gICAgICAgICAgICBpZihkaXJlY2Npb249PT0nbGVmdCcpIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGVsc2UgaWYoZGlyZWNjaW9uPT09XCJyaWdodFwiKSB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsb2NhbFdhbGs9IHRoaXMud2Fsa1NvdW5kcy5nZXQodGhpcy5wbGF5ZXJSb2xlKTtcclxuICAgICAgICBpZihkaXJlY2Npb24hPT0nc3RvcCcpe1xyXG4gICAgICAgICAgICBpZihsb2NhbFdhbGsgJiYgIWxvY2FsV2Fsay5pc1BsYXlpbmcpe1xyXG4gICAgICAgICAgICAgICAgbG9jYWxXYWxrLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmKGxvY2FsV2FsayAmJiBsb2NhbFdhbGsuaXNQbGF5aW5nKXtcclxuICAgICAgICAgICAgICAgIGxvY2FsV2Fsay5zdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVudmlhciBwb3NpY2nDs24gZGVsIGp1Z2Fkb3IgbG9jYWwgYWwgc2Vydmlkb3JcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ3BsYXllck1vdmUnLFxyXG4gICAgICAgICAgICB4OiB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLmxvY2FsUGxheWVyLnNwcml0ZS55LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjY2lvbixcclxuICAgICAgICAgICAgaXNNb3Zpbmc6IGRpcmVjY2lvbiAhPT0gJ3N0b3AnLFxyXG4gICAgICAgICAgICBmbGlwWDogdGhpcy5sb2NhbFBsYXllci5zcHJpdGUuZmxpcFggXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGF2aXNhciBhbCBvdHJvIGp1Z2Fkb3Igc2kgaGEgaGFiaWRvIGNhbWJpb3MgZW4gZWwgaW52ZW50YXJpbyBlbiBsYSBlc2NlbmEgZGUgbGEgbGlicmVyw61hXHJcbiAgICAgICAgLy8gaWYodGhpcy52aXNpdExpYnJlcmlhKXtcclxuICAgICAgICAvLyAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgLy8gICAgICAgICB0eXBlOiAnYWN0dWFsaXphckludmVudGFyaW8nLFxyXG4gICAgICAgIC8vICAgICAgICAgaW52ZW50YXJpbzogdGhpcy5pbnZlbnRhcmlvXHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vICAgICB0aGlzLnZpc2l0TGlicmVyaWEgPSBmYWxzZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5hY3R1YWxpemFySW52ZW50YXJpb0VuUGFudGFsbGEoKTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyRXNjZW5hcmlvKCkge1xyXG4gICAgICAgIHRoaXMuc3VlbG8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDcyLCAnc3VlbG9SJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zdWVsby5zZXRTY2FsZSgwLjU1KTtcclxuICAgICAgICB0aGlzLnN1ZWxvLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wYXJlZCA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNTAwLCAyMDUsICdwYXJlZFInKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhcmVkLnNldFNjYWxlKDAuNTUpO1xyXG4gICAgICAgIHRoaXMucGFyZWQuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE2NSwgMzAwLCAnZXN0YW50ZXJpYVInKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE4NSwgMzAzLCAnYm9sYUNyaXN0YWxSJyk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib2xhQ3Jpc3RhbC5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuYm9sYUNyaXN0YWwuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8gPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwMCwgNDMwLCAnY2FsZGVyb1InKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm8uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDk0MCwgMzEwLCAnY2FtcG9GdWVyemFSJyk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMuY2FtcG9GdWVyemEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvZnJlID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg1MDUsIDI4MywgJ2NvZnJlUicpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY29mcmUuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmNvZnJlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sbGF2ZSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoMTcwLCAxNjAsICdsbGF2ZVInKTtcclxuICAgICAgICB0aGlzLmxsYXZlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxsYXZlLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5sbGF2ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGVyZ2FtaW5vID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg3ODAsIDE4MCwgJ3BlcmdhbWlub1InKTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wZXJnYW1pbm8uc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBlcmdhbWluby5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxhbnRhID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNzAsIDM2NSwgJ3BsYW50YVInKTtcclxuICAgICAgICB0aGlzLnBsYW50YS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wbGFudGEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnBsYW50YS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE2OSwgMjYyLCAncG9jaW9uZXNSJyk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb2Npb25lcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMucG9jaW9uZXMuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZlbGFzID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSgxNDAsIDMwOCwgJ3ZlbGFzUicpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMudmVsYXMuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLnZlbGFzLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saWJyb3MgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDE1MCwgMjIwLCAnbGlicm9zUicpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxpYnJvcy5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIHRoaXMubGlicm9zLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDUwLCAzNTAsICdib3RvblZSJyk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90b24xLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjEuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJvdG9uMiA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNzgwLCAzNTAsICdib3RvblZSJyk7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90b24yLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5ib3RvbjIuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gZXN0cmVsbGFzIGRlIGRlbnRybyBkZWwgY29mcmVcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMSA9IHRoaXMucGh5c2ljcy5hZGQuaW1hZ2UoNDUwLCAyODMsICdlc3RyZWxsYVInKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTEuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRBbHBoYSgwLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGExLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIgPSB0aGlzLnBoeXNpY3MuYWRkLmltYWdlKDU2MCwgMjgzLCAnZXN0cmVsbGFSJyk7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgdGhpcy5lc3RyZWxsYTIuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMi5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWFyQmFycmVyYUludmlzaWJsZSgpIHtcclxuICAgICAgICAvLyBDcmVhciB1bmEgYmFycmVyYSBpbnZpc2libGUgcXVlIGV2aXRhIHF1ZSBzdWJhIGhhY2lhIGFycmliYSAocGVybyBwdWVkYSBhbmRhciBsaWJyZW1lbnRlIHBvciBlbCBzdWVsbylcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0ltYWdlKDUwMCwgMTA1LCBudWxsKTtcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0U2l6ZSgxMDAwLCA1MDApOyBcclxuICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5iYXJyZXJhSW52aXNpYmxlLmJvZHkuc2V0U2l6ZSgxMDAwLCA1MDApO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjb2xsaWRlciBpbnZpc2libGUgcGFyYSBxdWUgcHVlZGEgdXNhciBsYSBiYWxkYSBzdXBlcmlvciBkZSBsYSBlc3RhbnRlcsOtwq1hIGNvbW8gcGxhdGFmb3JtYVxyXG4gICAgICAgIHRoaXMuZXN0YW50ZXJpYUNvbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxNjUsIDE5NSwgJ3doaXRlX3BpeGVsJyk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmVzdGFudGVyaWFDb2xsLnNldEFscGhhKDAuMCk7XHJcbiAgICAgICAgdGhpcy5lc3RhbnRlcmlhQ29sbC5zZXRTY2FsZSg0LCAwLjUpO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBjb2xsaWRlciBpbnZpc2libGUgcGFyYSBldml0YXIgcXVlIGF0cmF2aWVzZSBlbCBjYWxkZXJvXHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDUwMCwgNDAwLCAnd2hpdGVfcGl4ZWwnKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuc2V0QWxwaGEoMC4wKTtcclxuICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLnNldENpcmNsZSg4NSk7XHJcbiAgICAgICAgdGhpcy5jYWxkZXJvQ29sbC5ib2R5LnNldE9mZnNldCgtNzAsIC01NSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJQbGF0YWZvcm1hcygpIHtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG4gICAgICAgIC8vIENlbnRyb1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDQ0NiwgMzE1LCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg1MTAsIDMxNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNTcwLCAzMTUsICdlc3RhbnRlUicpO1xyXG5cclxuICAgICAgICAvLyBJenF1aWVyZGFcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSg2NTAsIDM1MCwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoNjUwLCAyMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDcwMCwgMzkwLCAnZXN0YW50ZVInKTtcclxuXHJcbiAgICAgICAgLy8gRGVyZWNoYVxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDQ0NiwgMjUwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzNjAsIDIzNSwgJ2VzdGFudGVSJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hcy5jcmVhdGUoMjk1LCAyMTUsICdlc3RhbnRlUicpO1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYXMuY3JlYXRlKDMwMCwgMzkwLCAnZXN0YW50ZVInKTtcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWFzLmNyZWF0ZSgzODAsIDM1MCwgJ2VzdGFudGVSJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVzdGFibGVjZXJDb2xpc2lvbmVzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIC8vIENvbGlzaW9uZXMgZGVsIGp1Z2Fkb3IgY29uIGVsIGVzY2VuYXJpb1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0YW50ZXJpYUNvbGwpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMucGxhdGFmb3JtYXMpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMuY2FsZGVyb0NvbGwpO1xyXG4gICAgICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5jb2ZyZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDb25zZWd1aXIgbGEgbGxhdmVcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMubGxhdmUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdyZWNvZ2VyTGxhdmUnLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sbGF2ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxsYXZlIGNvbnNlZ3VpZGFcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMF0gPSB0cnVlOyAvLyBtYXJjYXIgZW4gZWwgaW52ZW50YXJpbyBxdWUgc2UgaGEgY29uc2VndWlkbyBsYSBsbGF2ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jZXJvLnNldEFscGhhKDEpOyBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaWQ7IFxyXG4gICAgICAgICAgICBpZihwbGF5ZXIucGxheWVySWQgPT09ICdwbGF5ZXIxJykgaWQgPSAxO1xyXG4gICAgICAgICAgICBlbHNlIGlkID0gMjtcclxuXHJcbiAgICAgICAgICAgIC8vIEFicmlyIGxhIGxpYnJlcsOtwq1hXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLmVzdGFudGVyaWEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxQdWxzYWRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy52aXNpdExpYnJlcmlhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0xpYnJlcmlhU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmVPJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9jaW9uZXM6IHRoaXMuaW52ZW50YXJpbyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291bmQ6IHRoaXMuc291bmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1Z2Fkb3I6IGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cyA6IHRoaXMud3NcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBCYXJyZXJhIGludmlzaWJsZSBwYXJhIHBlcm1pdGlyIGFyZWEgZGUgc3VlbG8gZG9uZGUgc2UgZGVzcGxhY2VuIGxpYnJlbWVudGUsIHkgYXJlYSBkZSBzYWx0byBwYXJhIHN1YmlyIHBvciBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhcnJlcmFJbnZpc2libGUsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWwgY29saXNpb25hciBjb24gbGEgYmFycmVyYSBpbnZpc2libGUgbWllbnRyYXMgZWwganVnYWRvciB2YSBoYWNpYSBhcnJpYmEsIHNhbHRhXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5qdW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGNhbGxiYWNrIC0gb25seSBjb2xsaWRlIHdoZW4gbW92aW5nIHVwIGFuZCBub3QganVtcGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTW92aW5nVXAgPSBwbGF5ZXIuc3ByaXRlLmJvZHkudmVsb2NpdHkueSA8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFwbGF5ZXIuaXNKdW1waW5nICYmIGlzTW92aW5nVXA7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXIgcG9jaW9uIGRlIGRpc21pbnVpciB0YW1hw7FvIHNpIHNlIHRpZW5lbiBsYXMgcG9jaW9uZXMgbmVjZXNhcmlhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5jYWxkZXJvLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMubGtleSkgfHwgUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMucWtleSkpIHsgLy8gQ29tcHJvYmFyIHF1ZSBzZSBoYSBwdWxzYWRvIGxhIHRlY2xhIEwgbyBRIHBhcmEgY3JlYXIgbGEgcG9jaW9uIChzaSBzZSBtYW50aWVuZSBwdWxzYWRhIGxhIHRlY2xhIG5vIGVudHJhcsOhIHZhcmlhcyB2ZWNlcyBhIGxhIGZ1bmNpw7NuKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndXNhckNhbGRlcm8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRhcmlvOnRoaXMuaW52ZW50YXJpb1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAvLyBBYnJpciBlbCBjb2ZyZSBzaSBzZSB0aWVuZSBsYSBsbGF2ZVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5jb2ZyZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvZnJlQWJpZXJ0bykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludmVudGFyaW9bMF0pIHsgLy8gY29tcHJvYmFyIHF1ZSB0aWVuZSBsYSBsbGF2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ29mcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5lY2VzaXRhcyBsYSBsbGF2ZSBwYXJhIGFicmlyIGVsIGNvZnJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZWNvZ2VyIGVzdHJlbGxhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5lc3RyZWxsYTEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb2dlckVzdHJlbGxhKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuZXN0cmVsbGEyLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29nZXJFc3RyZWxsYSgyKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy9jb2xvY2FyIGVzdHJlbGxhc1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb2NhckVzdHJlbGxhKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHBsYXllci5zcHJpdGUsIHRoaXMuYm90b24yLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9jYXJFc3RyZWxsYSgyKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gcHVsc2FyIGJvdG9uZXMgcGFyYSBkZXNhY3RpdmFyIGVsIGNhbXBvIGRlIGZ1ZXJ6YVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdib3RvbkNhbXBvRnVlcnphJyxcclxuICAgICAgICAgICAgICAgICAgICBib3RvbjogMVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgdGhpcy5ib3RvbjIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdib3RvbkNhbXBvRnVlcnphJyxcclxuICAgICAgICAgICAgICAgICAgICBib3RvbjogMlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIExvcyBvYmpldG9zIHNvbjogMC1sbGF2ZSwgMS1saWJyb3MsIDItIHBvY2lvbiBtb3JhZGEsIDMtIHBvY2lvbiB2ZXJkZSwgNC0gcG9jaW9uIHJvc2EsIDUtIHBvY2lvbiBhenVsLCA2LSBwb2Npb24gYW1hcmlsbGEsIDctIHBvY2lvbiBuYXJhbmphLCA4LSB2ZWxhcywgOS0gYm9sYSBkZSBjcmlzdGFsLCAxMC0gcGxhbnRhLCAxMS0gZXN0cmVsbGEgMSwgMTItIGVzdHJlbGxhIDJcclxuICAgIGludmVudGFyaW9FblBhbnRhbGxhKCkgeyAvL0NvbW8gc2UgYWNhYmEgZGUgY3JlYXIsIHRvZGF2w61hIG5vIHNlIGhhYnLDoSByZWNvZ2lkbyBuaW5nw7puIGVsZW1lbnRvXHJcbiAgICAgICAgdGhpcy5jZXJvID0gdGhpcy5hZGQuaW1hZ2UoMjAwLCA1MjAsICdsbGF2ZVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMudW5vID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCA1MjAsICdsaWJyb3NSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZG9zID0gdGhpcy5hZGQuaW1hZ2UoMzAwLCA1MjAsICdwb2Npb25lc00nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMudHJlcyA9IHRoaXMuYWRkLmltYWdlKDM1MCwgNTIwLCAncG9jaW9uZXNWJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLmN1YXRybyA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTIwLCAncG9jaW9uZXNSbycpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5jaW5jbyA9IHRoaXMuYWRkLmltYWdlKDQ1MCwgNTIwLCAncG9jaW9uZXNBeicpLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zZWlzID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA1MjAsICdwb2Npb25lc0FtJykuc2V0QWxwaGEoMC4yKTtcclxuICAgICAgICB0aGlzLnNpZXRlID0gdGhpcy5hZGQuaW1hZ2UoNTUwLCA1MjAsICdwb2Npb25lc04nKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMub2NobyA9IHRoaXMuYWRkLmltYWdlKDYwMCwgNTIwLCAndmVsYXNSJykuc2V0QWxwaGEoMC4yKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMubnVldmUgPSB0aGlzLmFkZC5pbWFnZSg2NTAsIDUyMCwgJ2JvbGFDcmlzdGFsUicpLnNldEFscGhhKDAuMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRpZXogPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUyMCwgJ3BsYW50YVInKS5zZXRBbHBoYSgwLjIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5vbmNlID0gdGhpcy5hZGQuaW1hZ2UoNzUwLCA1MjAsICdlc3RyZWxsYVInKS5zZXRBbHBoYSgwLjIpO1xyXG4gICAgICAgIHRoaXMuZG9jZSA9IHRoaXMuYWRkLmltYWdlKDgwMCwgNTIwLCAnZXN0cmVsbGFSJykuc2V0QWxwaGEoMC4yKTtcclxuICAgIH1cclxuXHJcbiAgICBhY3R1YWxpemFySW52ZW50YXJpb0VuUGFudGFsbGEoKSB7ICAgICAgICBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bMV0pIHRoaXMudW5vLnNldEFscGhhKDEpOyBlbHNlIHRoaXMudW5vLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1syXSkgdGhpcy5kb3Muc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLmRvcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bM10pIHRoaXMudHJlcy5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLnRyZXMuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzRdKSB0aGlzLmN1YXRyby5zZXRBbHBoYSgxKTsgZWxzZSB0aGlzLmN1YXRyby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNV0pIHRoaXMuY2luY28uc2V0QWxwaGEoMSk7IGVsc2UgdGhpcy5jaW5jby5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bNl0pIHRoaXMuc2Vpcy5zZXRBbHBoYSgxKTtlbHNlIHRoaXMuc2Vpcy5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICBpZih0aGlzLmludmVudGFyaW9bN10pIHRoaXMuc2lldGUuc2V0QWxwaGEoMSk7ZWxzZSB0aGlzLnNpZXRlLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s4XSkgdGhpcy5vY2hvLnNldEFscGhhKDEpO2Vsc2UgdGhpcy5vY2hvLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50YXJpb1s5XSkgdGhpcy5udWV2ZS5zZXRBbHBoYSgxKTtlbHNlIHRoaXMubnVldmUuc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRhcmlvWzEwXSkgdGhpcy5kaWV6LnNldEFscGhhKDEpOyBlbHNlIHRoaXMuZGllei5zZXRBbHBoYSgwLjIpOyBcclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNvZnJlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnYWJyaXJDb2ZyZScsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnYWJyaXJDb2ZyZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29mcmUgYWJpZXJ0b1wiKTtcclxuICAgICAgICB0aGlzLmNvZnJlLnNldFRleHR1cmUoJ2NvZnJlQWJpZXJ0b1InKTtcclxuICAgICAgICB0aGlzLmVzdHJlbGxhMS5zZXRBbHBoYSgxLjApO1xyXG4gICAgICAgIHRoaXMuZXN0cmVsbGEyLnNldEFscGhhKDEuMCk7XHJcbiAgICAgICAgdGhpcy5jb2ZyZUFiaWVydG8gPSB0cnVlOyAvLyBwYXJhIHF1ZSBzb2xvIHNlIGFicmEgdW5hIHZlelxyXG4gICAgICAgIHRoaXMuaW52ZW50YXJpb1swXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgbGxhdmUgZGVsIGludmVudGFyaW8gYWwgYWJyaXIgZWwgY29mcmVcclxuICAgICAgICB0aGlzLmNlcm8uc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICB9XHJcblxyXG4gICAgcmVjb2dlckVzdHJlbGxhKG4pIHtcclxuICAgICAgICBpZiAodGhpcy5jb2ZyZUFiaWVydG8pIHsgLy8gc29sbyBzZSBwdWVkZSByZWNvZ2VyIHNpIGVsIGNvZnJlIGVzdMOhIGFiaWVydG8gKHBvcnF1ZSBzaW5vIGVzdMOhbiBvY3VsdGFzKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdHJlbGxhIFwiICsgbiArIFwiIHJlY29naWRhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IHRydWU7IC8vIG1hcmNhciBlbiBlbCBpbnZlbnRhcmlvIHF1ZSBzZSBoYSBjb25zZWd1aWRvIGxhIGVzdHJlbGxhICgxMSB5IDEyIGVuIGVsIGFycmF5KVxyXG4gICAgICAgICAgICBpZiAobiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lc3RyZWxsYTEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlLnNldEFscGhhKDEuMCk7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICB9IGVsc2V7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5lc3RyZWxsYTIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb2NlLnNldEFscGhhKDEuMCk7IC8vIGFjdHVhbGl6YXIgaW52ZW50YXJpbyBlbiBwYW50YWxsYVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNDAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgIC8vIHZvbHZlciBhIGFjdGl2YXIgZWwgY29sbGlkZXIgZGVsIGNhbGRlcm9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGRlcm9Db2xsLmVuYWJsZUJvZHkoZmFsc2UsIDAsIDAsIHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvbG9jYXJFc3RyZWxsYShuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW52ZW50YXJpb1sxMCArIG5dKSB7IC8vIGNvbXByb2JhciBxdWUgc2UgdGllbmUgbGEgZXN0cmVsbGEgY29ycmVzcG9uZGllbnRlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0cmVsbGEgXCIgKyBuICsgXCIgY29sb2NhZGFcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3RyaWdnZXInLCB7IHZvbHVtZTogMC42IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdG9uMS5zZXRUZXh0dXJlKCdib3RvbkNSJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW9bMTAgKyBuXSA9IGZhbHNlOyAvLyBxdWl0YXIgbGEgZXN0cmVsbGEgZGVsIGludmVudGFyaW9cclxuICAgICAgICAgICAgICAgIHRoaXMub25jZS5zZXRBbHBoYSgwLjIpOyAvLyBhY3R1YWxpemFyIGludmVudGFyaW8gZW4gcGFudGFsbGFcclxuICAgICAgICAgICAgICAgIHRoaXMuZXN0cmVsbGEgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3RvbjIuc2V0VGV4dHVyZSgnYm90b25DUicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvWzEwICsgbl0gPSBmYWxzZTsgLy8gcXVpdGFyIGxhIGVzdHJlbGxhIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2Uuc2V0QWxwaGEoMC4yKTsgLy8gYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVzdHJlbGxhID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wcm9iYXJDYW1wb0Z1ZXJ6YSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ib3RvbjEudGV4dHVyZS5rZXkgPT09ICdib3RvbkNSJyAmJiB0aGlzLmJvdG9uMi50ZXh0dXJlLmtleSA9PT0gJ2JvdG9uQ1InKSB7IC8vY29tcHJvYmFyIHF1ZSBhbWJvcyBib3RvbmVzIHRpZW5lbiBsYSBlc3RyZWxsYSBjb2xvY2FkYVxyXG4gICAgICAgICAgICBpZiAoKHRoaXMubE9wb25lbnRlIHx8IHRoaXMucWtleS5pc0Rvd24pICYmIHRoaXMubGtleS5pc0Rvd24gJiYgdGhpcy5ib3RvbjFBY3RpdmFkbyAmJiB0aGlzLmJvdG9uMkFjdGl2YWRvKSB7IC8vIGNvbXByb2JhciBxdWUgYW1ib3MganVnYWRvcmVzIGVzdMOhbiBwdWxzYW5kbyBsYSBMIChwZXJtaXRpciB0YW1iaWVuIGxhIHEgcG9yIHNpIGVzdMOhIGp1Z2FuZG8gZW4gYW1iYXMgdmVudGFuYXMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGVzYWN0aXZhckNhbXBvRnVlcnphJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFicmlyQ2FtcG9GdWVyemEoKTtcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYnJpckNhbXBvRnVlcnphKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FtcG8gZGUgZnVlcnphIGRlc2FjdGl2YWRvXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgncHVlcnRhJywgeyB2b2x1bWU6IDAuNyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYW1wb0Z1ZXJ6YS5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5jcmVhclB1ZXJ0YUZpbmFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXJQdWVydGFGaW5hbCgpIHtcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsID0gdGhpcy5waHlzaWNzLmFkZC5pbWFnZSg5NDAsIDM3MCwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wdWVydGFGaW5hbC5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlOyBcclxuICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLnNldEFscGhhKDAuMCk7IFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnB1ZXJ0YUZpbmFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2p1Z2Fkb3JFblB1ZXJ0YUZpbmFsJyxcclxuICAgICAgICAgICAgICAgIHBsYXllcjogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgdGhpcy5wdWVydGFGaW5hbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdqdWdhZG9yRW5QdWVydGFGaW5hbCcsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7ICBcclxuICAgIH0gICAgICAgXHJcblxyXG4gICAgZW50cmFyUHVlcnRhRmluYWwoZGVzYWN0aXZhZG8sIGdhbmFkb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkRlc2FjdGl2YWRvOlwiLCBkZXNhY3RpdmFkbyk7IFxyXG4gICAgICAgIGlmIChkZXNhY3RpdmFkb1swXSAmJiBkZXNhY3RpdmFkb1sxXSkgeyAvL2NhbWJpYXIgZGUgZXNjZW5hIHNvbG8gc2kgYW1ib3MganVnYWRvcmVzIGhhbiBsbGVnYWRvIGEgbGEgcHVlcnRhIGZpbmFsXHJcbiAgICAgICAgICAgIC8vIFBhcmFyIHkgZGVzdHJ1aXIgc29uaWRvcyBkZSBwYXNvc1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuZm9yRWFjaCh3cyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAod3MgJiYgd3MuaXNQbGF5aW5nKSB3cy5zdG9wKCk7IH0gY2F0Y2goZXJyKXsgY29uc29sZS53YXJuKGVycik7IH1cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh3cykgd3MuZGVzdHJveSgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtTb3VuZHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy8gUGFyYXIgQkdNXHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLmJnbSAmJiAodGhpcy5iZ20uaXNQbGF5aW5nIHx8IHRoaXMuYmdtLmlzUGF1c2VkKSkgdGhpcy5iZ20uc3RvcCgpOyB9IGNhdGNoKGVycil7IGNvbnNvbGUud2FybihlcnIpOyB9XHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBwYXJhciBjdWFscXVpZXIgaW5zdGFuY2lhIHBvciBjbGF2ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ3dhbGsnKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdiZ20nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0RlY2lzaW9uU2NlbmUnLCB7ZWxlY2Npb246IGdhbmFkb3IsIGp1Z2Fkb3I6IHRoaXMucGxheWVyUm9sZSwgd3M6IHRoaXMud3MsIG1vZG86J29ubGluZSd9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgIGNvbnN0IG1hZ28xID1uZXcgTWFnbyh0aGlzLCAncGxheWVyMScsICA1MCwgNDAwLCAnaWRsZV9BenVsJyk7XHJcbiAgICAgICBjb25zdCBtYWdvMiA9ICBuZXcgTWFnbyh0aGlzLCAncGxheWVyMicsIDk1MCwgNDAwLCAnaWRsZV9Sb2pvJyk7XHJcbiAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbWFnbzEpO1xyXG4gICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIG1hZ28yKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKGlkKSB7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMjgwLCAxMDAwLCA1NjAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdHVsbyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMjQwLCAndGl0dWxvJylcclxuICAgICAgICB0aGlzLnRpdHVsby5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmJvdG9uID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0NTAsICdib3RvbicpXHJcbiAgICAgICAgdGhpcy5ib3Rvbi5zZXRTY2FsZSgwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChtYWdvID0+IHtcclxuICAgICAgICAgICAgbWFnby5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgbGEgbXVzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgaWYgKHRoaXMuYmdtICYmIHRoaXMuYmdtLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJnbS5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0ZXh0byA9IGlkID09PSAncGxheWVyMScgPyAnRWwganVnYWRvciAxXFxuICBoYSBtdWVydG8nIDogJyBFbCBqdWdhZG9yIDJcXG4gIGhhIG11ZXJ0byc7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgdGV4dG8sIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnICNmZjAwMDBmZicsXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEFuZ2xlKC01KTsgXHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDUwLCAnTWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMmZmODlmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdwbGF5ZXJEaXNjb25uZWN0ZWQnIH0pICk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApOyAvLyBjZXJyYXIgbGEgY29uZXhpw7NuIGRlc3B1w6lzIGRlIHVuIGJyZXZlIHJldHJhc29cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIkdhbWVTY2VuZU9cIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIlBhdXNlU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z0xlZnQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBwbGF5ZXIxLnZpZGEtLTtcclxuICAgICAgICB0aGlzLmhlYWx0aExlZnQuc2V0VGV4dChwbGF5ZXIxLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VsIGp1Z2Fkb3IgMSBoYSByZWNpYmlkbyBkYcOxbycpO1xyXG5cclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdkYcOxb0p1Z2Fkb3InLFxyXG4gICAgICAgICAgICBwbGF5ZXI6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgdmlkYTogcGxheWVyMS52aWRhXHJcbiAgICAgICAgfSk7IFxyXG5cclxuICAgICAgICAvLyBjb21wcm9iYXIgc2kgaGEgbXVlcnRvXHJcbiAgICAgICAgaWYgKHBsYXllcjEudmlkYSA8PSAwKSB0aGlzLmVuZEdhbWUoJ3BsYXllcjEnKTtcclxuICAgIH1cclxuXHJcbiAgICBkYcOxb0p1Z1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgcGxheWVyMi52aWRhLS07XHJcbiAgICAgICAgdGhpcy5oZWFsdGhSaWdodC5zZXRUZXh0KHBsYXllcjIudmlkYS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRWwganVnYWRvciAyIGhhIHJlY2liaWRvIGRhw7FvJyk7XHJcblxyXG4gICAgICAgIC8vIEF2aXNhciBhbCBzZXJ2aWRvciBcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ2Rhw7FvSnVnYWRvcicsXHJcbiAgICAgICAgICAgIHBsYXllcjogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICB2aWRhOiBwbGF5ZXIyLnZpZGFcclxuICAgICAgICB9KTsgXHJcblxyXG4gICAgICAgIC8vIGNvbXByb2JhciBzaSBoYSBtdWVydG8gICAgICAgIFxyXG4gICAgICAgIGlmIChwbGF5ZXIyLnZpZGEgPD0gMCkgdGhpcy5lbmRHYW1lKCdwbGF5ZXIyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZU8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJnbSAmJiB0aGlzLmJnbS5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZShkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wb2Npb25lcykge1xyXG4gICAgICAgICAgICB0aGlzLmludmVudGFyaW8gPSBkYXRhLnBvY2lvbmVzO1xyXG4gICAgICAgICAgICAvL3RoaXMudmlzaXRMaWJyZXJpYSA9IHRydWU7IC8vIHBhcmEgYXZpc2FyIGVuIGVsIHVwZGF0ZSBxdWUgc2UgaGEgdnVlbHRvIGRlIGxhIGxpYnJlcsOtYSB5IGhheSBxdWUgZW52aWFyIGVsIGludmVudGFyaW8gYWwgb3RybyBqdWdhZG9yXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5iZ20gJiYgdGhpcy5iZ20uaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ20ucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZVN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgbmV3IFBhdXNlR2FtZUNvbW1hbmQodGhpcywgbmV3UGF1c2VTdGF0ZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBXRUJTT0NLRVRTXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBwYXJzZWFyIG1lbnNhamUgV2Vic29ja2V0OicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbmV4acOzbiBXZWJTb2NrZXQgY2VycmFkYScpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZSBXZWJTb2NrZXQgOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ21vdmltaWVudG9KdWdhZG9yJzoge1xyXG4gICAgICAgICAgICAgICAgLy8gSWdub3JhciBtZW5zYWplcyBxdWUgcmVmbGVqYW4gZWwgcHJvcGlvIG1vdmltaWVudG8gbG9jYWxcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnBsYXllciA9PT0gdGhpcy5wbGF5ZXJSb2xlKSBicmVhaztcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yZW1vdGVQbGF5ZXIpIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVdhbGsgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KGRhdGEucGxheWVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlzTW92aW5nICYmIGRhdGEuZGlyZWN0aW9uICE9PSAnc3RvcCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3RlV2FsayAmJiAhcmVtb3RlV2Fsay5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlV2Fsay5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZW1vdGVXYWxrICYmIHJlbW90ZVdhbGsuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlV2Fsay5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zcHJpdGUueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNwcml0ZS5mbGlwWCA9IGRhdGEuZmxpcFg7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlzTW92aW5nICYmIGRhdGEuZGlyZWN0aW9uICE9PSAnc3RvcCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5hbmRhcl9hbmltYWNpb24oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuYW5kYXJfYW5pbWFjaW9uX3BhcmFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdnYW1lT3Zlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEdhbWUoZGF0YS53aW5uZXJJZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAgICAgIFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNhc2UgJ2Rhw7FvJzogXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURhw7FvKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjYXNlICd1c2FyQ2FsZGVybyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNhbGRlcm8oZGF0YSk7IFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG5cclxuICAgICAgICAgICAgY2FzZSAnSW52ZW50YXJpbyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVudGFyaW8gPSBkYXRhLmludmVudGFyaW87XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdHVhbGl6YXJJbnZlbnRhcmlvRW5QYW50YWxsYSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnZlbnRhcmlvIGFjdHVhbGl6YWRvIGRlc2RlIGVsIHNlcnZpZG9yXCIsIHRoaXMuaW52ZW50YXJpbyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdG9uQ0YnOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuYiA9PT0gMSkgdGhpcy5ib3RvbjFBY3RpdmFkbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLmIgPT09IDIpIHRoaXMuYm90b24yQWN0aXZhZG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wcm9iYXJDYW1wb0Z1ZXJ6YSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdkZXNhY3RpdmFyQ0YnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hYnJpckNhbXBvRnVlcnphKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2xPcG9uZW50ZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxPcG9uZW50ZSA9IGRhdGEudmFsb3I7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgXHJcblxyXG4gICAgICAgICAgICBjYXNlICdwdWVydGFGaW5hbCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVB1ZXJ0YUZpbmFsKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdmaW5hbCc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZpbmFsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZXNjZW5hID09PSAxKSB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0xU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuZXNjZW5hID09PSAyKSB0aGlzLnNjZW5lLnN0YXJ0KCdGaW5hbE0yU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5zY2VuZS5zdGFydCgnRmluYWxCU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnRGVjaXNpb25TY2VuZScpOyBcclxuICAgICAgICAgICAgICAgIGJyZWFrOyBcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWVuc2FqZSBXZWJTb2NrZXQgZGVzY29ub2NpZG86JywgZGF0YSk7XHJcbiAgICAgICAgfSAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgLy90aGlzLmJhbGwuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAyODAsIDEwMDAsIDU2MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMudGl0dWxvID0gdGhpcy5hZGQuaW1hZ2UoNTAwLDIyMCwgJ3RpdHVsbycpXHJcbiAgICAgICAgdGhpcy50aXR1bG8uc2V0U2NhbGUoMC4zLCAwLjI1KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgJ0ZhbGxvIHBvciBkZXNjb25leGnDs24nLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDI1MCwgJ0xhIHBhcnRpZGEgaGEgZmluYWxpemFkbycsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1RhZ2Vzc2NocmlmdCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEYcOxbyhkYXRhKXtcclxuICAgICAgICBjb25zdCBtYWdvID0gdGhpcy5wbGF5ZXJzLmdldChkYXRhLnBsYXllcik7XHJcbiAgICAgICAgaWYgKCFtYWdvKSByZXR1cm47XHJcblxyXG4gICAgICAgIG1hZ28udmlkYSA9IGRhdGEudmlkYTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEucGxheWVyID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFsdGhMZWZ0LnNldFRleHQoZGF0YS52aWRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoUmlnaHQuc2V0VGV4dChkYXRhLnZpZGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWFnby52aWRhIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5lbmRHYW1lKGRhdGEucGxheWVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2FsZGVybyhkYXRhKSB7XHJcbiAgICAgICAgLy8gdm9sdmVyIGEgcG9uZXIgYSBmYWxzZSB0b2RvcyBsb3MgZWxlbWVudG9zIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmludmVudGFyaW8ubGVuZ3RoIC0gMjsgaSsrKSB7IC8vIHNlIHNhbHRhIGxhIGxsYXZlIHkgbGFzIGVzdHJlbGxhcyBwb3JxdWUgbm8gc2UgdXRpbGl6YW4gcGFyYSBjcmVhciBsYSBwb2Npb25cclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRhcmlvW2ldID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vYWN0dWFsaXphciBpbnZlbnRhcmlvIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy51bm8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5kb3Muc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy50cmVzLnNldEFscGhhKDAuMik7IFxyXG4gICAgICAgIHRoaXMuY3VhdHJvLnNldEFscGhhKDAuMik7ICBcclxuICAgICAgICB0aGlzLmNpbmNvLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zZWlzLnNldEFscGhhKDAuMik7XHJcbiAgICAgICAgdGhpcy5zaWV0ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICB0aGlzLm9jaG8uc2V0QWxwaGEoMC4yKTsgXHJcbiAgICAgICAgdGhpcy5udWV2ZS5zZXRBbHBoYSgwLjIpOyBcclxuICAgICAgICB0aGlzLmRpZXouc2V0QWxwaGEoMC4yKTsgXHJcblxyXG4gICAgICAgIGlmIChkYXRhLmV4aXRvKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxbyBjcmVhZGFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsZGVyb0NvbGwuZGlzYWJsZUJvZHkoKTsgLy8gZGVzYWN0aXZhciBlbCBjb2xsaWRlciBkZWwgY2FsZGVybyBwYXJhIG1pZW50cmFzIGVzdMOpbiBwZXF1ZcOxb3MgcHVlZGFuIGF0cmF2ZXNhcmxvIChjYXVzYWJhIGJ1Z3M6IGxldml0YWJhKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdwZXF1ZcOxbycsIHsgdm9sdW1lOiAwLjYgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5lc3RhZG9fbm9ybWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdGllbmVzIGxhcyBwb2Npb25lcyBuZWNlc2FyaWFzIHBhcmEgY3JlYXIgbGEgcG9jacOzbiBkZSBkaXNtaW51aXIgdGFtYcOxb1wiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnZXhwbG9zaW9uJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEuanVnYWRvckRhw7FhZG8gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGHDsW9KdWdMZWZ0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhw7FvSnVnUmlnaHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgaGFuZGxlUHVlcnRhRmluYWwoZGF0YSkge1xyXG4gICAgICAgIGxldCB3YWxrUztcclxuICAgICAgICBpZiAoZGF0YS5qdWdhZG9yID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZS5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5kZXNhY3RpdmFkb1swXSA9IHRydWU7IC8vIGVsIHBlcnNvbmFqZSB5YSBoYSBlbnRyYWRvIHBvciBsYSBwdWVydGEgeSBoYSBkZXNhcGFyZWNpZG9cclxuICAgICAgICAgICAgd2Fsa1MgPSB0aGlzLndhbGtTb3VuZHMuZ2V0KCdwbGF5ZXIxJyk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzYWN0aXZhZG9bMV0gPSB0cnVlOyAvLyBlbCBwZXJzb25hamUgeWEgaGEgZW50cmFkbyBwb3IgbGEgcHVlcnRhIHkgaGEgZGVzYXBhcmVjaWRvXHJcbiAgICAgICAgICAgIHdhbGtTID0gdGhpcy53YWxrU291bmRzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdhbGtTKSB7XHJcbiAgICAgICAgICAgIHRyeSB7IGlmICh3YWxrUy5pc1BsYXlpbmcpIHdhbGtTLnN0b3AoKTsgfSBjYXRjaChlcnIpeyBjb25zb2xlLndhcm4oZXJyKTsgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5lbnRyYXJQdWVydGFGaW5hbCh0aGlzLmRlc2FjdGl2YWRvLCBkYXRhLmdhbmFkb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lbnVCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5ib3RvbiA9IHRoaXMuYWRkLmltYWdlKDUwMCwgNDAwLCAnYm90b24nKVxyXG4gICAgICAgIHRoaXMuYm90b24uc2V0U2NhbGUoMC4xNSwgMC4xKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0MDAsICdWb2x2ZXIgYWwgTWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdUYWdlc3NjaHJpZnQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjY2NjY2NjJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAncGxheWVyRGlzY29ubmVjdGVkJyB9KSApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDZXJyYW5kbyBjb25leGnDs24gV2ViU29ja2V0Li4uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29uZXhpw7NuIFdlYlNvY2tldCBjZXJyYWRhLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApOyAvLyBjZXJyYXIgbGEgY29uZXhpw7NuIGRlc3B1w6lzIGRlIHVuIGJyZXZlIHJldHJhc29cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIkdhbWVTY2VuZU9cIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChcIlBhdXNlU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1lbnVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL01lbnVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0dhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFBhdXNlU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9QYXVzZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgQ3JlZGl0c1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzJztcclxuaW1wb3J0IHsgSGlzdG9yaWFTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0hpc3RvcmlhU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBMaWJyZXJpYVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTGlicmVyaWFTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbnRyb2xTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NvbnRyb2xTY2VuZS5qcyc7XHJcbmltcG9ydCB7IERlY2lzaW9uU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9EZWNpc2lvblNjZW5lLmpzJztcclxuaW1wb3J0IHsgRmluYWxCU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9GaW5hbEJTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEZpbmFsTTFTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0ZpbmFsTTFTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEZpbmFsTTJTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0ZpbmFsTTJTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzJztcclxuaW1wb3J0IFNhbGFEZUVzcGVyYSBmcm9tICcuL3NjZW5lcy9TYWxhRGVFc3BlcmEuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmVPIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lTy5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiAxMDAwLFxyXG4gICAgaGVpZ2h0OiA1NjAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeTogMjAwMDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbIE1lbnVTY2VuZSwgR2FtZVNjZW5lTywgR2FtZVNjZW5lLCBMaWJyZXJpYVNjZW5lLCAgUGF1c2VTY2VuZSwgQ3JlZGl0c1NjZW5lLCBIaXN0b3JpYVNjZW5lLCBDb250cm9sU2NlbmUsIERlY2lzaW9uU2NlbmUsIEZpbmFsQlNjZW5lLCBGaW5hbE0xU2NlbmUsIEZpbmFsTTJTY2VuZSwgQ29ubmVjdGlvbkxvc3RTY2VuZSwgU2FsYURlRXNwZXJhIF0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDdkZGZmZmYnLFxyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUGhhc2VyIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiTWVudVNjZW5lIiwic3VwZXIiLCJwcmVsb2FkIiwibG9hZCIsImltYWdlIiwiYXVkaW8iLCJGb250RmFjZSIsInRoZW4iLCJsb2FkZWRGb250IiwiZG9jdW1lbnQiLCJmb250cyIsImFkZCIsImNhdGNoIiwiY3JlYXRlIiwic291bmQiLCJzdG9wQnlLZXkiLCJlcnIiLCJ3YXJuIiwiZ2FtZSIsInBsYXkiLCJ2b2x1bWUiLCJsb29wIiwiZm9uZG8iLCJzZXRTY2FsZSIsInRpdHVsbyIsImJvdG9uMSIsImJvdG9uMiIsImJvdG9uMyIsImJvdG9uNCIsImJvdG9uNSIsInRleHQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJjb2xvciIsInNldE9yaWdpbiIsInNldEFuZ2xlIiwibG9jYWxCdG4iLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJvbiIsInNldFN0eWxlIiwiZmlsbCIsInNjZW5lIiwic3RhcnQiLCJvbmxpbmVCdG4iLCJhc3luYyIsInN0b3AiLCJjcmVkaXRvc0J0biIsImhpc3RvcmlhQnRuIiwiY29udHJvbEJ0biIsIm9yaWdpbmFsU2NlbmUiLCJjb25uZWN0aW9uVGV4dCIsImNvbm5lY3Rpb25MaXN0ZW5lciIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5IiwiaXNBY3RpdmUiLCJzZXRUZXh0Iiwic2V0Q29sb3IiLCJzaHV0ZG93biIsIk1hZ28iLCJpZCIsIngiLCJ5IiwiaWRTcHJpdGUiLCJ2aWRhIiwiaWRsZSIsImVzdGFkb19ub3JtYWwiLCJiYXNlV2lkaHQiLCJiYXNlSGVpZ2h0IiwiYmFzZVNwZWVkIiwiaXNKdW1waW5nIiwianVtcFZlbG9jaXR5IiwiZ3JvdW5kWSIsInNwcml0ZSIsInBoeXNpY3MiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJhbGxvd0dyYXZpdHkiLCJzZXRTaXplIiwic2V0T2Zmc2V0IiwiYW5kYXJfYW5pbWFjaW9uIiwiYW5pbXMiLCJpc1BsYXlpbmciLCJleGlzdHMiLCJhbmRhcl9hbmltYWNpb25fcGFyYXIiLCJzZXRUZXh0dXJlIiwianVtcCIsInNldFZlbG9jaXR5WSIsInVwZGF0ZSIsImRlbHRhIiwidmVsb2NpdHkiLCJzY2FsZSIsInNldFBvc2l0aW9uIiwiQ29tbWFuZFByb2Nlc3NvciIsInBsYXllcnMiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVNYWdvQ29tbWFuZCIsIm1hZ28iLCJkaXJlY3Rpb24iLCJzYWx0byIsInNldFZlbG9jaXR5WCIsIlBhdXNlR2FtZUNvbW1hbmQiLCJpc1BhdXNlZCIsInNldFBhdXNlU3RhdGUiLCJHYW1lU2NlbmUiLCJpbml0IiwiaW5wdXRNYXBwaW5ncyIsImVzY1dhc0Rvd24iLCJsUHVsc2FkYSIsInByb2Nlc3NvciIsImNvZnJlQWJpZXJ0byIsIndhbGtTb3VuZHMiLCJpbnZlbnRhcmlvIiwiZnJhbWVzIiwiZnJhbWVSYXRlIiwicmVwZWF0IiwiYmdtIiwic2V0IiwiZXZlbnRzIiwid3MiLCJvbmNlIiwiZGVzdHJveSIsImNsZWFyIiwiY3JlYXJFc2NlbmFyaW8iLCJjcmVhclBsYXRhZm9ybWFzIiwiY3JlYXJCYXJyZXJhSW52aXNpYmxlIiwic2V0VXBQbGF5ZXJzIiwiZXN0YWJsZWNlckNvbGlzaW9uZXMiLCJpbnZlbnRhcmlvRW5QYW50YWxsYSIsImhlYWx0aExlZnQiLCJoZWFsdGhSaWdodCIsImVzY0tleSIsImlucHV0Iiwia2V5Ym9hcmQiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiRVNDIiwibGtleSIsIkwiLCJxa2V5IiwiUSIsInRpbWUiLCJpc0Rvd24iLCJ0b2dnbGVQYXVzZSIsImxvZyIsIm1hcHBpbmciLCJwbGF5ZXJJZCIsIndhbGtTb3VuZCIsImlzTW92aW5nIiwidXBLZXlPYmoiLCJkb3duS2V5T2JqIiwibGVmdEtleU9iaiIsImZsaXBYIiwicmlnaHRLZXlPYmoiLCJqdW1wT2JqIiwibW92ZUNvbW1hbmQiLCJ1bm8iLCJzZXRBbHBoYSIsImRvcyIsInRyZXMiLCJjdWF0cm8iLCJjaW5jbyIsInNlaXMiLCJzaWV0ZSIsIm9jaG8iLCJudWV2ZSIsImRpZXoiLCJzdWVsbyIsInNldEltbW92YWJsZSIsInBhcmVkIiwiZXN0YW50ZXJpYSIsImJvbGFDcmlzdGFsIiwiY2FsZGVybyIsImNhbXBvRnVlcnphIiwiY29mcmUiLCJsbGF2ZSIsInBlcmdhbWlubyIsInBsYW50YSIsInBvY2lvbmVzIiwidmVsYXMiLCJsaWJyb3MiLCJlc3RyZWxsYTEiLCJlc3RyZWxsYTIiLCJiYXJyZXJhSW52aXNpYmxlIiwic3RhdGljSW1hZ2UiLCJzZXRWaXNpYmxlIiwiZXN0YW50ZXJpYUNvbGwiLCJzZXRBbGxvd0dyYXZpdHkiLCJjYWxkZXJvQ29sbCIsInNldENpcmNsZSIsInBsYXRhZm9ybWFzIiwic3RhdGljR3JvdXAiLCJwbGF5ZXIiLCJjb2xsaWRlciIsIm92ZXJsYXAiLCJjZXJvIiwicGF1c2UiLCJsYXVuY2giLCJqdWdhZG9yIiwiaXNNb3ZpbmdVcCIsIkp1c3REb3duIiwiZWxlbVJlY29naWRvcyIsImZpbHRlciIsImVsZW0iLCJsZW5ndGgiLCJsZW5naHQiLCJkaXNhYmxlQm9keSIsIkJldHdlZW4iLCJpIiwiYWJyaXJDb2ZyZSIsInJlY29nZXJFc3RyZWxsYSIsImNvbG9jYXJFc3RyZWxsYSIsImJvdG9uMUFjdGl2YWRvIiwiYWJyaXJDYW1wb0Z1ZXJ6YSIsImJvdG9uMkFjdGl2YWRvIiwiZG9jZSIsImRlbGF5ZWRDYWxsIiwibiIsImVuYWJsZUJvZHkiLCJ0ZXh0dXJlIiwiY3JlYXJQdWVydGFGaW5hbCIsInB1ZXJ0YUZpbmFsIiwiZGVzYWN0aXZhZG8iLCJlbnRyYXJQdWVydGFGaW5hbCIsIndzMSIsIndzMiIsIm1vZG8iLCJsZWZ0TWFnbyIsInJpZ2h0TWFnbyIsInVwS2V5IiwiZG93bktleSIsImxlZnRLZXkiLCJyaWdodEtleSIsIm1hcCIsImNvbmZpZyIsImVuZEdhbWUiLCJyZWN0YW5nbGUiLCJib3RvbiIsInNldFZlbG9jaXR5IiwidGV4dG8iLCJtZW51QnRuIiwicGxheWVyMSIsInBsYXllcjIiLCJyZXN1bWUiLCJpdGVtIiwibmV3UGF1c2VTdGF0ZSIsIlBhdXNlU2NlbmUiLCJyZXN1bWVCdG4iLCJvcmlnU2NlbmUiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsInNlbmQiLCJ0eXBlIiwic2V0VGltZW91dCIsImNsb3NlIiwiZSIsIkNyZWRpdHNTY2VuZSIsInBlcmdhbWlubzEiLCJSZXR1cm5CdG4iLCJIaXN0b3JpYVNjZW5lIiwiTGlicmVyaWFTY2VuZSIsImJhbGwiLCJhYnJpciIsImRhdG9zIiwicG9jaW9uZXNSZWNvZ2lkYXMiLCJwb2Npb25BbSIsInBvY2lvbk4iLCJwb2Npb25NIiwicG9jaW9uUiIsInBvY2lvblYiLCJwb2Npb25BeiIsImxpYnJvIiwiYWJpciIsInBhZGRsZSIsIkNvbnRyb2xTY2VuZSIsInBlcmdhbWlubzIiLCJEZWNpc2lvblNjZW5lIiwiZm9uZG9EIiwic2VsZWN0b3IiLCJlbGVjY2lvbiIsImJ0bjEiLCJidG4yIiwiZXNjZW5hIiwiRmluYWxCU2NlbmUiLCJmb25kb0MiLCJidG4iLCJGaW5hbE0xU2NlbmUiLCJmb25kb18xTSIsIkZpbmFsTTJTY2VuZSIsImZvbmRvXzJNIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJwcmV2aW91c1NjZW5lIiwiZm9udFN0eWxlIiwic3RhdHVzVGV4dCIsImF0dGVtcHRDb3VudCIsImF0dGVtcHRUZXh0IiwiZG90Q291bnQiLCJhZGRFdmVudCIsImRlbGF5IiwiZG90cyIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0IiwiU2FsYURlRXNwZXJhIiwicm9vbUNvZGUiLCJyb29tSWQiLCJnYW1lU3RhcnRlZCIsImlzSW5Sb29tIiwiZW5Db2xhIiwiY3JlYXJJbnRlcmZheiIsImNvbm5lY3RUb1NlcnZlciIsIndpZHRoIiwiY2FtZXJhcyIsIm1haW4iLCJoZWlnaHQiLCJ0aXR1bG9Ub3JyZSIsInJvb21Db2RlVGV4dCIsInRpdHVsb0NvbGEiLCJib3RvblVuaXJzZUNvbGEiLCJ1bmlyc2VDb2xhVGV4dCIsInVuaXJzZUNvbGEiLCJ0aXR1bG9Db2RpZ28iLCJjcmVhdGVDb2RlSW5wdXQiLCJib3RvblVuaXJzZUNvZGlnbyIsInVuaXJzZUNvZGlnb1RleHQiLCJ1bmlyc2VTYWxhIiwidm9sdmVyQnV0dG9uIiwibGVhdmVRdWV1ZSIsImlucHV0RWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwbGFjZWhvbGRlciIsIm1heExlbmd0aCIsInN0eWxlIiwiY3NzVGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiYXBwZW5kQ2hpbGQiLCJwb3NpdGlvbklucHV0IiwicmVjdCIsImNhbnZhcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJyb3VuZCIsImlucHV0V2lkdGgiLCJ0b3AiLCJpbnB1dEhlaWdodCIsIndpbmRvdyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJjb2RlSW5wdXQiLCJoYW5kbGVTZXJ2ZXJNZXNzYWdlIiwicG9zaXRpb24iLCJjb2RlIiwibWVzc2FnZSIsInBsYXllclJvbGUiLCJyb2xlIiwiaW5pdGlhbEJhbGwiLCJvY3VsdGFyQm90b25lcyIsImRpc2FibGVJbnRlcmFjdGl2ZSIsImRpc3BsYXkiLCJtb3N0cmFyQm90b25lcyIsInRyaW0iLCJ3c1VybCIsImxvY2F0aW9uIiwiaG9zdCIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsImV2ZW50IiwicGFyc2UiLCJvbmVycm9yIiwib25jbG9zZSIsIkdhbWVTY2VuZU8iLCJsb2NhbFBsYXllciIsInJlbW90ZVBsYXllciIsImVzdHJlbGxhIiwibE9wb25lbnRlIiwibG9jYWxQbGF5ZXJUZXh0IiwiY3Vyc29ycyIsImNyZWF0ZUN1cnNvcktleXMiLCJqdW1wS2V5IiwiU1BBQ0UiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsImRpcmVjY2lvbiIsInVwIiwiZG93biIsInJpZ2h0Iiwic2VuZE1lc3NhZ2UiLCJsb2NhbFdhbGsiLCJhY3R1YWxpemFySW52ZW50YXJpb0VuUGFudGFsbGEiLCJjb21wcm9iYXJDYW1wb0Z1ZXJ6YSIsImdhbmFkb3IiLCJtYWdvMSIsIm1hZ28yIiwiZ2FtZUVuZGVkIiwicmVtb3RlV2FsayIsIndpbm5lcklkIiwiaGFuZGxlQ2FsZGVybyIsImIiLCJ2YWxvciIsImhhbmRsZVB1ZXJ0YUZpbmFsIiwiY3JlYXRlTWVudUJ1dHRvbiIsImV4aXRvIiwid2Fsa1MiLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwiYmFja2dyb3VuZENvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==